
> resumeforge@1.0.0 test
> node --experimental-vm-modules node_modules/jest/bin/jest.js tests/server.test.js

[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
(node:81974) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
  console.log
    {"timestamp":"2025-11-30T16:01:02.658Z","level":"info","message":"http_request_received","requestId":"0dd1120b-c3b0-4cd6-85a1-95a60ee462e0","method":"GET","path":"/healthz","template":"unknown","session":"0dd1120b-c3b0-4cd6-85a1-95a60ee462e0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0dd1120b-c3b0-4cd6-85a1-95a60ee462e0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:03.126Z","level":"info","message":"http_request_completed","requestId":"0dd1120b-c3b0-4cd6-85a1-95a60ee462e0","method":"GET","path":"/healthz","statusCode":200,"durationMs":469,"contentLength":"15","template":"unknown","session":"0dd1120b-c3b0-4cd6-85a1-95a60ee462e0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0dd1120b-c3b0-4cd6-85a1-95a60ee462e0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:03.166Z","level":"info","message":"http_request_received","requestId":"447ba1c9-2594-4f98-b46c-c481845add90","method":"GET","path":"/favicon.ico","template":"unknown","session":"447ba1c9-2594-4f98-b46c-c481845add90","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"447ba1c9-2594-4f98-b46c-c481845add90","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:03.173Z","level":"info","message":"http_request_completed","requestId":"447ba1c9-2594-4f98-b46c-c481845add90","method":"GET","path":"/favicon.ico","statusCode":204,"durationMs":7,"template":"unknown","session":"447ba1c9-2594-4f98-b46c-c481845add90","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"447ba1c9-2594-4f98-b46c-c481845add90","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:03.183Z","level":"info","message":"http_request_received","requestId":"80a27118-c085-4ddf-abb6-5be303332725","method":"GET","path":"/assets/index-missing.css","template":"unknown","session":"80a27118-c085-4ddf-abb6-5be303332725","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80a27118-c085-4ddf-abb6-5be303332725","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:03.196Z","level":"info","message":"client_asset_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-missing.css","path":"/assets/index-missing.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:03.199Z","level":"info","message":"http_request_completed","requestId":"80a27118-c085-4ddf-abb6-5be303332725","method":"GET","path":"/assets/index-missing.css","statusCode":200,"durationMs":16,"contentLength":"18","template":"unknown","session":"80a27118-c085-4ddf-abb6-5be303332725","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80a27118-c085-4ddf-abb6-5be303332725","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:03.210Z","level":"info","message":"http_request_received","requestId":"1345c583-39f5-47cb-953b-e054fcf4468f","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"1345c583-39f5-47cb-953b-e054fcf4468f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1345c583-39f5-47cb-953b-e054fcf4468f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:03.219Z","level":"info","message":"http_request_completed","requestId":"1345c583-39f5-47cb-953b-e054fcf4468f","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":9,"contentLength":"52930","template":"unknown","session":"1345c583-39f5-47cb-953b-e054fcf4468f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1345c583-39f5-47cb-953b-e054fcf4468f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:03.223Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:03.228Z","level":"info","message":"http_request_received","requestId":"aca18447-f9c6-4671-a242-befc208a72ba","method":"GET","path":"/prod/assets/index-latest.css","template":"unknown","session":"aca18447-f9c6-4671-a242-befc208a72ba","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aca18447-f9c6-4671-a242-befc208a72ba","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:03.233Z","level":"info","message":"http_request_completed","requestId":"aca18447-f9c6-4671-a242-befc208a72ba","method":"GET","path":"/prod/assets/index-latest.css","statusCode":200,"durationMs":4,"contentLength":"52930","template":"unknown","session":"aca18447-f9c6-4671-a242-befc208a72ba","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aca18447-f9c6-4671-a242-befc208a72ba","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:03.235Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:03.240Z","level":"info","message":"http_request_received","requestId":"98f02bd5-256f-4c20-bf73-470aa0ab2efd","method":"HEAD","path":"/assets/index-meta.js","template":"unknown","session":"98f02bd5-256f-4c20-bf73-470aa0ab2efd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98f02bd5-256f-4c20-bf73-470aa0ab2efd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:03.251Z","level":"info","message":"client_asset_s3_head_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-meta.js","path":"/assets/index-meta.js","method":"HEAD","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:03.257Z","level":"info","message":"http_request_completed","requestId":"98f02bd5-256f-4c20-bf73-470aa0ab2efd","method":"HEAD","path":"/assets/index-meta.js","statusCode":200,"durationMs":16,"contentLength":"1234","template":"unknown","session":"98f02bd5-256f-4c20-bf73-470aa0ab2efd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98f02bd5-256f-4c20-bf73-470aa0ab2efd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:03.265Z","level":"info","message":"http_request_received","requestId":"ffff7e8d-52a0-459f-a2a7-92881f375530","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"ffff7e8d-52a0-459f-a2a7-92881f375530","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ffff7e8d-52a0-459f-a2a7-92881f375530","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:03.273Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-test-alias.css","path":"assets/index-test-alias.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-test-alias.css","s3Key":"assets/index-test-alias.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:03.274Z","level":"info","message":"http_request_completed","requestId":"ffff7e8d-52a0-459f-a2a7-92881f375530","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":9,"contentLength":"23","template":"unknown","session":"ffff7e8d-52a0-459f-a2a7-92881f375530","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ffff7e8d-52a0-459f-a2a7-92881f375530","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:03.279Z","level":"info","message":"http_request_received","requestId":"9645791a-2d69-4c94-9af2-a987dd56e3b6","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"9645791a-2d69-4c94-9af2-a987dd56e3b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9645791a-2d69-4c94-9af2-a987dd56e3b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:03.283Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-manifest-only.css","path":"assets/index-manifest-only.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-manifest-only.css","s3Key":"assets/index-manifest-only.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:03.284Z","level":"info","message":"http_request_completed","requestId":"9645791a-2d69-4c94-9af2-a987dd56e3b6","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":5,"contentLength":"31","template":"unknown","session":"9645791a-2d69-4c94-9af2-a987dd56e3b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9645791a-2d69-4c94-9af2-a987dd56e3b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:03.292Z","level":"info","message":"http_request_received","requestId":"5b5c3711-26a8-45d0-9621-a6c9401a086b","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"5b5c3711-26a8-45d0-9621-a6c9401a086b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5b5c3711-26a8-45d0-9621-a6c9401a086b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:03.298Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/prod/latest/assets/index-prefixed.css","path":"static/client/prod/latest/assets/index-prefixed.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-prefixed.css","s3Key":"static/client/prod/latest/assets/index-prefixed.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:03.300Z","level":"info","message":"http_request_completed","requestId":"5b5c3711-26a8-45d0-9621-a6c9401a086b","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":8,"contentLength":"26","template":"unknown","session":"5b5c3711-26a8-45d0-9621-a6c9401a086b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5b5c3711-26a8-45d0-9621-a6c9401a086b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:03.304Z","level":"info","message":"http_request_received","requestId":"594e962b-8be4-4421-a4d0-7dd55600019e","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"594e962b-8be4-4421-a4d0-7dd55600019e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"594e962b-8be4-4421-a4d0-7dd55600019e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:04.385Z","level":"warn","message":"client_asset_alias_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-missing.css","path":"assets/index-missing.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-missing.css","s3Key":"assets/index-missing.css","error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:534:23)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at send (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7642:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at executeWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7645:16)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1112:32)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1371:30)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at serveIndexAssetAlias (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1482:3)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:1131:5)
      at handleIndexAssetAliasRequest (server.js:1371:24)
      at serveIndexAssetAlias (server.js:1482:3)

  console.log
    {"timestamp":"2025-11-30T16:01:04.395Z","level":"info","message":"client_asset_alias_fallback_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-existing.css","path":"assets/index-existing.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-existing.css","s3Key":"assets/index-existing.css","manifestFallback":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.396Z","level":"info","message":"http_request_completed","requestId":"594e962b-8be4-4421-a4d0-7dd55600019e","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":1092,"contentLength":"26","template":"unknown","session":"594e962b-8be4-4421-a4d0-7dd55600019e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"594e962b-8be4-4421-a4d0-7dd55600019e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.409Z","level":"info","message":"http_request_received","requestId":"0df60b6a-6c4c-4373-bc87-bc1ce84f34a5","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"0df60b6a-6c4c-4373-bc87-bc1ce84f34a5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0df60b6a-6c4c-4373-bc87-bc1ce84f34a5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.412Z","level":"info","message":"http_request_completed","requestId":"0df60b6a-6c4c-4373-bc87-bc1ce84f34a5","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","statusCode":200,"durationMs":3,"contentLength":"52930","template":"unknown","session":"0df60b6a-6c4c-4373-bc87-bc1ce84f34a5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0df60b6a-6c4c-4373-bc87-bc1ce84f34a5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.413Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.416Z","level":"info","message":"http_request_received","requestId":"9a133e90-ff49-408c-aa3f-0c3430f80afd","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","template":"unknown","session":"9a133e90-ff49-408c-aa3f-0c3430f80afd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a133e90-ff49-408c-aa3f-0c3430f80afd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.418Z","level":"info","message":"http_request_completed","requestId":"9a133e90-ff49-408c-aa3f-0c3430f80afd","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","statusCode":200,"durationMs":2,"contentLength":"52930","template":"unknown","session":"9a133e90-ff49-408c-aa3f-0c3430f80afd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a133e90-ff49-408c-aa3f-0c3430f80afd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.419Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.423Z","level":"info","message":"http_request_received","requestId":"025ada1d-f2f6-4586-a734-8ef025edf221","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","template":"unknown","session":"025ada1d-f2f6-4586-a734-8ef025edf221","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"025ada1d-f2f6-4586-a734-8ef025edf221","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.425Z","level":"info","message":"http_request_completed","requestId":"025ada1d-f2f6-4586-a734-8ef025edf221","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","statusCode":200,"durationMs":2,"contentLength":"52930","template":"unknown","session":"025ada1d-f2f6-4586-a734-8ef025edf221","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"025ada1d-f2f6-4586-a734-8ef025edf221","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.426Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.430Z","level":"info","message":"http_request_received","requestId":"ef09028e-0185-4e45-8fb7-0715690666e1","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"ef09028e-0185-4e45-8fb7-0715690666e1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ef09028e-0185-4e45-8fb7-0715690666e1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:04.433Z","level":"warn","message":"client_asset_alias_missing_manifest","aliasPath":"/assets/index-latest.css","extension":"css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:1303:5)
      at server.js:18937:5

  console.log
    {"timestamp":"2025-11-30T16:01:04.439Z","level":"info","message":"http_request_completed","requestId":"ef09028e-0185-4e45-8fb7-0715690666e1","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","statusCode":503,"durationMs":9,"contentLength":"42","template":"unknown","session":"ef09028e-0185-4e45-8fb7-0715690666e1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ef09028e-0185-4e45-8fb7-0715690666e1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.444Z","level":"info","message":"http_request_received","requestId":"eadcff92-e843-4549-b99f-e38e83b7fdbe","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-123.css","template":"unknown","session":"eadcff92-e843-4549-b99f-e38e83b7fdbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eadcff92-e843-4549-b99f-e38e83b7fdbe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:04.446Z","level":"warn","message":"client_asset_proxy_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-123.css","path":"/assets/index-123.css","method":"GET","proxy":true,"error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:715:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at send (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7642:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at executeWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7645:16)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1112:32)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:18978:30)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:1131:5)
      at server.js:18978:24

  console.log
    {"timestamp":"2025-11-30T16:01:04.453Z","level":"info","message":"http_request_completed","requestId":"eadcff92-e843-4549-b99f-e38e83b7fdbe","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-123.css","statusCode":200,"durationMs":9,"contentLength":"52930","template":"unknown","session":"eadcff92-e843-4549-b99f-e38e83b7fdbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eadcff92-e843-4549-b99f-e38e83b7fdbe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.454Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","path":"/assets/index-123.css","proxy":true,"degradedFrom":"/assets/index-123.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:04.455Z","level":"warn","message":"client_asset_proxy_degraded_to_alias","path":"/assets/index-123.css","method":"GET","proxy":true,"aliasPath":"/assets/index-latest.css","degradedFrom":"/assets/index-123.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:19030:9)

  console.log
    {"timestamp":"2025-11-30T16:01:04.463Z","level":"info","message":"http_request_received","requestId":"ccda7098-87c3-4620-9f13-793d39385740","method":"GET","path":"/assets/index-123.css","template":"unknown","session":"ccda7098-87c3-4620-9f13-793d39385740","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ccda7098-87c3-4620-9f13-793d39385740","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:04.465Z","level":"warn","message":"client_asset_s3_fallback_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-123.css","path":"/assets/index-123.css","method":"GET","error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:761:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at send (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7642:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at executeWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7645:16)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1112:32)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1168:24)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:1131:5)
      at tryServeHashedIndexAssetFromS3 (server.js:1168:18)

  console.log
    {"timestamp":"2025-11-30T16:01:04.474Z","level":"info","message":"http_request_completed","requestId":"ccda7098-87c3-4620-9f13-793d39385740","method":"GET","path":"/assets/index-123.css","statusCode":200,"durationMs":10,"contentLength":"52930","template":"unknown","session":"ccda7098-87c3-4620-9f13-793d39385740","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ccda7098-87c3-4620-9f13-793d39385740","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.474Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","hashedPath":"/assets/index-123.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:04.475Z","level":"warn","message":"hashed_index_asset_degraded_to_alias","hashedPath":"/assets/index-123.css","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:1220:7)

  console.log
    {"timestamp":"2025-11-30T16:01:04.482Z","level":"info","message":"http_request_received","requestId":"01fda806-8e18-4c44-adf7-daa71d177755","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","template":"unknown","session":"01fda806-8e18-4c44-adf7-daa71d177755","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"01fda806-8e18-4c44-adf7-daa71d177755","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:04.485Z","level":"warn","message":"api_error_response","requestId":"01fda806-8e18-4c44-adf7-daa71d177755","status":400,"error":{"code":"INVALID_STATIC_ASSET_PATH","message":"Provide a valid static asset path to proxy.","details":{},"requestId":"01fda806-8e18-4c44-adf7-daa71d177755"},"template":"unknown","session":"01fda806-8e18-4c44-adf7-daa71d177755","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"01fda806-8e18-4c44-adf7-daa71d177755","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:3851:3)
      at sendError (server.js:18914:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at SendStream.error (node_modules/serve-static/index.js:121:7)
      at SendStream.error (node_modules/send/index.js:270:17)
      at SendStream.onStatError (node_modules/send/index.js:417:12)
      at next (node_modules/send/index.js:730:16)
      at onstat (node_modules/send/index.js:719:14)

  console.log
    {"timestamp":"2025-11-30T16:01:04.493Z","level":"info","message":"http_request_completed","requestId":"01fda806-8e18-4c44-adf7-daa71d177755","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","statusCode":400,"durationMs":11,"contentLength":"182","template":"unknown","session":"01fda806-8e18-4c44-adf7-daa71d177755","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"01fda806-8e18-4c44-adf7-daa71d177755","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.496Z","level":"info","message":"http_request_received","requestId":"83bf1cdc-39b3-4954-b062-bc34dd7f655b","method":"GET","path":"/api/static-manifest","template":"unknown","session":"83bf1cdc-39b3-4954-b062-bc34dd7f655b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83bf1cdc-39b3-4954-b062-bc34dd7f655b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.499Z","level":"info","message":"http_request_completed","requestId":"83bf1cdc-39b3-4954-b062-bc34dd7f655b","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":3,"contentLength":"301","template":"unknown","session":"83bf1cdc-39b3-4954-b062-bc34dd7f655b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83bf1cdc-39b3-4954-b062-bc34dd7f655b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.502Z","level":"info","message":"http_request_received","requestId":"2753893b-d315-4f9c-82ca-b5515c04be7f","method":"GET","path":"/api/static-manifest","template":"unknown","session":"2753893b-d315-4f9c-82ca-b5515c04be7f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2753893b-d315-4f9c-82ca-b5515c04be7f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.504Z","level":"info","message":"http_request_completed","requestId":"2753893b-d315-4f9c-82ca-b5515c04be7f","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":2,"contentLength":"195","template":"unknown","session":"2753893b-d315-4f9c-82ca-b5515c04be7f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2753893b-d315-4f9c-82ca-b5515c04be7f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.505Z","level":"info","message":"http_request_received","requestId":"df46641a-46be-4947-9fef-88d1fdb3c1e2","method":"GET","path":"/api/static-manifest?refresh=1","template":"unknown","session":"df46641a-46be-4947-9fef-88d1fdb3c1e2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df46641a-46be-4947-9fef-88d1fdb3c1e2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.508Z","level":"info","message":"http_request_completed","requestId":"df46641a-46be-4947-9fef-88d1fdb3c1e2","method":"GET","path":"/api/static-manifest?refresh=1","statusCode":200,"durationMs":3,"contentLength":"195","template":"unknown","session":"df46641a-46be-4947-9fef-88d1fdb3c1e2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df46641a-46be-4947-9fef-88d1fdb3c1e2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.509Z","level":"info","message":"http_request_received","requestId":"75863fd3-2532-4083-8d96-19c8fbaae54f","method":"GET","path":"/api/static-manifest","template":"unknown","session":"75863fd3-2532-4083-8d96-19c8fbaae54f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75863fd3-2532-4083-8d96-19c8fbaae54f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:04.512Z","level":"warn","message":"client_asset_manifest_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/manifest.json","error":{"name":"Error","message":"manifest not found","stack":"Error: manifest not found\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:859:22)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at send (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7642:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at executeWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7645:16)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:851:30)\n    at loadStaticAssetManifestFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:934:4)\n    at loadStaticAssetManifestFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19050:28)\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/serve-static/index.js:121:7)\n    at SendStream.emit (node:events:513:28)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:270:17)\n    at SendStream.onStatError (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:417:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:730:16)\n    at onstat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:719:14)\n    at FSReqCallback.oncomplete (node:fs:206:21)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:926:7)
      at loadStaticAssetManifestFromS3 (server.js:941:12)
      at server.js:19050:22

  console.error
    {"timestamp":"2025-11-30T16:01:04.518Z","level":"error","message":"api_error_response","requestId":"75863fd3-2532-4083-8d96-19c8fbaae54f","status":503,"error":{"code":"STATIC_MANIFEST_UNAVAILABLE","message":"Static asset manifest is not currently available. Please try again shortly.","details":{},"requestId":"75863fd3-2532-4083-8d96-19c8fbaae54f"},"template":"unknown","session":"75863fd3-2532-4083-8d96-19c8fbaae54f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75863fd3-2532-4083-8d96-19c8fbaae54f","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:3851:3)
      at sendError (server.js:19055:14)

  console.log
    {"timestamp":"2025-11-30T16:01:04.532Z","level":"info","message":"http_request_completed","requestId":"75863fd3-2532-4083-8d96-19c8fbaae54f","method":"GET","path":"/api/static-manifest","statusCode":503,"durationMs":23,"contentLength":"216","template":"unknown","session":"75863fd3-2532-4083-8d96-19c8fbaae54f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75863fd3-2532-4083-8d96-19c8fbaae54f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.541Z","level":"info","message":"http_request_received","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","method":"POST","path":"/api/process-cv","template":"unknown","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.562Z","level":"info","message":"process_cv_started","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","manualJobDescriptionProvided":true,"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.565Z","level":"info","message":"template_selection","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:04.567Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:04.577Z","level":"info","message":"initial_upload_completed","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","bucket":"test-bucket","key":"cv/candidate/abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2/incoming/original.pdf","template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.597Z","level":"info","message":"resume_text_extracted","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","characters":57,"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.599Z","level":"info","message":"resume_classified","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.601Z","level":"info","message":"raw_upload_relocated","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","bucket":"test-bucket","fromKey":"cv/candidate/abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2/incoming/original.pdf","toKey":"cv/professional_summary/abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2/original.pdf","template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.602Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","bucket":"test-bucket","key":"cv/professional_summary/abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2/original.pdf","template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.603Z","level":"info","message":"dynamo_initial_record_written","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","bucket":"test-bucket","key":"cv/professional_summary/abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2/original.pdf","template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.605Z","level":"info","message":"upload_metadata_written","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","bucket":"test-bucket","key":"cv/professional_summary/abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2/logs/log.json","template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.605Z","level":"info","message":"job_description_supplied_manually","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","characters":174,"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.613Z","level":"info","message":"job_description_analyzed","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","jobTitle":"","jobSkills":5,"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.681Z","level":"info","message":"resume_skills_analyzed","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.719Z","level":"info","message":"llm_call_metrics","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.735Z","level":"info","message":"process_cv_scoring_completed","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.849Z","level":"info","message":"llm_call_metrics","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.851Z","level":"info","message":"generation_section_rewrite_completed","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","generationRunId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.853Z","level":"info","message":"llm_call_metrics","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.871Z","level":"info","message":"generation_resume_verified","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","generationRunId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:04.901Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","generationRunId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:04.913Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","generationRunId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:04.921Z","level":"info","message":"generation_cover_letters_completed","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","generationRunId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","variants":2,"fallbackApplied":true,"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.924Z","level":"info","message":"pdf_generation_attempt","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","generationRunId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2/enhanced_modern.pdf","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.925Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","generationRunId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.926Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","generationRunId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2/enhanced_modern.pdf","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.927Z","level":"info","message":"pdf_generation_attempt","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","generationRunId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2/enhanced_professional.pdf","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.928Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","generationRunId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.929Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","generationRunId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2/enhanced_professional.pdf","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.930Z","level":"info","message":"pdf_generation_attempt","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","generationRunId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2/cover_letter_cover_modern.pdf","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.931Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","generationRunId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.935Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","generationRunId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2/cover_letter_cover_modern.pdf","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.937Z","level":"info","message":"pdf_generation_attempt","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","generationRunId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2/cover_letter_cover_professional.pdf","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.938Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","generationRunId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.939Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","generationRunId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2/cover_letter_cover_professional.pdf","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.948Z","level":"info","message":"llm_call_metrics","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.949Z","level":"info","message":"generation_completed","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","generationRunId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","enhancedScore":80,"outputs":5,"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.953Z","level":"info","message":"placeholder_record_deleted","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","jobId":"afaa2357-8919-4f11-9760-6f0d27407d5d","placeholderIdentifier":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afaa2357-8919-4f11-9760-6f0d27407d5d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.954Z","level":"info","message":"http_request_completed","requestId":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":413,"contentLength":"58133","template":"unknown","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"abedc4ca-47a4-4ea1-a2b8-c463a1ce09f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.958Z","level":"info","message":"http_request_received","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","method":"POST","path":"/api/process-cv","template":"unknown","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.970Z","level":"info","message":"process_cv_started","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","manualJobDescriptionProvided":true,"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.971Z","level":"info","message":"template_selection","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:04.971Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:04.978Z","level":"info","message":"initial_upload_completed","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","bucket":"test-bucket","key":"cv/candidate/48554c36-4425-4ab8-bc0a-6353fb9ed3b0/incoming/original.pdf","template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.984Z","level":"info","message":"resume_text_extracted","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","characters":57,"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.984Z","level":"info","message":"resume_classified","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.985Z","level":"info","message":"raw_upload_relocated","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","bucket":"test-bucket","fromKey":"cv/candidate/48554c36-4425-4ab8-bc0a-6353fb9ed3b0/incoming/original.pdf","toKey":"cv/professional_summary/48554c36-4425-4ab8-bc0a-6353fb9ed3b0/original.pdf","template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.986Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","bucket":"test-bucket","key":"cv/professional_summary/48554c36-4425-4ab8-bc0a-6353fb9ed3b0/original.pdf","template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.987Z","level":"info","message":"dynamo_initial_record_written","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","bucket":"test-bucket","key":"cv/professional_summary/48554c36-4425-4ab8-bc0a-6353fb9ed3b0/original.pdf","template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.987Z","level":"info","message":"upload_metadata_written","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","bucket":"test-bucket","key":"cv/professional_summary/48554c36-4425-4ab8-bc0a-6353fb9ed3b0/logs/log.json","template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.988Z","level":"info","message":"job_description_supplied_manually","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","characters":174,"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.988Z","level":"info","message":"job_description_analyzed","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","jobTitle":"","jobSkills":5,"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.989Z","level":"info","message":"resume_skills_analyzed","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.990Z","level":"info","message":"llm_call_metrics","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:04.991Z","level":"info","message":"process_cv_scoring_completed","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.001Z","level":"info","message":"llm_call_metrics","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.001Z","level":"info","message":"generation_section_rewrite_completed","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","generationRunId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.002Z","level":"info","message":"llm_call_metrics","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.007Z","level":"info","message":"generation_resume_verified","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","generationRunId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:05.014Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","generationRunId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:05.024Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","generationRunId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:05.032Z","level":"info","message":"generation_cover_letters_completed","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","generationRunId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","variants":2,"fallbackApplied":true,"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.033Z","level":"info","message":"pdf_generation_attempt","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","generationRunId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/48554c36-4425-4ab8-bc0a-6353fb9ed3b0/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/48554c36-4425-4ab8-bc0a-6353fb9ed3b0/enhanced_modern.pdf","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.034Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","generationRunId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/48554c36-4425-4ab8-bc0a-6353fb9ed3b0/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.035Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","generationRunId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/48554c36-4425-4ab8-bc0a-6353fb9ed3b0/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/48554c36-4425-4ab8-bc0a-6353fb9ed3b0/enhanced_modern.pdf","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.035Z","level":"info","message":"pdf_generation_attempt","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","generationRunId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/48554c36-4425-4ab8-bc0a-6353fb9ed3b0/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/48554c36-4425-4ab8-bc0a-6353fb9ed3b0/enhanced_professional.pdf","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.036Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","generationRunId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/48554c36-4425-4ab8-bc0a-6353fb9ed3b0/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.037Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","generationRunId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/48554c36-4425-4ab8-bc0a-6353fb9ed3b0/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/48554c36-4425-4ab8-bc0a-6353fb9ed3b0/enhanced_professional.pdf","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.037Z","level":"info","message":"pdf_generation_attempt","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","generationRunId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/48554c36-4425-4ab8-bc0a-6353fb9ed3b0/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/48554c36-4425-4ab8-bc0a-6353fb9ed3b0/cover_letter_cover_modern.pdf","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.038Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","generationRunId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/48554c36-4425-4ab8-bc0a-6353fb9ed3b0/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.039Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","generationRunId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/48554c36-4425-4ab8-bc0a-6353fb9ed3b0/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/48554c36-4425-4ab8-bc0a-6353fb9ed3b0/cover_letter_cover_modern.pdf","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.040Z","level":"info","message":"pdf_generation_attempt","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","generationRunId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/48554c36-4425-4ab8-bc0a-6353fb9ed3b0/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/48554c36-4425-4ab8-bc0a-6353fb9ed3b0/cover_letter_cover_professional.pdf","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.041Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","generationRunId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/48554c36-4425-4ab8-bc0a-6353fb9ed3b0/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.041Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","generationRunId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/48554c36-4425-4ab8-bc0a-6353fb9ed3b0/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/48554c36-4425-4ab8-bc0a-6353fb9ed3b0/cover_letter_cover_professional.pdf","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.046Z","level":"info","message":"llm_call_metrics","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.047Z","level":"info","message":"generation_completed","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","generationRunId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","enhancedScore":80,"outputs":5,"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.048Z","level":"info","message":"placeholder_record_deleted","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","jobId":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","placeholderIdentifier":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e2f3c540-c1b9-4608-8cb8-6a381c8556dd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.050Z","level":"info","message":"http_request_completed","requestId":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":92,"contentLength":"58133","template":"unknown","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"48554c36-4425-4ab8-bc0a-6353fb9ed3b0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.061Z","level":"info","message":"http_request_received","requestId":"7d366726-3bbe-404d-995b-833643851cd5","method":"POST","path":"/api/process-cv","template":"unknown","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.063Z","level":"info","message":"process_cv_started","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","manualJobDescriptionProvided":true,"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.064Z","level":"info","message":"template_selection","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:05.065Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:05.071Z","level":"info","message":"initial_upload_completed","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","bucket":"test-bucket","key":"cv/candidate/7d366726-3bbe-404d-995b-833643851cd5/incoming/original.pdf","template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.072Z","level":"info","message":"resume_text_extracted","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","characters":57,"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.073Z","level":"info","message":"resume_classified","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.073Z","level":"info","message":"raw_upload_relocated","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","bucket":"test-bucket","fromKey":"cv/candidate/7d366726-3bbe-404d-995b-833643851cd5/incoming/original.pdf","toKey":"cv/professional_summary/7d366726-3bbe-404d-995b-833643851cd5/original.pdf","template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.074Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","bucket":"test-bucket","key":"cv/professional_summary/7d366726-3bbe-404d-995b-833643851cd5/original.pdf","template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.074Z","level":"info","message":"dynamo_initial_record_written","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","bucket":"test-bucket","key":"cv/professional_summary/7d366726-3bbe-404d-995b-833643851cd5/original.pdf","template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.075Z","level":"info","message":"upload_metadata_written","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","bucket":"test-bucket","key":"cv/professional_summary/7d366726-3bbe-404d-995b-833643851cd5/logs/log.json","template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.075Z","level":"info","message":"session_transition_change_log_removed","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","bucket":"test-bucket","removedKeys":["cv/candidate/session-old/logs/change-log.json","cv/candidate/session-old/artifacts/changelog.json"],"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.075Z","level":"info","message":"job_description_supplied_manually","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","characters":174,"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.076Z","level":"info","message":"job_description_analyzed","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","jobTitle":"","jobSkills":5,"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.077Z","level":"info","message":"resume_skills_analyzed","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.077Z","level":"info","message":"llm_call_metrics","requestId":"7d366726-3bbe-404d-995b-833643851cd5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.078Z","level":"info","message":"process_cv_scoring_completed","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.083Z","level":"info","message":"llm_call_metrics","requestId":"7d366726-3bbe-404d-995b-833643851cd5","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.084Z","level":"info","message":"generation_section_rewrite_completed","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","generationRunId":"7d366726-3bbe-404d-995b-833643851cd5","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.085Z","level":"info","message":"llm_call_metrics","requestId":"7d366726-3bbe-404d-995b-833643851cd5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.094Z","level":"info","message":"generation_resume_verified","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","generationRunId":"7d366726-3bbe-404d-995b-833643851cd5","template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:05.106Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","generationRunId":"7d366726-3bbe-404d-995b-833643851cd5","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:05.114Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","generationRunId":"7d366726-3bbe-404d-995b-833643851cd5","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:05.120Z","level":"info","message":"generation_cover_letters_completed","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","generationRunId":"7d366726-3bbe-404d-995b-833643851cd5","variants":2,"fallbackApplied":true,"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.121Z","level":"info","message":"pdf_generation_attempt","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","generationRunId":"7d366726-3bbe-404d-995b-833643851cd5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7d366726-3bbe-404d-995b-833643851cd5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7d366726-3bbe-404d-995b-833643851cd5/enhanced_modern.pdf","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.121Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","generationRunId":"7d366726-3bbe-404d-995b-833643851cd5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7d366726-3bbe-404d-995b-833643851cd5/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.122Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","generationRunId":"7d366726-3bbe-404d-995b-833643851cd5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7d366726-3bbe-404d-995b-833643851cd5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7d366726-3bbe-404d-995b-833643851cd5/enhanced_modern.pdf","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.123Z","level":"info","message":"pdf_generation_attempt","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","generationRunId":"7d366726-3bbe-404d-995b-833643851cd5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7d366726-3bbe-404d-995b-833643851cd5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7d366726-3bbe-404d-995b-833643851cd5/enhanced_professional.pdf","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.124Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","generationRunId":"7d366726-3bbe-404d-995b-833643851cd5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7d366726-3bbe-404d-995b-833643851cd5/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.124Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","generationRunId":"7d366726-3bbe-404d-995b-833643851cd5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7d366726-3bbe-404d-995b-833643851cd5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7d366726-3bbe-404d-995b-833643851cd5/enhanced_professional.pdf","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.125Z","level":"info","message":"pdf_generation_attempt","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","generationRunId":"7d366726-3bbe-404d-995b-833643851cd5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7d366726-3bbe-404d-995b-833643851cd5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7d366726-3bbe-404d-995b-833643851cd5/cover_letter_cover_modern.pdf","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.125Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","generationRunId":"7d366726-3bbe-404d-995b-833643851cd5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7d366726-3bbe-404d-995b-833643851cd5/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.126Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","generationRunId":"7d366726-3bbe-404d-995b-833643851cd5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7d366726-3bbe-404d-995b-833643851cd5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7d366726-3bbe-404d-995b-833643851cd5/cover_letter_cover_modern.pdf","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.127Z","level":"info","message":"pdf_generation_attempt","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","generationRunId":"7d366726-3bbe-404d-995b-833643851cd5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7d366726-3bbe-404d-995b-833643851cd5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7d366726-3bbe-404d-995b-833643851cd5/cover_letter_cover_professional.pdf","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.128Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","generationRunId":"7d366726-3bbe-404d-995b-833643851cd5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7d366726-3bbe-404d-995b-833643851cd5/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.128Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","generationRunId":"7d366726-3bbe-404d-995b-833643851cd5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7d366726-3bbe-404d-995b-833643851cd5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7d366726-3bbe-404d-995b-833643851cd5/cover_letter_cover_professional.pdf","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.133Z","level":"info","message":"llm_call_metrics","requestId":"7d366726-3bbe-404d-995b-833643851cd5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.134Z","level":"info","message":"generation_completed","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","generationRunId":"7d366726-3bbe-404d-995b-833643851cd5","enhancedScore":80,"outputs":5,"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.139Z","level":"info","message":"placeholder_record_deleted","requestId":"7d366726-3bbe-404d-995b-833643851cd5","jobId":"86d34528-1c89-40ca-8623-6d1f891dfb4e","placeholderIdentifier":"7d366726-3bbe-404d-995b-833643851cd5","template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"86d34528-1c89-40ca-8623-6d1f891dfb4e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.140Z","level":"info","message":"http_request_completed","requestId":"7d366726-3bbe-404d-995b-833643851cd5","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":79,"contentLength":"58133","template":"unknown","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7d366726-3bbe-404d-995b-833643851cd5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.144Z","level":"info","message":"http_request_received","requestId":"repeat","method":"POST","path":"/api/process-cv","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.146Z","level":"info","message":"process_cv_started","requestId":"repeat","jobId":"repeat","manualJobDescriptionProvided":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.147Z","level":"info","message":"template_selection","requestId":"repeat","jobId":"repeat","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:05.148Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"repeat","jobId":"repeat","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:05.155Z","level":"info","message":"initial_upload_completed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.155Z","level":"info","message":"resume_text_extracted","requestId":"repeat","jobId":"repeat","characters":57,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.156Z","level":"info","message":"resume_classified","requestId":"repeat","jobId":"repeat","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.156Z","level":"info","message":"raw_upload_relocated","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","fromKey":"cv/candidate/repeat/incoming/original.pdf","toKey":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.157Z","level":"info","message":"dynamo_initial_record_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.157Z","level":"info","message":"upload_metadata_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/logs/log.json","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.157Z","level":"info","message":"session_transition_change_log_removed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","removedKeys":["cv/candidate/repeat/logs/change-log.json","cv/candidate/repeat/artifacts/changelog.json"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.158Z","level":"info","message":"job_description_supplied_manually","requestId":"repeat","jobId":"repeat","characters":174,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.158Z","level":"info","message":"job_description_analyzed","requestId":"repeat","jobId":"repeat","jobTitle":"","jobSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.159Z","level":"info","message":"resume_skills_analyzed","requestId":"repeat","jobId":"repeat","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.160Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.161Z","level":"info","message":"process_cv_scoring_completed","requestId":"repeat","jobId":"repeat","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.165Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.165Z","level":"info","message":"generation_section_rewrite_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.166Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.170Z","level":"info","message":"generation_resume_verified","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:05.178Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:05.184Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:05.189Z","level":"info","message":"generation_cover_letters_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","variants":2,"fallbackApplied":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.190Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.190Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.191Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.192Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.192Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.193Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.193Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.194Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.194Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.195Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.195Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.196Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.201Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.202Z","level":"info","message":"generation_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","enhancedScore":80,"outputs":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.204Z","level":"info","message":"http_request_completed","requestId":"repeat","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":60,"contentLength":"57353","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.207Z","level":"info","message":"http_request_received","requestId":"c1b88312-8544-4fce-bf6e-e14fb747d382","method":"POST","path":"/api/process-cv","template":"unknown","session":"c1b88312-8544-4fce-bf6e-e14fb747d382","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1b88312-8544-4fce-bf6e-e14fb747d382","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.210Z","level":"info","message":"process_cv_started","requestId":"c1b88312-8544-4fce-bf6e-e14fb747d382","jobId":"8e27da82-2e80-4de7-b52b-29a4fbdbed15","manualJobDescriptionProvided":false,"template":"unknown","session":"8e27da82-2e80-4de7-b52b-29a4fbdbed15","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8e27da82-2e80-4de7-b52b-29a4fbdbed15","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.210Z","level":"info","message":"template_selection","requestId":"c1b88312-8544-4fce-bf6e-e14fb747d382","jobId":"8e27da82-2e80-4de7-b52b-29a4fbdbed15","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8e27da82-2e80-4de7-b52b-29a4fbdbed15","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8e27da82-2e80-4de7-b52b-29a4fbdbed15","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:05.211Z","level":"warn","message":"job_description_missing","requestId":"c1b88312-8544-4fce-bf6e-e14fb747d382","jobId":"8e27da82-2e80-4de7-b52b-29a4fbdbed15","template":"unknown","session":"8e27da82-2e80-4de7-b52b-29a4fbdbed15","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8e27da82-2e80-4de7-b52b-29a4fbdbed15","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24924:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-11-30T16:01:05.216Z","level":"warn","message":"api_error_response","requestId":"c1b88312-8544-4fce-bf6e-e14fb747d382","jobId":"8e27da82-2e80-4de7-b52b-29a4fbdbed15","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"c1b88312-8544-4fce-bf6e-e14fb747d382","jobId":"8e27da82-2e80-4de7-b52b-29a4fbdbed15"},"template":"unknown","session":"8e27da82-2e80-4de7-b52b-29a4fbdbed15","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8e27da82-2e80-4de7-b52b-29a4fbdbed15","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:3851:3)
      at sendError (server.js:24925:14)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:05.222Z","level":"info","message":"http_request_completed","requestId":"c1b88312-8544-4fce-bf6e-e14fb747d382","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":15,"contentLength":"244","template":"unknown","session":"c1b88312-8544-4fce-bf6e-e14fb747d382","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1b88312-8544-4fce-bf6e-e14fb747d382","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.224Z","level":"info","message":"http_request_received","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","method":"POST","path":"/api/process-cv","template":"unknown","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.225Z","level":"info","message":"process_cv_started","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","manualJobDescriptionProvided":true,"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.226Z","level":"info","message":"template_selection","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:05.227Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:05.232Z","level":"info","message":"initial_upload_completed","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","bucket":"test-bucket","key":"cv/candidate/733328a6-12a9-45c1-bc52-28f3821f4750/incoming/original.pdf","template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.234Z","level":"info","message":"resume_text_extracted","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","characters":57,"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.234Z","level":"info","message":"resume_classified","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.234Z","level":"info","message":"raw_upload_relocated","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","bucket":"test-bucket","fromKey":"cv/candidate/733328a6-12a9-45c1-bc52-28f3821f4750/incoming/original.pdf","toKey":"cv/professional_summary/733328a6-12a9-45c1-bc52-28f3821f4750/original.pdf","template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.235Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","bucket":"test-bucket","key":"cv/professional_summary/733328a6-12a9-45c1-bc52-28f3821f4750/original.pdf","template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.235Z","level":"info","message":"dynamo_initial_record_written","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","bucket":"test-bucket","key":"cv/professional_summary/733328a6-12a9-45c1-bc52-28f3821f4750/original.pdf","template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.236Z","level":"info","message":"upload_metadata_written","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","bucket":"test-bucket","key":"cv/professional_summary/733328a6-12a9-45c1-bc52-28f3821f4750/logs/log.json","template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.236Z","level":"info","message":"job_description_supplied_manually","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","characters":59,"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.236Z","level":"info","message":"job_description_analyzed","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","jobTitle":"","jobSkills":5,"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.238Z","level":"info","message":"resume_skills_analyzed","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.238Z","level":"info","message":"llm_call_metrics","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.239Z","level":"info","message":"process_cv_scoring_completed","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.242Z","level":"info","message":"llm_call_metrics","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"ea2430c235b24028819e3e632af324e68724bbc1d27bee61065e3e4452249d1c","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.243Z","level":"info","message":"generation_section_rewrite_completed","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","generationRunId":"733328a6-12a9-45c1-bc52-28f3821f4750","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.243Z","level":"info","message":"llm_call_metrics","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"5ccfe9db3e82fa26357ec9c5a8fa36d7c5cf260bf775e906492a22db0355a609","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.252Z","level":"info","message":"generation_resume_verified","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","generationRunId":"733328a6-12a9-45c1-bc52-28f3821f4750","template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:05.260Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","generationRunId":"733328a6-12a9-45c1-bc52-28f3821f4750","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:05.266Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","generationRunId":"733328a6-12a9-45c1-bc52-28f3821f4750","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:05.271Z","level":"info","message":"generation_cover_letters_completed","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","generationRunId":"733328a6-12a9-45c1-bc52-28f3821f4750","variants":2,"fallbackApplied":true,"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.272Z","level":"info","message":"pdf_generation_attempt","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","generationRunId":"733328a6-12a9-45c1-bc52-28f3821f4750","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/733328a6-12a9-45c1-bc52-28f3821f4750/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/733328a6-12a9-45c1-bc52-28f3821f4750/enhanced_modern.pdf","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.272Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","generationRunId":"733328a6-12a9-45c1-bc52-28f3821f4750","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/733328a6-12a9-45c1-bc52-28f3821f4750/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.273Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","generationRunId":"733328a6-12a9-45c1-bc52-28f3821f4750","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/733328a6-12a9-45c1-bc52-28f3821f4750/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/733328a6-12a9-45c1-bc52-28f3821f4750/enhanced_modern.pdf","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.274Z","level":"info","message":"pdf_generation_attempt","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","generationRunId":"733328a6-12a9-45c1-bc52-28f3821f4750","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/733328a6-12a9-45c1-bc52-28f3821f4750/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/733328a6-12a9-45c1-bc52-28f3821f4750/enhanced_professional.pdf","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.274Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","generationRunId":"733328a6-12a9-45c1-bc52-28f3821f4750","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/733328a6-12a9-45c1-bc52-28f3821f4750/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.275Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","generationRunId":"733328a6-12a9-45c1-bc52-28f3821f4750","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/733328a6-12a9-45c1-bc52-28f3821f4750/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/733328a6-12a9-45c1-bc52-28f3821f4750/enhanced_professional.pdf","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.275Z","level":"info","message":"pdf_generation_attempt","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","generationRunId":"733328a6-12a9-45c1-bc52-28f3821f4750","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/733328a6-12a9-45c1-bc52-28f3821f4750/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/733328a6-12a9-45c1-bc52-28f3821f4750/cover_letter_cover_modern.pdf","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.276Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","generationRunId":"733328a6-12a9-45c1-bc52-28f3821f4750","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/733328a6-12a9-45c1-bc52-28f3821f4750/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.276Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","generationRunId":"733328a6-12a9-45c1-bc52-28f3821f4750","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/733328a6-12a9-45c1-bc52-28f3821f4750/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/733328a6-12a9-45c1-bc52-28f3821f4750/cover_letter_cover_modern.pdf","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.277Z","level":"info","message":"pdf_generation_attempt","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","generationRunId":"733328a6-12a9-45c1-bc52-28f3821f4750","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/733328a6-12a9-45c1-bc52-28f3821f4750/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/733328a6-12a9-45c1-bc52-28f3821f4750/cover_letter_cover_professional.pdf","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.277Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","generationRunId":"733328a6-12a9-45c1-bc52-28f3821f4750","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/733328a6-12a9-45c1-bc52-28f3821f4750/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.278Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","generationRunId":"733328a6-12a9-45c1-bc52-28f3821f4750","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/733328a6-12a9-45c1-bc52-28f3821f4750/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/733328a6-12a9-45c1-bc52-28f3821f4750/cover_letter_cover_professional.pdf","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.281Z","level":"info","message":"llm_call_metrics","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.281Z","level":"info","message":"generation_completed","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","generationRunId":"733328a6-12a9-45c1-bc52-28f3821f4750","enhancedScore":80,"outputs":5,"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.284Z","level":"info","message":"placeholder_record_deleted","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","jobId":"59a636fd-bcf1-4291-8d8a-2ac19881d680","placeholderIdentifier":"733328a6-12a9-45c1-bc52-28f3821f4750","template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59a636fd-bcf1-4291-8d8a-2ac19881d680","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.285Z","level":"info","message":"http_request_completed","requestId":"733328a6-12a9-45c1-bc52-28f3821f4750","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":61,"contentLength":"55048","template":"unknown","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"733328a6-12a9-45c1-bc52-28f3821f4750","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.288Z","level":"info","message":"http_request_received","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","method":"POST","path":"/api/process-cv","template":"unknown","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.289Z","level":"info","message":"process_cv_started","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","manualJobDescriptionProvided":true,"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.290Z","level":"info","message":"template_selection","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:05.291Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:05.297Z","level":"info","message":"initial_upload_completed","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","bucket":"test-bucket","key":"cv/candidate/92d11326-439a-49fa-abf4-5936cd7a41c4/incoming/original.pdf","template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.299Z","level":"info","message":"resume_text_extracted","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","characters":57,"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.299Z","level":"info","message":"resume_classified","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.299Z","level":"info","message":"raw_upload_relocated","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","bucket":"test-bucket","fromKey":"cv/candidate/92d11326-439a-49fa-abf4-5936cd7a41c4/incoming/original.pdf","toKey":"cv/professional_summary/92d11326-439a-49fa-abf4-5936cd7a41c4/original.pdf","template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.300Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","bucket":"test-bucket","key":"cv/professional_summary/92d11326-439a-49fa-abf4-5936cd7a41c4/original.pdf","template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.300Z","level":"info","message":"dynamo_initial_record_written","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","bucket":"test-bucket","key":"cv/professional_summary/92d11326-439a-49fa-abf4-5936cd7a41c4/original.pdf","template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.301Z","level":"info","message":"upload_metadata_written","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","bucket":"test-bucket","key":"cv/professional_summary/92d11326-439a-49fa-abf4-5936cd7a41c4/logs/log.json","template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.301Z","level":"info","message":"job_description_supplied_manually","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","characters":32,"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.301Z","level":"info","message":"job_description_analyzed","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","jobTitle":"","jobSkills":5,"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.302Z","level":"info","message":"resume_skills_analyzed","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.303Z","level":"info","message":"llm_call_metrics","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.304Z","level":"info","message":"process_cv_scoring_completed","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.307Z","level":"info","message":"llm_call_metrics","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"4ee429ea92424e8e19e4720211137d476a19f7274074e1702e9c42fe53b6fed7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.308Z","level":"info","message":"generation_section_rewrite_completed","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","generationRunId":"92d11326-439a-49fa-abf4-5936cd7a41c4","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.308Z","level":"info","message":"llm_call_metrics","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"b847d6e14d4cae3ee14cd5dbb7c4a4ca1658d965fe5c0b4564eb95e9b23995e3","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.311Z","level":"info","message":"generation_resume_verified","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","generationRunId":"92d11326-439a-49fa-abf4-5936cd7a41c4","template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:05.316Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","generationRunId":"92d11326-439a-49fa-abf4-5936cd7a41c4","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:05.322Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","generationRunId":"92d11326-439a-49fa-abf4-5936cd7a41c4","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:05.327Z","level":"info","message":"generation_cover_letters_completed","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","generationRunId":"92d11326-439a-49fa-abf4-5936cd7a41c4","variants":2,"fallbackApplied":true,"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.327Z","level":"info","message":"pdf_generation_attempt","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","generationRunId":"92d11326-439a-49fa-abf4-5936cd7a41c4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/92d11326-439a-49fa-abf4-5936cd7a41c4/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/92d11326-439a-49fa-abf4-5936cd7a41c4/enhanced_modern.pdf","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.328Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","generationRunId":"92d11326-439a-49fa-abf4-5936cd7a41c4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/92d11326-439a-49fa-abf4-5936cd7a41c4/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.328Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","generationRunId":"92d11326-439a-49fa-abf4-5936cd7a41c4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/92d11326-439a-49fa-abf4-5936cd7a41c4/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/92d11326-439a-49fa-abf4-5936cd7a41c4/enhanced_modern.pdf","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.329Z","level":"info","message":"pdf_generation_attempt","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","generationRunId":"92d11326-439a-49fa-abf4-5936cd7a41c4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/92d11326-439a-49fa-abf4-5936cd7a41c4/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/92d11326-439a-49fa-abf4-5936cd7a41c4/enhanced_professional.pdf","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.329Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","generationRunId":"92d11326-439a-49fa-abf4-5936cd7a41c4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/92d11326-439a-49fa-abf4-5936cd7a41c4/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.330Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","generationRunId":"92d11326-439a-49fa-abf4-5936cd7a41c4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/92d11326-439a-49fa-abf4-5936cd7a41c4/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/92d11326-439a-49fa-abf4-5936cd7a41c4/enhanced_professional.pdf","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.330Z","level":"info","message":"pdf_generation_attempt","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","generationRunId":"92d11326-439a-49fa-abf4-5936cd7a41c4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/92d11326-439a-49fa-abf4-5936cd7a41c4/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/92d11326-439a-49fa-abf4-5936cd7a41c4/cover_letter_cover_modern.pdf","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.331Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","generationRunId":"92d11326-439a-49fa-abf4-5936cd7a41c4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/92d11326-439a-49fa-abf4-5936cd7a41c4/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.331Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","generationRunId":"92d11326-439a-49fa-abf4-5936cd7a41c4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/92d11326-439a-49fa-abf4-5936cd7a41c4/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/92d11326-439a-49fa-abf4-5936cd7a41c4/cover_letter_cover_modern.pdf","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.332Z","level":"info","message":"pdf_generation_attempt","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","generationRunId":"92d11326-439a-49fa-abf4-5936cd7a41c4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/92d11326-439a-49fa-abf4-5936cd7a41c4/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/92d11326-439a-49fa-abf4-5936cd7a41c4/cover_letter_cover_professional.pdf","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.332Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","generationRunId":"92d11326-439a-49fa-abf4-5936cd7a41c4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/92d11326-439a-49fa-abf4-5936cd7a41c4/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.333Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","generationRunId":"92d11326-439a-49fa-abf4-5936cd7a41c4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/92d11326-439a-49fa-abf4-5936cd7a41c4/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/92d11326-439a-49fa-abf4-5936cd7a41c4/cover_letter_cover_professional.pdf","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.335Z","level":"info","message":"llm_call_metrics","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.336Z","level":"info","message":"generation_completed","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","generationRunId":"92d11326-439a-49fa-abf4-5936cd7a41c4","enhancedScore":80,"outputs":5,"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.338Z","level":"info","message":"placeholder_record_deleted","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","jobId":"9d574f5f-a979-4ee0-9180-ef764a95f80e","placeholderIdentifier":"92d11326-439a-49fa-abf4-5936cd7a41c4","template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d574f5f-a979-4ee0-9180-ef764a95f80e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.339Z","level":"info","message":"http_request_completed","requestId":"92d11326-439a-49fa-abf4-5936cd7a41c4","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":52,"contentLength":"53771","template":"unknown","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92d11326-439a-49fa-abf4-5936cd7a41c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.342Z","level":"info","message":"http_request_received","requestId":"941a5ebf-a763-4fe6-aa16-0bc8d935fc59","method":"POST","path":"/api/process-cv","template":"unknown","session":"941a5ebf-a763-4fe6-aa16-0bc8d935fc59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"941a5ebf-a763-4fe6-aa16-0bc8d935fc59","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:05.344Z","level":"warn","message":"job_description_prohibited_html_detected","requestId":"941a5ebf-a763-4fe6-aa16-0bc8d935fc59","jobId":"fa03e775-58d9-458d-8814-6771f3fe43f0","template":"unknown","session":"fa03e775-58d9-458d-8814-6771f3fe43f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fa03e775-58d9-458d-8814-6771f3fe43f0","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24817:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-11-30T16:01:05.349Z","level":"warn","message":"api_error_response","requestId":"941a5ebf-a763-4fe6-aa16-0bc8d935fc59","jobId":"fa03e775-58d9-458d-8814-6771f3fe43f0","status":400,"error":{"code":"JOB_DESCRIPTION_PROHIBITED_TAGS","message":"Remove HTML tags like <script> before continuing.","details":{"field":"manualJobDescription"},"requestId":"941a5ebf-a763-4fe6-aa16-0bc8d935fc59","jobId":"fa03e775-58d9-458d-8814-6771f3fe43f0"},"template":"unknown","session":"fa03e775-58d9-458d-8814-6771f3fe43f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fa03e775-58d9-458d-8814-6771f3fe43f0","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:3851:3)
      at sendError (server.js:24818:14)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:05.355Z","level":"info","message":"http_request_completed","requestId":"941a5ebf-a763-4fe6-aa16-0bc8d935fc59","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":13,"contentLength":"271","template":"unknown","session":"941a5ebf-a763-4fe6-aa16-0bc8d935fc59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"941a5ebf-a763-4fe6-aa16-0bc8d935fc59","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.358Z","level":"info","message":"http_request_received","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","method":"POST","path":"/api/process-cv","template":"unknown","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.360Z","level":"info","message":"process_cv_started","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","manualJobDescriptionProvided":true,"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.361Z","level":"info","message":"template_selection","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:05.361Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:05.367Z","level":"info","message":"initial_upload_completed","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","bucket":"test-bucket","key":"cv/candidate/772a0f2f-6a91-4fc8-a2a0-0b1d8612295c/incoming/original.pdf","template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.368Z","level":"info","message":"resume_text_extracted","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","characters":57,"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.368Z","level":"info","message":"resume_classified","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.368Z","level":"info","message":"raw_upload_relocated","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","bucket":"test-bucket","fromKey":"cv/candidate/772a0f2f-6a91-4fc8-a2a0-0b1d8612295c/incoming/original.pdf","toKey":"cv/professional_summary/772a0f2f-6a91-4fc8-a2a0-0b1d8612295c/original.pdf","template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.369Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","bucket":"test-bucket","key":"cv/professional_summary/772a0f2f-6a91-4fc8-a2a0-0b1d8612295c/original.pdf","template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.369Z","level":"info","message":"dynamo_initial_record_written","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","bucket":"test-bucket","key":"cv/professional_summary/772a0f2f-6a91-4fc8-a2a0-0b1d8612295c/original.pdf","template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.370Z","level":"info","message":"upload_metadata_written","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","bucket":"test-bucket","key":"cv/professional_summary/772a0f2f-6a91-4fc8-a2a0-0b1d8612295c/logs/log.json","template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.371Z","level":"info","message":"job_description_supplied_manually","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","characters":31,"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.371Z","level":"info","message":"job_description_analyzed","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","jobTitle":"","jobSkills":5,"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.372Z","level":"info","message":"resume_skills_analyzed","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.372Z","level":"info","message":"llm_call_metrics","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.373Z","level":"info","message":"process_cv_scoring_completed","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.376Z","level":"info","message":"llm_call_metrics","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"3b6fa31427cfe80be95734691ddba88dda63de26496df29477f91bd398cefbfa","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.377Z","level":"info","message":"generation_section_rewrite_completed","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","generationRunId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.377Z","level":"info","message":"llm_call_metrics","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"eedd7612e0b87e24dbfb4e165754c9448ec3573f7db56a3242654c71c3ca223b","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.380Z","level":"info","message":"generation_resume_verified","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","generationRunId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:05.384Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","generationRunId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:05.390Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","generationRunId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:05.395Z","level":"info","message":"generation_cover_letters_completed","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","generationRunId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","variants":2,"fallbackApplied":true,"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.396Z","level":"info","message":"pdf_generation_attempt","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","generationRunId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/772a0f2f-6a91-4fc8-a2a0-0b1d8612295c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/772a0f2f-6a91-4fc8-a2a0-0b1d8612295c/enhanced_modern.pdf","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.397Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","generationRunId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/772a0f2f-6a91-4fc8-a2a0-0b1d8612295c/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.397Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","generationRunId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/772a0f2f-6a91-4fc8-a2a0-0b1d8612295c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/772a0f2f-6a91-4fc8-a2a0-0b1d8612295c/enhanced_modern.pdf","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.398Z","level":"info","message":"pdf_generation_attempt","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","generationRunId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/772a0f2f-6a91-4fc8-a2a0-0b1d8612295c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/772a0f2f-6a91-4fc8-a2a0-0b1d8612295c/enhanced_professional.pdf","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.398Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","generationRunId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/772a0f2f-6a91-4fc8-a2a0-0b1d8612295c/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.398Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","generationRunId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/772a0f2f-6a91-4fc8-a2a0-0b1d8612295c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/772a0f2f-6a91-4fc8-a2a0-0b1d8612295c/enhanced_professional.pdf","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.399Z","level":"info","message":"pdf_generation_attempt","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","generationRunId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/772a0f2f-6a91-4fc8-a2a0-0b1d8612295c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/772a0f2f-6a91-4fc8-a2a0-0b1d8612295c/cover_letter_cover_modern.pdf","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.399Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","generationRunId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/772a0f2f-6a91-4fc8-a2a0-0b1d8612295c/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.400Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","generationRunId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/772a0f2f-6a91-4fc8-a2a0-0b1d8612295c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/772a0f2f-6a91-4fc8-a2a0-0b1d8612295c/cover_letter_cover_modern.pdf","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.401Z","level":"info","message":"pdf_generation_attempt","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","generationRunId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/772a0f2f-6a91-4fc8-a2a0-0b1d8612295c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/772a0f2f-6a91-4fc8-a2a0-0b1d8612295c/cover_letter_cover_professional.pdf","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.401Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","generationRunId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/772a0f2f-6a91-4fc8-a2a0-0b1d8612295c/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.402Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","generationRunId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/772a0f2f-6a91-4fc8-a2a0-0b1d8612295c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/772a0f2f-6a91-4fc8-a2a0-0b1d8612295c/cover_letter_cover_professional.pdf","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.404Z","level":"info","message":"llm_call_metrics","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.407Z","level":"info","message":"generation_completed","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","generationRunId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","enhancedScore":80,"outputs":5,"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.408Z","level":"info","message":"placeholder_record_deleted","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","jobId":"46260a4c-a3c1-4829-8e05-aa52f233684c","placeholderIdentifier":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"46260a4c-a3c1-4829-8e05-aa52f233684c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.409Z","level":"info","message":"http_request_completed","requestId":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":51,"contentLength":"53718","template":"unknown","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"772a0f2f-6a91-4fc8-a2a0-0b1d8612295c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.413Z","level":"info","message":"http_request_received","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","method":"POST","path":"/api/process-cv","template":"unknown","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.415Z","level":"info","message":"process_cv_started","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","manualJobDescriptionProvided":true,"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.416Z","level":"info","message":"template_selection","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:05.416Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:05.422Z","level":"info","message":"initial_upload_completed","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","bucket":"test-bucket","key":"cv/candidate/a7b96d60-2fe7-409b-93e4-ef749fdc8ef1/incoming/original.pdf","template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.422Z","level":"info","message":"resume_text_extracted","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","characters":57,"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.423Z","level":"info","message":"resume_classified","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.426Z","level":"info","message":"raw_upload_relocated","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","bucket":"test-bucket","fromKey":"cv/candidate/a7b96d60-2fe7-409b-93e4-ef749fdc8ef1/incoming/original.pdf","toKey":"cv/professional_summary/a7b96d60-2fe7-409b-93e4-ef749fdc8ef1/original.pdf","template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.426Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","bucket":"test-bucket","key":"cv/professional_summary/a7b96d60-2fe7-409b-93e4-ef749fdc8ef1/original.pdf","template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.426Z","level":"info","message":"dynamo_initial_record_written","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","bucket":"test-bucket","key":"cv/professional_summary/a7b96d60-2fe7-409b-93e4-ef749fdc8ef1/original.pdf","template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.427Z","level":"info","message":"upload_metadata_written","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","bucket":"test-bucket","key":"cv/professional_summary/a7b96d60-2fe7-409b-93e4-ef749fdc8ef1/logs/log.json","template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.427Z","level":"info","message":"job_description_supplied_manually","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","characters":174,"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.427Z","level":"info","message":"job_description_analyzed","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","jobTitle":"","jobSkills":5,"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.428Z","level":"info","message":"resume_skills_analyzed","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.428Z","level":"info","message":"llm_call_metrics","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.429Z","level":"info","message":"process_cv_scoring_completed","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.432Z","level":"info","message":"llm_call_metrics","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.432Z","level":"info","message":"generation_section_rewrite_completed","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","generationRunId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.433Z","level":"info","message":"llm_call_metrics","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.435Z","level":"info","message":"generation_resume_verified","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","generationRunId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:05.439Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","generationRunId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:05.445Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","generationRunId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:05.450Z","level":"info","message":"generation_cover_letters_completed","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","generationRunId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","variants":2,"fallbackApplied":true,"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.450Z","level":"info","message":"pdf_generation_attempt","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","generationRunId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a7b96d60-2fe7-409b-93e4-ef749fdc8ef1/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a7b96d60-2fe7-409b-93e4-ef749fdc8ef1/enhanced_modern.pdf","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.451Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","generationRunId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a7b96d60-2fe7-409b-93e4-ef749fdc8ef1/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.451Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","generationRunId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a7b96d60-2fe7-409b-93e4-ef749fdc8ef1/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a7b96d60-2fe7-409b-93e4-ef749fdc8ef1/enhanced_modern.pdf","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.452Z","level":"info","message":"pdf_generation_attempt","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","generationRunId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a7b96d60-2fe7-409b-93e4-ef749fdc8ef1/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a7b96d60-2fe7-409b-93e4-ef749fdc8ef1/enhanced_professional.pdf","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.452Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","generationRunId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a7b96d60-2fe7-409b-93e4-ef749fdc8ef1/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.453Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","generationRunId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a7b96d60-2fe7-409b-93e4-ef749fdc8ef1/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a7b96d60-2fe7-409b-93e4-ef749fdc8ef1/enhanced_professional.pdf","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.453Z","level":"info","message":"pdf_generation_attempt","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","generationRunId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a7b96d60-2fe7-409b-93e4-ef749fdc8ef1/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a7b96d60-2fe7-409b-93e4-ef749fdc8ef1/cover_letter_cover_modern.pdf","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.453Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","generationRunId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a7b96d60-2fe7-409b-93e4-ef749fdc8ef1/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.454Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","generationRunId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a7b96d60-2fe7-409b-93e4-ef749fdc8ef1/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a7b96d60-2fe7-409b-93e4-ef749fdc8ef1/cover_letter_cover_modern.pdf","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.455Z","level":"info","message":"pdf_generation_attempt","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","generationRunId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a7b96d60-2fe7-409b-93e4-ef749fdc8ef1/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a7b96d60-2fe7-409b-93e4-ef749fdc8ef1/cover_letter_cover_professional.pdf","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.456Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","generationRunId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a7b96d60-2fe7-409b-93e4-ef749fdc8ef1/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.456Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","generationRunId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a7b96d60-2fe7-409b-93e4-ef749fdc8ef1/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a7b96d60-2fe7-409b-93e4-ef749fdc8ef1/cover_letter_cover_professional.pdf","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.459Z","level":"info","message":"llm_call_metrics","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.465Z","level":"info","message":"generation_completed","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","generationRunId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","enhancedScore":80,"outputs":5,"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.468Z","level":"info","message":"placeholder_record_deleted","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","jobId":"8296dafb-536b-473a-aac4-c16e9826a183","placeholderIdentifier":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8296dafb-536b-473a-aac4-c16e9826a183","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.469Z","level":"info","message":"http_request_completed","requestId":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":56,"contentLength":"58133","template":"unknown","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7b96d60-2fe7-409b-93e4-ef749fdc8ef1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.473Z","level":"info","message":"http_request_received","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","method":"POST","path":"/api/process-cv","template":"unknown","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.475Z","level":"info","message":"process_cv_started","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","manualJobDescriptionProvided":true,"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.476Z","level":"info","message":"template_selection","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:05.476Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:05.482Z","level":"info","message":"initial_upload_completed","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","bucket":"test-bucket","key":"cv/candidate/7197f00d-3c63-45ad-b3cf-db0dde18bfb7/incoming/original.pdf","template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.482Z","level":"info","message":"resume_text_extracted","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","characters":57,"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.482Z","level":"info","message":"resume_classified","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.483Z","level":"info","message":"raw_upload_relocated","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","bucket":"test-bucket","fromKey":"cv/candidate/7197f00d-3c63-45ad-b3cf-db0dde18bfb7/incoming/original.pdf","toKey":"cv/professional_summary/7197f00d-3c63-45ad-b3cf-db0dde18bfb7/original.pdf","template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.483Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","bucket":"test-bucket","key":"cv/professional_summary/7197f00d-3c63-45ad-b3cf-db0dde18bfb7/original.pdf","template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.484Z","level":"info","message":"dynamo_initial_record_written","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","bucket":"test-bucket","key":"cv/professional_summary/7197f00d-3c63-45ad-b3cf-db0dde18bfb7/original.pdf","template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.484Z","level":"info","message":"upload_metadata_written","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","bucket":"test-bucket","key":"cv/professional_summary/7197f00d-3c63-45ad-b3cf-db0dde18bfb7/logs/log.json","template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.485Z","level":"info","message":"job_description_supplied_manually","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","characters":174,"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.485Z","level":"info","message":"job_description_analyzed","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","jobTitle":"","jobSkills":5,"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.486Z","level":"info","message":"resume_skills_analyzed","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.486Z","level":"info","message":"llm_call_metrics","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.487Z","level":"info","message":"process_cv_scoring_completed","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:05.491Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","sample":"not json","template":"unknown","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:8366:20)
      at generateEnhancedDocumentsResponse (server.js:20001:26)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:05.509Z","level":"info","message":"llm_call_metrics","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.510Z","level":"info","message":"llm_call_metrics","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.510Z","level":"info","message":"generation_section_rewrite_completed","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","generationRunId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.511Z","level":"info","message":"llm_call_metrics","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"89e63aad97eee35da336c4707bebe46001a38648f790cb26108fe67f8c6eef15","skillCount":5,"template":"project_summary","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:05.515Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","generationRunId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:05.522Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","generationRunId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:05.527Z","level":"info","message":"generation_cover_letters_completed","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","generationRunId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","variants":2,"fallbackApplied":true,"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.528Z","level":"info","message":"pdf_generation_attempt","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","generationRunId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7197f00d-3c63-45ad-b3cf-db0dde18bfb7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7197f00d-3c63-45ad-b3cf-db0dde18bfb7/enhanced_modern.pdf","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.529Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","generationRunId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7197f00d-3c63-45ad-b3cf-db0dde18bfb7/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.530Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","generationRunId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7197f00d-3c63-45ad-b3cf-db0dde18bfb7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7197f00d-3c63-45ad-b3cf-db0dde18bfb7/enhanced_modern.pdf","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.530Z","level":"info","message":"pdf_generation_attempt","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","generationRunId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7197f00d-3c63-45ad-b3cf-db0dde18bfb7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7197f00d-3c63-45ad-b3cf-db0dde18bfb7/enhanced_professional.pdf","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.531Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","generationRunId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7197f00d-3c63-45ad-b3cf-db0dde18bfb7/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.532Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","generationRunId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7197f00d-3c63-45ad-b3cf-db0dde18bfb7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7197f00d-3c63-45ad-b3cf-db0dde18bfb7/enhanced_professional.pdf","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.532Z","level":"info","message":"pdf_generation_attempt","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","generationRunId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7197f00d-3c63-45ad-b3cf-db0dde18bfb7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7197f00d-3c63-45ad-b3cf-db0dde18bfb7/cover_letter_cover_modern.pdf","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.533Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","generationRunId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7197f00d-3c63-45ad-b3cf-db0dde18bfb7/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.534Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","generationRunId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7197f00d-3c63-45ad-b3cf-db0dde18bfb7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7197f00d-3c63-45ad-b3cf-db0dde18bfb7/cover_letter_cover_modern.pdf","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.535Z","level":"info","message":"pdf_generation_attempt","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","generationRunId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7197f00d-3c63-45ad-b3cf-db0dde18bfb7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7197f00d-3c63-45ad-b3cf-db0dde18bfb7/cover_letter_cover_professional.pdf","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.535Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","generationRunId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7197f00d-3c63-45ad-b3cf-db0dde18bfb7/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.536Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","generationRunId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7197f00d-3c63-45ad-b3cf-db0dde18bfb7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7197f00d-3c63-45ad-b3cf-db0dde18bfb7/cover_letter_cover_professional.pdf","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.539Z","level":"info","message":"llm_call_metrics","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.540Z","level":"info","message":"generation_completed","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","generationRunId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","enhancedScore":80,"outputs":5,"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.543Z","level":"info","message":"placeholder_record_deleted","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","jobId":"0779f0de-6e95-4afe-8643-d7329a86fb52","placeholderIdentifier":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0779f0de-6e95-4afe-8643-d7329a86fb52","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.544Z","level":"info","message":"http_request_completed","requestId":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":71,"contentLength":"58091","template":"unknown","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7197f00d-3c63-45ad-b3cf-db0dde18bfb7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.547Z","level":"info","message":"http_request_received","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","method":"POST","path":"/api/process-cv","template":"unknown","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.549Z","level":"info","message":"process_cv_started","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","manualJobDescriptionProvided":true,"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.549Z","level":"info","message":"template_selection","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:05.550Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:05.555Z","level":"info","message":"initial_upload_completed","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","bucket":"test-bucket","key":"cv/candidate/add6f089-f0d3-4db4-a294-3b1995cfcf97/incoming/original.pdf","template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.556Z","level":"info","message":"resume_text_extracted","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","characters":57,"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.556Z","level":"info","message":"resume_classified","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.556Z","level":"info","message":"raw_upload_relocated","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","bucket":"test-bucket","fromKey":"cv/candidate/add6f089-f0d3-4db4-a294-3b1995cfcf97/incoming/original.pdf","toKey":"cv/professional_summary/add6f089-f0d3-4db4-a294-3b1995cfcf97/original.pdf","template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.557Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","bucket":"test-bucket","key":"cv/professional_summary/add6f089-f0d3-4db4-a294-3b1995cfcf97/original.pdf","template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.557Z","level":"info","message":"dynamo_initial_record_written","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","bucket":"test-bucket","key":"cv/professional_summary/add6f089-f0d3-4db4-a294-3b1995cfcf97/original.pdf","template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.557Z","level":"info","message":"upload_metadata_written","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","bucket":"test-bucket","key":"cv/professional_summary/add6f089-f0d3-4db4-a294-3b1995cfcf97/logs/log.json","template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.558Z","level":"info","message":"job_description_supplied_manually","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","characters":174,"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.558Z","level":"info","message":"job_description_analyzed","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","jobTitle":"","jobSkills":5,"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.559Z","level":"info","message":"resume_skills_analyzed","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.559Z","level":"info","message":"llm_call_metrics","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.560Z","level":"info","message":"process_cv_scoring_completed","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.563Z","level":"info","message":"llm_call_metrics","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.563Z","level":"info","message":"generation_section_rewrite_completed","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","generationRunId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.564Z","level":"info","message":"llm_call_metrics","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.564Z","level":"info","message":"llm_call_metrics","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.566Z","level":"info","message":"generation_resume_verified","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","generationRunId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:05.570Z","level":"error","message":"ai_response_missing_json","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","generationRunId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20283:26)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:05.575Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","generationRunId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","attempt":1,"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20288:11)
      at server.js:26559:28

  console.error
    {"timestamp":"2025-11-30T16:01:05.580Z","level":"error","message":"ai_response_missing_json","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","generationRunId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20283:26)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:05.586Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","generationRunId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","attempt":2,"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20288:11)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:05.593Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","generationRunId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:05.599Z","level":"info","message":"generation_cover_letters_completed","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","generationRunId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","variants":2,"fallbackApplied":true,"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.600Z","level":"info","message":"pdf_generation_attempt","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","generationRunId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/add6f089-f0d3-4db4-a294-3b1995cfcf97/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/add6f089-f0d3-4db4-a294-3b1995cfcf97/enhanced_modern.pdf","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.600Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","generationRunId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/add6f089-f0d3-4db4-a294-3b1995cfcf97/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.601Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","generationRunId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/add6f089-f0d3-4db4-a294-3b1995cfcf97/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/add6f089-f0d3-4db4-a294-3b1995cfcf97/enhanced_modern.pdf","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.602Z","level":"info","message":"pdf_generation_attempt","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","generationRunId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/add6f089-f0d3-4db4-a294-3b1995cfcf97/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/add6f089-f0d3-4db4-a294-3b1995cfcf97/enhanced_professional.pdf","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.602Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","generationRunId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/add6f089-f0d3-4db4-a294-3b1995cfcf97/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.603Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","generationRunId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/add6f089-f0d3-4db4-a294-3b1995cfcf97/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/add6f089-f0d3-4db4-a294-3b1995cfcf97/enhanced_professional.pdf","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.604Z","level":"info","message":"pdf_generation_attempt","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","generationRunId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/add6f089-f0d3-4db4-a294-3b1995cfcf97/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/add6f089-f0d3-4db4-a294-3b1995cfcf97/cover_letter_cover_modern.pdf","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.605Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","generationRunId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/add6f089-f0d3-4db4-a294-3b1995cfcf97/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.605Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","generationRunId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/add6f089-f0d3-4db4-a294-3b1995cfcf97/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/add6f089-f0d3-4db4-a294-3b1995cfcf97/cover_letter_cover_modern.pdf","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.606Z","level":"info","message":"pdf_generation_attempt","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","generationRunId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/add6f089-f0d3-4db4-a294-3b1995cfcf97/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/add6f089-f0d3-4db4-a294-3b1995cfcf97/cover_letter_cover_professional.pdf","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.607Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","generationRunId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/add6f089-f0d3-4db4-a294-3b1995cfcf97/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.609Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","generationRunId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/add6f089-f0d3-4db4-a294-3b1995cfcf97/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/add6f089-f0d3-4db4-a294-3b1995cfcf97/cover_letter_cover_professional.pdf","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.612Z","level":"info","message":"llm_call_metrics","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.613Z","level":"info","message":"generation_completed","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","generationRunId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","enhancedScore":80,"outputs":5,"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.615Z","level":"info","message":"placeholder_record_deleted","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","jobId":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","placeholderIdentifier":"add6f089-f0d3-4db4-a294-3b1995cfcf97","template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe6d9bf6-0b04-4fc7-ad70-e2a26c519395","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.616Z","level":"info","message":"http_request_completed","requestId":"add6f089-f0d3-4db4-a294-3b1995cfcf97","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":69,"contentLength":"59498","template":"unknown","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"add6f089-f0d3-4db4-a294-3b1995cfcf97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.618Z","level":"info","message":"http_request_received","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","method":"POST","path":"/api/process-cv","template":"unknown","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.620Z","level":"info","message":"process_cv_started","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","manualJobDescriptionProvided":true,"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.621Z","level":"info","message":"template_selection","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:05.622Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:05.627Z","level":"info","message":"initial_upload_completed","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","bucket":"test-bucket","key":"cv/candidate/15b91ede-5f36-4a91-b101-c47ca2f25349/incoming/original.pdf","template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.628Z","level":"info","message":"resume_text_extracted","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","characters":57,"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.628Z","level":"info","message":"resume_classified","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.628Z","level":"info","message":"raw_upload_relocated","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","bucket":"test-bucket","fromKey":"cv/candidate/15b91ede-5f36-4a91-b101-c47ca2f25349/incoming/original.pdf","toKey":"cv/professional_summary/15b91ede-5f36-4a91-b101-c47ca2f25349/original.pdf","template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.629Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","bucket":"test-bucket","key":"cv/professional_summary/15b91ede-5f36-4a91-b101-c47ca2f25349/original.pdf","template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.629Z","level":"info","message":"dynamo_initial_record_written","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","bucket":"test-bucket","key":"cv/professional_summary/15b91ede-5f36-4a91-b101-c47ca2f25349/original.pdf","template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.629Z","level":"info","message":"upload_metadata_written","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","bucket":"test-bucket","key":"cv/professional_summary/15b91ede-5f36-4a91-b101-c47ca2f25349/logs/log.json","template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.630Z","level":"info","message":"job_description_supplied_manually","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","characters":174,"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.630Z","level":"info","message":"job_description_analyzed","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","jobTitle":"","jobSkills":5,"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.631Z","level":"info","message":"resume_skills_analyzed","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.632Z","level":"info","message":"llm_call_metrics","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.632Z","level":"info","message":"process_cv_scoring_completed","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.637Z","level":"info","message":"llm_call_metrics","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.638Z","level":"info","message":"generation_section_rewrite_completed","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","generationRunId":"15b91ede-5f36-4a91-b101-c47ca2f25349","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.638Z","level":"info","message":"llm_call_metrics","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.639Z","level":"info","message":"llm_call_metrics","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.641Z","level":"info","message":"generation_resume_verified","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","generationRunId":"15b91ede-5f36-4a91-b101-c47ca2f25349","template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:05.651Z","level":"error","message":"ai_response_missing_json","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","generationRunId":"15b91ede-5f36-4a91-b101-c47ca2f25349","template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20283:26)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:05.657Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","generationRunId":"15b91ede-5f36-4a91-b101-c47ca2f25349","attempt":1,"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20288:11)
      at server.js:26559:28

  console.error
    {"timestamp":"2025-11-30T16:01:05.662Z","level":"error","message":"ai_response_missing_json","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","generationRunId":"15b91ede-5f36-4a91-b101-c47ca2f25349","template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20283:26)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:05.668Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","generationRunId":"15b91ede-5f36-4a91-b101-c47ca2f25349","attempt":2,"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20288:11)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:05.675Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","generationRunId":"15b91ede-5f36-4a91-b101-c47ca2f25349","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:05.681Z","level":"info","message":"generation_cover_letters_completed","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","generationRunId":"15b91ede-5f36-4a91-b101-c47ca2f25349","variants":2,"fallbackApplied":true,"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.682Z","level":"info","message":"pdf_generation_attempt","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","generationRunId":"15b91ede-5f36-4a91-b101-c47ca2f25349","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/15b91ede-5f36-4a91-b101-c47ca2f25349/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/15b91ede-5f36-4a91-b101-c47ca2f25349/enhanced_modern.pdf","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.682Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","generationRunId":"15b91ede-5f36-4a91-b101-c47ca2f25349","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/15b91ede-5f36-4a91-b101-c47ca2f25349/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.683Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","generationRunId":"15b91ede-5f36-4a91-b101-c47ca2f25349","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/15b91ede-5f36-4a91-b101-c47ca2f25349/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/15b91ede-5f36-4a91-b101-c47ca2f25349/enhanced_modern.pdf","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.684Z","level":"info","message":"pdf_generation_attempt","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","generationRunId":"15b91ede-5f36-4a91-b101-c47ca2f25349","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/15b91ede-5f36-4a91-b101-c47ca2f25349/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/15b91ede-5f36-4a91-b101-c47ca2f25349/enhanced_professional.pdf","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.685Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","generationRunId":"15b91ede-5f36-4a91-b101-c47ca2f25349","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/15b91ede-5f36-4a91-b101-c47ca2f25349/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.685Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","generationRunId":"15b91ede-5f36-4a91-b101-c47ca2f25349","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/15b91ede-5f36-4a91-b101-c47ca2f25349/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/15b91ede-5f36-4a91-b101-c47ca2f25349/enhanced_professional.pdf","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.686Z","level":"info","message":"pdf_generation_attempt","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","generationRunId":"15b91ede-5f36-4a91-b101-c47ca2f25349","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/15b91ede-5f36-4a91-b101-c47ca2f25349/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/15b91ede-5f36-4a91-b101-c47ca2f25349/cover_letter_cover_modern.pdf","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.687Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","generationRunId":"15b91ede-5f36-4a91-b101-c47ca2f25349","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/15b91ede-5f36-4a91-b101-c47ca2f25349/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.687Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","generationRunId":"15b91ede-5f36-4a91-b101-c47ca2f25349","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/15b91ede-5f36-4a91-b101-c47ca2f25349/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/15b91ede-5f36-4a91-b101-c47ca2f25349/cover_letter_cover_modern.pdf","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.688Z","level":"info","message":"pdf_generation_attempt","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","generationRunId":"15b91ede-5f36-4a91-b101-c47ca2f25349","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/15b91ede-5f36-4a91-b101-c47ca2f25349/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/15b91ede-5f36-4a91-b101-c47ca2f25349/cover_letter_cover_professional.pdf","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.689Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","generationRunId":"15b91ede-5f36-4a91-b101-c47ca2f25349","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/15b91ede-5f36-4a91-b101-c47ca2f25349/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.690Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","generationRunId":"15b91ede-5f36-4a91-b101-c47ca2f25349","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/15b91ede-5f36-4a91-b101-c47ca2f25349/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/15b91ede-5f36-4a91-b101-c47ca2f25349/cover_letter_cover_professional.pdf","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.694Z","level":"info","message":"llm_call_metrics","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.695Z","level":"info","message":"generation_completed","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","generationRunId":"15b91ede-5f36-4a91-b101-c47ca2f25349","enhancedScore":80,"outputs":5,"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.697Z","level":"info","message":"placeholder_record_deleted","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","jobId":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","placeholderIdentifier":"15b91ede-5f36-4a91-b101-c47ca2f25349","template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e52c494-6f7d-4c07-8260-6abdf33dd8c4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.698Z","level":"info","message":"http_request_completed","requestId":"15b91ede-5f36-4a91-b101-c47ca2f25349","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":80,"contentLength":"59498","template":"unknown","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15b91ede-5f36-4a91-b101-c47ca2f25349","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.703Z","level":"info","message":"http_request_received","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","method":"POST","path":"/api/process-cv","template":"unknown","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.705Z","level":"info","message":"process_cv_started","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","manualJobDescriptionProvided":true,"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.706Z","level":"info","message":"template_selection","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:05.706Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:05.712Z","level":"info","message":"initial_upload_completed","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","bucket":"test-bucket","key":"cv/candidate/09067cb3-d0ad-4ac8-b858-90cc731eea91/incoming/original.pdf","template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.712Z","level":"info","message":"resume_text_extracted","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","characters":57,"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.713Z","level":"info","message":"resume_classified","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.713Z","level":"info","message":"raw_upload_relocated","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","bucket":"test-bucket","fromKey":"cv/candidate/09067cb3-d0ad-4ac8-b858-90cc731eea91/incoming/original.pdf","toKey":"cv/professional_summary/09067cb3-d0ad-4ac8-b858-90cc731eea91/original.pdf","template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.714Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","bucket":"test-bucket","key":"cv/professional_summary/09067cb3-d0ad-4ac8-b858-90cc731eea91/original.pdf","template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.714Z","level":"info","message":"dynamo_initial_record_written","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","bucket":"test-bucket","key":"cv/professional_summary/09067cb3-d0ad-4ac8-b858-90cc731eea91/original.pdf","template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.714Z","level":"info","message":"upload_metadata_written","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","bucket":"test-bucket","key":"cv/professional_summary/09067cb3-d0ad-4ac8-b858-90cc731eea91/logs/log.json","template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.715Z","level":"info","message":"job_description_supplied_manually","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","characters":174,"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.715Z","level":"info","message":"job_description_analyzed","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","jobTitle":"","jobSkills":5,"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.716Z","level":"info","message":"resume_skills_analyzed","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.716Z","level":"info","message":"llm_call_metrics","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.717Z","level":"info","message":"process_cv_scoring_completed","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:05.719Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","template":"unknown","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:8366:20)
      at generateEnhancedDocumentsResponse (server.js:20001:26)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:05.725Z","level":"info","message":"llm_call_metrics","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.726Z","level":"info","message":"llm_call_metrics","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.726Z","level":"info","message":"generation_section_rewrite_completed","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","generationRunId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.727Z","level":"info","message":"llm_call_metrics","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.728Z","level":"info","message":"llm_call_metrics","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:05.734Z","level":"error","message":"ai_response_missing_json","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","generationRunId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20283:26)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:05.740Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","generationRunId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","attempt":1,"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20288:11)
      at server.js:26559:28

  console.error
    {"timestamp":"2025-11-30T16:01:05.745Z","level":"error","message":"ai_response_missing_json","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","generationRunId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20283:26)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:05.751Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","generationRunId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","attempt":2,"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20288:11)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:05.760Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","generationRunId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:05.765Z","level":"info","message":"generation_cover_letters_completed","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","generationRunId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","variants":2,"fallbackApplied":true,"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.767Z","level":"info","message":"pdf_generation_attempt","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","generationRunId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/09067cb3-d0ad-4ac8-b858-90cc731eea91/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/09067cb3-d0ad-4ac8-b858-90cc731eea91/enhanced_modern.pdf","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.767Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","generationRunId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/09067cb3-d0ad-4ac8-b858-90cc731eea91/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.768Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","generationRunId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/09067cb3-d0ad-4ac8-b858-90cc731eea91/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/09067cb3-d0ad-4ac8-b858-90cc731eea91/enhanced_modern.pdf","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.769Z","level":"info","message":"pdf_generation_attempt","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","generationRunId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/09067cb3-d0ad-4ac8-b858-90cc731eea91/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/09067cb3-d0ad-4ac8-b858-90cc731eea91/enhanced_professional.pdf","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.770Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","generationRunId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/09067cb3-d0ad-4ac8-b858-90cc731eea91/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.771Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","generationRunId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/09067cb3-d0ad-4ac8-b858-90cc731eea91/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/09067cb3-d0ad-4ac8-b858-90cc731eea91/enhanced_professional.pdf","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.771Z","level":"info","message":"pdf_generation_attempt","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","generationRunId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/09067cb3-d0ad-4ac8-b858-90cc731eea91/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/09067cb3-d0ad-4ac8-b858-90cc731eea91/cover_letter_cover_modern.pdf","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.772Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","generationRunId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/09067cb3-d0ad-4ac8-b858-90cc731eea91/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.773Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","generationRunId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/09067cb3-d0ad-4ac8-b858-90cc731eea91/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/09067cb3-d0ad-4ac8-b858-90cc731eea91/cover_letter_cover_modern.pdf","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.773Z","level":"info","message":"pdf_generation_attempt","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","generationRunId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/09067cb3-d0ad-4ac8-b858-90cc731eea91/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/09067cb3-d0ad-4ac8-b858-90cc731eea91/cover_letter_cover_professional.pdf","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.774Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","generationRunId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/09067cb3-d0ad-4ac8-b858-90cc731eea91/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.775Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","generationRunId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/09067cb3-d0ad-4ac8-b858-90cc731eea91/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/09067cb3-d0ad-4ac8-b858-90cc731eea91/cover_letter_cover_professional.pdf","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.778Z","level":"info","message":"llm_call_metrics","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.780Z","level":"info","message":"generation_completed","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","generationRunId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","enhancedScore":80,"outputs":5,"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.782Z","level":"info","message":"placeholder_record_deleted","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","jobId":"9b4d29cf-2446-437e-9630-6b2d61219d37","placeholderIdentifier":"09067cb3-d0ad-4ac8-b858-90cc731eea91","template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b4d29cf-2446-437e-9630-6b2d61219d37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.784Z","level":"info","message":"http_request_completed","requestId":"09067cb3-d0ad-4ac8-b858-90cc731eea91","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":81,"contentLength":"58301","template":"unknown","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"09067cb3-d0ad-4ac8-b858-90cc731eea91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.792Z","level":"info","message":"http_request_received","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","method":"POST","path":"/api/process-cv","template":"unknown","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.795Z","level":"info","message":"process_cv_started","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","manualJobDescriptionProvided":true,"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.795Z","level":"info","message":"template_selection","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:05.796Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:05.801Z","level":"info","message":"initial_upload_completed","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","bucket":"test-bucket","key":"cv/candidate/d59bd495-4f47-4474-b933-37946723a7a8/incoming/original.pdf","template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.802Z","level":"info","message":"resume_text_extracted","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","characters":57,"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.802Z","level":"info","message":"resume_classified","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.803Z","level":"info","message":"raw_upload_relocated","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","bucket":"test-bucket","fromKey":"cv/candidate/d59bd495-4f47-4474-b933-37946723a7a8/incoming/original.pdf","toKey":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/original.pdf","template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.803Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","bucket":"test-bucket","key":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/original.pdf","template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.803Z","level":"info","message":"dynamo_initial_record_written","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","bucket":"test-bucket","key":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/original.pdf","template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.804Z","level":"info","message":"upload_metadata_written","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","bucket":"test-bucket","key":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/logs/log.json","template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.804Z","level":"info","message":"job_description_supplied_manually","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","characters":174,"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.804Z","level":"info","message":"job_description_analyzed","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","jobTitle":"","jobSkills":5,"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.806Z","level":"info","message":"resume_skills_analyzed","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.807Z","level":"info","message":"llm_call_metrics","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.807Z","level":"info","message":"process_cv_scoring_completed","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:05.810Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"d59bd495-4f47-4474-b933-37946723a7a8","template":"unknown","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:8366:20)
      at generateEnhancedDocumentsResponse (server.js:20001:26)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:05.816Z","level":"info","message":"llm_call_metrics","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.816Z","level":"info","message":"llm_call_metrics","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.816Z","level":"info","message":"generation_section_rewrite_completed","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","generationRunId":"d59bd495-4f47-4474-b933-37946723a7a8","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.817Z","level":"info","message":"llm_call_metrics","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.817Z","level":"info","message":"llm_call_metrics","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:05.822Z","level":"error","message":"ai_response_missing_json","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","generationRunId":"d59bd495-4f47-4474-b933-37946723a7a8","template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20283:26)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:05.827Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","generationRunId":"d59bd495-4f47-4474-b933-37946723a7a8","attempt":1,"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20288:11)
      at server.js:26559:28

  console.error
    {"timestamp":"2025-11-30T16:01:05.832Z","level":"error","message":"ai_response_missing_json","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","generationRunId":"d59bd495-4f47-4474-b933-37946723a7a8","template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20283:26)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:05.838Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","generationRunId":"d59bd495-4f47-4474-b933-37946723a7a8","attempt":2,"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20288:11)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:05.844Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","generationRunId":"d59bd495-4f47-4474-b933-37946723a7a8","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:05.851Z","level":"info","message":"generation_cover_letters_completed","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","generationRunId":"d59bd495-4f47-4474-b933-37946723a7a8","variants":2,"fallbackApplied":true,"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.852Z","level":"info","message":"pdf_generation_attempt","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","generationRunId":"d59bd495-4f47-4474-b933-37946723a7a8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/enhanced_modern.pdf","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.853Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","generationRunId":"d59bd495-4f47-4474-b933-37946723a7a8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.853Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","generationRunId":"d59bd495-4f47-4474-b933-37946723a7a8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/enhanced_modern.pdf","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.854Z","level":"info","message":"pdf_generation_attempt","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","generationRunId":"d59bd495-4f47-4474-b933-37946723a7a8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/enhanced_professional.pdf","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.855Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","generationRunId":"d59bd495-4f47-4474-b933-37946723a7a8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.855Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","generationRunId":"d59bd495-4f47-4474-b933-37946723a7a8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/enhanced_professional.pdf","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.856Z","level":"info","message":"pdf_generation_attempt","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","generationRunId":"d59bd495-4f47-4474-b933-37946723a7a8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/cover_letter_cover_modern.pdf","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.857Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","generationRunId":"d59bd495-4f47-4474-b933-37946723a7a8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.857Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","generationRunId":"d59bd495-4f47-4474-b933-37946723a7a8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/cover_letter_cover_modern.pdf","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.858Z","level":"info","message":"pdf_generation_attempt","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","generationRunId":"d59bd495-4f47-4474-b933-37946723a7a8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/cover_letter_cover_professional.pdf","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.859Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","generationRunId":"d59bd495-4f47-4474-b933-37946723a7a8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.860Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","generationRunId":"d59bd495-4f47-4474-b933-37946723a7a8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/cover_letter_cover_professional.pdf","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:05.861Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","generationRunId":"d59bd495-4f47-4474-b933-37946723a7a8","artifactType":"original_upload","storageKey":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/original.pdf","template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","metadata":{"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"original_upload"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:21689:9)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:05.867Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","generationRunId":"d59bd495-4f47-4474-b933-37946723a7a8","artifactType":"version1","storageKey":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/modern/version1.pdf","template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","metadata":{"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"version1"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:21689:9)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:05.872Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","generationRunId":"d59bd495-4f47-4474-b933-37946723a7a8","artifactType":"version2","storageKey":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/professional/version2.pdf","template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","metadata":{"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"version2"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:21689:9)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:05.878Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","generationRunId":"d59bd495-4f47-4474-b933-37946723a7a8","artifactType":"cover_letter1","storageKey":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/cover_modern/cover_letter1.pdf","template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","metadata":{"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"cover_letter1"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:21689:9)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:05.883Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","generationRunId":"d59bd495-4f47-4474-b933-37946723a7a8","artifactType":"cover_letter2","storageKey":"cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/cover_professional/cover_letter2.pdf","template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","metadata":{"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"cover_letter2"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:21689:9)
      at server.js:26559:28

  console.error
    {"timestamp":"2025-11-30T16:01:05.889Z","level":"error","message":"generation_urls_missing","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","generationRunId":"d59bd495-4f47-4474-b933-37946723a7a8","requestedUrlCount":0,"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:21790:7)
      at server.js:26559:28

  console.error
    {"timestamp":"2025-11-30T16:01:05.895Z","level":"error","message":"api_error_response","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","status":500,"error":{"code":"AI_RESPONSE_INVALID","message":"Unable to prepare download links for the generated documents.","details":{"logs":{"s3":{"bucket":"test-bucket","key":"logs/errors/2025-11-30/2025-11-30t16-01-05-895z-d59bd495-4f47-4474-b933-37946723a7a8.json","status":"pending"}}},"requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e"},"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:3851:3)
      at sendError (server.js:21794:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:05.904Z","level":"warn","message":"generation_artifacts_cleaned_up","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","jobId":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","generationRunId":"d59bd495-4f47-4474-b933-37946723a7a8","reason":"no_valid_urls","deletedKeys":["cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/modern/version1.pdf","cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/professional/version2.pdf","cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/cover_modern/cover_letter1.pdf","cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/cover_professional/cover_letter2.pdf","cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/artifacts/original.json","cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/artifacts/version1.json","cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/artifacts/version2.json","cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/artifacts/cover-letter1.json","cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/artifacts/cover-letter2.json","cv/professional_summary/d59bd495-4f47-4474-b933-37946723a7a8/artifacts/changelog.json"],"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3c2a6f6-ed82-48e9-a3a7-dbd3c1ab140e","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:19717:9)
      at generateEnhancedDocumentsResponse (server.js:22322:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:05.909Z","level":"info","message":"http_request_completed","requestId":"d59bd495-4f47-4474-b933-37946723a7a8","method":"POST","path":"/api/process-cv","statusCode":500,"durationMs":117,"contentLength":"396","template":"unknown","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d59bd495-4f47-4474-b933-37946723a7a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.913Z","level":"info","message":"http_request_received","requestId":"3b04a99d-4325-4f2d-82a9-1579d6dd996f","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"3b04a99d-4325-4f2d-82a9-1579d6dd996f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b04a99d-4325-4f2d-82a9-1579d6dd996f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.926Z","level":"info","message":"http_request_completed","requestId":"3b04a99d-4325-4f2d-82a9-1579d6dd996f","method":"POST","path":"/api/refresh-download-link","statusCode":200,"durationMs":13,"contentLength":"232","template":"unknown","session":"3b04a99d-4325-4f2d-82a9-1579d6dd996f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b04a99d-4325-4f2d-82a9-1579d6dd996f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.930Z","level":"info","message":"http_request_received","requestId":"879db35c-98bb-42d5-80b2-2697d7b07561","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"879db35c-98bb-42d5-80b2-2697d7b07561","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"879db35c-98bb-42d5-80b2-2697d7b07561","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:05.933Z","level":"warn","message":"api_error_response","requestId":"879db35c-98bb-42d5-80b2-2697d7b07561","jobId":"job-123","status":404,"error":{"code":"DOWNLOAD_NOT_FOUND","message":"The requested download link is no longer available.","details":{},"requestId":"879db35c-98bb-42d5-80b2-2697d7b07561","jobId":"job-123"},"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:3851:3)
      at sendError (server.js:24427:12)

  console.log
    {"timestamp":"2025-11-30T16:01:05.941Z","level":"info","message":"http_request_completed","requestId":"879db35c-98bb-42d5-80b2-2697d7b07561","method":"POST","path":"/api/refresh-download-link","statusCode":404,"durationMs":11,"contentLength":"201","template":"unknown","session":"879db35c-98bb-42d5-80b2-2697d7b07561","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"879db35c-98bb-42d5-80b2-2697d7b07561","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.945Z","level":"info","message":"http_request_received","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","method":"POST","path":"/api/process-cv","template":"unknown","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.948Z","level":"info","message":"process_cv_started","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","manualJobDescriptionProvided":true,"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.949Z","level":"info","message":"template_selection","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:05.950Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:05.957Z","level":"info","message":"initial_upload_completed","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","bucket":"test-bucket","key":"cv/candidate/21b8f52e-7c14-462c-b626-c0f1adb9ccad/incoming/original.pdf","template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.958Z","level":"info","message":"resume_text_extracted","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","characters":57,"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.958Z","level":"info","message":"resume_classified","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.959Z","level":"info","message":"raw_upload_relocated","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","bucket":"test-bucket","fromKey":"cv/candidate/21b8f52e-7c14-462c-b626-c0f1adb9ccad/incoming/original.pdf","toKey":"cv/professional_summary/21b8f52e-7c14-462c-b626-c0f1adb9ccad/original.pdf","template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.959Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","bucket":"test-bucket","key":"cv/professional_summary/21b8f52e-7c14-462c-b626-c0f1adb9ccad/original.pdf","template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.960Z","level":"info","message":"dynamo_initial_record_written","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","bucket":"test-bucket","key":"cv/professional_summary/21b8f52e-7c14-462c-b626-c0f1adb9ccad/original.pdf","template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.960Z","level":"info","message":"upload_metadata_written","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","bucket":"test-bucket","key":"cv/professional_summary/21b8f52e-7c14-462c-b626-c0f1adb9ccad/logs/log.json","template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.961Z","level":"info","message":"job_description_supplied_manually","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","characters":174,"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.961Z","level":"info","message":"job_description_analyzed","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","jobTitle":"","jobSkills":5,"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.962Z","level":"info","message":"resume_skills_analyzed","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.962Z","level":"info","message":"llm_call_metrics","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.963Z","level":"info","message":"process_cv_scoring_completed","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:05.966Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","template":"unknown","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:8366:20)
      at generateEnhancedDocumentsResponse (server.js:20001:26)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:05.973Z","level":"info","message":"llm_call_metrics","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.974Z","level":"info","message":"llm_call_metrics","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.975Z","level":"info","message":"generation_section_rewrite_completed","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","generationRunId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.975Z","level":"info","message":"llm_call_metrics","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:05.976Z","level":"info","message":"llm_call_metrics","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:05.985Z","level":"error","message":"ai_response_missing_json","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","generationRunId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20283:26)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:05.992Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","generationRunId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","attempt":1,"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20288:11)
      at server.js:26559:28

  console.error
    {"timestamp":"2025-11-30T16:01:05.998Z","level":"error","message":"ai_response_missing_json","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","generationRunId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20283:26)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:06.011Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","generationRunId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","attempt":2,"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20288:11)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:06.019Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","generationRunId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.025Z","level":"info","message":"generation_cover_letters_completed","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","generationRunId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","variants":2,"fallbackApplied":true,"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.026Z","level":"info","message":"pdf_generation_attempt","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","generationRunId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/21b8f52e-7c14-462c-b626-c0f1adb9ccad/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/21b8f52e-7c14-462c-b626-c0f1adb9ccad/enhanced_modern.pdf","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.028Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","generationRunId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/21b8f52e-7c14-462c-b626-c0f1adb9ccad/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.029Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","generationRunId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/21b8f52e-7c14-462c-b626-c0f1adb9ccad/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/21b8f52e-7c14-462c-b626-c0f1adb9ccad/enhanced_modern.pdf","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.030Z","level":"info","message":"pdf_generation_attempt","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","generationRunId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/21b8f52e-7c14-462c-b626-c0f1adb9ccad/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/21b8f52e-7c14-462c-b626-c0f1adb9ccad/enhanced_professional.pdf","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.031Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","generationRunId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/21b8f52e-7c14-462c-b626-c0f1adb9ccad/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.031Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","generationRunId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/21b8f52e-7c14-462c-b626-c0f1adb9ccad/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/21b8f52e-7c14-462c-b626-c0f1adb9ccad/enhanced_professional.pdf","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.032Z","level":"info","message":"pdf_generation_attempt","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","generationRunId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/21b8f52e-7c14-462c-b626-c0f1adb9ccad/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/21b8f52e-7c14-462c-b626-c0f1adb9ccad/cover_letter_cover_modern.pdf","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.033Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","generationRunId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/21b8f52e-7c14-462c-b626-c0f1adb9ccad/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.033Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","generationRunId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/21b8f52e-7c14-462c-b626-c0f1adb9ccad/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/21b8f52e-7c14-462c-b626-c0f1adb9ccad/cover_letter_cover_modern.pdf","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.034Z","level":"info","message":"pdf_generation_attempt","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","generationRunId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/21b8f52e-7c14-462c-b626-c0f1adb9ccad/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/21b8f52e-7c14-462c-b626-c0f1adb9ccad/cover_letter_cover_professional.pdf","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.035Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","generationRunId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/21b8f52e-7c14-462c-b626-c0f1adb9ccad/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.036Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","generationRunId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/21b8f52e-7c14-462c-b626-c0f1adb9ccad/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/21b8f52e-7c14-462c-b626-c0f1adb9ccad/cover_letter_cover_professional.pdf","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.038Z","level":"info","message":"llm_call_metrics","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.040Z","level":"info","message":"generation_completed","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","generationRunId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","enhancedScore":80,"outputs":5,"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.041Z","level":"info","message":"placeholder_record_deleted","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","jobId":"980937a1-6086-4db6-920b-1150e6916063","placeholderIdentifier":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"980937a1-6086-4db6-920b-1150e6916063","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.042Z","level":"info","message":"http_request_completed","requestId":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":97,"contentLength":"58301","template":"unknown","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21b8f52e-7c14-462c-b626-c0f1adb9ccad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.045Z","level":"info","message":"http_request_received","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","method":"POST","path":"/api/process-cv","template":"unknown","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.047Z","level":"info","message":"process_cv_started","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","manualJobDescriptionProvided":true,"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.048Z","level":"info","message":"template_selection","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:06.049Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:06.054Z","level":"info","message":"initial_upload_completed","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","bucket":"test-bucket","key":"cv/candidate/b1980ac1-cdd3-4a69-b0f2-4146796a444c/incoming/original.pdf","template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.054Z","level":"info","message":"resume_text_extracted","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","characters":57,"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.055Z","level":"info","message":"resume_classified","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.055Z","level":"info","message":"raw_upload_relocated","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","bucket":"test-bucket","fromKey":"cv/candidate/b1980ac1-cdd3-4a69-b0f2-4146796a444c/incoming/original.pdf","toKey":"cv/professional_summary/b1980ac1-cdd3-4a69-b0f2-4146796a444c/original.pdf","template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.056Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","bucket":"test-bucket","key":"cv/professional_summary/b1980ac1-cdd3-4a69-b0f2-4146796a444c/original.pdf","template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.056Z","level":"info","message":"dynamo_initial_record_written","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","bucket":"test-bucket","key":"cv/professional_summary/b1980ac1-cdd3-4a69-b0f2-4146796a444c/original.pdf","template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.056Z","level":"info","message":"upload_metadata_written","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","bucket":"test-bucket","key":"cv/professional_summary/b1980ac1-cdd3-4a69-b0f2-4146796a444c/logs/log.json","template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.057Z","level":"info","message":"job_description_supplied_manually","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","characters":174,"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.057Z","level":"info","message":"job_description_analyzed","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","jobTitle":"","jobSkills":5,"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.057Z","level":"info","message":"resume_skills_analyzed","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.058Z","level":"info","message":"llm_call_metrics","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.059Z","level":"info","message":"process_cv_scoring_completed","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.061Z","level":"info","message":"llm_call_metrics","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.062Z","level":"info","message":"generation_section_rewrite_completed","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","generationRunId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.062Z","level":"info","message":"llm_call_metrics","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.065Z","level":"info","message":"generation_resume_verified","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","generationRunId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:06.071Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","generationRunId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:06.080Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","generationRunId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.085Z","level":"info","message":"generation_cover_letters_completed","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","generationRunId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","variants":2,"fallbackApplied":true,"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.086Z","level":"info","message":"pdf_generation_attempt","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","generationRunId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b1980ac1-cdd3-4a69-b0f2-4146796a444c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b1980ac1-cdd3-4a69-b0f2-4146796a444c/enhanced_modern.pdf","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.087Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","generationRunId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b1980ac1-cdd3-4a69-b0f2-4146796a444c/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.087Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","generationRunId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b1980ac1-cdd3-4a69-b0f2-4146796a444c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b1980ac1-cdd3-4a69-b0f2-4146796a444c/enhanced_modern.pdf","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.088Z","level":"info","message":"pdf_generation_attempt","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","generationRunId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b1980ac1-cdd3-4a69-b0f2-4146796a444c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b1980ac1-cdd3-4a69-b0f2-4146796a444c/enhanced_professional.pdf","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.089Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","generationRunId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b1980ac1-cdd3-4a69-b0f2-4146796a444c/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.089Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","generationRunId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b1980ac1-cdd3-4a69-b0f2-4146796a444c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b1980ac1-cdd3-4a69-b0f2-4146796a444c/enhanced_professional.pdf","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.090Z","level":"info","message":"pdf_generation_attempt","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","generationRunId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b1980ac1-cdd3-4a69-b0f2-4146796a444c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b1980ac1-cdd3-4a69-b0f2-4146796a444c/cover_letter_cover_modern.pdf","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.091Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","generationRunId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b1980ac1-cdd3-4a69-b0f2-4146796a444c/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.092Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","generationRunId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b1980ac1-cdd3-4a69-b0f2-4146796a444c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b1980ac1-cdd3-4a69-b0f2-4146796a444c/cover_letter_cover_modern.pdf","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.093Z","level":"info","message":"pdf_generation_attempt","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","generationRunId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b1980ac1-cdd3-4a69-b0f2-4146796a444c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b1980ac1-cdd3-4a69-b0f2-4146796a444c/cover_letter_cover_professional.pdf","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.094Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","generationRunId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b1980ac1-cdd3-4a69-b0f2-4146796a444c/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.094Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","generationRunId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b1980ac1-cdd3-4a69-b0f2-4146796a444c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b1980ac1-cdd3-4a69-b0f2-4146796a444c/cover_letter_cover_professional.pdf","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.098Z","level":"info","message":"llm_call_metrics","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.099Z","level":"info","message":"generation_completed","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","generationRunId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","enhancedScore":80,"outputs":5,"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.101Z","level":"info","message":"placeholder_record_deleted","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","jobId":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","placeholderIdentifier":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7ac2a0ec-47d7-4f10-8da2-25577a719b32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.102Z","level":"info","message":"http_request_completed","requestId":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":57,"contentLength":"58133","template":"unknown","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1980ac1-cdd3-4a69-b0f2-4146796a444c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.105Z","level":"info","message":"http_request_received","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","method":"POST","path":"/api/process-cv","template":"unknown","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.106Z","level":"info","message":"process_cv_started","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","manualJobDescriptionProvided":true,"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.107Z","level":"info","message":"template_selection","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","template1":"classic","template2":"ats","coverTemplate1":"cover_classic","coverTemplate2":"cover_ats","availableCvTemplates":["classic","ats","modern","professional","2025"],"availableCoverTemplates":["cover_classic","cover_ats","cover_modern","cover_professional","cover_2025"],"template":"classic","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:06.108Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:06.113Z","level":"info","message":"initial_upload_completed","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","bucket":"test-bucket","key":"cv/candidate/0f3f6c7d-b6de-4415-ad40-13aed405802e/incoming/original.pdf","template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.113Z","level":"info","message":"resume_text_extracted","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","characters":57,"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.114Z","level":"info","message":"resume_classified","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.118Z","level":"info","message":"raw_upload_relocated","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","bucket":"test-bucket","fromKey":"cv/candidate/0f3f6c7d-b6de-4415-ad40-13aed405802e/incoming/original.pdf","toKey":"cv/professional_summary/0f3f6c7d-b6de-4415-ad40-13aed405802e/original.pdf","template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.118Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","bucket":"test-bucket","key":"cv/professional_summary/0f3f6c7d-b6de-4415-ad40-13aed405802e/original.pdf","template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.119Z","level":"info","message":"dynamo_initial_record_written","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","bucket":"test-bucket","key":"cv/professional_summary/0f3f6c7d-b6de-4415-ad40-13aed405802e/original.pdf","template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.119Z","level":"info","message":"upload_metadata_written","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","bucket":"test-bucket","key":"cv/professional_summary/0f3f6c7d-b6de-4415-ad40-13aed405802e/logs/log.json","template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.120Z","level":"info","message":"job_description_supplied_manually","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","characters":174,"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.121Z","level":"info","message":"job_description_analyzed","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","jobTitle":"","jobSkills":5,"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.121Z","level":"info","message":"resume_skills_analyzed","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.122Z","level":"info","message":"llm_call_metrics","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.123Z","level":"info","message":"process_cv_scoring_completed","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.128Z","level":"info","message":"llm_call_metrics","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.128Z","level":"info","message":"generation_section_rewrite_completed","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","generationRunId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.129Z","level":"info","message":"llm_call_metrics","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.132Z","level":"info","message":"generation_resume_verified","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","generationRunId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:06.137Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","generationRunId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:06.143Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","generationRunId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.148Z","level":"info","message":"generation_cover_letters_completed","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","generationRunId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","variants":2,"fallbackApplied":true,"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.149Z","level":"info","message":"pdf_generation_attempt","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","generationRunId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0f3f6c7d-b6de-4415-ad40-13aed405802e/","sessionId":"[REDACTED]","template":"classic","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/0f3f6c7d-b6de-4415-ad40-13aed405802e/enhanced_classic.pdf","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.150Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","generationRunId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0f3f6c7d-b6de-4415-ad40-13aed405802e/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.151Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","generationRunId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0f3f6c7d-b6de-4415-ad40-13aed405802e/","sessionId":"[REDACTED]","template":"classic","attempt":1,"bytes":3,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/0f3f6c7d-b6de-4415-ad40-13aed405802e/enhanced_classic.pdf","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.151Z","level":"info","message":"pdf_generation_attempt","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","generationRunId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0f3f6c7d-b6de-4415-ad40-13aed405802e/","sessionId":"[REDACTED]","template":"ats","attempt":1,"totalAttempts":1,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/0f3f6c7d-b6de-4415-ad40-13aed405802e/enhanced_ats.pdf","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.152Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","generationRunId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0f3f6c7d-b6de-4415-ad40-13aed405802e/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":["mode","atsMode"],"session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.153Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","generationRunId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0f3f6c7d-b6de-4415-ad40-13aed405802e/","sessionId":"[REDACTED]","template":"ats","attempt":1,"bytes":3,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/0f3f6c7d-b6de-4415-ad40-13aed405802e/enhanced_ats.pdf","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.153Z","level":"info","message":"pdf_generation_attempt","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","generationRunId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0f3f6c7d-b6de-4415-ad40-13aed405802e/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/0f3f6c7d-b6de-4415-ad40-13aed405802e/cover_letter_cover_classic.pdf","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.154Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","generationRunId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0f3f6c7d-b6de-4415-ad40-13aed405802e/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.155Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","generationRunId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0f3f6c7d-b6de-4415-ad40-13aed405802e/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/0f3f6c7d-b6de-4415-ad40-13aed405802e/cover_letter_cover_classic.pdf","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.156Z","level":"info","message":"pdf_generation_attempt","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","generationRunId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0f3f6c7d-b6de-4415-ad40-13aed405802e/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/0f3f6c7d-b6de-4415-ad40-13aed405802e/cover_letter_cover_ats.pdf","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.156Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","generationRunId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0f3f6c7d-b6de-4415-ad40-13aed405802e/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.157Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","generationRunId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0f3f6c7d-b6de-4415-ad40-13aed405802e/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/0f3f6c7d-b6de-4415-ad40-13aed405802e/cover_letter_cover_ats.pdf","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.160Z","level":"info","message":"llm_call_metrics","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.161Z","level":"info","message":"generation_completed","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","generationRunId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","enhancedScore":80,"outputs":5,"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.162Z","level":"info","message":"placeholder_record_deleted","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","jobId":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","placeholderIdentifier":"0f3f6c7d-b6de-4415-ad40-13aed405802e","template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f28a5eb-9886-4338-a1e4-c2e883a093d2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.163Z","level":"info","message":"http_request_completed","requestId":"0f3f6c7d-b6de-4415-ad40-13aed405802e","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":58,"contentLength":"57992","template":"unknown","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0f3f6c7d-b6de-4415-ad40-13aed405802e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.166Z","level":"info","message":"http_request_received","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","method":"POST","path":"/api/process-cv","template":"unknown","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.168Z","level":"info","message":"process_cv_started","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","manualJobDescriptionProvided":true,"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.168Z","level":"info","message":"template_selection","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:06.169Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:06.174Z","level":"info","message":"initial_upload_completed","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","bucket":"test-bucket","key":"cv/candidate/2e96341d-e468-4c97-92bc-dfc2c7db79c8/incoming/original.pdf","template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.175Z","level":"info","message":"resume_text_extracted","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","characters":57,"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.175Z","level":"info","message":"resume_classified","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.176Z","level":"info","message":"raw_upload_relocated","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","bucket":"test-bucket","fromKey":"cv/candidate/2e96341d-e468-4c97-92bc-dfc2c7db79c8/incoming/original.pdf","toKey":"cv/professional_summary/2e96341d-e468-4c97-92bc-dfc2c7db79c8/original.pdf","template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.177Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","bucket":"test-bucket","key":"cv/professional_summary/2e96341d-e468-4c97-92bc-dfc2c7db79c8/original.pdf","template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.177Z","level":"info","message":"dynamo_initial_record_written","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","bucket":"test-bucket","key":"cv/professional_summary/2e96341d-e468-4c97-92bc-dfc2c7db79c8/original.pdf","template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.178Z","level":"info","message":"upload_metadata_written","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","bucket":"test-bucket","key":"cv/professional_summary/2e96341d-e468-4c97-92bc-dfc2c7db79c8/logs/log.json","template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.179Z","level":"info","message":"job_description_supplied_manually","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","characters":174,"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.179Z","level":"info","message":"job_description_analyzed","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","jobTitle":"","jobSkills":5,"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.180Z","level":"info","message":"resume_skills_analyzed","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.181Z","level":"info","message":"llm_call_metrics","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.182Z","level":"info","message":"process_cv_scoring_completed","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.187Z","level":"info","message":"llm_call_metrics","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"02d97c4de2dc6045a8d84c10e35b0b09be1fff3da32b47fa5d4c293317deef58","addedSkillCount":0,"template":"resume_rewrite","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.188Z","level":"info","message":"generation_section_rewrite_completed","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","generationRunId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.188Z","level":"info","message":"llm_call_metrics","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"3cb5bda2be537250e5bef0d91034f772d9c2c805c99b7e04ba145ecb904d5893","skillCount":5,"template":"project_summary","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.192Z","level":"info","message":"generation_resume_verified","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","generationRunId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:06.198Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","generationRunId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:06.204Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","generationRunId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.209Z","level":"info","message":"generation_cover_letters_completed","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","generationRunId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","variants":2,"fallbackApplied":true,"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.210Z","level":"info","message":"pdf_generation_attempt","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","generationRunId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2e96341d-e468-4c97-92bc-dfc2c7db79c8/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/2e96341d-e468-4c97-92bc-dfc2c7db79c8/enhanced_modern.pdf","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.211Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","generationRunId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2e96341d-e468-4c97-92bc-dfc2c7db79c8/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.212Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","generationRunId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2e96341d-e468-4c97-92bc-dfc2c7db79c8/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/2e96341d-e468-4c97-92bc-dfc2c7db79c8/enhanced_modern.pdf","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.212Z","level":"info","message":"pdf_generation_attempt","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","generationRunId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2e96341d-e468-4c97-92bc-dfc2c7db79c8/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/2e96341d-e468-4c97-92bc-dfc2c7db79c8/enhanced_professional.pdf","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.213Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","generationRunId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2e96341d-e468-4c97-92bc-dfc2c7db79c8/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.214Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","generationRunId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2e96341d-e468-4c97-92bc-dfc2c7db79c8/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/2e96341d-e468-4c97-92bc-dfc2c7db79c8/enhanced_professional.pdf","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.214Z","level":"info","message":"pdf_generation_attempt","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","generationRunId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2e96341d-e468-4c97-92bc-dfc2c7db79c8/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/2e96341d-e468-4c97-92bc-dfc2c7db79c8/cover_letter_cover_modern.pdf","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.215Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","generationRunId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2e96341d-e468-4c97-92bc-dfc2c7db79c8/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.216Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","generationRunId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2e96341d-e468-4c97-92bc-dfc2c7db79c8/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/2e96341d-e468-4c97-92bc-dfc2c7db79c8/cover_letter_cover_modern.pdf","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.217Z","level":"info","message":"pdf_generation_attempt","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","generationRunId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2e96341d-e468-4c97-92bc-dfc2c7db79c8/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/2e96341d-e468-4c97-92bc-dfc2c7db79c8/cover_letter_cover_professional.pdf","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.217Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","generationRunId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2e96341d-e468-4c97-92bc-dfc2c7db79c8/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.218Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","generationRunId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2e96341d-e468-4c97-92bc-dfc2c7db79c8/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/2e96341d-e468-4c97-92bc-dfc2c7db79c8/cover_letter_cover_professional.pdf","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.221Z","level":"info","message":"llm_call_metrics","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.222Z","level":"info","message":"generation_completed","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","generationRunId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","enhancedScore":80,"outputs":5,"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.225Z","level":"info","message":"placeholder_record_deleted","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","jobId":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","placeholderIdentifier":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c9bb2ea9-a385-44a3-a3b4-417e94d474d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.226Z","level":"info","message":"http_request_completed","requestId":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":60,"contentLength":"59354","template":"unknown","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e96341d-e468-4c97-92bc-dfc2c7db79c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.230Z","level":"info","message":"http_request_received","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","method":"POST","path":"/api/process-cv","template":"unknown","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.231Z","level":"info","message":"process_cv_started","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","manualJobDescriptionProvided":true,"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.232Z","level":"info","message":"template_selection","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:06.233Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:06.239Z","level":"info","message":"initial_upload_completed","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","bucket":"test-bucket","key":"cv/candidate/1f050fb1-bb3c-416e-bc14-ed51d8076687/incoming/original.pdf","template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.240Z","level":"info","message":"resume_text_extracted","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","characters":57,"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.240Z","level":"info","message":"resume_classified","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.241Z","level":"info","message":"raw_upload_relocated","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","bucket":"test-bucket","fromKey":"cv/candidate/1f050fb1-bb3c-416e-bc14-ed51d8076687/incoming/original.pdf","toKey":"cv/professional_summary/1f050fb1-bb3c-416e-bc14-ed51d8076687/original.pdf","template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.241Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","bucket":"test-bucket","key":"cv/professional_summary/1f050fb1-bb3c-416e-bc14-ed51d8076687/original.pdf","template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.242Z","level":"info","message":"dynamo_initial_record_written","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","bucket":"test-bucket","key":"cv/professional_summary/1f050fb1-bb3c-416e-bc14-ed51d8076687/original.pdf","template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.242Z","level":"info","message":"upload_metadata_written","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","bucket":"test-bucket","key":"cv/professional_summary/1f050fb1-bb3c-416e-bc14-ed51d8076687/logs/log.json","template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.243Z","level":"info","message":"job_description_supplied_manually","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","characters":174,"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.244Z","level":"info","message":"job_description_analyzed","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","jobTitle":"","jobSkills":5,"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.244Z","level":"info","message":"resume_skills_analyzed","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.245Z","level":"info","message":"llm_call_metrics","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.246Z","level":"info","message":"process_cv_scoring_completed","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.249Z","level":"info","message":"llm_call_metrics","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.250Z","level":"info","message":"generation_section_rewrite_completed","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","generationRunId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.251Z","level":"info","message":"llm_call_metrics","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"9f21e6c3bcbaef44e0e62da79c13bb8790b57affdb114dc9f59fc273f882540c","skillCount":5,"template":"project_summary","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.254Z","level":"info","message":"generation_resume_verified","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","generationRunId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:06.258Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","generationRunId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:06.264Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","generationRunId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.270Z","level":"info","message":"generation_cover_letters_completed","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","generationRunId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","variants":2,"fallbackApplied":true,"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.271Z","level":"info","message":"pdf_generation_attempt","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","generationRunId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1f050fb1-bb3c-416e-bc14-ed51d8076687/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/1f050fb1-bb3c-416e-bc14-ed51d8076687/enhanced_modern.pdf","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.271Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","generationRunId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1f050fb1-bb3c-416e-bc14-ed51d8076687/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.272Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","generationRunId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1f050fb1-bb3c-416e-bc14-ed51d8076687/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/1f050fb1-bb3c-416e-bc14-ed51d8076687/enhanced_modern.pdf","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.273Z","level":"info","message":"pdf_generation_attempt","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","generationRunId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1f050fb1-bb3c-416e-bc14-ed51d8076687/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/1f050fb1-bb3c-416e-bc14-ed51d8076687/enhanced_professional.pdf","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.273Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","generationRunId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1f050fb1-bb3c-416e-bc14-ed51d8076687/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.274Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","generationRunId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1f050fb1-bb3c-416e-bc14-ed51d8076687/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/1f050fb1-bb3c-416e-bc14-ed51d8076687/enhanced_professional.pdf","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.275Z","level":"info","message":"pdf_generation_attempt","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","generationRunId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1f050fb1-bb3c-416e-bc14-ed51d8076687/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/1f050fb1-bb3c-416e-bc14-ed51d8076687/cover_letter_cover_modern.pdf","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.276Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","generationRunId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1f050fb1-bb3c-416e-bc14-ed51d8076687/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.277Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","generationRunId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1f050fb1-bb3c-416e-bc14-ed51d8076687/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/1f050fb1-bb3c-416e-bc14-ed51d8076687/cover_letter_cover_modern.pdf","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.278Z","level":"info","message":"pdf_generation_attempt","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","generationRunId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1f050fb1-bb3c-416e-bc14-ed51d8076687/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/1f050fb1-bb3c-416e-bc14-ed51d8076687/cover_letter_cover_professional.pdf","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.278Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","generationRunId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1f050fb1-bb3c-416e-bc14-ed51d8076687/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.279Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","generationRunId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1f050fb1-bb3c-416e-bc14-ed51d8076687/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/1f050fb1-bb3c-416e-bc14-ed51d8076687/cover_letter_cover_professional.pdf","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.282Z","level":"info","message":"llm_call_metrics","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.282Z","level":"info","message":"generation_completed","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","generationRunId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","enhancedScore":80,"outputs":5,"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.284Z","level":"info","message":"placeholder_record_deleted","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","jobId":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","placeholderIdentifier":"1f050fb1-bb3c-416e-bc14-ed51d8076687","template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"56bf139b-a274-4c4b-b09c-bf8efb2cb551","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.285Z","level":"info","message":"http_request_completed","requestId":"1f050fb1-bb3c-416e-bc14-ed51d8076687","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":55,"contentLength":"57968","template":"unknown","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1f050fb1-bb3c-416e-bc14-ed51d8076687","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.288Z","level":"info","message":"http_request_received","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","method":"POST","path":"/api/process-cv","template":"unknown","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.290Z","level":"info","message":"process_cv_started","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","manualJobDescriptionProvided":true,"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.290Z","level":"info","message":"template_selection","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:06.291Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:06.296Z","level":"info","message":"initial_upload_completed","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","bucket":"test-bucket","key":"cv/candidate/2fcd463c-2828-4622-930f-d0fe203cec5e/incoming/original.pdf","template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.297Z","level":"info","message":"resume_text_extracted","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","characters":57,"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.297Z","level":"info","message":"resume_classified","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.298Z","level":"info","message":"raw_upload_relocated","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","bucket":"test-bucket","fromKey":"cv/candidate/2fcd463c-2828-4622-930f-d0fe203cec5e/incoming/original.pdf","toKey":"cv/professional_summary/2fcd463c-2828-4622-930f-d0fe203cec5e/original.pdf","template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.298Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","bucket":"test-bucket","key":"cv/professional_summary/2fcd463c-2828-4622-930f-d0fe203cec5e/original.pdf","template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.299Z","level":"info","message":"dynamo_initial_record_written","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","bucket":"test-bucket","key":"cv/professional_summary/2fcd463c-2828-4622-930f-d0fe203cec5e/original.pdf","template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.301Z","level":"info","message":"upload_metadata_written","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","bucket":"test-bucket","key":"cv/professional_summary/2fcd463c-2828-4622-930f-d0fe203cec5e/logs/log.json","template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.301Z","level":"info","message":"job_description_supplied_manually","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","characters":174,"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.302Z","level":"info","message":"job_description_analyzed","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","jobTitle":"","jobSkills":5,"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.303Z","level":"info","message":"resume_skills_analyzed","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.304Z","level":"info","message":"llm_call_metrics","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.305Z","level":"info","message":"process_cv_scoring_completed","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.308Z","level":"info","message":"llm_call_metrics","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.308Z","level":"info","message":"generation_section_rewrite_completed","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","generationRunId":"2fcd463c-2828-4622-930f-d0fe203cec5e","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.309Z","level":"info","message":"llm_call_metrics","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"78ddb280a2cb83c23c85b1035eed8b3d5fbcd26529ae4529d14b4e3768cf61d3","skillCount":5,"template":"project_summary","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.312Z","level":"info","message":"generation_resume_verified","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","generationRunId":"2fcd463c-2828-4622-930f-d0fe203cec5e","template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:06.316Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","generationRunId":"2fcd463c-2828-4622-930f-d0fe203cec5e","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:06.323Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","generationRunId":"2fcd463c-2828-4622-930f-d0fe203cec5e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.329Z","level":"info","message":"generation_cover_letters_completed","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","generationRunId":"2fcd463c-2828-4622-930f-d0fe203cec5e","variants":2,"fallbackApplied":true,"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.330Z","level":"info","message":"pdf_generation_attempt","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","generationRunId":"2fcd463c-2828-4622-930f-d0fe203cec5e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2fcd463c-2828-4622-930f-d0fe203cec5e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/2fcd463c-2828-4622-930f-d0fe203cec5e/enhanced_modern.pdf","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.331Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","generationRunId":"2fcd463c-2828-4622-930f-d0fe203cec5e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2fcd463c-2828-4622-930f-d0fe203cec5e/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.332Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","generationRunId":"2fcd463c-2828-4622-930f-d0fe203cec5e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2fcd463c-2828-4622-930f-d0fe203cec5e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/2fcd463c-2828-4622-930f-d0fe203cec5e/enhanced_modern.pdf","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.332Z","level":"info","message":"pdf_generation_attempt","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","generationRunId":"2fcd463c-2828-4622-930f-d0fe203cec5e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2fcd463c-2828-4622-930f-d0fe203cec5e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/2fcd463c-2828-4622-930f-d0fe203cec5e/enhanced_professional.pdf","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.333Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","generationRunId":"2fcd463c-2828-4622-930f-d0fe203cec5e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2fcd463c-2828-4622-930f-d0fe203cec5e/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.334Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","generationRunId":"2fcd463c-2828-4622-930f-d0fe203cec5e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2fcd463c-2828-4622-930f-d0fe203cec5e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/2fcd463c-2828-4622-930f-d0fe203cec5e/enhanced_professional.pdf","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.334Z","level":"info","message":"pdf_generation_attempt","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","generationRunId":"2fcd463c-2828-4622-930f-d0fe203cec5e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2fcd463c-2828-4622-930f-d0fe203cec5e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/2fcd463c-2828-4622-930f-d0fe203cec5e/cover_letter_cover_modern.pdf","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.335Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","generationRunId":"2fcd463c-2828-4622-930f-d0fe203cec5e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2fcd463c-2828-4622-930f-d0fe203cec5e/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.335Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","generationRunId":"2fcd463c-2828-4622-930f-d0fe203cec5e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2fcd463c-2828-4622-930f-d0fe203cec5e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/2fcd463c-2828-4622-930f-d0fe203cec5e/cover_letter_cover_modern.pdf","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.336Z","level":"info","message":"pdf_generation_attempt","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","generationRunId":"2fcd463c-2828-4622-930f-d0fe203cec5e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2fcd463c-2828-4622-930f-d0fe203cec5e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/2fcd463c-2828-4622-930f-d0fe203cec5e/cover_letter_cover_professional.pdf","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.337Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","generationRunId":"2fcd463c-2828-4622-930f-d0fe203cec5e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2fcd463c-2828-4622-930f-d0fe203cec5e/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.338Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","generationRunId":"2fcd463c-2828-4622-930f-d0fe203cec5e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2fcd463c-2828-4622-930f-d0fe203cec5e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/2fcd463c-2828-4622-930f-d0fe203cec5e/cover_letter_cover_professional.pdf","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.340Z","level":"info","message":"llm_call_metrics","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.341Z","level":"info","message":"generation_completed","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","generationRunId":"2fcd463c-2828-4622-930f-d0fe203cec5e","enhancedScore":80,"outputs":5,"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.342Z","level":"info","message":"placeholder_record_deleted","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","jobId":"35254c57-c7b0-4a60-9bc6-5c650491e47f","placeholderIdentifier":"2fcd463c-2828-4622-930f-d0fe203cec5e","template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35254c57-c7b0-4a60-9bc6-5c650491e47f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.343Z","level":"info","message":"http_request_completed","requestId":"2fcd463c-2828-4622-930f-d0fe203cec5e","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":55,"contentLength":"59302","template":"unknown","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2fcd463c-2828-4622-930f-d0fe203cec5e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.345Z","level":"info","message":"http_request_received","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","method":"POST","path":"/api/process-cv","template":"unknown","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.347Z","level":"info","message":"process_cv_started","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","manualJobDescriptionProvided":true,"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.348Z","level":"info","message":"template_selection","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:06.348Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:06.354Z","level":"info","message":"initial_upload_completed","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","bucket":"test-bucket","key":"cv/candidate/f524026a-36fe-412e-870b-10d50c4b1774/incoming/original.pdf","template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.354Z","level":"info","message":"resume_text_extracted","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","characters":57,"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.355Z","level":"info","message":"resume_classified","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.355Z","level":"info","message":"raw_upload_relocated","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","bucket":"test-bucket","fromKey":"cv/candidate/f524026a-36fe-412e-870b-10d50c4b1774/incoming/original.pdf","toKey":"cv/professional_summary/f524026a-36fe-412e-870b-10d50c4b1774/original.pdf","template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.356Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","bucket":"test-bucket","key":"cv/professional_summary/f524026a-36fe-412e-870b-10d50c4b1774/original.pdf","template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.356Z","level":"info","message":"dynamo_initial_record_written","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","bucket":"test-bucket","key":"cv/professional_summary/f524026a-36fe-412e-870b-10d50c4b1774/original.pdf","template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.356Z","level":"info","message":"upload_metadata_written","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","bucket":"test-bucket","key":"cv/professional_summary/f524026a-36fe-412e-870b-10d50c4b1774/logs/log.json","template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.357Z","level":"info","message":"job_description_supplied_manually","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","characters":174,"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.358Z","level":"info","message":"job_description_analyzed","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","jobTitle":"","jobSkills":5,"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.359Z","level":"info","message":"resume_skills_analyzed","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.359Z","level":"info","message":"llm_call_metrics","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.360Z","level":"info","message":"process_cv_scoring_completed","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.364Z","level":"info","message":"llm_call_metrics","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.364Z","level":"info","message":"generation_section_rewrite_completed","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","generationRunId":"f524026a-36fe-412e-870b-10d50c4b1774","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.365Z","level":"info","message":"llm_call_metrics","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"968eb1ed4b9ef5f26cd87ba7e60f108acaf8c335efc2ef153d4aaa0b022ea8c8","skillCount":5,"template":"project_summary","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.369Z","level":"info","message":"generation_resume_verified","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","generationRunId":"f524026a-36fe-412e-870b-10d50c4b1774","template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:06.373Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","generationRunId":"f524026a-36fe-412e-870b-10d50c4b1774","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:06.380Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","generationRunId":"f524026a-36fe-412e-870b-10d50c4b1774","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.386Z","level":"info","message":"generation_cover_letters_completed","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","generationRunId":"f524026a-36fe-412e-870b-10d50c4b1774","variants":2,"fallbackApplied":true,"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.386Z","level":"info","message":"pdf_generation_attempt","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","generationRunId":"f524026a-36fe-412e-870b-10d50c4b1774","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f524026a-36fe-412e-870b-10d50c4b1774/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f524026a-36fe-412e-870b-10d50c4b1774/enhanced_modern.pdf","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.387Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","generationRunId":"f524026a-36fe-412e-870b-10d50c4b1774","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f524026a-36fe-412e-870b-10d50c4b1774/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.388Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","generationRunId":"f524026a-36fe-412e-870b-10d50c4b1774","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f524026a-36fe-412e-870b-10d50c4b1774/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f524026a-36fe-412e-870b-10d50c4b1774/enhanced_modern.pdf","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.389Z","level":"info","message":"pdf_generation_attempt","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","generationRunId":"f524026a-36fe-412e-870b-10d50c4b1774","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f524026a-36fe-412e-870b-10d50c4b1774/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f524026a-36fe-412e-870b-10d50c4b1774/enhanced_professional.pdf","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.390Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","generationRunId":"f524026a-36fe-412e-870b-10d50c4b1774","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f524026a-36fe-412e-870b-10d50c4b1774/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.391Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","generationRunId":"f524026a-36fe-412e-870b-10d50c4b1774","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f524026a-36fe-412e-870b-10d50c4b1774/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f524026a-36fe-412e-870b-10d50c4b1774/enhanced_professional.pdf","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.391Z","level":"info","message":"pdf_generation_attempt","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","generationRunId":"f524026a-36fe-412e-870b-10d50c4b1774","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f524026a-36fe-412e-870b-10d50c4b1774/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f524026a-36fe-412e-870b-10d50c4b1774/cover_letter_cover_modern.pdf","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.392Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","generationRunId":"f524026a-36fe-412e-870b-10d50c4b1774","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f524026a-36fe-412e-870b-10d50c4b1774/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.393Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","generationRunId":"f524026a-36fe-412e-870b-10d50c4b1774","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f524026a-36fe-412e-870b-10d50c4b1774/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f524026a-36fe-412e-870b-10d50c4b1774/cover_letter_cover_modern.pdf","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.393Z","level":"info","message":"pdf_generation_attempt","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","generationRunId":"f524026a-36fe-412e-870b-10d50c4b1774","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f524026a-36fe-412e-870b-10d50c4b1774/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f524026a-36fe-412e-870b-10d50c4b1774/cover_letter_cover_professional.pdf","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.394Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","generationRunId":"f524026a-36fe-412e-870b-10d50c4b1774","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f524026a-36fe-412e-870b-10d50c4b1774/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.395Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","generationRunId":"f524026a-36fe-412e-870b-10d50c4b1774","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f524026a-36fe-412e-870b-10d50c4b1774/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f524026a-36fe-412e-870b-10d50c4b1774/cover_letter_cover_professional.pdf","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.398Z","level":"info","message":"llm_call_metrics","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.399Z","level":"info","message":"generation_completed","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","generationRunId":"f524026a-36fe-412e-870b-10d50c4b1774","enhancedScore":80,"outputs":5,"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.400Z","level":"info","message":"placeholder_record_deleted","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","jobId":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","placeholderIdentifier":"f524026a-36fe-412e-870b-10d50c4b1774","template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"077e7bb3-c8c2-46b2-bee1-9b413b75a75b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.401Z","level":"info","message":"http_request_completed","requestId":"f524026a-36fe-412e-870b-10d50c4b1774","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":56,"contentLength":"59835","template":"unknown","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f524026a-36fe-412e-870b-10d50c4b1774","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.404Z","level":"info","message":"http_request_received","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","method":"POST","path":"/api/process-cv","template":"unknown","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.406Z","level":"info","message":"process_cv_started","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","manualJobDescriptionProvided":true,"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.406Z","level":"info","message":"template_selection","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:06.407Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:06.412Z","level":"info","message":"initial_upload_completed","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","bucket":"test-bucket","key":"cv/candidate/967c654c-3b9a-4f0f-9b13-7c1d5ee6f580/incoming/original.pdf","template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.413Z","level":"info","message":"resume_text_extracted","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","characters":57,"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.413Z","level":"info","message":"resume_classified","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.413Z","level":"info","message":"raw_upload_relocated","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","bucket":"test-bucket","fromKey":"cv/candidate/967c654c-3b9a-4f0f-9b13-7c1d5ee6f580/incoming/original.pdf","toKey":"cv/professional_summary/967c654c-3b9a-4f0f-9b13-7c1d5ee6f580/original.pdf","template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.414Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","bucket":"test-bucket","key":"cv/professional_summary/967c654c-3b9a-4f0f-9b13-7c1d5ee6f580/original.pdf","template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.414Z","level":"info","message":"dynamo_initial_record_written","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","bucket":"test-bucket","key":"cv/professional_summary/967c654c-3b9a-4f0f-9b13-7c1d5ee6f580/original.pdf","template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.415Z","level":"info","message":"upload_metadata_written","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","bucket":"test-bucket","key":"cv/professional_summary/967c654c-3b9a-4f0f-9b13-7c1d5ee6f580/logs/log.json","template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.415Z","level":"info","message":"job_description_supplied_manually","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","characters":174,"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.418Z","level":"info","message":"job_description_analyzed","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","jobTitle":"","jobSkills":5,"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.419Z","level":"info","message":"resume_skills_analyzed","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.420Z","level":"info","message":"llm_call_metrics","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.421Z","level":"info","message":"process_cv_scoring_completed","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.425Z","level":"info","message":"llm_call_metrics","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.425Z","level":"info","message":"generation_section_rewrite_completed","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","generationRunId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.426Z","level":"info","message":"llm_call_metrics","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.434Z","level":"info","message":"generation_resume_verified","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","generationRunId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:06.437Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","generationRunId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:06.444Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","generationRunId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.449Z","level":"info","message":"generation_cover_letters_completed","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","generationRunId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","variants":2,"fallbackApplied":true,"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.450Z","level":"info","message":"pdf_generation_attempt","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","generationRunId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/967c654c-3b9a-4f0f-9b13-7c1d5ee6f580/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/967c654c-3b9a-4f0f-9b13-7c1d5ee6f580/enhanced_modern.pdf","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.451Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","generationRunId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/967c654c-3b9a-4f0f-9b13-7c1d5ee6f580/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.452Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","generationRunId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/967c654c-3b9a-4f0f-9b13-7c1d5ee6f580/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/967c654c-3b9a-4f0f-9b13-7c1d5ee6f580/enhanced_modern.pdf","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.453Z","level":"info","message":"pdf_generation_attempt","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","generationRunId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/967c654c-3b9a-4f0f-9b13-7c1d5ee6f580/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/967c654c-3b9a-4f0f-9b13-7c1d5ee6f580/enhanced_professional.pdf","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.454Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","generationRunId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/967c654c-3b9a-4f0f-9b13-7c1d5ee6f580/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.456Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","generationRunId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/967c654c-3b9a-4f0f-9b13-7c1d5ee6f580/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/967c654c-3b9a-4f0f-9b13-7c1d5ee6f580/enhanced_professional.pdf","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.456Z","level":"info","message":"pdf_generation_attempt","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","generationRunId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/967c654c-3b9a-4f0f-9b13-7c1d5ee6f580/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/967c654c-3b9a-4f0f-9b13-7c1d5ee6f580/cover_letter_cover_modern.pdf","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.457Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","generationRunId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/967c654c-3b9a-4f0f-9b13-7c1d5ee6f580/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.458Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","generationRunId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/967c654c-3b9a-4f0f-9b13-7c1d5ee6f580/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/967c654c-3b9a-4f0f-9b13-7c1d5ee6f580/cover_letter_cover_modern.pdf","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.459Z","level":"info","message":"pdf_generation_attempt","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","generationRunId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/967c654c-3b9a-4f0f-9b13-7c1d5ee6f580/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/967c654c-3b9a-4f0f-9b13-7c1d5ee6f580/cover_letter_cover_professional.pdf","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.460Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","generationRunId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/967c654c-3b9a-4f0f-9b13-7c1d5ee6f580/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.462Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","generationRunId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/967c654c-3b9a-4f0f-9b13-7c1d5ee6f580/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/967c654c-3b9a-4f0f-9b13-7c1d5ee6f580/cover_letter_cover_professional.pdf","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.467Z","level":"info","message":"llm_call_metrics","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.468Z","level":"info","message":"generation_completed","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","generationRunId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","enhancedScore":80,"outputs":5,"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.469Z","level":"info","message":"placeholder_record_deleted","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","jobId":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","placeholderIdentifier":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c25fd5f8-863d-4181-bcb2-9b3d1b2f331c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.470Z","level":"info","message":"http_request_completed","requestId":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":66,"contentLength":"58133","template":"unknown","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"967c654c-3b9a-4f0f-9b13-7c1d5ee6f580","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.473Z","level":"info","message":"http_request_received","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","method":"POST","path":"/api/process-cv","template":"unknown","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.476Z","level":"info","message":"process_cv_started","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","manualJobDescriptionProvided":true,"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.479Z","level":"info","message":"template_selection","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:06.480Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:06.485Z","level":"info","message":"initial_upload_completed","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","bucket":"test-bucket","key":"cv/candidate/6a4ab292-930d-493f-9dff-c6983eabbab5/incoming/original.pdf","template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.486Z","level":"info","message":"resume_text_extracted","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","characters":57,"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.487Z","level":"info","message":"resume_classified","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.487Z","level":"info","message":"raw_upload_relocated","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","bucket":"test-bucket","fromKey":"cv/candidate/6a4ab292-930d-493f-9dff-c6983eabbab5/incoming/original.pdf","toKey":"cv/professional_summary/6a4ab292-930d-493f-9dff-c6983eabbab5/original.pdf","template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.487Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","bucket":"test-bucket","key":"cv/professional_summary/6a4ab292-930d-493f-9dff-c6983eabbab5/original.pdf","template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.488Z","level":"info","message":"dynamo_initial_record_written","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","bucket":"test-bucket","key":"cv/professional_summary/6a4ab292-930d-493f-9dff-c6983eabbab5/original.pdf","template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.488Z","level":"info","message":"upload_metadata_written","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","bucket":"test-bucket","key":"cv/professional_summary/6a4ab292-930d-493f-9dff-c6983eabbab5/logs/log.json","template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.489Z","level":"info","message":"job_description_supplied_manually","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","characters":174,"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.490Z","level":"info","message":"job_description_analyzed","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","jobTitle":"","jobSkills":5,"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.490Z","level":"info","message":"resume_skills_analyzed","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.491Z","level":"info","message":"llm_call_metrics","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.492Z","level":"info","message":"process_cv_scoring_completed","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.496Z","level":"info","message":"llm_call_metrics","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"9a6d2d1a9ce924151b6a4db0f761d85550b399b0c2990ac5bc2d2ac9b952bd0d","addedSkillCount":0,"template":"resume_rewrite","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.497Z","level":"info","message":"generation_section_rewrite_completed","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","generationRunId":"6a4ab292-930d-493f-9dff-c6983eabbab5","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.499Z","level":"info","message":"generation_resume_verified","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","generationRunId":"6a4ab292-930d-493f-9dff-c6983eabbab5","template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.505Z","level":"info","message":"generation_cover_letters_normalized","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","generationRunId":"6a4ab292-930d-493f-9dff-c6983eabbab5","variants":["cover_letter1","cover_letter2"],"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:06.506Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","generationRunId":"6a4ab292-930d-493f-9dff-c6983eabbab5","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.513Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","generationRunId":"6a4ab292-930d-493f-9dff-c6983eabbab5","variants":["cover_letter1"],"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.514Z","level":"info","message":"generation_cover_letters_completed","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","generationRunId":"6a4ab292-930d-493f-9dff-c6983eabbab5","variants":2,"fallbackApplied":true,"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.515Z","level":"info","message":"pdf_generation_attempt","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","generationRunId":"6a4ab292-930d-493f-9dff-c6983eabbab5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6a4ab292-930d-493f-9dff-c6983eabbab5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6a4ab292-930d-493f-9dff-c6983eabbab5/enhanced_modern.pdf","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.516Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","generationRunId":"6a4ab292-930d-493f-9dff-c6983eabbab5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6a4ab292-930d-493f-9dff-c6983eabbab5/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.516Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","generationRunId":"6a4ab292-930d-493f-9dff-c6983eabbab5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6a4ab292-930d-493f-9dff-c6983eabbab5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6a4ab292-930d-493f-9dff-c6983eabbab5/enhanced_modern.pdf","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.517Z","level":"info","message":"pdf_generation_attempt","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","generationRunId":"6a4ab292-930d-493f-9dff-c6983eabbab5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6a4ab292-930d-493f-9dff-c6983eabbab5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6a4ab292-930d-493f-9dff-c6983eabbab5/enhanced_professional.pdf","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.518Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","generationRunId":"6a4ab292-930d-493f-9dff-c6983eabbab5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6a4ab292-930d-493f-9dff-c6983eabbab5/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.518Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","generationRunId":"6a4ab292-930d-493f-9dff-c6983eabbab5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6a4ab292-930d-493f-9dff-c6983eabbab5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6a4ab292-930d-493f-9dff-c6983eabbab5/enhanced_professional.pdf","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.519Z","level":"info","message":"pdf_generation_attempt","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","generationRunId":"6a4ab292-930d-493f-9dff-c6983eabbab5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6a4ab292-930d-493f-9dff-c6983eabbab5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6a4ab292-930d-493f-9dff-c6983eabbab5/cover_letter_cover_modern.pdf","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.520Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","generationRunId":"6a4ab292-930d-493f-9dff-c6983eabbab5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6a4ab292-930d-493f-9dff-c6983eabbab5/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.520Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","generationRunId":"6a4ab292-930d-493f-9dff-c6983eabbab5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6a4ab292-930d-493f-9dff-c6983eabbab5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6a4ab292-930d-493f-9dff-c6983eabbab5/cover_letter_cover_modern.pdf","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.521Z","level":"info","message":"pdf_generation_attempt","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","generationRunId":"6a4ab292-930d-493f-9dff-c6983eabbab5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6a4ab292-930d-493f-9dff-c6983eabbab5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6a4ab292-930d-493f-9dff-c6983eabbab5/cover_letter_cover_professional.pdf","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.522Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","generationRunId":"6a4ab292-930d-493f-9dff-c6983eabbab5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6a4ab292-930d-493f-9dff-c6983eabbab5/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.522Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","generationRunId":"6a4ab292-930d-493f-9dff-c6983eabbab5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6a4ab292-930d-493f-9dff-c6983eabbab5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6a4ab292-930d-493f-9dff-c6983eabbab5/cover_letter_cover_professional.pdf","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.526Z","level":"info","message":"llm_call_metrics","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.526Z","level":"info","message":"generation_completed","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","generationRunId":"6a4ab292-930d-493f-9dff-c6983eabbab5","enhancedScore":80,"outputs":5,"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.528Z","level":"info","message":"placeholder_record_deleted","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","jobId":"6d341dd8-3560-42c8-94f8-20527abec0c9","placeholderIdentifier":"6a4ab292-930d-493f-9dff-c6983eabbab5","template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d341dd8-3560-42c8-94f8-20527abec0c9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.529Z","level":"info","message":"http_request_completed","requestId":"6a4ab292-930d-493f-9dff-c6983eabbab5","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":56,"contentLength":"46262","template":"unknown","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6a4ab292-930d-493f-9dff-c6983eabbab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.532Z","level":"info","message":"http_request_received","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","method":"POST","path":"/api/process-cv","template":"unknown","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.534Z","level":"info","message":"process_cv_started","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","manualJobDescriptionProvided":true,"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.535Z","level":"info","message":"template_selection","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:06.536Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:06.541Z","level":"info","message":"initial_upload_completed","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","bucket":"test-bucket","key":"cv/candidate/2aeb58f3-a52f-4340-9792-687a4856d556/incoming/original.pdf","template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.542Z","level":"info","message":"resume_text_extracted","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","characters":57,"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.542Z","level":"info","message":"resume_classified","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.543Z","level":"info","message":"raw_upload_relocated","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","bucket":"test-bucket","fromKey":"cv/candidate/2aeb58f3-a52f-4340-9792-687a4856d556/incoming/original.pdf","toKey":"cv/professional_summary/2aeb58f3-a52f-4340-9792-687a4856d556/original.pdf","template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.543Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","bucket":"test-bucket","key":"cv/professional_summary/2aeb58f3-a52f-4340-9792-687a4856d556/original.pdf","template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.543Z","level":"info","message":"dynamo_initial_record_written","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","bucket":"test-bucket","key":"cv/professional_summary/2aeb58f3-a52f-4340-9792-687a4856d556/original.pdf","template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.544Z","level":"info","message":"upload_metadata_written","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","bucket":"test-bucket","key":"cv/professional_summary/2aeb58f3-a52f-4340-9792-687a4856d556/logs/log.json","template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.545Z","level":"info","message":"job_description_supplied_manually","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","characters":174,"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.545Z","level":"info","message":"job_description_analyzed","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","jobTitle":"","jobSkills":5,"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.546Z","level":"info","message":"resume_skills_analyzed","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.547Z","level":"info","message":"llm_call_metrics","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.548Z","level":"info","message":"process_cv_scoring_completed","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:06.550Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","sample":"Here is your revised resume text without JSON formatting.","template":"unknown","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:8366:20)
      at generateEnhancedDocumentsResponse (server.js:20001:26)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.556Z","level":"info","message":"llm_call_metrics","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.556Z","level":"info","message":"llm_call_metrics","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.557Z","level":"info","message":"generation_section_rewrite_completed","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","generationRunId":"2aeb58f3-a52f-4340-9792-687a4856d556","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.557Z","level":"info","message":"llm_call_metrics","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"d230fd9d3c6f4e6f7bb7c385f22b3a147a5c937619c1919bfb6f5e09096df674","skillCount":5,"template":"project_summary","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:06.562Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","generationRunId":"2aeb58f3-a52f-4340-9792-687a4856d556","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:06.569Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","generationRunId":"2aeb58f3-a52f-4340-9792-687a4856d556","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.574Z","level":"info","message":"generation_cover_letters_completed","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","generationRunId":"2aeb58f3-a52f-4340-9792-687a4856d556","variants":2,"fallbackApplied":true,"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.575Z","level":"info","message":"pdf_generation_attempt","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","generationRunId":"2aeb58f3-a52f-4340-9792-687a4856d556","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2aeb58f3-a52f-4340-9792-687a4856d556/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/2aeb58f3-a52f-4340-9792-687a4856d556/enhanced_modern.pdf","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.576Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","generationRunId":"2aeb58f3-a52f-4340-9792-687a4856d556","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2aeb58f3-a52f-4340-9792-687a4856d556/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.577Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","generationRunId":"2aeb58f3-a52f-4340-9792-687a4856d556","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2aeb58f3-a52f-4340-9792-687a4856d556/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/2aeb58f3-a52f-4340-9792-687a4856d556/enhanced_modern.pdf","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.577Z","level":"info","message":"pdf_generation_attempt","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","generationRunId":"2aeb58f3-a52f-4340-9792-687a4856d556","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2aeb58f3-a52f-4340-9792-687a4856d556/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/2aeb58f3-a52f-4340-9792-687a4856d556/enhanced_professional.pdf","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.578Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","generationRunId":"2aeb58f3-a52f-4340-9792-687a4856d556","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2aeb58f3-a52f-4340-9792-687a4856d556/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.579Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","generationRunId":"2aeb58f3-a52f-4340-9792-687a4856d556","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2aeb58f3-a52f-4340-9792-687a4856d556/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/2aeb58f3-a52f-4340-9792-687a4856d556/enhanced_professional.pdf","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.579Z","level":"info","message":"pdf_generation_attempt","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","generationRunId":"2aeb58f3-a52f-4340-9792-687a4856d556","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2aeb58f3-a52f-4340-9792-687a4856d556/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/2aeb58f3-a52f-4340-9792-687a4856d556/cover_letter_cover_modern.pdf","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.580Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","generationRunId":"2aeb58f3-a52f-4340-9792-687a4856d556","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2aeb58f3-a52f-4340-9792-687a4856d556/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.581Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","generationRunId":"2aeb58f3-a52f-4340-9792-687a4856d556","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2aeb58f3-a52f-4340-9792-687a4856d556/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/2aeb58f3-a52f-4340-9792-687a4856d556/cover_letter_cover_modern.pdf","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.581Z","level":"info","message":"pdf_generation_attempt","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","generationRunId":"2aeb58f3-a52f-4340-9792-687a4856d556","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2aeb58f3-a52f-4340-9792-687a4856d556/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/2aeb58f3-a52f-4340-9792-687a4856d556/cover_letter_cover_professional.pdf","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.582Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","generationRunId":"2aeb58f3-a52f-4340-9792-687a4856d556","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2aeb58f3-a52f-4340-9792-687a4856d556/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.583Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","generationRunId":"2aeb58f3-a52f-4340-9792-687a4856d556","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2aeb58f3-a52f-4340-9792-687a4856d556/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/2aeb58f3-a52f-4340-9792-687a4856d556/cover_letter_cover_professional.pdf","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.585Z","level":"info","message":"llm_call_metrics","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.586Z","level":"info","message":"generation_completed","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","generationRunId":"2aeb58f3-a52f-4340-9792-687a4856d556","enhancedScore":80,"outputs":5,"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.587Z","level":"info","message":"placeholder_record_deleted","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","jobId":"b444fe15-c626-47fe-828b-0e26c101ab08","placeholderIdentifier":"2aeb58f3-a52f-4340-9792-687a4856d556","template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b444fe15-c626-47fe-828b-0e26c101ab08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.588Z","level":"info","message":"http_request_completed","requestId":"2aeb58f3-a52f-4340-9792-687a4856d556","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":56,"contentLength":"57871","template":"unknown","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2aeb58f3-a52f-4340-9792-687a4856d556","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.591Z","level":"info","message":"http_request_received","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","method":"POST","path":"/api/process-cv","template":"unknown","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.593Z","level":"info","message":"process_cv_started","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","manualJobDescriptionProvided":true,"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.593Z","level":"info","message":"template_selection","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:06.594Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:06.600Z","level":"info","message":"initial_upload_completed","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","bucket":"test-bucket","key":"cv/candidate/f5e023ec-a942-41d2-9026-914f6743cd81/incoming/original.pdf","template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.600Z","level":"info","message":"resume_text_extracted","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","characters":57,"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.601Z","level":"info","message":"resume_classified","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.601Z","level":"info","message":"raw_upload_relocated","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","bucket":"test-bucket","fromKey":"cv/candidate/f5e023ec-a942-41d2-9026-914f6743cd81/incoming/original.pdf","toKey":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/original.pdf","template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.602Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","bucket":"test-bucket","key":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/original.pdf","template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.602Z","level":"info","message":"dynamo_initial_record_written","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","bucket":"test-bucket","key":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/original.pdf","template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.602Z","level":"info","message":"upload_metadata_written","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","bucket":"test-bucket","key":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/logs/log.json","template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.603Z","level":"info","message":"job_description_supplied_manually","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","characters":174,"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.604Z","level":"info","message":"job_description_analyzed","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","jobTitle":"","jobSkills":5,"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.604Z","level":"info","message":"resume_skills_analyzed","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.605Z","level":"info","message":"llm_call_metrics","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.606Z","level":"info","message":"process_cv_scoring_completed","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.610Z","level":"info","message":"llm_call_metrics","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.610Z","level":"info","message":"generation_section_rewrite_completed","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.611Z","level":"info","message":"llm_call_metrics","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.614Z","level":"info","message":"generation_resume_verified","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:06.617Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:06.625Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.630Z","level":"info","message":"generation_cover_letters_completed","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","variants":2,"fallbackApplied":true,"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.631Z","level":"info","message":"pdf_generation_attempt","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/enhanced_modern.pdf","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.631Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:06.634Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2111:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.640Z","level":"info","message":"pdf_generation_attempt","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/enhanced_professional.pdf","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.640Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:06.641Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2111:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.647Z","level":"info","message":"pdf_generation_attempt","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"classic","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/enhanced_classic.pdf","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.648Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:06.648Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2111:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.654Z","level":"info","message":"pdf_generation_attempt","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"ats","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/enhanced_ats.pdf","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.655Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:06.656Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2111:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.661Z","level":"info","message":"pdf_generation_attempt","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"2025","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/enhanced_2025.pdf","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.662Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:06.662Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2111:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:06.668Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/enhanced_2025.pdf","forcedFallback":true,"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10986:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.678Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/enhanced_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2111:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"2025","requestedTemplateId":"2025","engine":"pdf-lib","bytes":9,"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.679Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/enhanced_2025.pdf","bytes":9,"forcedFallback":true,"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.680Z","level":"info","message":"pdf_generation_attempt","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/enhanced_professional.pdf","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.681Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:06.681Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2111:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.687Z","level":"info","message":"pdf_generation_attempt","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"modern","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/enhanced_modern.pdf","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.687Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:06.688Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2111:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.694Z","level":"info","message":"pdf_generation_attempt","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"2025","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/enhanced_2025.pdf","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.694Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:06.695Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2111:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.701Z","level":"info","message":"pdf_generation_attempt","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"classic","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/enhanced_classic.pdf","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.701Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:06.702Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2111:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.708Z","level":"info","message":"pdf_generation_attempt","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"ats","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/enhanced_ats.pdf","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.708Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:06.709Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2111:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:06.714Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/enhanced_ats.pdf","forcedFallback":true,"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10986:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.721Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/enhanced_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2111:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"ats","requestedTemplateId":"ats","engine":"pdf-lib","bytes":9,"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.721Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/enhanced_ats.pdf","bytes":9,"forcedFallback":true,"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.723Z","level":"info","message":"pdf_generation_attempt","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/cover_letter_cover_modern.pdf","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.723Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:06.724Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2111:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.731Z","level":"info","message":"pdf_generation_attempt","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/cover_letter_cover_professional.pdf","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.732Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:06.733Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2111:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.738Z","level":"info","message":"pdf_generation_attempt","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/cover_letter_cover_classic.pdf","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.739Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:06.740Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2111:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.745Z","level":"info","message":"pdf_generation_attempt","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/cover_letter_cover_ats.pdf","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.746Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:06.747Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2111:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.752Z","level":"info","message":"pdf_generation_attempt","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/cover_letter_cover_2025.pdf","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.753Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:06.754Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2111:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:06.760Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/cover_letter_cover_2025.pdf","forcedFallback":true,"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10986:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.765Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/cover_letter_cover_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2111:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_2025","requestedTemplateId":"cover_2025","engine":"pdf-lib","bytes":9,"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.766Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/cover_letter_cover_2025.pdf","bytes":9,"forcedFallback":true,"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.767Z","level":"info","message":"pdf_generation_attempt","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/cover_letter_cover_professional.pdf","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.768Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:06.768Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2111:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.774Z","level":"info","message":"pdf_generation_attempt","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/cover_letter_cover_modern.pdf","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.774Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:06.775Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2111:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.786Z","level":"info","message":"pdf_generation_attempt","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/cover_letter_cover_2025.pdf","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.787Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:06.787Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2111:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.793Z","level":"info","message":"pdf_generation_attempt","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/cover_letter_cover_classic.pdf","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.794Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:06.794Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2111:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.801Z","level":"info","message":"pdf_generation_attempt","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/cover_letter_cover_ats.pdf","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.801Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:01:06.802Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2111:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:06.808Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/cover_letter_cover_ats.pdf","forcedFallback":true,"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10986:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.813Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/cover_letter_cover_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2111:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_ats","requestedTemplateId":"cover_ats","engine":"pdf-lib","bytes":9,"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.814Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f5e023ec-a942-41d2-9026-914f6743cd81/cover_letter_cover_ats.pdf","bytes":9,"forcedFallback":true,"session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.817Z","level":"info","message":"llm_call_metrics","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.818Z","level":"info","message":"generation_completed","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","generationRunId":"f5e023ec-a942-41d2-9026-914f6743cd81","enhancedScore":80,"outputs":5,"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.820Z","level":"info","message":"placeholder_record_deleted","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","jobId":"9dea36ae-348b-477a-9de7-33c1097fe473","placeholderIdentifier":"f5e023ec-a942-41d2-9026-914f6743cd81","template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9dea36ae-348b-477a-9de7-33c1097fe473","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.821Z","level":"info","message":"http_request_completed","requestId":"f5e023ec-a942-41d2-9026-914f6743cd81","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":230,"contentLength":"60620","template":"unknown","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f5e023ec-a942-41d2-9026-914f6743cd81","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.824Z","level":"info","message":"http_request_received","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","method":"POST","path":"/api/process-cv","template":"unknown","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.826Z","level":"info","message":"process_cv_started","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","manualJobDescriptionProvided":true,"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.826Z","level":"info","message":"template_selection","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:06.827Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:06.833Z","level":"info","message":"initial_upload_completed","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","bucket":"test-bucket","key":"cv/candidate/76c4d6ed-f434-4cd7-97db-5853173e333b/incoming/original.pdf","template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.833Z","level":"info","message":"resume_text_extracted","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","characters":57,"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.833Z","level":"info","message":"resume_classified","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.834Z","level":"info","message":"raw_upload_relocated","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","bucket":"test-bucket","fromKey":"cv/candidate/76c4d6ed-f434-4cd7-97db-5853173e333b/incoming/original.pdf","toKey":"cv/professional_summary/76c4d6ed-f434-4cd7-97db-5853173e333b/original.pdf","template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.834Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","bucket":"test-bucket","key":"cv/professional_summary/76c4d6ed-f434-4cd7-97db-5853173e333b/original.pdf","template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.835Z","level":"info","message":"dynamo_initial_record_written","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","bucket":"test-bucket","key":"cv/professional_summary/76c4d6ed-f434-4cd7-97db-5853173e333b/original.pdf","template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.835Z","level":"info","message":"upload_metadata_written","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","bucket":"test-bucket","key":"cv/professional_summary/76c4d6ed-f434-4cd7-97db-5853173e333b/logs/log.json","template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.836Z","level":"info","message":"job_description_supplied_manually","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","characters":174,"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.837Z","level":"info","message":"job_description_analyzed","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","jobTitle":"","jobSkills":5,"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.837Z","level":"info","message":"resume_skills_analyzed","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.838Z","level":"info","message":"llm_call_metrics","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.840Z","level":"info","message":"process_cv_scoring_completed","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.844Z","level":"info","message":"llm_call_metrics","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"083bf06ffdad2254495e6ab02d51602dd213ec7860f8066358ba6750acc9f49a","addedSkillCount":1,"template":"resume_rewrite","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.844Z","level":"info","message":"generation_section_rewrite_completed","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","generationRunId":"76c4d6ed-f434-4cd7-97db-5853173e333b","modifiedTitle":"Revised Title","addedSkills":1,"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.847Z","level":"info","message":"generation_resume_verified","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","generationRunId":"76c4d6ed-f434-4cd7-97db-5853173e333b","template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:06.851Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","generationRunId":"76c4d6ed-f434-4cd7-97db-5853173e333b","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:06.857Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","generationRunId":"76c4d6ed-f434-4cd7-97db-5853173e333b","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.863Z","level":"info","message":"generation_cover_letters_completed","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","generationRunId":"76c4d6ed-f434-4cd7-97db-5853173e333b","variants":2,"fallbackApplied":true,"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.863Z","level":"info","message":"pdf_generation_attempt","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","generationRunId":"76c4d6ed-f434-4cd7-97db-5853173e333b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/76c4d6ed-f434-4cd7-97db-5853173e333b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/76c4d6ed-f434-4cd7-97db-5853173e333b/enhanced_modern.pdf","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.864Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","generationRunId":"76c4d6ed-f434-4cd7-97db-5853173e333b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/76c4d6ed-f434-4cd7-97db-5853173e333b/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.865Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","generationRunId":"76c4d6ed-f434-4cd7-97db-5853173e333b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/76c4d6ed-f434-4cd7-97db-5853173e333b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/76c4d6ed-f434-4cd7-97db-5853173e333b/enhanced_modern.pdf","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.865Z","level":"info","message":"pdf_generation_attempt","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","generationRunId":"76c4d6ed-f434-4cd7-97db-5853173e333b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/76c4d6ed-f434-4cd7-97db-5853173e333b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/76c4d6ed-f434-4cd7-97db-5853173e333b/enhanced_professional.pdf","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.866Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","generationRunId":"76c4d6ed-f434-4cd7-97db-5853173e333b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/76c4d6ed-f434-4cd7-97db-5853173e333b/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.867Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","generationRunId":"76c4d6ed-f434-4cd7-97db-5853173e333b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/76c4d6ed-f434-4cd7-97db-5853173e333b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/76c4d6ed-f434-4cd7-97db-5853173e333b/enhanced_professional.pdf","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.867Z","level":"info","message":"pdf_generation_attempt","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","generationRunId":"76c4d6ed-f434-4cd7-97db-5853173e333b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/76c4d6ed-f434-4cd7-97db-5853173e333b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/76c4d6ed-f434-4cd7-97db-5853173e333b/cover_letter_cover_modern.pdf","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.868Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","generationRunId":"76c4d6ed-f434-4cd7-97db-5853173e333b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/76c4d6ed-f434-4cd7-97db-5853173e333b/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.869Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","generationRunId":"76c4d6ed-f434-4cd7-97db-5853173e333b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/76c4d6ed-f434-4cd7-97db-5853173e333b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/76c4d6ed-f434-4cd7-97db-5853173e333b/cover_letter_cover_modern.pdf","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.869Z","level":"info","message":"pdf_generation_attempt","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","generationRunId":"76c4d6ed-f434-4cd7-97db-5853173e333b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/76c4d6ed-f434-4cd7-97db-5853173e333b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/76c4d6ed-f434-4cd7-97db-5853173e333b/cover_letter_cover_professional.pdf","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.870Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","generationRunId":"76c4d6ed-f434-4cd7-97db-5853173e333b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/76c4d6ed-f434-4cd7-97db-5853173e333b/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.871Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","generationRunId":"76c4d6ed-f434-4cd7-97db-5853173e333b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/76c4d6ed-f434-4cd7-97db-5853173e333b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/76c4d6ed-f434-4cd7-97db-5853173e333b/cover_letter_cover_professional.pdf","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.874Z","level":"info","message":"llm_call_metrics","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"1075df15bec8b8fc718989e1c7ca31af0c39036b671cabbdfc22628f8e2e250f","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.875Z","level":"info","message":"generation_completed","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","generationRunId":"76c4d6ed-f434-4cd7-97db-5853173e333b","enhancedScore":80,"outputs":5,"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.876Z","level":"info","message":"placeholder_record_deleted","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","jobId":"d55a4e48-df38-4d8c-acea-175f64581f08","placeholderIdentifier":"76c4d6ed-f434-4cd7-97db-5853173e333b","template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d55a4e48-df38-4d8c-acea-175f64581f08","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.877Z","level":"info","message":"http_request_completed","requestId":"76c4d6ed-f434-4cd7-97db-5853173e333b","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":53,"contentLength":"59251","template":"unknown","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"76c4d6ed-f434-4cd7-97db-5853173e333b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.880Z","level":"info","message":"http_request_received","requestId":"69754974-f4a2-4e08-a59e-8dfcd1acf388","method":"POST","path":"/api/process-cv","template":"unknown","session":"69754974-f4a2-4e08-a59e-8dfcd1acf388","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"69754974-f4a2-4e08-a59e-8dfcd1acf388","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.882Z","level":"info","message":"process_cv_started","requestId":"69754974-f4a2-4e08-a59e-8dfcd1acf388","jobId":"87c3386a-0ef9-4255-801b-a495df647ef4","manualJobDescriptionProvided":true,"template":"unknown","session":"87c3386a-0ef9-4255-801b-a495df647ef4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87c3386a-0ef9-4255-801b-a495df647ef4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.882Z","level":"info","message":"template_selection","requestId":"69754974-f4a2-4e08-a59e-8dfcd1acf388","jobId":"87c3386a-0ef9-4255-801b-a495df647ef4","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"87c3386a-0ef9-4255-801b-a495df647ef4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"87c3386a-0ef9-4255-801b-a495df647ef4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:06.883Z","level":"warn","message":"resume_missing","requestId":"69754974-f4a2-4e08-a59e-8dfcd1acf388","jobId":"87c3386a-0ef9-4255-801b-a495df647ef4","template":"unknown","session":"87c3386a-0ef9-4255-801b-a495df647ef4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87c3386a-0ef9-4255-801b-a495df647ef4","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24914:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-11-30T16:01:06.888Z","level":"warn","message":"api_error_response","requestId":"69754974-f4a2-4e08-a59e-8dfcd1acf388","jobId":"87c3386a-0ef9-4255-801b-a495df647ef4","status":400,"error":{"code":"RESUME_FILE_REQUIRED","message":"resume file required","details":{"field":"resume"},"requestId":"69754974-f4a2-4e08-a59e-8dfcd1acf388","jobId":"87c3386a-0ef9-4255-801b-a495df647ef4"},"template":"unknown","session":"87c3386a-0ef9-4255-801b-a495df647ef4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87c3386a-0ef9-4255-801b-a495df647ef4","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:3851:3)
      at sendError (server.js:24915:14)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:06.895Z","level":"info","message":"http_request_completed","requestId":"69754974-f4a2-4e08-a59e-8dfcd1acf388","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":15,"contentLength":"217","template":"unknown","session":"69754974-f4a2-4e08-a59e-8dfcd1acf388","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"69754974-f4a2-4e08-a59e-8dfcd1acf388","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.897Z","level":"info","message":"http_request_received","requestId":"b88e63f5-6704-45f1-b940-e6ca8620a682","method":"POST","path":"/api/process-cv","template":"unknown","session":"b88e63f5-6704-45f1-b940-e6ca8620a682","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b88e63f5-6704-45f1-b940-e6ca8620a682","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:06.900Z","level":"warn","message":"resume_upload_failed","requestId":"b88e63f5-6704-45f1-b940-e6ca8620a682","jobId":"2aeed3fc-7d24-4384-94b3-bd45a456d368","storageError":false,"error":{"name":"Error","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","stack":"Error: Unsupported resume format. Please upload a PDF, DOC, or DOCX file.\n    at fileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4820:9)\n    at wrappedFileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/index.js:44:7)\n    at Multipart.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:109:7)\n    at Multipart.emit (node:events:513:28)\n    at HeaderParser.cb (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:358:14)\n    at HeaderParser.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:394:37)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at IncomingMessage.Readable.read (node:internal/streams/readable:527:10)\n    at flow (node:internal/streams/readable:1011:34)\n    at resume_ (node:internal/streams/readable:992:3)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)"},"template":"unknown","session":"2aeed3fc-7d24-4384-94b3-bd45a456d368","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2aeed3fc-7d24-4384-94b3-bd45a456d368","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24608:7)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at cb (server.js:4819:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.warn
    {"timestamp":"2025-11-30T16:01:06.907Z","level":"warn","message":"api_error_response","requestId":"b88e63f5-6704-45f1-b940-e6ca8620a682","jobId":"2aeed3fc-7d24-4384-94b3-bd45a456d368","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","details":{"field":"resume"},"requestId":"b88e63f5-6704-45f1-b940-e6ca8620a682","jobId":"2aeed3fc-7d24-4384-94b3-bd45a456d368"},"template":"unknown","session":"2aeed3fc-7d24-4384-94b3-bd45a456d368","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2aeed3fc-7d24-4384-94b3-bd45a456d368","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:3851:3)
      at sendError (server.js:24616:9)
      at respond (server.js:24620:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at cb (server.js:4819:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.log
    {"timestamp":"2025-11-30T16:01:06.913Z","level":"info","message":"http_request_completed","requestId":"b88e63f5-6704-45f1-b940-e6ca8620a682","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":16,"contentLength":"267","template":"unknown","session":"b88e63f5-6704-45f1-b940-e6ca8620a682","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b88e63f5-6704-45f1-b940-e6ca8620a682","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.916Z","level":"info","message":"http_request_received","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","method":"POST","path":"/api/process-cv","template":"unknown","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.917Z","level":"info","message":"process_cv_started","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","manualJobDescriptionProvided":true,"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.918Z","level":"info","message":"template_selection","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:06.919Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:06.924Z","level":"info","message":"initial_upload_completed","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","bucket":"test-bucket","key":"cv/candidate/f01b9f25-608b-4471-81f0-b76d48074f95/incoming/original.pdf","template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.924Z","level":"info","message":"resume_text_extracted","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","characters":57,"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.925Z","level":"info","message":"resume_classified","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.925Z","level":"info","message":"raw_upload_relocated","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","bucket":"test-bucket","fromKey":"cv/candidate/f01b9f25-608b-4471-81f0-b76d48074f95/incoming/original.pdf","toKey":"cv/professional_summary/f01b9f25-608b-4471-81f0-b76d48074f95/original.pdf","template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.926Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","bucket":"test-bucket","key":"cv/professional_summary/f01b9f25-608b-4471-81f0-b76d48074f95/original.pdf","template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.926Z","level":"info","message":"dynamo_initial_record_written","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","bucket":"test-bucket","key":"cv/professional_summary/f01b9f25-608b-4471-81f0-b76d48074f95/original.pdf","template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.927Z","level":"info","message":"upload_metadata_written","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","bucket":"test-bucket","key":"cv/professional_summary/f01b9f25-608b-4471-81f0-b76d48074f95/logs/log.json","template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.927Z","level":"info","message":"job_description_supplied_manually","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","characters":174,"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.928Z","level":"info","message":"job_description_analyzed","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","jobTitle":"","jobSkills":5,"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.928Z","level":"info","message":"resume_skills_analyzed","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.929Z","level":"info","message":"llm_call_metrics","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.930Z","level":"info","message":"process_cv_scoring_completed","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.934Z","level":"info","message":"llm_call_metrics","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.935Z","level":"info","message":"generation_section_rewrite_completed","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","generationRunId":"f01b9f25-608b-4471-81f0-b76d48074f95","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.935Z","level":"info","message":"llm_call_metrics","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.938Z","level":"info","message":"generation_resume_verified","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","generationRunId":"f01b9f25-608b-4471-81f0-b76d48074f95","template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:06.942Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","generationRunId":"f01b9f25-608b-4471-81f0-b76d48074f95","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:06.950Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","generationRunId":"f01b9f25-608b-4471-81f0-b76d48074f95","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:06.956Z","level":"info","message":"generation_cover_letters_completed","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","generationRunId":"f01b9f25-608b-4471-81f0-b76d48074f95","variants":2,"fallbackApplied":true,"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.957Z","level":"info","message":"pdf_generation_attempt","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","generationRunId":"f01b9f25-608b-4471-81f0-b76d48074f95","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f01b9f25-608b-4471-81f0-b76d48074f95/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f01b9f25-608b-4471-81f0-b76d48074f95/enhanced_modern.pdf","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.958Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","generationRunId":"f01b9f25-608b-4471-81f0-b76d48074f95","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f01b9f25-608b-4471-81f0-b76d48074f95/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.959Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","generationRunId":"f01b9f25-608b-4471-81f0-b76d48074f95","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f01b9f25-608b-4471-81f0-b76d48074f95/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f01b9f25-608b-4471-81f0-b76d48074f95/enhanced_modern.pdf","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.959Z","level":"info","message":"pdf_generation_attempt","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","generationRunId":"f01b9f25-608b-4471-81f0-b76d48074f95","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f01b9f25-608b-4471-81f0-b76d48074f95/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f01b9f25-608b-4471-81f0-b76d48074f95/enhanced_professional.pdf","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.960Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","generationRunId":"f01b9f25-608b-4471-81f0-b76d48074f95","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f01b9f25-608b-4471-81f0-b76d48074f95/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.961Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","generationRunId":"f01b9f25-608b-4471-81f0-b76d48074f95","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f01b9f25-608b-4471-81f0-b76d48074f95/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f01b9f25-608b-4471-81f0-b76d48074f95/enhanced_professional.pdf","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.961Z","level":"info","message":"pdf_generation_attempt","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","generationRunId":"f01b9f25-608b-4471-81f0-b76d48074f95","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f01b9f25-608b-4471-81f0-b76d48074f95/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f01b9f25-608b-4471-81f0-b76d48074f95/cover_letter_cover_modern.pdf","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.962Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","generationRunId":"f01b9f25-608b-4471-81f0-b76d48074f95","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f01b9f25-608b-4471-81f0-b76d48074f95/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.963Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","generationRunId":"f01b9f25-608b-4471-81f0-b76d48074f95","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f01b9f25-608b-4471-81f0-b76d48074f95/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f01b9f25-608b-4471-81f0-b76d48074f95/cover_letter_cover_modern.pdf","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.963Z","level":"info","message":"pdf_generation_attempt","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","generationRunId":"f01b9f25-608b-4471-81f0-b76d48074f95","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f01b9f25-608b-4471-81f0-b76d48074f95/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f01b9f25-608b-4471-81f0-b76d48074f95/cover_letter_cover_professional.pdf","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.964Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","generationRunId":"f01b9f25-608b-4471-81f0-b76d48074f95","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f01b9f25-608b-4471-81f0-b76d48074f95/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.965Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","generationRunId":"f01b9f25-608b-4471-81f0-b76d48074f95","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f01b9f25-608b-4471-81f0-b76d48074f95/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f01b9f25-608b-4471-81f0-b76d48074f95/cover_letter_cover_professional.pdf","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.967Z","level":"info","message":"llm_call_metrics","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.968Z","level":"info","message":"generation_completed","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","generationRunId":"f01b9f25-608b-4471-81f0-b76d48074f95","enhancedScore":80,"outputs":5,"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.970Z","level":"info","message":"placeholder_record_deleted","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","jobId":"8f59a538-21cd-424f-b446-0eeb3964e1f5","placeholderIdentifier":"f01b9f25-608b-4471-81f0-b76d48074f95","template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f59a538-21cd-424f-b446-0eeb3964e1f5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.971Z","level":"info","message":"http_request_completed","requestId":"f01b9f25-608b-4471-81f0-b76d48074f95","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":55,"contentLength":"58133","template":"unknown","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f01b9f25-608b-4471-81f0-b76d48074f95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.973Z","level":"info","message":"http_request_received","requestId":"009b1932-5d2a-462e-a278-68fe19574531","method":"POST","path":"/api/process-cv","template":"unknown","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.981Z","level":"info","message":"process_cv_started","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","manualJobDescriptionProvided":true,"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.982Z","level":"info","message":"template_selection","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:06.982Z","level":"info","message":"initial_upload_completed","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","bucket":"test-bucket","key":"cv/candidate/009b1932-5d2a-462e-a278-68fe19574531/incoming/original.pdf","template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:06.983Z","level":"info","message":"resume_text_extracted","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","characters":9,"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.001Z","level":"info","message":"document_classification_ai_metrics","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.017Z","level":"info","message":"resume_classified","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.018Z","level":"info","message":"raw_upload_relocated","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","bucket":"test-bucket","fromKey":"cv/candidate/009b1932-5d2a-462e-a278-68fe19574531/incoming/original.pdf","toKey":"cv/docx_text/009b1932-5d2a-462e-a278-68fe19574531/original.docx","template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.018Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","bucket":"test-bucket","key":"cv/docx_text/009b1932-5d2a-462e-a278-68fe19574531/original.docx","template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.018Z","level":"info","message":"dynamo_initial_record_written","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","bucket":"test-bucket","key":"cv/docx_text/009b1932-5d2a-462e-a278-68fe19574531/original.docx","template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.019Z","level":"info","message":"upload_metadata_written","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","bucket":"test-bucket","key":"cv/docx_text/009b1932-5d2a-462e-a278-68fe19574531/logs/log.json","template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.020Z","level":"info","message":"job_description_supplied_manually","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","characters":174,"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.020Z","level":"info","message":"job_description_analyzed","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","jobTitle":"","jobSkills":5,"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.021Z","level":"info","message":"resume_skills_analyzed","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.022Z","level":"info","message":"llm_call_metrics","requestId":"009b1932-5d2a-462e-a278-68fe19574531","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.023Z","level":"info","message":"process_cv_scoring_completed","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.027Z","level":"info","message":"llm_call_metrics","requestId":"009b1932-5d2a-462e-a278-68fe19574531","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.027Z","level":"info","message":"generation_section_rewrite_completed","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","generationRunId":"009b1932-5d2a-462e-a278-68fe19574531","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.028Z","level":"info","message":"llm_call_metrics","requestId":"009b1932-5d2a-462e-a278-68fe19574531","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.031Z","level":"info","message":"generation_resume_verified","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","generationRunId":"009b1932-5d2a-462e-a278-68fe19574531","template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.034Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","generationRunId":"009b1932-5d2a-462e-a278-68fe19574531","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
          at runMicrotasks (<anonymous>)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:07.040Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","generationRunId":"009b1932-5d2a-462e-a278-68fe19574531","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
          at runMicrotasks (<anonymous>)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:07.047Z","level":"info","message":"generation_cover_letters_completed","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","generationRunId":"009b1932-5d2a-462e-a278-68fe19574531","variants":2,"fallbackApplied":true,"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.048Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","generationRunId":"009b1932-5d2a-462e-a278-68fe19574531","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/009b1932-5d2a-462e-a278-68fe19574531/","originalUploadKey":"cv/docx_text/009b1932-5d2a-462e-a278-68fe19574531/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.049Z","level":"info","message":"original_upload_pdf_generated","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","generationRunId":"009b1932-5d2a-462e-a278-68fe19574531","storageKey":"cv/docx_text/009b1932-5d2a-462e-a278-68fe19574531/original/original_upload.pdf","originalUploadKey":"cv/docx_text/009b1932-5d2a-462e-a278-68fe19574531/original.docx","originalUploadExtension":".docx","template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.050Z","level":"info","message":"pdf_generation_attempt","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","generationRunId":"009b1932-5d2a-462e-a278-68fe19574531","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/009b1932-5d2a-462e-a278-68fe19574531/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/009b1932-5d2a-462e-a278-68fe19574531/enhanced_modern.pdf","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.050Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","generationRunId":"009b1932-5d2a-462e-a278-68fe19574531","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/009b1932-5d2a-462e-a278-68fe19574531/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.051Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","generationRunId":"009b1932-5d2a-462e-a278-68fe19574531","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/009b1932-5d2a-462e-a278-68fe19574531/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/009b1932-5d2a-462e-a278-68fe19574531/enhanced_modern.pdf","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.052Z","level":"info","message":"pdf_generation_attempt","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","generationRunId":"009b1932-5d2a-462e-a278-68fe19574531","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/009b1932-5d2a-462e-a278-68fe19574531/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/009b1932-5d2a-462e-a278-68fe19574531/enhanced_professional.pdf","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.052Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","generationRunId":"009b1932-5d2a-462e-a278-68fe19574531","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/009b1932-5d2a-462e-a278-68fe19574531/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.053Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","generationRunId":"009b1932-5d2a-462e-a278-68fe19574531","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/009b1932-5d2a-462e-a278-68fe19574531/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/009b1932-5d2a-462e-a278-68fe19574531/enhanced_professional.pdf","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.054Z","level":"info","message":"pdf_generation_attempt","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","generationRunId":"009b1932-5d2a-462e-a278-68fe19574531","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/009b1932-5d2a-462e-a278-68fe19574531/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/009b1932-5d2a-462e-a278-68fe19574531/cover_letter_cover_modern.pdf","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.054Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","generationRunId":"009b1932-5d2a-462e-a278-68fe19574531","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/009b1932-5d2a-462e-a278-68fe19574531/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.055Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","generationRunId":"009b1932-5d2a-462e-a278-68fe19574531","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/009b1932-5d2a-462e-a278-68fe19574531/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/009b1932-5d2a-462e-a278-68fe19574531/cover_letter_cover_modern.pdf","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.056Z","level":"info","message":"pdf_generation_attempt","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","generationRunId":"009b1932-5d2a-462e-a278-68fe19574531","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/009b1932-5d2a-462e-a278-68fe19574531/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/009b1932-5d2a-462e-a278-68fe19574531/cover_letter_cover_professional.pdf","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.056Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","generationRunId":"009b1932-5d2a-462e-a278-68fe19574531","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/009b1932-5d2a-462e-a278-68fe19574531/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.057Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","generationRunId":"009b1932-5d2a-462e-a278-68fe19574531","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/009b1932-5d2a-462e-a278-68fe19574531/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/009b1932-5d2a-462e-a278-68fe19574531/cover_letter_cover_professional.pdf","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.059Z","level":"info","message":"llm_call_metrics","requestId":"009b1932-5d2a-462e-a278-68fe19574531","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.061Z","level":"info","message":"generation_completed","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","generationRunId":"009b1932-5d2a-462e-a278-68fe19574531","enhancedScore":80,"outputs":6,"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.062Z","level":"info","message":"placeholder_record_deleted","requestId":"009b1932-5d2a-462e-a278-68fe19574531","jobId":"fdda549d-472a-4123-a2c5-102e7fce588b","placeholderIdentifier":"009b1932-5d2a-462e-a278-68fe19574531","template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdda549d-472a-4123-a2c5-102e7fce588b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.063Z","level":"info","message":"http_request_completed","requestId":"009b1932-5d2a-462e-a278-68fe19574531","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":90,"contentLength":"58696","template":"unknown","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"009b1932-5d2a-462e-a278-68fe19574531","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.068Z","level":"info","message":"http_request_received","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","method":"POST","path":"/api/process-cv","template":"unknown","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.073Z","level":"info","message":"process_cv_started","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","manualJobDescriptionProvided":true,"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.074Z","level":"info","message":"template_selection","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.075Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:07.085Z","level":"info","message":"initial_upload_completed","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","bucket":"test-bucket","key":"cv/candidate/e3540369-7f44-49e0-9b49-01b4825c1eac/incoming/original.pdf","template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.086Z","level":"info","message":"resume_text_extracted","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","characters":57,"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.086Z","level":"info","message":"resume_classified","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.087Z","level":"info","message":"raw_upload_relocated","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","bucket":"test-bucket","fromKey":"cv/candidate/e3540369-7f44-49e0-9b49-01b4825c1eac/incoming/original.pdf","toKey":"cv/professional_summary/e3540369-7f44-49e0-9b49-01b4825c1eac/original.pdf","template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.088Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","bucket":"test-bucket","key":"cv/professional_summary/e3540369-7f44-49e0-9b49-01b4825c1eac/original.pdf","template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.088Z","level":"info","message":"dynamo_initial_record_written","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","bucket":"test-bucket","key":"cv/professional_summary/e3540369-7f44-49e0-9b49-01b4825c1eac/original.pdf","template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.089Z","level":"info","message":"upload_metadata_written","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","bucket":"test-bucket","key":"cv/professional_summary/e3540369-7f44-49e0-9b49-01b4825c1eac/logs/log.json","template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.090Z","level":"info","message":"job_description_supplied_manually","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","characters":174,"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.092Z","level":"info","message":"job_description_analyzed","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","jobTitle":"","jobSkills":5,"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.093Z","level":"info","message":"resume_skills_analyzed","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.094Z","level":"info","message":"llm_call_metrics","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.095Z","level":"info","message":"process_cv_scoring_completed","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.101Z","level":"info","message":"llm_call_metrics","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.102Z","level":"info","message":"generation_section_rewrite_completed","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","generationRunId":"e3540369-7f44-49e0-9b49-01b4825c1eac","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.103Z","level":"info","message":"llm_call_metrics","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.109Z","level":"info","message":"generation_resume_verified","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","generationRunId":"e3540369-7f44-49e0-9b49-01b4825c1eac","template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.125Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","generationRunId":"e3540369-7f44-49e0-9b49-01b4825c1eac","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
          at runMicrotasks (<anonymous>)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:07.132Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","generationRunId":"e3540369-7f44-49e0-9b49-01b4825c1eac","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
          at runMicrotasks (<anonymous>)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:07.137Z","level":"info","message":"generation_cover_letters_completed","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","generationRunId":"e3540369-7f44-49e0-9b49-01b4825c1eac","variants":2,"fallbackApplied":true,"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.138Z","level":"info","message":"pdf_generation_attempt","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","generationRunId":"e3540369-7f44-49e0-9b49-01b4825c1eac","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e3540369-7f44-49e0-9b49-01b4825c1eac/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e3540369-7f44-49e0-9b49-01b4825c1eac/enhanced_modern.pdf","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.139Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","generationRunId":"e3540369-7f44-49e0-9b49-01b4825c1eac","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e3540369-7f44-49e0-9b49-01b4825c1eac/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.140Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","generationRunId":"e3540369-7f44-49e0-9b49-01b4825c1eac","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e3540369-7f44-49e0-9b49-01b4825c1eac/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e3540369-7f44-49e0-9b49-01b4825c1eac/enhanced_modern.pdf","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.141Z","level":"info","message":"pdf_generation_attempt","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","generationRunId":"e3540369-7f44-49e0-9b49-01b4825c1eac","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e3540369-7f44-49e0-9b49-01b4825c1eac/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e3540369-7f44-49e0-9b49-01b4825c1eac/enhanced_professional.pdf","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.142Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","generationRunId":"e3540369-7f44-49e0-9b49-01b4825c1eac","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e3540369-7f44-49e0-9b49-01b4825c1eac/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.143Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","generationRunId":"e3540369-7f44-49e0-9b49-01b4825c1eac","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e3540369-7f44-49e0-9b49-01b4825c1eac/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e3540369-7f44-49e0-9b49-01b4825c1eac/enhanced_professional.pdf","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.143Z","level":"info","message":"pdf_generation_attempt","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","generationRunId":"e3540369-7f44-49e0-9b49-01b4825c1eac","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e3540369-7f44-49e0-9b49-01b4825c1eac/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e3540369-7f44-49e0-9b49-01b4825c1eac/cover_letter_cover_modern.pdf","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.144Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","generationRunId":"e3540369-7f44-49e0-9b49-01b4825c1eac","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e3540369-7f44-49e0-9b49-01b4825c1eac/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.145Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","generationRunId":"e3540369-7f44-49e0-9b49-01b4825c1eac","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e3540369-7f44-49e0-9b49-01b4825c1eac/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e3540369-7f44-49e0-9b49-01b4825c1eac/cover_letter_cover_modern.pdf","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.145Z","level":"info","message":"pdf_generation_attempt","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","generationRunId":"e3540369-7f44-49e0-9b49-01b4825c1eac","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e3540369-7f44-49e0-9b49-01b4825c1eac/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e3540369-7f44-49e0-9b49-01b4825c1eac/cover_letter_cover_professional.pdf","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.146Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","generationRunId":"e3540369-7f44-49e0-9b49-01b4825c1eac","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e3540369-7f44-49e0-9b49-01b4825c1eac/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.147Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","generationRunId":"e3540369-7f44-49e0-9b49-01b4825c1eac","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e3540369-7f44-49e0-9b49-01b4825c1eac/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e3540369-7f44-49e0-9b49-01b4825c1eac/cover_letter_cover_professional.pdf","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.151Z","level":"info","message":"llm_call_metrics","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.152Z","level":"info","message":"generation_completed","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","generationRunId":"e3540369-7f44-49e0-9b49-01b4825c1eac","enhancedScore":80,"outputs":5,"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.154Z","level":"info","message":"placeholder_record_deleted","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","jobId":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","placeholderIdentifier":"e3540369-7f44-49e0-9b49-01b4825c1eac","template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ee44c40-b3ce-4f28-8056-77d6bd99f84e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.155Z","level":"info","message":"http_request_completed","requestId":"e3540369-7f44-49e0-9b49-01b4825c1eac","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":87,"contentLength":"58133","template":"unknown","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3540369-7f44-49e0-9b49-01b4825c1eac","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.159Z","level":"info","message":"http_request_received","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","method":"POST","path":"/api/process-cv","template":"unknown","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.221Z","level":"info","message":"process_cv_started","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","manualJobDescriptionProvided":true,"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.222Z","level":"info","message":"template_selection","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.223Z","level":"info","message":"initial_upload_completed","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","bucket":"test-bucket","key":"cv/candidate/e9c06462-acb5-4a8a-8afb-e38fc159a19a/incoming/original.pdf","template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.223Z","level":"info","message":"resume_text_extracted","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","characters":9,"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.224Z","level":"info","message":"document_classification_ai_metrics","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.225Z","level":"info","message":"resume_classified","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.225Z","level":"info","message":"raw_upload_relocated","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","bucket":"test-bucket","fromKey":"cv/candidate/e9c06462-acb5-4a8a-8afb-e38fc159a19a/incoming/original.pdf","toKey":"cv/docx_text/e9c06462-acb5-4a8a-8afb-e38fc159a19a/original.docx","template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.226Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","bucket":"test-bucket","key":"cv/docx_text/e9c06462-acb5-4a8a-8afb-e38fc159a19a/original.docx","template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.227Z","level":"info","message":"dynamo_initial_record_written","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","bucket":"test-bucket","key":"cv/docx_text/e9c06462-acb5-4a8a-8afb-e38fc159a19a/original.docx","template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.227Z","level":"info","message":"upload_metadata_written","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","bucket":"test-bucket","key":"cv/docx_text/e9c06462-acb5-4a8a-8afb-e38fc159a19a/logs/log.json","template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.228Z","level":"info","message":"job_description_supplied_manually","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","characters":174,"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.229Z","level":"info","message":"job_description_analyzed","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","jobTitle":"","jobSkills":5,"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.230Z","level":"info","message":"resume_skills_analyzed","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.230Z","level":"info","message":"llm_call_metrics","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.231Z","level":"info","message":"process_cv_scoring_completed","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.243Z","level":"info","message":"llm_call_metrics","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.244Z","level":"info","message":"generation_section_rewrite_completed","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","generationRunId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.245Z","level":"info","message":"llm_call_metrics","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.251Z","level":"info","message":"generation_resume_verified","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","generationRunId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.256Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","generationRunId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
          at runMicrotasks (<anonymous>)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:01:07.266Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","generationRunId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
          at runMicrotasks (<anonymous>)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:07.274Z","level":"info","message":"generation_cover_letters_completed","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","generationRunId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","variants":2,"fallbackApplied":true,"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.275Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","generationRunId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/e9c06462-acb5-4a8a-8afb-e38fc159a19a/","originalUploadKey":"cv/docx_text/e9c06462-acb5-4a8a-8afb-e38fc159a19a/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.276Z","level":"info","message":"original_upload_pdf_generated","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","generationRunId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","storageKey":"cv/docx_text/e9c06462-acb5-4a8a-8afb-e38fc159a19a/original/original_upload.pdf","originalUploadKey":"cv/docx_text/e9c06462-acb5-4a8a-8afb-e38fc159a19a/original.docx","originalUploadExtension":".docx","template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.277Z","level":"info","message":"pdf_generation_attempt","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","generationRunId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/e9c06462-acb5-4a8a-8afb-e38fc159a19a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/e9c06462-acb5-4a8a-8afb-e38fc159a19a/enhanced_modern.pdf","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.278Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","generationRunId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/e9c06462-acb5-4a8a-8afb-e38fc159a19a/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.278Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","generationRunId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/e9c06462-acb5-4a8a-8afb-e38fc159a19a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/e9c06462-acb5-4a8a-8afb-e38fc159a19a/enhanced_modern.pdf","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.279Z","level":"info","message":"pdf_generation_attempt","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","generationRunId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/e9c06462-acb5-4a8a-8afb-e38fc159a19a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/e9c06462-acb5-4a8a-8afb-e38fc159a19a/enhanced_professional.pdf","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.280Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","generationRunId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/e9c06462-acb5-4a8a-8afb-e38fc159a19a/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.281Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","generationRunId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/e9c06462-acb5-4a8a-8afb-e38fc159a19a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/e9c06462-acb5-4a8a-8afb-e38fc159a19a/enhanced_professional.pdf","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.281Z","level":"info","message":"pdf_generation_attempt","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","generationRunId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/e9c06462-acb5-4a8a-8afb-e38fc159a19a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/e9c06462-acb5-4a8a-8afb-e38fc159a19a/cover_letter_cover_modern.pdf","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.282Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","generationRunId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/e9c06462-acb5-4a8a-8afb-e38fc159a19a/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.283Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","generationRunId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/e9c06462-acb5-4a8a-8afb-e38fc159a19a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/e9c06462-acb5-4a8a-8afb-e38fc159a19a/cover_letter_cover_modern.pdf","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.283Z","level":"info","message":"pdf_generation_attempt","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","generationRunId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/e9c06462-acb5-4a8a-8afb-e38fc159a19a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/e9c06462-acb5-4a8a-8afb-e38fc159a19a/cover_letter_cover_professional.pdf","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.284Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","generationRunId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/e9c06462-acb5-4a8a-8afb-e38fc159a19a/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.285Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","generationRunId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/e9c06462-acb5-4a8a-8afb-e38fc159a19a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/e9c06462-acb5-4a8a-8afb-e38fc159a19a/cover_letter_cover_professional.pdf","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.288Z","level":"info","message":"llm_call_metrics","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.289Z","level":"info","message":"generation_completed","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","generationRunId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","enhancedScore":80,"outputs":6,"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.291Z","level":"info","message":"placeholder_record_deleted","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","jobId":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","placeholderIdentifier":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfbdb6ae-0632-4776-857f-3da0e880fe5f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.292Z","level":"info","message":"http_request_completed","requestId":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":133,"contentLength":"58696","template":"unknown","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e9c06462-acb5-4a8a-8afb-e38fc159a19a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.296Z","level":"info","message":"http_request_received","requestId":"847e57c4-ad87-459c-b449-4e23587a369e","method":"POST","path":"/api/process-cv","template":"unknown","session":"847e57c4-ad87-459c-b449-4e23587a369e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"847e57c4-ad87-459c-b449-4e23587a369e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.303Z","level":"warn","message":"resume_upload_failed","requestId":"847e57c4-ad87-459c-b449-4e23587a369e","jobId":"8542281f-1843-4c29-8a3a-799fd6a3c87f","storageError":false,"error":{"name":"MulterError","message":"File too large","code":"LIMIT_FILE_SIZE","stack":"MulterError: File too large\n    at abortWithCode (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:73:22)\n    at FileStream.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:136:11)\n    at FileStream.emit (node:events:513:28)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:479:32)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at addChunk (node:internal/streams/readable:315:12)\n    at readableAddChunk (node:internal/streams/readable:289:9)\n    at IncomingMessage.Readable.push (node:internal/streams/readable:228:10)\n    at HTTPParser.parserOnBody (node:_http_common:140:24)"},"template":"unknown","session":"8542281f-1843-4c29-8a3a-799fd6a3c87f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8542281f-1843-4c29-8a3a-799fd6a3c87f","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24608:7)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:152:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:136:11)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.311Z","level":"warn","message":"api_error_response","requestId":"847e57c4-ad87-459c-b449-4e23587a369e","jobId":"8542281f-1843-4c29-8a3a-799fd6a3c87f","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"File too large","details":{"field":"resume"},"requestId":"847e57c4-ad87-459c-b449-4e23587a369e","jobId":"8542281f-1843-4c29-8a3a-799fd6a3c87f"},"template":"unknown","session":"8542281f-1843-4c29-8a3a-799fd6a3c87f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8542281f-1843-4c29-8a3a-799fd6a3c87f","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:3851:3)
      at sendError (server.js:24616:9)
      at respond (server.js:24620:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:152:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:136:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.317Z","level":"info","message":"http_request_completed","requestId":"847e57c4-ad87-459c-b449-4e23587a369e","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":21,"contentLength":"215","template":"unknown","session":"847e57c4-ad87-459c-b449-4e23587a369e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"847e57c4-ad87-459c-b449-4e23587a369e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.320Z","level":"info","message":"http_request_received","requestId":"9cf566c1-3892-4a24-9fdd-46a5c0f6a7ca","method":"POST","path":"/api/process-cv","template":"unknown","session":"9cf566c1-3892-4a24-9fdd-46a5c0f6a7ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9cf566c1-3892-4a24-9fdd-46a5c0f6a7ca","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.322Z","level":"info","message":"process_cv_started","requestId":"9cf566c1-3892-4a24-9fdd-46a5c0f6a7ca","jobId":"a7a0c354-2497-4077-a99d-e05f0b3846f8","manualJobDescriptionProvided":true,"template":"unknown","session":"a7a0c354-2497-4077-a99d-e05f0b3846f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7a0c354-2497-4077-a99d-e05f0b3846f8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.323Z","level":"info","message":"template_selection","requestId":"9cf566c1-3892-4a24-9fdd-46a5c0f6a7ca","jobId":"a7a0c354-2497-4077-a99d-e05f0b3846f8","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"a7a0c354-2497-4077-a99d-e05f0b3846f8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a7a0c354-2497-4077-a99d-e05f0b3846f8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.324Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"9cf566c1-3892-4a24-9fdd-46a5c0f6a7ca","jobId":"a7a0c354-2497-4077-a99d-e05f0b3846f8","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"a7a0c354-2497-4077-a99d-e05f0b3846f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7a0c354-2497-4077-a99d-e05f0b3846f8","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:07.329Z","level":"info","message":"initial_upload_completed","requestId":"9cf566c1-3892-4a24-9fdd-46a5c0f6a7ca","jobId":"a7a0c354-2497-4077-a99d-e05f0b3846f8","bucket":"test-bucket","key":"cv/candidate/9cf566c1-3892-4a24-9fdd-46a5c0f6a7ca/incoming/original.pdf","template":"unknown","session":"a7a0c354-2497-4077-a99d-e05f0b3846f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7a0c354-2497-4077-a99d-e05f0b3846f8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.329Z","level":"info","message":"resume_text_extracted","requestId":"9cf566c1-3892-4a24-9fdd-46a5c0f6a7ca","jobId":"a7a0c354-2497-4077-a99d-e05f0b3846f8","characters":70,"template":"unknown","session":"a7a0c354-2497-4077-a99d-e05f0b3846f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7a0c354-2497-4077-a99d-e05f0b3846f8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.330Z","level":"info","message":"document_classification_ai_metrics","requestId":"9cf566c1-3892-4a24-9fdd-46a5c0f6a7ca","jobId":"a7a0c354-2497-4077-a99d-e05f0b3846f8","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"6e7cfda39efd36ecdd0998d74c5dc8668e761fe838cd589d1b8e87517f67efbf","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"a7a0c354-2497-4077-a99d-e05f0b3846f8","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"a7a0c354-2497-4077-a99d-e05f0b3846f8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.331Z","level":"info","message":"resume_classified","requestId":"9cf566c1-3892-4a24-9fdd-46a5c0f6a7ca","jobId":"a7a0c354-2497-4077-a99d-e05f0b3846f8","isResume":false,"description":"an invoice document","confidence":0.4,"accepted":false,"overridden":false,"template":"unknown","session":"a7a0c354-2497-4077-a99d-e05f0b3846f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7a0c354-2497-4077-a99d-e05f0b3846f8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.331Z","level":"warn","message":"resume_validation_failed","requestId":"9cf566c1-3892-4a24-9fdd-46a5c0f6a7ca","jobId":"a7a0c354-2497-4077-a99d-e05f0b3846f8","reason":"not_identified_as_resume","description":"an invoice document","confidence":0.4,"wordCount":12,"invalidKey":"invalid/candidate/2025-11-30/9cf566c1-3892-4a24-9fdd-46a5c0f6a7ca/an-invoice-c948dcf6-aa02-4eb2-b650-16048581d520.pdf","classification":"an invoice","template":"unknown","session":"a7a0c354-2497-4077-a99d-e05f0b3846f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7a0c354-2497-4077-a99d-e05f0b3846f8","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:25495:9)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.337Z","level":"warn","message":"api_error_response","requestId":"9cf566c1-3892-4a24-9fdd-46a5c0f6a7ca","jobId":"a7a0c354-2497-4077-a99d-e05f0b3846f8","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded an invoice document (classified as \"invoice\"). Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\". Please upload a correct CV or resume to continue.","details":{"description":"an invoice document","confidence":0.4,"reason":"Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\".","classification":"an invoice","className":"invoice","storageKey":"invalid/candidate/2025-11-30/9cf566c1-3892-4a24-9fdd-46a5c0f6a7ca/an-invoice-c948dcf6-aa02-4eb2-b650-16048581d520.pdf","invalidStorageKey":"invalid/candidate/2025-11-30/9cf566c1-3892-4a24-9fdd-46a5c0f6a7ca/an-invoice-c948dcf6-aa02-4eb2-b650-16048581d520.pdf"},"requestId":"9cf566c1-3892-4a24-9fdd-46a5c0f6a7ca","jobId":"a7a0c354-2497-4077-a99d-e05f0b3846f8"},"template":"unknown","session":"a7a0c354-2497-4077-a99d-e05f0b3846f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7a0c354-2497-4077-a99d-e05f0b3846f8","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:3851:3)
      at sendError (server.js:25570:14)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.342Z","level":"info","message":"http_request_completed","requestId":"9cf566c1-3892-4a24-9fdd-46a5c0f6a7ca","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":22,"contentLength":"871","template":"unknown","session":"9cf566c1-3892-4a24-9fdd-46a5c0f6a7ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9cf566c1-3892-4a24-9fdd-46a5c0f6a7ca","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.344Z","level":"info","message":"http_request_received","requestId":"c231ef40-4aed-4601-87ed-eeccabfd23ef","method":"POST","path":"/api/process-cv","template":"unknown","session":"c231ef40-4aed-4601-87ed-eeccabfd23ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c231ef40-4aed-4601-87ed-eeccabfd23ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.348Z","level":"info","message":"process_cv_started","requestId":"c231ef40-4aed-4601-87ed-eeccabfd23ef","jobId":"e8dc8462-b79e-406a-aefa-ac1b45acfdff","manualJobDescriptionProvided":true,"template":"unknown","session":"e8dc8462-b79e-406a-aefa-ac1b45acfdff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e8dc8462-b79e-406a-aefa-ac1b45acfdff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.349Z","level":"info","message":"template_selection","requestId":"c231ef40-4aed-4601-87ed-eeccabfd23ef","jobId":"e8dc8462-b79e-406a-aefa-ac1b45acfdff","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"e8dc8462-b79e-406a-aefa-ac1b45acfdff","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e8dc8462-b79e-406a-aefa-ac1b45acfdff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.349Z","level":"info","message":"initial_upload_completed","requestId":"c231ef40-4aed-4601-87ed-eeccabfd23ef","jobId":"e8dc8462-b79e-406a-aefa-ac1b45acfdff","bucket":"test-bucket","key":"cv/candidate/c231ef40-4aed-4601-87ed-eeccabfd23ef/incoming/original.pdf","template":"unknown","session":"e8dc8462-b79e-406a-aefa-ac1b45acfdff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e8dc8462-b79e-406a-aefa-ac1b45acfdff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.350Z","level":"info","message":"resume_text_extracted","requestId":"c231ef40-4aed-4601-87ed-eeccabfd23ef","jobId":"e8dc8462-b79e-406a-aefa-ac1b45acfdff","characters":52,"template":"unknown","session":"e8dc8462-b79e-406a-aefa-ac1b45acfdff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e8dc8462-b79e-406a-aefa-ac1b45acfdff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.351Z","level":"info","message":"document_classification_ai_metrics","requestId":"c231ef40-4aed-4601-87ed-eeccabfd23ef","jobId":"e8dc8462-b79e-406a-aefa-ac1b45acfdff","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"b660b3e8ecbc83aad9e6543dcb4a0d862627f82012d98cdb58b183fb5f0cc539","outputDigest":"ce4b8bd954f55aa4d760051876705884299536b3f182fa6f09cbd2aaee0a6b16","latencyMs":0,"isResume":false,"confidence":0.2,"template":"document_classification","session":"e8dc8462-b79e-406a-aefa-ac1b45acfdff","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"e8dc8462-b79e-406a-aefa-ac1b45acfdff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.351Z","level":"info","message":"resume_classified","requestId":"c231ef40-4aed-4601-87ed-eeccabfd23ef","jobId":"e8dc8462-b79e-406a-aefa-ac1b45acfdff","isResume":false,"description":"a short memo","confidence":0.2,"accepted":false,"overridden":false,"template":"unknown","session":"e8dc8462-b79e-406a-aefa-ac1b45acfdff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e8dc8462-b79e-406a-aefa-ac1b45acfdff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.352Z","level":"warn","message":"resume_validation_failed","requestId":"c231ef40-4aed-4601-87ed-eeccabfd23ef","jobId":"e8dc8462-b79e-406a-aefa-ac1b45acfdff","reason":"not_identified_as_resume","description":"a short memo","confidence":0.2,"wordCount":9,"invalidKey":"invalid/candidate/2025-11-30/c231ef40-4aed-4601-87ed-eeccabfd23ef/a-short-memo-598ad5a6-9400-4138-9350-4586c39ca415.docx","classification":"a short memo","template":"unknown","session":"e8dc8462-b79e-406a-aefa-ac1b45acfdff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e8dc8462-b79e-406a-aefa-ac1b45acfdff","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:25495:9)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.357Z","level":"warn","message":"api_error_response","requestId":"c231ef40-4aed-4601-87ed-eeccabfd23ef","jobId":"e8dc8462-b79e-406a-aefa-ac1b45acfdff","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded a short memo document (classified as \"short_memo\"). Missing resume structure. Please upload a correct CV or resume to continue.","details":{"description":"a short memo","confidence":0.2,"reason":"Missing resume structure.","classification":"a short memo","className":"short_memo","storageKey":"invalid/candidate/2025-11-30/c231ef40-4aed-4601-87ed-eeccabfd23ef/a-short-memo-598ad5a6-9400-4138-9350-4586c39ca415.docx","invalidStorageKey":"invalid/candidate/2025-11-30/c231ef40-4aed-4601-87ed-eeccabfd23ef/a-short-memo-598ad5a6-9400-4138-9350-4586c39ca415.docx"},"requestId":"c231ef40-4aed-4601-87ed-eeccabfd23ef","jobId":"e8dc8462-b79e-406a-aefa-ac1b45acfdff"},"template":"unknown","session":"e8dc8462-b79e-406a-aefa-ac1b45acfdff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e8dc8462-b79e-406a-aefa-ac1b45acfdff","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:3851:3)
      at sendError (server.js:25570:14)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.362Z","level":"info","message":"http_request_completed","requestId":"c231ef40-4aed-4601-87ed-eeccabfd23ef","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":18,"contentLength":"748","template":"unknown","session":"c231ef40-4aed-4601-87ed-eeccabfd23ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c231ef40-4aed-4601-87ed-eeccabfd23ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.365Z","level":"info","message":"http_request_received","requestId":"16957e2e-9e69-4b4d-aa09-b767537b2c18","method":"POST","path":"/api/process-cv","template":"unknown","session":"16957e2e-9e69-4b4d-aa09-b767537b2c18","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"16957e2e-9e69-4b4d-aa09-b767537b2c18","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.367Z","level":"info","message":"process_cv_started","requestId":"16957e2e-9e69-4b4d-aa09-b767537b2c18","jobId":"d7c240b3-4889-4cc9-b5aa-6177c9087c3c","manualJobDescriptionProvided":false,"template":"unknown","session":"d7c240b3-4889-4cc9-b5aa-6177c9087c3c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d7c240b3-4889-4cc9-b5aa-6177c9087c3c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.367Z","level":"info","message":"template_selection","requestId":"16957e2e-9e69-4b4d-aa09-b767537b2c18","jobId":"d7c240b3-4889-4cc9-b5aa-6177c9087c3c","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"d7c240b3-4889-4cc9-b5aa-6177c9087c3c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d7c240b3-4889-4cc9-b5aa-6177c9087c3c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.368Z","level":"warn","message":"job_description_missing","requestId":"16957e2e-9e69-4b4d-aa09-b767537b2c18","jobId":"d7c240b3-4889-4cc9-b5aa-6177c9087c3c","template":"unknown","session":"d7c240b3-4889-4cc9-b5aa-6177c9087c3c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d7c240b3-4889-4cc9-b5aa-6177c9087c3c","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24924:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.373Z","level":"warn","message":"api_error_response","requestId":"16957e2e-9e69-4b4d-aa09-b767537b2c18","jobId":"d7c240b3-4889-4cc9-b5aa-6177c9087c3c","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"16957e2e-9e69-4b4d-aa09-b767537b2c18","jobId":"d7c240b3-4889-4cc9-b5aa-6177c9087c3c"},"template":"unknown","session":"d7c240b3-4889-4cc9-b5aa-6177c9087c3c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d7c240b3-4889-4cc9-b5aa-6177c9087c3c","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:3851:3)
      at sendError (server.js:24925:14)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:07.379Z","level":"info","message":"http_request_completed","requestId":"16957e2e-9e69-4b4d-aa09-b767537b2c18","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":14,"contentLength":"244","template":"unknown","session":"16957e2e-9e69-4b4d-aa09-b767537b2c18","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"16957e2e-9e69-4b4d-aa09-b767537b2c18","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.381Z","level":"info","message":"http_request_received","requestId":"55c50828-8689-4279-9651-14300cd03da3","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"55c50828-8689-4279-9651-14300cd03da3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"55c50828-8689-4279-9651-14300cd03da3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.383Z","level":"warn","message":"api_error_response","requestId":"55c50828-8689-4279-9651-14300cd03da3","jobId":"7cb5adbf-8313-486e-b402-d06e1b02295e","status":400,"error":{"code":"JOB_ID_REQUIRED","message":"jobId is required to generate enhanced documents.","details":{},"requestId":"55c50828-8689-4279-9651-14300cd03da3","jobId":"7cb5adbf-8313-486e-b402-d06e1b02295e"},"template":"unknown","session":"7cb5adbf-8313-486e-b402-d06e1b02295e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7cb5adbf-8313-486e-b402-d06e1b02295e","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:3851:3)
      at sendError (server.js:22334:14)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:16251:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveStatic (node_modules/serve-static/index.js:75:16)
      at clientStaticMiddleware (server.js:4786:14)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:1142:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:1473:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:4767:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at urlencodedParser (node_modules/body-parser/lib/types/urlencoded.js:85:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

  console.log
    {"timestamp":"2025-11-30T16:01:07.393Z","level":"info","message":"http_request_completed","requestId":"55c50828-8689-4279-9651-14300cd03da3","method":"POST","path":"/api/generate-enhanced-docs","statusCode":400,"durationMs":12,"contentLength":"225","template":"unknown","session":"55c50828-8689-4279-9651-14300cd03da3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"55c50828-8689-4279-9651-14300cd03da3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.394Z","level":"info","message":"http_request_received","requestId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.396Z","level":"warn","message":"generation_job_context_missing","requestId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:22526:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.404Z","level":"info","message":"llm_call_metrics","requestId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"7ff1a2fe49f8d71808c8d1fdb99db5320bf5a75739ee80e7efed665ea9588077","outputDigest":"5af248b63fed3c73350376c1d32988fbeb95f6a40181a19b7e450c5651a56ea6","addedSkillCount":0,"template":"resume_rewrite","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.405Z","level":"info","message":"generation_section_rewrite_completed","requestId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.408Z","level":"info","message":"generation_resume_verified","requestId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","template":"unknown","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.413Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
          at runMicrotasks (<anonymous>)
      at server.js:22829:28

  console.log
    {"timestamp":"2025-11-30T16:01:07.419Z","level":"info","message":"generation_cover_letters_completed","requestId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","variants":2,"fallbackApplied":true,"template":"unknown","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.420Z","level":"info","message":"pdf_generation_attempt","requestId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/4f8517bc-acaf-4691-a8f0-f02e1c419a87/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/4f8517bc-acaf-4691-a8f0-f02e1c419a87/enhanced_modern.pdf","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.421Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/4f8517bc-acaf-4691-a8f0-f02e1c419a87/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.422Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/4f8517bc-acaf-4691-a8f0-f02e1c419a87/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/4f8517bc-acaf-4691-a8f0-f02e1c419a87/enhanced_modern.pdf","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.422Z","level":"info","message":"pdf_generation_attempt","requestId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/4f8517bc-acaf-4691-a8f0-f02e1c419a87/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/4f8517bc-acaf-4691-a8f0-f02e1c419a87/enhanced_professional.pdf","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.423Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/4f8517bc-acaf-4691-a8f0-f02e1c419a87/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.423Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/4f8517bc-acaf-4691-a8f0-f02e1c419a87/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/4f8517bc-acaf-4691-a8f0-f02e1c419a87/enhanced_professional.pdf","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.424Z","level":"info","message":"pdf_generation_attempt","requestId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/4f8517bc-acaf-4691-a8f0-f02e1c419a87/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/4f8517bc-acaf-4691-a8f0-f02e1c419a87/cover_letter_cover_modern.pdf","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.425Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/4f8517bc-acaf-4691-a8f0-f02e1c419a87/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.425Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/4f8517bc-acaf-4691-a8f0-f02e1c419a87/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/4f8517bc-acaf-4691-a8f0-f02e1c419a87/cover_letter_cover_modern.pdf","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.426Z","level":"info","message":"pdf_generation_attempt","requestId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/4f8517bc-acaf-4691-a8f0-f02e1c419a87/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/4f8517bc-acaf-4691-a8f0-f02e1c419a87/cover_letter_cover_professional.pdf","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.427Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/4f8517bc-acaf-4691-a8f0-f02e1c419a87/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.427Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/4f8517bc-acaf-4691-a8f0-f02e1c419a87/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/4f8517bc-acaf-4691-a8f0-f02e1c419a87/cover_letter_cover_professional.pdf","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.430Z","level":"info","message":"llm_call_metrics","requestId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.430Z","level":"info","message":"generation_completed","requestId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","enhancedScore":0,"outputs":4,"template":"unknown","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.433Z","level":"info","message":"http_request_completed","requestId":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":39,"contentLength":"55422","template":"unknown","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f8517bc-acaf-4691-a8f0-f02e1c419a87","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.435Z","level":"info","message":"http_request_received","requestId":"cea344bf-f206-4ccc-83a2-5987367b7f55","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.436Z","level":"warn","message":"generation_job_context_missing","requestId":"cea344bf-f206-4ccc-83a2-5987367b7f55","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:22526:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.448Z","level":"info","message":"llm_call_metrics","requestId":"cea344bf-f206-4ccc-83a2-5987367b7f55","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.449Z","level":"info","message":"generation_section_rewrite_completed","requestId":"cea344bf-f206-4ccc-83a2-5987367b7f55","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cea344bf-f206-4ccc-83a2-5987367b7f55","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.453Z","level":"info","message":"generation_resume_verified","requestId":"cea344bf-f206-4ccc-83a2-5987367b7f55","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cea344bf-f206-4ccc-83a2-5987367b7f55","template":"unknown","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.464Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"cea344bf-f206-4ccc-83a2-5987367b7f55","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cea344bf-f206-4ccc-83a2-5987367b7f55","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
          at runMicrotasks (<anonymous>)
      at server.js:22829:28

  console.log
    {"timestamp":"2025-11-30T16:01:07.469Z","level":"info","message":"generation_cover_letters_completed","requestId":"cea344bf-f206-4ccc-83a2-5987367b7f55","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cea344bf-f206-4ccc-83a2-5987367b7f55","variants":2,"fallbackApplied":true,"template":"unknown","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.470Z","level":"info","message":"pdf_generation_attempt","requestId":"cea344bf-f206-4ccc-83a2-5987367b7f55","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cea344bf-f206-4ccc-83a2-5987367b7f55","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/cea344bf-f206-4ccc-83a2-5987367b7f55/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/cea344bf-f206-4ccc-83a2-5987367b7f55/enhanced_modern.pdf","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.471Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cea344bf-f206-4ccc-83a2-5987367b7f55","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cea344bf-f206-4ccc-83a2-5987367b7f55","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/cea344bf-f206-4ccc-83a2-5987367b7f55/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.473Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cea344bf-f206-4ccc-83a2-5987367b7f55","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cea344bf-f206-4ccc-83a2-5987367b7f55","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/cea344bf-f206-4ccc-83a2-5987367b7f55/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/cea344bf-f206-4ccc-83a2-5987367b7f55/enhanced_modern.pdf","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.474Z","level":"info","message":"pdf_generation_attempt","requestId":"cea344bf-f206-4ccc-83a2-5987367b7f55","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cea344bf-f206-4ccc-83a2-5987367b7f55","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/cea344bf-f206-4ccc-83a2-5987367b7f55/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/cea344bf-f206-4ccc-83a2-5987367b7f55/enhanced_professional.pdf","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.474Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cea344bf-f206-4ccc-83a2-5987367b7f55","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cea344bf-f206-4ccc-83a2-5987367b7f55","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/cea344bf-f206-4ccc-83a2-5987367b7f55/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.475Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cea344bf-f206-4ccc-83a2-5987367b7f55","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cea344bf-f206-4ccc-83a2-5987367b7f55","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/cea344bf-f206-4ccc-83a2-5987367b7f55/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/cea344bf-f206-4ccc-83a2-5987367b7f55/enhanced_professional.pdf","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.475Z","level":"info","message":"pdf_generation_attempt","requestId":"cea344bf-f206-4ccc-83a2-5987367b7f55","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cea344bf-f206-4ccc-83a2-5987367b7f55","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/cea344bf-f206-4ccc-83a2-5987367b7f55/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/cea344bf-f206-4ccc-83a2-5987367b7f55/cover_letter_cover_modern.pdf","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.476Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cea344bf-f206-4ccc-83a2-5987367b7f55","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cea344bf-f206-4ccc-83a2-5987367b7f55","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/cea344bf-f206-4ccc-83a2-5987367b7f55/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.477Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cea344bf-f206-4ccc-83a2-5987367b7f55","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cea344bf-f206-4ccc-83a2-5987367b7f55","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/cea344bf-f206-4ccc-83a2-5987367b7f55/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/cea344bf-f206-4ccc-83a2-5987367b7f55/cover_letter_cover_modern.pdf","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.478Z","level":"info","message":"pdf_generation_attempt","requestId":"cea344bf-f206-4ccc-83a2-5987367b7f55","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cea344bf-f206-4ccc-83a2-5987367b7f55","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/cea344bf-f206-4ccc-83a2-5987367b7f55/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/cea344bf-f206-4ccc-83a2-5987367b7f55/cover_letter_cover_professional.pdf","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.478Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cea344bf-f206-4ccc-83a2-5987367b7f55","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cea344bf-f206-4ccc-83a2-5987367b7f55","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/cea344bf-f206-4ccc-83a2-5987367b7f55/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.479Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cea344bf-f206-4ccc-83a2-5987367b7f55","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cea344bf-f206-4ccc-83a2-5987367b7f55","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/cea344bf-f206-4ccc-83a2-5987367b7f55/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/cea344bf-f206-4ccc-83a2-5987367b7f55/cover_letter_cover_professional.pdf","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.483Z","level":"info","message":"llm_call_metrics","requestId":"cea344bf-f206-4ccc-83a2-5987367b7f55","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.485Z","level":"info","message":"generation_completed","requestId":"cea344bf-f206-4ccc-83a2-5987367b7f55","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cea344bf-f206-4ccc-83a2-5987367b7f55","enhancedScore":0,"outputs":4,"template":"unknown","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.487Z","level":"info","message":"http_request_completed","requestId":"cea344bf-f206-4ccc-83a2-5987367b7f55","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":52,"contentLength":"60025","template":"unknown","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cea344bf-f206-4ccc-83a2-5987367b7f55","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.490Z","level":"info","message":"http_request_received","requestId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.491Z","level":"warn","message":"generation_job_context_missing","requestId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:22526:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.500Z","level":"info","message":"llm_call_metrics","requestId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.501Z","level":"info","message":"generation_section_rewrite_completed","requestId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.505Z","level":"info","message":"generation_resume_verified","requestId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","template":"unknown","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.511Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","invalidLetters":[{"key":"cover_letter1","issues":["placeholder_detected","weak_closing","section_heading_without_content"]}],"template":"unknown","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
          at runMicrotasks (<anonymous>)
      at server.js:22829:28

  console.warn
    {"timestamp":"2025-11-30T16:01:07.517Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","missing":["cover_letter1"],"template":"unknown","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
          at runMicrotasks (<anonymous>)
      at server.js:22829:28

  console.log
    {"timestamp":"2025-11-30T16:01:07.522Z","level":"info","message":"generation_cover_letters_completed","requestId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","variants":2,"fallbackApplied":true,"template":"unknown","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.523Z","level":"info","message":"pdf_generation_attempt","requestId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/240d9e5e-9ebd-4b3c-b234-2f045757d2ec/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/240d9e5e-9ebd-4b3c-b234-2f045757d2ec/enhanced_modern.pdf","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.524Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/240d9e5e-9ebd-4b3c-b234-2f045757d2ec/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.525Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/240d9e5e-9ebd-4b3c-b234-2f045757d2ec/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/240d9e5e-9ebd-4b3c-b234-2f045757d2ec/enhanced_modern.pdf","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.526Z","level":"info","message":"pdf_generation_attempt","requestId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/240d9e5e-9ebd-4b3c-b234-2f045757d2ec/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/240d9e5e-9ebd-4b3c-b234-2f045757d2ec/enhanced_professional.pdf","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.527Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/240d9e5e-9ebd-4b3c-b234-2f045757d2ec/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.528Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/240d9e5e-9ebd-4b3c-b234-2f045757d2ec/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/240d9e5e-9ebd-4b3c-b234-2f045757d2ec/enhanced_professional.pdf","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.528Z","level":"info","message":"pdf_generation_attempt","requestId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/240d9e5e-9ebd-4b3c-b234-2f045757d2ec/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/240d9e5e-9ebd-4b3c-b234-2f045757d2ec/cover_letter_cover_modern.pdf","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.529Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/240d9e5e-9ebd-4b3c-b234-2f045757d2ec/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.530Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/240d9e5e-9ebd-4b3c-b234-2f045757d2ec/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/240d9e5e-9ebd-4b3c-b234-2f045757d2ec/cover_letter_cover_modern.pdf","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.530Z","level":"info","message":"pdf_generation_attempt","requestId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/240d9e5e-9ebd-4b3c-b234-2f045757d2ec/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/240d9e5e-9ebd-4b3c-b234-2f045757d2ec/cover_letter_cover_professional.pdf","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.531Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/240d9e5e-9ebd-4b3c-b234-2f045757d2ec/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.532Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/240d9e5e-9ebd-4b3c-b234-2f045757d2ec/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/240d9e5e-9ebd-4b3c-b234-2f045757d2ec/cover_letter_cover_professional.pdf","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.535Z","level":"info","message":"llm_call_metrics","requestId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.536Z","level":"info","message":"generation_completed","requestId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","enhancedScore":0,"outputs":4,"template":"unknown","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.538Z","level":"info","message":"http_request_completed","requestId":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":48,"contentLength":"52626","template":"unknown","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"240d9e5e-9ebd-4b3c-b234-2f045757d2ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.540Z","level":"info","message":"http_request_received","requestId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.542Z","level":"warn","message":"generation_job_context_missing","requestId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:22526:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.550Z","level":"info","message":"llm_call_metrics","requestId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.551Z","level":"info","message":"generation_section_rewrite_completed","requestId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.555Z","level":"info","message":"generation_resume_verified","requestId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","template":"unknown","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.562Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
          at runMicrotasks (<anonymous>)
      at server.js:22829:28

  console.log
    {"timestamp":"2025-11-30T16:01:07.568Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","variants":["cover_letter1"],"template":"unknown","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.570Z","level":"info","message":"generation_cover_letters_completed","requestId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","variants":2,"fallbackApplied":true,"template":"unknown","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.571Z","level":"info","message":"pdf_generation_attempt","requestId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/48e1e6c2-c5b6-4366-88fc-0dab2cf98812/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/48e1e6c2-c5b6-4366-88fc-0dab2cf98812/enhanced_modern.pdf","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.572Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/48e1e6c2-c5b6-4366-88fc-0dab2cf98812/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.572Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/48e1e6c2-c5b6-4366-88fc-0dab2cf98812/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/48e1e6c2-c5b6-4366-88fc-0dab2cf98812/enhanced_modern.pdf","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.573Z","level":"info","message":"pdf_generation_attempt","requestId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/48e1e6c2-c5b6-4366-88fc-0dab2cf98812/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/48e1e6c2-c5b6-4366-88fc-0dab2cf98812/enhanced_professional.pdf","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.573Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/48e1e6c2-c5b6-4366-88fc-0dab2cf98812/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.574Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/48e1e6c2-c5b6-4366-88fc-0dab2cf98812/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/48e1e6c2-c5b6-4366-88fc-0dab2cf98812/enhanced_professional.pdf","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.575Z","level":"info","message":"pdf_generation_attempt","requestId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/48e1e6c2-c5b6-4366-88fc-0dab2cf98812/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/48e1e6c2-c5b6-4366-88fc-0dab2cf98812/cover_letter_cover_modern.pdf","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.575Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/48e1e6c2-c5b6-4366-88fc-0dab2cf98812/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.576Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/48e1e6c2-c5b6-4366-88fc-0dab2cf98812/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/48e1e6c2-c5b6-4366-88fc-0dab2cf98812/cover_letter_cover_modern.pdf","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.577Z","level":"info","message":"pdf_generation_attempt","requestId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/48e1e6c2-c5b6-4366-88fc-0dab2cf98812/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/48e1e6c2-c5b6-4366-88fc-0dab2cf98812/cover_letter_cover_professional.pdf","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.577Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/48e1e6c2-c5b6-4366-88fc-0dab2cf98812/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.578Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/48e1e6c2-c5b6-4366-88fc-0dab2cf98812/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/48e1e6c2-c5b6-4366-88fc-0dab2cf98812/cover_letter_cover_professional.pdf","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.583Z","level":"info","message":"llm_call_metrics","requestId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.584Z","level":"info","message":"generation_completed","requestId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","enhancedScore":0,"outputs":4,"template":"unknown","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.588Z","level":"info","message":"http_request_completed","requestId":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":48,"contentLength":"48347","template":"unknown","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"48e1e6c2-c5b6-4366-88fc-0dab2cf98812","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.591Z","level":"info","message":"http_request_received","requestId":"951362f8-ab23-4a8c-89d8-ec386e916233","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.593Z","level":"warn","message":"generation_job_context_missing","requestId":"951362f8-ab23-4a8c-89d8-ec386e916233","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:22526:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.601Z","level":"info","message":"llm_call_metrics","requestId":"951362f8-ab23-4a8c-89d8-ec386e916233","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.602Z","level":"info","message":"generation_section_rewrite_completed","requestId":"951362f8-ab23-4a8c-89d8-ec386e916233","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"951362f8-ab23-4a8c-89d8-ec386e916233","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.605Z","level":"info","message":"generation_resume_verified","requestId":"951362f8-ab23-4a8c-89d8-ec386e916233","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"951362f8-ab23-4a8c-89d8-ec386e916233","template":"unknown","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.620Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"951362f8-ab23-4a8c-89d8-ec386e916233","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"951362f8-ab23-4a8c-89d8-ec386e916233","invalidLetters":[{"key":"cover_letter1","issues":["exceeds_word_limit"]},{"key":"cover_letter2","issues":["exceeds_word_limit"]}],"template":"unknown","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
          at runMicrotasks (<anonymous>)
      at server.js:22829:28

  console.warn
    {"timestamp":"2025-11-30T16:01:07.627Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"951362f8-ab23-4a8c-89d8-ec386e916233","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"951362f8-ab23-4a8c-89d8-ec386e916233","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
          at runMicrotasks (<anonymous>)
      at server.js:22829:28

  console.log
    {"timestamp":"2025-11-30T16:01:07.632Z","level":"info","message":"generation_cover_letters_completed","requestId":"951362f8-ab23-4a8c-89d8-ec386e916233","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"951362f8-ab23-4a8c-89d8-ec386e916233","variants":2,"fallbackApplied":true,"template":"unknown","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.634Z","level":"info","message":"pdf_generation_attempt","requestId":"951362f8-ab23-4a8c-89d8-ec386e916233","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"951362f8-ab23-4a8c-89d8-ec386e916233","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/951362f8-ab23-4a8c-89d8-ec386e916233/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/951362f8-ab23-4a8c-89d8-ec386e916233/enhanced_modern.pdf","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.634Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"951362f8-ab23-4a8c-89d8-ec386e916233","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"951362f8-ab23-4a8c-89d8-ec386e916233","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/951362f8-ab23-4a8c-89d8-ec386e916233/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.635Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"951362f8-ab23-4a8c-89d8-ec386e916233","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"951362f8-ab23-4a8c-89d8-ec386e916233","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/951362f8-ab23-4a8c-89d8-ec386e916233/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/951362f8-ab23-4a8c-89d8-ec386e916233/enhanced_modern.pdf","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.636Z","level":"info","message":"pdf_generation_attempt","requestId":"951362f8-ab23-4a8c-89d8-ec386e916233","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"951362f8-ab23-4a8c-89d8-ec386e916233","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/951362f8-ab23-4a8c-89d8-ec386e916233/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/951362f8-ab23-4a8c-89d8-ec386e916233/enhanced_professional.pdf","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.636Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"951362f8-ab23-4a8c-89d8-ec386e916233","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"951362f8-ab23-4a8c-89d8-ec386e916233","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/951362f8-ab23-4a8c-89d8-ec386e916233/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.637Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"951362f8-ab23-4a8c-89d8-ec386e916233","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"951362f8-ab23-4a8c-89d8-ec386e916233","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/951362f8-ab23-4a8c-89d8-ec386e916233/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/951362f8-ab23-4a8c-89d8-ec386e916233/enhanced_professional.pdf","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.637Z","level":"info","message":"pdf_generation_attempt","requestId":"951362f8-ab23-4a8c-89d8-ec386e916233","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"951362f8-ab23-4a8c-89d8-ec386e916233","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/951362f8-ab23-4a8c-89d8-ec386e916233/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/951362f8-ab23-4a8c-89d8-ec386e916233/cover_letter_cover_modern.pdf","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.638Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"951362f8-ab23-4a8c-89d8-ec386e916233","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"951362f8-ab23-4a8c-89d8-ec386e916233","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/951362f8-ab23-4a8c-89d8-ec386e916233/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.639Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"951362f8-ab23-4a8c-89d8-ec386e916233","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"951362f8-ab23-4a8c-89d8-ec386e916233","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/951362f8-ab23-4a8c-89d8-ec386e916233/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/951362f8-ab23-4a8c-89d8-ec386e916233/cover_letter_cover_modern.pdf","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.639Z","level":"info","message":"pdf_generation_attempt","requestId":"951362f8-ab23-4a8c-89d8-ec386e916233","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"951362f8-ab23-4a8c-89d8-ec386e916233","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/951362f8-ab23-4a8c-89d8-ec386e916233/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/951362f8-ab23-4a8c-89d8-ec386e916233/cover_letter_cover_professional.pdf","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.640Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"951362f8-ab23-4a8c-89d8-ec386e916233","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"951362f8-ab23-4a8c-89d8-ec386e916233","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/951362f8-ab23-4a8c-89d8-ec386e916233/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.641Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"951362f8-ab23-4a8c-89d8-ec386e916233","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"951362f8-ab23-4a8c-89d8-ec386e916233","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/951362f8-ab23-4a8c-89d8-ec386e916233/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/951362f8-ab23-4a8c-89d8-ec386e916233/cover_letter_cover_professional.pdf","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.649Z","level":"info","message":"llm_call_metrics","requestId":"951362f8-ab23-4a8c-89d8-ec386e916233","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.650Z","level":"info","message":"generation_completed","requestId":"951362f8-ab23-4a8c-89d8-ec386e916233","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"951362f8-ab23-4a8c-89d8-ec386e916233","enhancedScore":0,"outputs":4,"template":"unknown","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.652Z","level":"info","message":"http_request_completed","requestId":"951362f8-ab23-4a8c-89d8-ec386e916233","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":61,"contentLength":"60025","template":"unknown","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"951362f8-ab23-4a8c-89d8-ec386e916233","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.655Z","level":"info","message":"http_request_received","requestId":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.657Z","level":"warn","message":"generation_job_context_missing","requestId":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:22526:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.668Z","level":"info","message":"llm_call_metrics","requestId":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d49fc3c9f3e6b68c516d8ed2277f352be0cdf73d24dc9159a6ddd8d2156f86c9","outputDigest":"df45602e27dd18441258611754779b1df94aaddbe2a7ac6965c12432f6053bc4","addedSkillCount":0,"template":"resume_rewrite","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.668Z","level":"info","message":"generation_section_rewrite_completed","requestId":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.671Z","level":"info","message":"generation_resume_verified","requestId":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","template":"unknown","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.674Z","level":"warn","message":"generation_cover_letters_unavailable","requestId":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","unavailable":["cover_letter1","cover_letter2"],"template":"unknown","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20569:7)
          at runMicrotasks (<anonymous>)
      at server.js:22829:28

  console.log
    {"timestamp":"2025-11-30T16:01:07.679Z","level":"info","message":"generation_cover_letters_completed","requestId":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","variants":0,"fallbackApplied":false,"template":"unknown","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.680Z","level":"info","message":"pdf_generation_attempt","requestId":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/82c8248d-ccf4-4fcd-845a-196f274c6f8f/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/82c8248d-ccf4-4fcd-845a-196f274c6f8f/enhanced_modern.pdf","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.680Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/82c8248d-ccf4-4fcd-845a-196f274c6f8f/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.681Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/82c8248d-ccf4-4fcd-845a-196f274c6f8f/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/82c8248d-ccf4-4fcd-845a-196f274c6f8f/enhanced_modern.pdf","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.681Z","level":"info","message":"pdf_generation_attempt","requestId":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/82c8248d-ccf4-4fcd-845a-196f274c6f8f/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/82c8248d-ccf4-4fcd-845a-196f274c6f8f/enhanced_professional.pdf","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.682Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/82c8248d-ccf4-4fcd-845a-196f274c6f8f/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.683Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/82c8248d-ccf4-4fcd-845a-196f274c6f8f/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/82c8248d-ccf4-4fcd-845a-196f274c6f8f/enhanced_professional.pdf","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.685Z","level":"info","message":"llm_call_metrics","requestId":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.686Z","level":"info","message":"generation_completed","requestId":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","enhancedScore":0,"outputs":2,"template":"unknown","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.689Z","level":"info","message":"http_request_completed","requestId":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":34,"contentLength":"32129","template":"unknown","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c8248d-ccf4-4fcd-845a-196f274c6f8f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.692Z","level":"info","message":"http_request_received","requestId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.697Z","level":"warn","message":"generation_change_log_load_failed","requestId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22592:33\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:22594:13)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.702Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.705Z","level":"info","message":"llm_call_metrics","requestId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"acf1b9378acb575b229122bd0509d239fb40292b5a2de638f8974b10630dddf9","outputDigest":"d38deb915a9824cbd24a0a21322f3421cffa08850deba8b630d4c012e36accc6","addedSkillCount":0,"template":"resume_rewrite","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.706Z","level":"info","message":"generation_section_rewrite_completed","requestId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.706Z","level":"info","message":"llm_call_metrics","requestId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"a89c45c951abfe25af2671eb78aaf142165e3f6bd78d4b83089b4f9a78e64f20","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.709Z","level":"info","message":"generation_resume_verified","requestId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","template":"unknown","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.712Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
          at runMicrotasks (<anonymous>)
      at server.js:22829:28

  console.warn
    {"timestamp":"2025-11-30T16:01:07.718Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
          at runMicrotasks (<anonymous>)
      at server.js:22829:28

  console.log
    {"timestamp":"2025-11-30T16:01:07.723Z","level":"info","message":"generation_cover_letters_completed","requestId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","variants":2,"fallbackApplied":true,"template":"unknown","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.724Z","level":"info","message":"pdf_generation_attempt","requestId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.725Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.726Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.726Z","level":"info","message":"pdf_generation_attempt","requestId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.727Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.727Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.728Z","level":"info","message":"pdf_generation_attempt","requestId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.729Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.730Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.730Z","level":"info","message":"pdf_generation_attempt","requestId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.731Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.732Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.734Z","level":"info","message":"llm_call_metrics","requestId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"6daad81d53ca29e2440dbdfd5e7ac149ac9bc677f5bd5a926b958a85793be6c1","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.735Z","level":"info","message":"generation_completed","requestId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","enhancedScore":0,"outputs":5,"template":"unknown","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.737Z","level":"info","message":"http_request_completed","requestId":"627bfbe0-5d05-4516-8b67-e7cd3151306e","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":45,"contentLength":"52667","template":"unknown","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"627bfbe0-5d05-4516-8b67-e7cd3151306e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.741Z","level":"info","message":"http_request_received","requestId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.743Z","level":"warn","message":"generation_change_log_load_failed","requestId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22592:33\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:22594:13)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.748Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.751Z","level":"info","message":"llm_call_metrics","requestId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"fc71d2d7420045c9674c39d1bc893139670e4554452723b0b8930f14ae74efd1","outputDigest":"994365ee088ebf4da994d91479825476737b8633f45dc9441cf82f317f739457","addedSkillCount":0,"template":"resume_rewrite","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.751Z","level":"info","message":"generation_section_rewrite_completed","requestId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.752Z","level":"info","message":"llm_call_metrics","requestId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"2941229673895ce87f4eb2dd47c041b77270273e0250170302676d5a10351fbf","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.754Z","level":"info","message":"generation_resume_verified","requestId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","template":"unknown","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.757Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
          at runMicrotasks (<anonymous>)
      at server.js:22829:28

  console.warn
    {"timestamp":"2025-11-30T16:01:07.763Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
          at runMicrotasks (<anonymous>)
      at server.js:22829:28

  console.log
    {"timestamp":"2025-11-30T16:01:07.768Z","level":"info","message":"generation_cover_letters_completed","requestId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","variants":2,"fallbackApplied":true,"template":"unknown","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.769Z","level":"info","message":"pdf_generation_attempt","requestId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.770Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.771Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.771Z","level":"info","message":"pdf_generation_attempt","requestId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.772Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.772Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.773Z","level":"info","message":"pdf_generation_attempt","requestId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.773Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.774Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.775Z","level":"info","message":"pdf_generation_attempt","requestId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.775Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.776Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.778Z","level":"info","message":"llm_call_metrics","requestId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"bb70bada40357e7ad85703e98908783ac38c79f83207e1ee038136c2f4863594","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.780Z","level":"info","message":"generation_completed","requestId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","enhancedScore":0,"outputs":5,"template":"unknown","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.783Z","level":"info","message":"http_request_completed","requestId":"c8284269-abf7-42d4-9d2f-48a16b060fb5","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":42,"contentLength":"50998","template":"unknown","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8284269-abf7-42d4-9d2f-48a16b060fb5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.787Z","level":"info","message":"http_request_received","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","method":"POST","path":"/api/process-cv","template":"unknown","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.788Z","level":"info","message":"process_cv_started","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","manualJobDescriptionProvided":true,"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.789Z","level":"info","message":"template_selection","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.790Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:01:07.795Z","level":"info","message":"initial_upload_completed","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","bucket":"test-bucket","key":"cv/candidate/cb476de5-3073-49a6-9095-4590f0462ca6/incoming/original.pdf","template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.796Z","level":"info","message":"resume_text_extracted","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","characters":57,"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.796Z","level":"info","message":"resume_classified","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.797Z","level":"info","message":"raw_upload_relocated","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","bucket":"test-bucket","fromKey":"cv/candidate/cb476de5-3073-49a6-9095-4590f0462ca6/incoming/original.pdf","toKey":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/original.pdf","template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.797Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","bucket":"test-bucket","key":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/original.pdf","template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.797Z","level":"info","message":"dynamo_initial_record_written","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","bucket":"test-bucket","key":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/original.pdf","template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.798Z","level":"info","message":"upload_metadata_written","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","bucket":"test-bucket","key":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/logs/log.json","template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.798Z","level":"info","message":"job_description_supplied_manually","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","characters":174,"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.799Z","level":"info","message":"job_description_analyzed","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","jobTitle":"","jobSkills":5,"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.800Z","level":"info","message":"resume_skills_analyzed","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.801Z","level":"info","message":"llm_call_metrics","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.802Z","level":"info","message":"process_cv_scoring_completed","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.805Z","level":"info","message":"llm_call_metrics","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"e0b0f289a004a53fc90e2f086b7a8368b36f3cb57e330732da1cad386d479cd5","addedSkillCount":0,"template":"resume_rewrite","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.806Z","level":"info","message":"generation_section_rewrite_completed","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","generationRunId":"cb476de5-3073-49a6-9095-4590f0462ca6","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.808Z","level":"info","message":"generation_resume_verified","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","generationRunId":"cb476de5-3073-49a6-9095-4590f0462ca6","template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.812Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","generationRunId":"cb476de5-3073-49a6-9095-4590f0462ca6","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
          at runMicrotasks (<anonymous>)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:07.817Z","level":"info","message":"generation_cover_letters_completed","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","generationRunId":"cb476de5-3073-49a6-9095-4590f0462ca6","variants":2,"fallbackApplied":true,"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.818Z","level":"info","message":"pdf_generation_attempt","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","generationRunId":"cb476de5-3073-49a6-9095-4590f0462ca6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/enhanced_modern.pdf","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.819Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","generationRunId":"cb476de5-3073-49a6-9095-4590f0462ca6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-11-30T16:01:07.820Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","generationRunId":"cb476de5-3073-49a6-9095-4590f0462ca6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3317:27)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/enhanced_modern.pdf","environment":{"nodeEnv":"development","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
          at runMicrotasks (<anonymous>)
      at generateEnhancedDocumentsResponse (server.js:21130:11)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:01:07.825Z","level":"info","message":"pdf_generation_attempt","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","generationRunId":"cb476de5-3073-49a6-9095-4590f0462ca6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/enhanced_professional.pdf","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.826Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","generationRunId":"cb476de5-3073-49a6-9095-4590f0462ca6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.826Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","generationRunId":"cb476de5-3073-49a6-9095-4590f0462ca6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/","sessionId":"[REDACTED]","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/enhanced_professional.pdf","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.827Z","level":"info","message":"pdf_generation_attempt","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","generationRunId":"cb476de5-3073-49a6-9095-4590f0462ca6","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/enhanced_professional.pdf","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.828Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","generationRunId":"cb476de5-3073-49a6-9095-4590f0462ca6","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.828Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","generationRunId":"cb476de5-3073-49a6-9095-4590f0462ca6","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/enhanced_professional.pdf","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.829Z","level":"info","message":"pdf_generation_attempt","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","generationRunId":"cb476de5-3073-49a6-9095-4590f0462ca6","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/cover_letter_cover_modern.pdf","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.829Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","generationRunId":"cb476de5-3073-49a6-9095-4590f0462ca6","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.830Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","generationRunId":"cb476de5-3073-49a6-9095-4590f0462ca6","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":16,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/cover_letter_cover_modern.pdf","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.831Z","level":"info","message":"pdf_generation_attempt","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","generationRunId":"cb476de5-3073-49a6-9095-4590f0462ca6","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/cover_letter_cover_professional.pdf","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.832Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","generationRunId":"cb476de5-3073-49a6-9095-4590f0462ca6","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.832Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","generationRunId":"cb476de5-3073-49a6-9095-4590f0462ca6","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":22,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/cb476de5-3073-49a6-9095-4590f0462ca6/cover_letter_cover_professional.pdf","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.835Z","level":"info","message":"llm_call_metrics","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"b81624598eca82514b81f4fd0ef858c4f8eda9605bf4a3b33ed31144fa2daed3","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.836Z","level":"info","message":"generation_completed","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","generationRunId":"cb476de5-3073-49a6-9095-4590f0462ca6","enhancedScore":80,"outputs":5,"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.837Z","level":"info","message":"placeholder_record_deleted","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","jobId":"d3833916-a083-478e-8212-2894eab315ef","placeholderIdentifier":"cb476de5-3073-49a6-9095-4590f0462ca6","template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3833916-a083-478e-8212-2894eab315ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.838Z","level":"info","message":"http_request_completed","requestId":"cb476de5-3073-49a6-9095-4590f0462ca6","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":51,"contentLength":"59519","template":"unknown","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb476de5-3073-49a6-9095-4590f0462ca6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.841Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":2,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.862Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-11-30T16:01:07.862Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3422:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3436:20)

  console.log
    {"timestamp":"2025-11-30T16:01:07.868Z","level":"info","message":"pdf_generation_backstop_succeeded","documentType":"resume","template":"2025","templatesBackstopped":["2025"],"backstopResults":[{"templateId":"2025","bytes":1024}],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.868Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":2,"totalAttempts":2,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.869Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.869Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"modern","attempt":2,"bytes":10,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.870Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.871Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-11-30T16:01:07.871Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"modern","attempt":1,"error":{"name":"Error","message":"Modern renderer unavailable","stack":"Error: Modern renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3461:30)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3465:20)

  console.log
    {"timestamp":"2025-11-30T16:01:07.877Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.877Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.877Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.878Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.879Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-11-30T16:01:07.879Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3483:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3496:20)

  console.log
    {"timestamp":"2025-11-30T16:01:07.885Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.885Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.885Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.886Z","level":"info","message":"pdf_generation_attempt","documentType":"cover_letter","template":"cover_modern","attempt":1,"totalAttempts":1,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.887Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"cover_letter","template":"cover_modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-11-30T16:01:07.887Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"cover_letter","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"Primary renderer offline","stack":"Error: Primary renderer offline\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3514:48)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3551:5)

  console.warn
    {"timestamp":"2025-11-30T16:01:07.894Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10986:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3551:5)

  console.error
    {"timestamp":"2025-11-30T16:01:07.900Z","level":"error","message":"pdf_generation_plain_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","error":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3516:13\n    at plainPdfFallbackOverride (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9622:12)\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:10990:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3551:5)"},"forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:11035:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3551:5)

  console.error
    {"timestamp":"2025-11-30T16:01:07.905Z","level":"error","message":"pdf_generation_minimal_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3519:13\n    at minimalPlainPdfBufferGenerator (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11056:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3551:5)"},"previousError":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3516:13\n    at plainPdfFallbackOverride (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9622:12)\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:10990:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3551:5)"},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:11079:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3551:5)

  console.error
    {"timestamp":"2025-11-30T16:01:07.911Z","level":"error","message":"pdf_generation_all_attempts_failed","documentType":"cover_letter","templates":["cover_modern"],"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3519:13\n    at minimalPlainPdfBufferGenerator (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11056:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3551:5)"},"targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"summary":"Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable","messages":["Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable"],"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:11101:3)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3551:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.946Z","level":"info","message":"http_request_received","requestId":"6f81bdba-68f1-481f-9524-4a3b5da15e8d","method":"POST","path":"/api/change-log","template":"unknown","session":"6f81bdba-68f1-481f-9524-4a3b5da15e8d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6f81bdba-68f1-481f-9524-4a3b5da15e8d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.950Z","level":"info","message":"change_log_updated","requestId":"6f81bdba-68f1-481f-9524-4a3b5da15e8d","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.951Z","level":"info","message":"http_request_completed","requestId":"6f81bdba-68f1-481f-9524-4a3b5da15e8d","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":5,"contentLength":"48197","template":"unknown","session":"6f81bdba-68f1-481f-9524-4a3b5da15e8d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6f81bdba-68f1-481f-9524-4a3b5da15e8d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.955Z","level":"info","message":"http_request_received","requestId":"982ee7ae-938e-4908-b191-1418e5c904c1","method":"POST","path":"/api/change-log","template":"unknown","session":"982ee7ae-938e-4908-b191-1418e5c904c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"982ee7ae-938e-4908-b191-1418e5c904c1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.958Z","level":"info","message":"change_log_updated","requestId":"982ee7ae-938e-4908-b191-1418e5c904c1","jobId":"job-321","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-321","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-321","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.959Z","level":"info","message":"http_request_completed","requestId":"982ee7ae-938e-4908-b191-1418e5c904c1","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":4,"contentLength":"1958","template":"unknown","session":"982ee7ae-938e-4908-b191-1418e5c904c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"982ee7ae-938e-4908-b191-1418e5c904c1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.961Z","level":"info","message":"http_request_received","requestId":"b49fd578-0cf1-4c13-8c0d-c13167570f7e","method":"POST","path":"/api/change-log","template":"unknown","session":"b49fd578-0cf1-4c13-8c0d-c13167570f7e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b49fd578-0cf1-4c13-8c0d-c13167570f7e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.967Z","level":"info","message":"change_log_updated","requestId":"b49fd578-0cf1-4c13-8c0d-c13167570f7e","jobId":"job-789","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-789","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-789","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.968Z","level":"info","message":"http_request_completed","requestId":"b49fd578-0cf1-4c13-8c0d-c13167570f7e","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"6061","template":"unknown","session":"b49fd578-0cf1-4c13-8c0d-c13167570f7e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b49fd578-0cf1-4c13-8c0d-c13167570f7e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.970Z","level":"info","message":"http_request_received","requestId":"ca0f3bc5-72dd-42d9-8398-22b599bddde1","method":"POST","path":"/api/change-log","template":"unknown","session":"ca0f3bc5-72dd-42d9-8398-22b599bddde1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca0f3bc5-72dd-42d9-8398-22b599bddde1","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.973Z","level":"info","message":"change_log_updated","requestId":"ca0f3bc5-72dd-42d9-8398-22b599bddde1","jobId":"job-session","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-session","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-session","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.977Z","level":"info","message":"http_request_completed","requestId":"ca0f3bc5-72dd-42d9-8398-22b599bddde1","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"1213","template":"unknown","session":"ca0f3bc5-72dd-42d9-8398-22b599bddde1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca0f3bc5-72dd-42d9-8398-22b599bddde1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.978Z","level":"info","message":"http_request_received","requestId":"a867195d-b76d-4d37-adf0-1fc92f39674d","method":"POST","path":"/api/change-log","template":"unknown","session":"a867195d-b76d-4d37-adf0-1fc92f39674d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a867195d-b76d-4d37-adf0-1fc92f39674d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.980Z","level":"info","message":"change_log_updated","requestId":"a867195d-b76d-4d37-adf0-1fc92f39674d","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.980Z","level":"info","message":"http_request_completed","requestId":"a867195d-b76d-4d37-adf0-1fc92f39674d","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":2,"contentLength":"789","template":"unknown","session":"a867195d-b76d-4d37-adf0-1fc92f39674d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a867195d-b76d-4d37-adf0-1fc92f39674d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.983Z","level":"info","message":"http_request_received","requestId":"f7d7e164-f060-4a82-b267-215b5cd97900","method":"POST","path":"/api/change-log","template":"unknown","session":"f7d7e164-f060-4a82-b267-215b5cd97900","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f7d7e164-f060-4a82-b267-215b5cd97900","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.985Z","level":"info","message":"change_log_updated","requestId":"f7d7e164-f060-4a82-b267-215b5cd97900","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.986Z","level":"info","message":"http_request_completed","requestId":"f7d7e164-f060-4a82-b267-215b5cd97900","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":3,"contentLength":"350","template":"unknown","session":"f7d7e164-f060-4a82-b267-215b5cd97900","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f7d7e164-f060-4a82-b267-215b5cd97900","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.988Z","level":"info","message":"http_request_received","requestId":"a5136cb5-e5ea-4e9a-a419-1f1ec0fc3e92","method":"POST","path":"/api/change-log","template":"unknown","session":"a5136cb5-e5ea-4e9a-a419-1f1ec0fc3e92","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a5136cb5-e5ea-4e9a-a419-1f1ec0fc3e92","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.990Z","level":"info","message":"change_log_updated","requestId":"a5136cb5-e5ea-4e9a-a419-1f1ec0fc3e92","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.991Z","level":"info","message":"http_request_completed","requestId":"a5136cb5-e5ea-4e9a-a419-1f1ec0fc3e92","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":2,"contentLength":"1151","template":"unknown","session":"a5136cb5-e5ea-4e9a-a419-1f1ec0fc3e92","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a5136cb5-e5ea-4e9a-a419-1f1ec0fc3e92","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.993Z","level":"info","message":"http_request_received","requestId":"fab24308-c81b-44ef-a763-cc7b4d34540b","method":"POST","path":"/api/change-log","template":"unknown","session":"fab24308-c81b-44ef-a763-cc7b4d34540b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fab24308-c81b-44ef-a763-cc7b4d34540b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.995Z","level":"info","message":"change_log_updated","requestId":"fab24308-c81b-44ef-a763-cc7b4d34540b","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:07.995Z","level":"info","message":"http_request_completed","requestId":"fab24308-c81b-44ef-a763-cc7b4d34540b","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":2,"contentLength":"596","template":"unknown","session":"fab24308-c81b-44ef-a763-cc7b4d34540b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fab24308-c81b-44ef-a763-cc7b4d34540b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:07.997Z","level":"info","message":"http_request_received","requestId":"a51ac0d8-0311-489b-96cb-4b538790c6fe","method":"POST","path":"/api/change-log","template":"unknown","session":"a51ac0d8-0311-489b-96cb-4b538790c6fe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a51ac0d8-0311-489b-96cb-4b538790c6fe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:01:08.002Z","level":"info","message":"change_log_updated","requestId":"a51ac0d8-0311-489b-96cb-4b538790c6fe","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:01:08.002Z","level":"info","message":"http_request_completed","requestId":"a51ac0d8-0311-489b-96cb-4b538790c6fe","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":5,"contentLength":"2337","template":"unknown","session":"a51ac0d8-0311-489b-96cb-4b538790c6fe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a51ac0d8-0311-489b-96cb-4b538790c6fe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

FAIL tests/server.test.js (7.786 s)
  health check
     GET /healthz (504 ms)
  static asset fallbacks
     GET /favicon.ico returns 204 (24 ms)
     serves hashed index asset from S3 when local file is missing (25 ms)
     serves hashed index asset directly from the bundled client when available (21 ms)
     strips API Gateway stage prefixes before resolving static index aliases (11 ms)
     performs HEAD lookup against S3 for hashed index asset metadata (24 ms)
     serves the latest index asset alias via S3 when local files are unavailable (14 ms)
     serves the index asset alias via the S3 manifest when the local manifest is missing (9 ms)
     serves the index asset alias when the manifest contains prefixed S3 keys (16 ms)
     serves the index asset alias via manifest fallback when the primary bundle is missing from S3 (1095 ms)
  static asset proxy endpoint
     serves the index alias via the local build (16 ms)
     normalizes stray punctuation in proxy asset queries (6 ms)
     strips inline alias annotations from hashed proxy asset queries (6 ms)
     falls back to S3 when the hashed bundle is unavailable locally (15 ms)
     degrades hashed proxy requests to the index alias when upstream assets are missing (19 ms)
     degrades direct hashed asset requests to the index alias when upstream bundles are missing (19 ms)
     rejects invalid asset paths (14 ms)
  static asset manifest endpoint
     returns manifest data when available (5 ms)
     allows forcing a manifest refresh via query parameter (8 ms)
     returns 503 when manifest is unavailable (28 ms)
  /api/process-cv
     handles DynamoDB table lifecycle (521 ms)
     removes stale session change logs when starting a new upload session (83 ms)
     removes session change log data when the session prefix is reused (63 ms)
     requires manual job description input (81 ms)
     sanitizes manual job description input before analysis (55 ms)
     rejects manual job description input containing prohibited HTML tags (16 ms)
     stores sanitized job description as session input metadata (55 ms)
     accepts uploads without a LinkedIn profile URL (60 ms)
     malformed AI response (73 ms)
     handles code-fenced JSON with extra text (72 ms)
     handles JSON surrounded by text (85 ms)
     returns presigned PDF URLs with labeled asset types (87 ms)
     returns a structured error when download URLs cannot be generated (122 ms)
     cover letter urls include structured metadata (100 ms)
     uses provided templates in preferred order (60 ms)
     uses templates array (61 ms)
     filters AI guidance lines (63 ms)
     resume prompt asks for a project matching job skills (58 ms)
     inserts project into resume text (57 ms)
     adds project section when job description provided (59 ms)
     cover letters omit placeholder sections (69 ms)
     normalizes structured cover letter responses into text (59 ms)
     uses sanitized resume fallback when AI returns plain text for versions (59 ms)
     falls back to plain PDFs when template rendering fails (233 ms)
     final CV includes updated title, project, and skills (56 ms)
     missing file (17 ms)
     unsupported file type (18 ms)
     rejects non-resume content with descriptive feedback (25 ms)
     requires re-upload when classification does not identify a CV (21 ms)
     missing job description text (15 ms)
    download link refresh
       resigns an existing artifact key for the active job (18 ms)
       returns not found when the storage key does not match the job context (15 ms)
    resume size handling
       accepts tiny PDF (32 KB) uploads up to 5 MB (58 ms)
       accepts small DOCX (256 KB) uploads up to 5 MB (93 ms)
       accepts mid-sized PDF (2 MB) uploads up to 5 MB (92 ms)
       accepts near-limit DOCX (just under 5 MB) uploads up to 5 MB (136 ms)
       rejects resumes larger than 5 MB (24 ms)
  /api/generate-enhanced-docs
     responds with structured details when jobId is missing (14 ms)
     queues message when fallback cover letters are used (40 ms)
     replaces whitespace cover letters with fallback copy (55 ms)
     audits cover letters for placeholders and applies fallback (50 ms)
     replaces weak closing cover letters with confident fallback copy (51 ms)
     replaces cover letters exceeding the word limit with confident fallback copy (64 ms)
     surfaces message when cover letters remain unavailable (36 ms)
     refreshes session artifacts when job description changes for a new enhancement (49 ms)
     refreshes session artifacts automatically when job description changes (46 ms)
     persists template vs population errors in stage metadata (55 ms)
  generatePdfWithFallback
     records retry message when 2025 renderer fails (29 ms)
     announces next template when fallback occurs for non-2025 resume (8 ms)
     announces actual next template when 2025 fallback prefers contrast option (8 ms)
     throws explicit PdfGenerationError with summary when all strategies fail (31 ms)
  classifyDocument
     identifies resumes by section structure
     detects cover letters (1 ms)
     rejects job descriptions that mimic resume sections
  extractText
     extracts text from pdf
     extracts text from docx
     guides user when pdf parsing fails (18 ms)
     guides user when docx parsing fails
     extracts text from doc (4 ms)
     rejects plain text files (1 ms)
  client download labels
     App displays correct labels for each file type (2 ms)
  change log persistence safeguards
     truncates oversized change log fields before persisting (9 ms)
     persists category changelog details for ATS, skills, and related sections (6 ms)
     captures rescore summary and updates session score snapshot (9 ms)
     stores session change logs under a user session prefix when no prior key exists (8 ms)
  change log session visibility
     persists reverted entries when updating the change log (4 ms)
     stores rejected entries in the session change log dismissed list (5 ms)
     persists cover letter change log payloads to S3 (5 ms)
     removing a cover letter entry records dismissal state in S3 (5 ms)
     persists activity logs from nested payloads into the session change log (8 ms)

   static asset proxy endpoint  falls back to S3 when the hashed bundle is unavailable locally

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 503

      676 |         .query({ asset: 'assets/index-latest.css' });
      677 |
    > 678 |       expect(res.status).toBe(200);
          |                          ^
      679 |       expect(res.headers['access-control-allow-origin']).toBe('*');
      680 |       expect(res.text).toBe(proxyBody);
      681 |       expect(res.headers['cache-control']).toBe('no-cache, no-store, must-revalidate');

      at Object.toBe (tests/server.test.js:678:26)

-------------------------------|---------|----------|---------|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
File                           | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
-------------------------------|---------|----------|---------|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
All files                      |   45.88 |    34.71 |   50.42 |   46.97 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
 ResumeForge                   |   54.47 |    40.92 |   61.32 |   55.63 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  logger.js                    |       0 |        0 |       0 |       0 | 16-187                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
  server.js                    |   54.71 |    41.07 |   62.15 |   55.87 | 144,167,195-197,202,207,211,228-232,248-253,270-302,318-323,328,333,347,352,384,388,397,405,417,430,439,460-461,465-466,470-491,495-497,510-515,521,527-536,544,554,560-563,569-571,584-586,593,630,639,670,683,707,717,759,773,777,781,785-788,795-798,807,813,830-833,843,866,873,884-893,924,964,1010,1035-1037,1046,1070,1147,1165,1208-1215,1225,1240,1280,1284,1290-1294,1299,1309-1315,1331-1334,1358-1359,1395,1402,1422-1423,1447-1468,1478-1479,1492,1497,1521,1531,1544,1552,1557,1566,1574,1590-1594,1605,1625,1628,1640,1671,1693-1698,1724,1733-1736,1742,1752-1795,1804,1843,1847,1852-1855,1880-1882,1966,1972,1978-1980,1986,1992,1996,2000,2052,2056,2074,2098,2128,2195-2211,2233-2331,2342,2346-2347,2365-2456,2465-2469,2591-2739,2749-2750,2768-2780,2790-2812,2819,2824,2835-2842,2917,2924,2928,2936,2942-2943,2954,2958,2962,2966,2970-2972,2976,2980,2992,3002,3006,3010,3014,3018,3022,3033-3034,3039-3057,3061-3069,3119,3136,3145,3149,3173-3181,3218,3228-3236,3242,3246,3281-3300,3308,3335-3336,3347-3354,3360,3362,3407-3410,3418,3444-3461,3474,3480,3483,3488-3600,3607,3611,3615,3623,3630,3636,3650,3653,3660-3667,3673-3676,3680-3683,3712,3746-3762,3776,3806,3820-3825,3849,3863-3866,3879,3882,3893,3907-4035,4054,4060,4066,4072,4079,4087-4097,4112,4119-4154,4161-4393,4401,4433,4474-4482,4491,4508-4516,4532-4544,4553-4557,4567,4572,4582,4598-4603,4661,4678-4691,4704-4719,4725-4753,4784,4789-4804,4828,4835,4840-4847,4914,4919-4930,4941-4944,4986-5078,5089,5093,5099-5115,5121,5178-5183,5203-5207,5212-5219,5238,5273-5274,5303,5351-5469,5479-5509,5515-5535,5556-5563,5594,5599-5602,5610-5614,5626,5640,5645,5657-5660,5677-5701,5706,5712,5719,5726-5748,5768-5793,5828-5935,5940,5946-6500,6571-7613,7637,7652-7655,7694,7698,7736,7749,7773-7780,7794,7859-7865,7873,7877,7892,7896,7899,7927,7930,7942,7945,7954,7964-7972,7978,8018,8021,8024,8035-8037,8042,8071,8205,8255,8288-8296,8422-8430,8524-8529,8547-8569,8669-8742,8823-8936,8962,8969-8976,8989-9136,9157,9161,9167-9168,9177,9182,9185,9188,9200,9204,9208,9216,9226,9237-9245,9274-9285,9308-9309,9324-9325,9374-9381,9446-9451,9460-9607,9624,9638-10616,10637,10640,10677,10680-10682,10710-10732,10897,10995-10998,11005-11019,11043-11044,11064-11073,11138,11144-11213,11238,11320,11323,11327,11353-11361,11366,11374,11376,11378,11382,11384,11390,11394,11452-11455,11484-11505,11536-11542,11550-11551,11562,11576-11577,11584,11587,11592-11595,11599-11600,11611,11715,11730-11731,11734-11735,11737-11738,11812-11814,11825-11830,11883,11900,11914,11922,11924,11926,11934,11941-11942,11946,11948,11956,12057,12110-12144,12163,12197,12254-12255,12260,12298,12314,12403,12514,12519,12524,12573-12581,12592,12596,12599,12690-12694,12726,12792,12797,12805,12896,12908,12953-12957,12962,13010,13013,13033,13054-13058,13066,13081,13084,13087,13144,13150,13173-13183,13233-13244,13249-13262,13283,13286,13301,13321-13324,13329,13343,13382-13386,13406,13410-13413,13419,13450,13458,13468,13472,13481,13493,13501,13505-13527,13534,13545,13558-13559,13583,13597,13640-13641,13652-13653,13682-13694,13727-13728,13744-13749,13756-13760,13804-13808,13824,13841-13844,14000,14061-14067,14098,14115,14154,14205-14372,14391-14399,14404,14411,14416-14428,14433,14436-14437,14440-14441,14446,14451,14456,14462,14574,14699,14703,14711,14721,14728,14829,14837,14842,14845-14848,14856,14885,14919,14930,15164,15237,15245,15252,15286,15292-15311,15320,15328,15335-15338,15343,15359-15360,15375-15377,15530,15537,15545,15568,15602,15615-15617,15630,15641-15651,15658,15686-15687,15713,15740-15741,15845-15846,15884-15885,15891,15966-15967,15989,16018,16030,16075,16089-16096,16104-16111,16119,16124,16128,16221-16238,16284-16584,16609,16614,16625,16637,16655,16662,16665,16668,16675,16678,16681-16684,16696,16705,16712,16722,16765,16770,16796,16807,16817,16825,16834,16843,16846,16849,16855,16861-16883,16899-16906,16915-16931,16942,16955,16964,16974,16979,16985-16987,16996,17009,17014,17018,17031,17038,17042-17044,17052-17055,17065-17085,17099,17151-17154,17169,17183,17191-17203,17212,17230,17248-17255,17261,17276,17281-17286,17291-17294,17310,17315,17352,17388,17402,17425,17429,17464-17466,17501-17608,17624-17657,17708,17717,17751,17760,17787-17790,17804-18855,18867-18892,18924-18925,18945-18953,18975,18994,19017-19025,19036-19037,19069-19072,19082-19118,19129-19149,19162-19196,19200-19251,19288,19293-19305,19310,19355,19363-19546,19602-19609,19628-19631,19660-19666,19677,19712,19737,19747-19750,19790,19826,19831,19840,19847-19849,19931,19934,19964,20048-20052,20133,20161-20168,20179-20195,20295-20301,20322,20381,20393,20396,20400,20408,20412,20416,20447,20454-20489,20498,20535,20543-20545,20705,20735,20751,20768,20801,20878,20887-20898,20975-20984,21031,21254,21256,21258,21260,21302-21303,21366,21519,21523,21527,21531,21535,21539,21585,21608-21636,21659-21675,21733-21734,21746-21775,21854,21924,21998,22009,22023,22230,22316-22319,22344,22355,22416,22427-22432,22438,22466-22472,22487-22491,22538-22542,22553,22611-22615,22624-22625,22685-22715,22779-22780,22783,22820,22823,22874,22879-22965,22977-23442,23453-23540,23552,23578-23582,23642,23714-23739,23762,23785,23807,23815,23844,23850-23903,23915,24116-24122,24140-24172,24220-24226,24253,24264,24273,24301-24305,24329,24354-24367,24402,24408-24416,24436-24437,24454-24458,24475-24485,24501-24506,24539-24552,24556-24558,24632-24656,24673-24675,24701-24702,24730-24736,24750,24769,24778-24790,24868,24897,24900,24982-24988,25009-25013,25049-25071,25105-25236,25247,25294-25298,25304,25319-25324,25332-25336,25486,25521-25552,25590,25673-25719,25791,25947,26036,26052-26105,26173,26187-26217,26230-26269,26341,26383,26395,26438,26500,26561-26563,26570-26582,26617,26630-26720,26731-26772,26783-26784 
 ResumeForge/lib               |   14.47 |    14.02 |   20.28 |   14.45 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  buildMetadata.js             |   84.37 |     58.2 |     100 |   84.37 | 22-27,35,76,93,120,125,130                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
  cloudfrontAssetCheck.js      |       0 |        0 |       0 |       0 | 3-896                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
  cloudfrontAssetPrefixes.js   |       0 |        0 |       0 |       0 | 4-67                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
  cloudfrontHealthCheck.js     |       0 |        0 |       0 |       0 | 4-120                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
  handlebars.js                |      50 |      100 |       0 |   66.66 | 9                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
  postDeploymentApiTests.js    |       0 |        0 |       0 |       0 | 4-93                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
  retry.js                     |      50 |    44.66 |   55.55 |   49.36 | 30,35,38,41,47,50,53,65,69,73,77,90,94,97,101,105,111-144,158-172                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
 ResumeForge/lib/cloudfront    |    2.08 |        0 |       0 |    2.12 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  metadata.js                  |    2.08 |        0 |       0 |    2.12 | 6-62,68-219                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
 ResumeForge/lib/deploy        |    4.34 |        0 |       0 |    4.34 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  notifications.js             |    4.34 |        0 |       0 |    4.34 | 53-251                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
 ResumeForge/lib/http          |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  parseEventBody.js            |       0 |        0 |       0 |       0 | 10-24                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
 ResumeForge/lib/llm           |   49.71 |    47.23 |   47.36 |   51.19 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  gemini.js                    |    43.9 |    45.61 |   33.33 |   45.29 | 15-34,44,57,77-82,145,157-210,229-250                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
  templates.js                 |   63.46 |    51.02 |     100 |    64.7 | 8,13-22,30,37-44,56,59,73,86                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
 ResumeForge/lib/logging       |   74.64 |    52.94 |   83.33 |   74.28 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  attributes.js                |   74.64 |    52.94 |   83.33 |   74.28 | 8-11,94-103,120,170,181-195                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
 ResumeForge/lib/observability |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  lambda.js                    |       0 |        0 |       0 |       0 | 7-984                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
 ResumeForge/lib/pdf           |   10.43 |     8.24 |   12.12 |   11.16 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  backstop.js                  |    2.04 |        0 |       0 |    2.17 | 11-169                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
  index.js                     |       5 |        0 |       0 |    5.55 | 8-36                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
  resume.js                    |       0 |        0 |       0 |       0 | 12-19                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
  utils.js                     |   14.66 |     12.8 |   26.66 |      16 | 12-19,25-137,142-156,162-163,173-174,188,195-204                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
 ResumeForge/lib/pdf/templates |    1.96 |     0.24 |       4 |    1.98 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  2025.js                      |    1.96 |     0.24 |       4 |    1.98 | 11-42,163-1177                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
 ResumeForge/lib/resume        |   47.52 |    33.51 |   50.17 |   48.63 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  content.js                   |   68.12 |    47.29 |   75.17 |   71.28 | 11,20-25,44-45,91-94,106-108,121,173,180,191-299,316-317,320-321,332-334,354-359,377-382,395-397,415,421-422,435-451,458,530-531,554,609-610,633-635,667-669,699-701,734,768-782,796-801,805,817-827,832-836,844-849,851,917-923,927-932,952-953,967-973,988-989,1004-1005,1009-1013,1026,1029,1070-1071,1076-1077,1092-1096,1134-1137,1157,1220,1238-1245,1301,1348-1365,1400,1434-1438,1460-1461,1466,1479-1501,1506-1526,1537-1539,1542-1543,1546-1547,1550-1552                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
  enhancement.js               |    0.99 |        0 |       0 |     1.1 | 28-445                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
  jobEvaluation.js             |       0 |        0 |       0 |       0 | 9-120                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
  parsing.js                   |   73.43 |    53.62 |   75.75 |   74.14 | 161,165,175,179,183,188,197-228,239,242,279,286,291,307,330,334-337,355,380,404,409,435-464,501,515,526,555,595,621,625,629,634,638-641,658,699,721,725                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  scoring.js                   |    0.86 |        0 |       0 |    0.88 | 27-819                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
  skills.js                    |    36.2 |     8.82 |      40 |   33.33 | 81-143                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
  utils.js                     |   83.33 |       75 |     100 |   83.33 | 12                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
 ResumeForge/lib/scoring       |     1.3 |        0 |    1.42 |     1.4 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  atsMetrics.js                |     1.3 |        0 |    1.42 |     1.4 | 24-202,226-956                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
 ResumeForge/lib/static        |    19.7 |     7.62 |   16.66 |    19.7 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  hashedIndexAssetRetention.js |       0 |        0 |       0 |       0 | 1-220                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
  normalization.js             |   87.09 |    64.28 |     100 |   87.09 | 3,8,30,43                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
 ResumeForge/lib/uploads       |   55.47 |    41.66 |      60 |   56.29 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  metadata.js                  |   51.38 |    36.84 |      50 |   51.38 | 14,19-22,29,33,52-87,95-105,115,131-132,138                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
  s3StreamingStorage.js        |      60 |    44.82 |      70 |    61.9 | 8,11,17-31,41,47-52,58-64,67-73,91,108,128-132,144                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
-------------------------------|---------|----------|---------|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Test Suites: 1 failed, 1 total
Tests:       1 failed, 89 passed, 90 total
Snapshots:   0 total
Time:        9.795 s, estimated 72 s
Ran all test suites matching /tests\/server.test.js/i.
