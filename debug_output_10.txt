
> resumeforge@1.0.0 test
> node --experimental-vm-modules node_modules/jest/bin/jest.js tests/server.test.mjs

[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
(node:12142) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
  console.log
    {"timestamp":"2025-12-04T14:05:14.994Z","level":"info","message":"http_request_received","requestId":"50fdb6fa-e779-4759-ab90-1a593581f7fc","method":"GET","path":"/healthz","template":"unknown","session":"50fdb6fa-e779-4759-ab90-1a593581f7fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50fdb6fa-e779-4759-ab90-1a593581f7fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.030Z","level":"info","message":"path_restoration_debug","reqPath":"/healthz","reqUrl":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.034Z","level":"info","message":"request_received","path":"/healthz","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.039Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.043Z","level":"info","message":"client_app_routes_entered","path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.047Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.058Z","level":"info","message":"http_request_completed","requestId":"50fdb6fa-e779-4759-ab90-1a593581f7fc","method":"GET","path":"/healthz","statusCode":200,"durationMs":64,"contentLength":"15","template":"unknown","session":"50fdb6fa-e779-4759-ab90-1a593581f7fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50fdb6fa-e779-4759-ab90-1a593581f7fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.071Z","level":"info","message":"http_request_received","requestId":"61064141-e626-4904-8720-c160294c2508","method":"GET","path":"/favicon.ico","template":"unknown","session":"61064141-e626-4904-8720-c160294c2508","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61064141-e626-4904-8720-c160294c2508","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.073Z","level":"info","message":"path_restoration_debug","reqPath":"/favicon.ico","reqUrl":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.076Z","level":"info","message":"request_received","path":"/favicon.ico","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.079Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.085Z","level":"info","message":"client_app_routes_entered","path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.089Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.094Z","level":"info","message":"http_request_completed","requestId":"61064141-e626-4904-8720-c160294c2508","method":"GET","path":"/favicon.ico","statusCode":204,"durationMs":23,"template":"unknown","session":"61064141-e626-4904-8720-c160294c2508","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61064141-e626-4904-8720-c160294c2508","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.099Z","level":"info","message":"http_request_received","requestId":"ab211cde-f8ce-4492-8871-80008106e71f","method":"GET","path":"/assets/index-missing.css","template":"unknown","session":"ab211cde-f8ce-4492-8871-80008106e71f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ab211cde-f8ce-4492-8871-80008106e71f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.106Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-missing.css","reqUrl":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.109Z","level":"info","message":"request_received","path":"/assets/index-missing.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.112Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.115Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.125Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 calling S3 {
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest',
      assetPath: '/assets/index-missing.css'
    }

      at serveHashedIndexAssetFromS3 (server.js:1153:13)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 S3 returned

      at serveHashedIndexAssetFromS3 (server.js:1160:13)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60","ETag":"\"etag-css\""}

      at applyS3ResponseHeaders (server.js:618:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 streaming body

      at serveHashedIndexAssetFromS3 (server.js:1169:13)

  console.log
    DEBUG: streamS3BodyToResponse start

      at streamS3BodyToResponse (server.js:460:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=18

      at Readable.<anonymous> (server.js:506:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=18

      at Readable.<anonymous> (server.js:514:19)

  console.log
    {"timestamp":"2025-12-04T14:05:15.160Z","level":"info","message":"http_request_completed","requestId":"ab211cde-f8ce-4492-8871-80008106e71f","method":"GET","path":"/assets/index-missing.css","statusCode":200,"durationMs":61,"contentLength":"18","template":"unknown","session":"ab211cde-f8ce-4492-8871-80008106e71f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ab211cde-f8ce-4492-8871-80008106e71f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 streaming done

      at serveHashedIndexAssetFromS3 (server.js:1172:13)

  console.log
    {"timestamp":"2025-12-04T14:05:15.161Z","level":"info","message":"client_asset_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-missing.css","path":"/assets/index-missing.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.174Z","level":"info","message":"http_request_received","requestId":"19f0f0dc-49d3-481e-9a7c-67e2550b8936","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"19f0f0dc-49d3-481e-9a7c-67e2550b8936","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"19f0f0dc-49d3-481e-9a7c-67e2550b8936","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.176Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.179Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.183Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.188Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1289:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T14:05:15.218Z","level":"info","message":"http_request_completed","requestId":"19f0f0dc-49d3-481e-9a7c-67e2550b8936","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":44,"contentLength":"106285","template":"unknown","session":"19f0f0dc-49d3-481e-9a7c-67e2550b8936","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"19f0f0dc-49d3-481e-9a7c-67e2550b8936","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.220Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.225Z","level":"info","message":"http_request_received","requestId":"001f570d-6221-4273-840a-47f51798574e","method":"GET","path":"/prod/assets/index-latest.css","template":"unknown","session":"001f570d-6221-4273-840a-47f51798574e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"001f570d-6221-4273-840a-47f51798574e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.229Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.231Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.233Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.236Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1289:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T14:05:15.257Z","level":"info","message":"http_request_completed","requestId":"001f570d-6221-4273-840a-47f51798574e","method":"GET","path":"/prod/assets/index-latest.css","statusCode":200,"durationMs":32,"contentLength":"106285","template":"unknown","session":"001f570d-6221-4273-840a-47f51798574e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"001f570d-6221-4273-840a-47f51798574e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.259Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.263Z","level":"info","message":"http_request_received","requestId":"2b5b5a4a-7915-45ed-8503-08182c9fcf28","method":"HEAD","path":"/assets/index-meta.js","template":"unknown","session":"2b5b5a4a-7915-45ed-8503-08182c9fcf28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2b5b5a4a-7915-45ed-8503-08182c9fcf28","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.265Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-meta.js","reqUrl":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.268Z","level":"info","message":"request_received","path":"/assets/index-meta.js","method":"HEAD","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.271Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.273Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.277Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=1234 resolved=1234 metadata={"ContentType":"application/javascript","ContentLength":1234,"CacheControl":"public, max-age=31536000, immutable","ETag":"\"etag-js\"","LastModified":"2024-05-01T00:00:00.000Z"}

      at applyS3ResponseHeaders (server.js:618:11)

  console.log
    {"timestamp":"2025-12-04T14:05:15.298Z","level":"info","message":"client_asset_s3_head_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-meta.js","path":"/assets/index-meta.js","method":"HEAD","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.304Z","level":"info","message":"http_request_completed","requestId":"2b5b5a4a-7915-45ed-8503-08182c9fcf28","method":"HEAD","path":"/assets/index-meta.js","statusCode":200,"durationMs":41,"contentLength":"1234","template":"unknown","session":"2b5b5a4a-7915-45ed-8503-08182c9fcf28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2b5b5a4a-7915-45ed-8503-08182c9fcf28","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.316Z","level":"info","message":"http_request_received","requestId":"b5b52b73-4be3-43cf-9bae-20064197cf63","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"b5b52b73-4be3-43cf-9bae-20064197cf63","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b5b52b73-4be3-43cf-9bae-20064197cf63","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.318Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.322Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.324Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.327Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1289:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-test-alias.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-test-alias.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-test-alias.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 calling S3 {
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest',
      assetPath: 'assets/index-test-alias.css'
    }

      at serveHashedIndexAssetFromS3 (server.js:1153:13)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 S3 returned

      at serveHashedIndexAssetFromS3 (server.js:1160:13)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:618:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 streaming body

      at serveHashedIndexAssetFromS3 (server.js:1169:13)

  console.log
    DEBUG: streamS3BodyToResponse start

      at streamS3BodyToResponse (server.js:460:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=23

      at Readable.<anonymous> (server.js:506:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=23

      at Readable.<anonymous> (server.js:514:19)

  console.log
    {"timestamp":"2025-12-04T14:05:15.367Z","level":"info","message":"http_request_completed","requestId":"b5b52b73-4be3-43cf-9bae-20064197cf63","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":51,"contentLength":"23","template":"unknown","session":"b5b52b73-4be3-43cf-9bae-20064197cf63","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b5b52b73-4be3-43cf-9bae-20064197cf63","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 streaming done

      at serveHashedIndexAssetFromS3 (server.js:1172:13)

  console.log
    {"timestamp":"2025-12-04T14:05:15.368Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-test-alias.css","path":"assets/index-test-alias.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-test-alias.css","s3Key":"assets/index-test-alias.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest success

      at handleIndexAssetAliasRequest (server.js:1435:13)

  console.log
    {"timestamp":"2025-12-04T14:05:15.373Z","level":"info","message":"http_request_received","requestId":"a3f19bfe-6c07-4382-8833-0ae04265ae79","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"a3f19bfe-6c07-4382-8833-0ae04265ae79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3f19bfe-6c07-4382-8833-0ae04265ae79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.376Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.378Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.380Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.384Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1289:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-manifest-only.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-manifest-only.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-manifest-only.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 calling S3 {
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest',
      assetPath: 'assets/index-manifest-only.css'
    }

      at serveHashedIndexAssetFromS3 (server.js:1153:13)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 S3 returned

      at serveHashedIndexAssetFromS3 (server.js:1160:13)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:618:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 streaming body

      at serveHashedIndexAssetFromS3 (server.js:1169:13)

  console.log
    DEBUG: streamS3BodyToResponse start

      at streamS3BodyToResponse (server.js:460:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=31

      at Readable.<anonymous> (server.js:506:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=31

      at Readable.<anonymous> (server.js:514:19)

  console.log
    {"timestamp":"2025-12-04T14:05:15.429Z","level":"info","message":"http_request_completed","requestId":"a3f19bfe-6c07-4382-8833-0ae04265ae79","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":56,"contentLength":"31","template":"unknown","session":"a3f19bfe-6c07-4382-8833-0ae04265ae79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3f19bfe-6c07-4382-8833-0ae04265ae79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 streaming done

      at serveHashedIndexAssetFromS3 (server.js:1172:13)

  console.log
    {"timestamp":"2025-12-04T14:05:15.430Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-manifest-only.css","path":"assets/index-manifest-only.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-manifest-only.css","s3Key":"assets/index-manifest-only.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest success

      at handleIndexAssetAliasRequest (server.js:1435:13)

  console.log
    {"timestamp":"2025-12-04T14:05:15.436Z","level":"info","message":"http_request_received","requestId":"eb8ac651-d571-4f56-9955-dcf34e147909","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"eb8ac651-d571-4f56-9955-dcf34e147909","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb8ac651-d571-4f56-9955-dcf34e147909","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.438Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.440Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.442Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.444Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1289:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-prefixed.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-prefixed.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-prefixed.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 calling S3 {
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest',
      assetPath: 'static/client/prod/latest/assets/index-prefixed.css'
    }

      at serveHashedIndexAssetFromS3 (server.js:1153:13)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 S3 returned

      at serveHashedIndexAssetFromS3 (server.js:1160:13)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:618:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 streaming body

      at serveHashedIndexAssetFromS3 (server.js:1169:13)

  console.log
    DEBUG: streamS3BodyToResponse start

      at streamS3BodyToResponse (server.js:460:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=26

      at Readable.<anonymous> (server.js:506:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=26

      at Readable.<anonymous> (server.js:514:19)

  console.log
    {"timestamp":"2025-12-04T14:05:15.471Z","level":"info","message":"http_request_completed","requestId":"eb8ac651-d571-4f56-9955-dcf34e147909","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":35,"contentLength":"26","template":"unknown","session":"eb8ac651-d571-4f56-9955-dcf34e147909","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb8ac651-d571-4f56-9955-dcf34e147909","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 streaming done

      at serveHashedIndexAssetFromS3 (server.js:1172:13)

  console.log
    {"timestamp":"2025-12-04T14:05:15.472Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/prod/latest/assets/index-prefixed.css","path":"static/client/prod/latest/assets/index-prefixed.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-prefixed.css","s3Key":"static/client/prod/latest/assets/index-prefixed.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest success

      at handleIndexAssetAliasRequest (server.js:1435:13)

  console.log
    {"timestamp":"2025-12-04T14:05:15.477Z","level":"info","message":"http_request_received","requestId":"78320b91-b257-4d5b-8e6b-16abd05af4dc","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"78320b91-b257-4d5b-8e6b-16abd05af4dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"78320b91-b257-4d5b-8e6b-16abd05af4dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.479Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.481Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.483Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.485Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1289:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 calling S3 {
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest',
      assetPath: 'assets/index-missing.css'
    }

      at serveHashedIndexAssetFromS3 (server.js:1153:13)

  console.warn
    {"timestamp":"2025-12-04T14:05:15.508Z","level":"warn","message":"client_asset_alias_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-missing.css","path":"assets/index-missing.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-missing.css","s3Key":"assets/index-missing.css","error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:582:23)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1154:41)\n    at handleIndexAssetAliasRequest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1426:13)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at serveIndexAssetAlias (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1537:3)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at serveHashedIndexAssetFromS3 (server.js:1177:5)
      at handleIndexAssetAliasRequest (server.js:1426:7)
      at serveIndexAssetAlias (server.js:1537:3)

  console.log
    DEBUG: handleIndexAssetAliasRequest failed at serveHashedIndexAssetFromS3

      at handleIndexAssetAliasRequest (server.js:1438:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-existing.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-existing.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-existing.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 calling S3 {
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest',
      assetPath: 'assets/index-existing.css'
    }

      at serveHashedIndexAssetFromS3 (server.js:1153:13)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 S3 returned

      at serveHashedIndexAssetFromS3 (server.js:1160:13)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:618:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 streaming body

      at serveHashedIndexAssetFromS3 (server.js:1169:13)

  console.log
    DEBUG: streamS3BodyToResponse start

      at streamS3BodyToResponse (server.js:460:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=26

      at Readable.<anonymous> (server.js:506:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=26

      at Readable.<anonymous> (server.js:514:19)

  console.log
    {"timestamp":"2025-12-04T14:05:15.526Z","level":"info","message":"http_request_completed","requestId":"78320b91-b257-4d5b-8e6b-16abd05af4dc","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":49,"contentLength":"26","template":"unknown","session":"78320b91-b257-4d5b-8e6b-16abd05af4dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"78320b91-b257-4d5b-8e6b-16abd05af4dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 streaming done

      at serveHashedIndexAssetFromS3 (server.js:1172:13)

  console.log
    {"timestamp":"2025-12-04T14:05:15.527Z","level":"info","message":"client_asset_alias_fallback_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-existing.css","path":"assets/index-existing.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-existing.css","s3Key":"assets/index-existing.css","manifestFallback":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.535Z","level":"info","message":"http_request_received","requestId":"fb6b883e-1ada-4f4d-aa70-2cc7c40cedda","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"fb6b883e-1ada-4f4d-aa70-2cc7c40cedda","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb6b883e-1ada-4f4d-aa70-2cc7c40cedda","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.537Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.539Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.541Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.543Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.547Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-latest.css' candidate='assets/index-latest.css'

      at normalizeStaticProxyAssetPath (server.js:1614:11)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1289:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T14:05:15.559Z","level":"info","message":"http_request_completed","requestId":"fb6b883e-1ada-4f4d-aa70-2cc7c40cedda","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","statusCode":200,"durationMs":24,"contentLength":"106285","template":"unknown","session":"fb6b883e-1ada-4f4d-aa70-2cc7c40cedda","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb6b883e-1ada-4f4d-aa70-2cc7c40cedda","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.560Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.564Z","level":"info","message":"http_request_received","requestId":"3ef873f3-6322-481d-8dfd-b65659a287b6","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","template":"unknown","session":"3ef873f3-6322-481d-8dfd-b65659a287b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ef873f3-6322-481d-8dfd-b65659a287b6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.566Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.569Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.571Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.576Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.580Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-latest.css,,' candidate='assets/index-latest.css,,'

      at normalizeStaticProxyAssetPath (server.js:1614:11)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1289:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T14:05:15.594Z","level":"info","message":"http_request_completed","requestId":"3ef873f3-6322-481d-8dfd-b65659a287b6","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","statusCode":200,"durationMs":30,"contentLength":"106285","template":"unknown","session":"3ef873f3-6322-481d-8dfd-b65659a287b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ef873f3-6322-481d-8dfd-b65659a287b6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.596Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.602Z","level":"info","message":"http_request_received","requestId":"1c3b51b5-ba5a-47cc-b414-6044e76f4cd7","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","template":"unknown","session":"1c3b51b5-ba5a-47cc-b414-6044e76f4cd7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c3b51b5-ba5a-47cc-b414-6044e76f4cd7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.604Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.606Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.609Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.612Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.615Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='/assets/index-latest.css' candidate='/assets/index-latest.css'

      at normalizeStaticProxyAssetPath (server.js:1614:11)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-0da4b4af.css,, {"alias":"/assets/index-latest.css"}' candidate='assets/index-0da4b4af.css,, {"alias":"/assets/index-latest.css"}'

      at normalizeStaticProxyAssetPath (server.js:1614:11)

  console.log
    DEBUG: proxy handler { normalizedAssetPath: '/assets/index-0da4b4af.css' }

      at server.js:19152:11

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T14:05:15.624Z","level":"info","message":"http_request_completed","requestId":"1c3b51b5-ba5a-47cc-b414-6044e76f4cd7","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","statusCode":200,"durationMs":22,"contentLength":"106285","template":"unknown","session":"1c3b51b5-ba5a-47cc-b414-6044e76f4cd7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c3b51b5-ba5a-47cc-b414-6044e76f4cd7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.626Z","level":"info","message":"client_asset_alias_local_served","path":"/assets/index-0da4b4af.css","method":"GET","proxy":true,"aliasPath":"/assets/index-latest.css","annotatedAlias":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.629Z","level":"info","message":"http_request_received","requestId":"79779cdc-ca0e-443a-9af0-c680d21033e7","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"79779cdc-ca0e-443a-9af0-c680d21033e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"79779cdc-ca0e-443a-9af0-c680d21033e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.631Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.633Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.635Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.638Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.641Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-latest.css' candidate='assets/index-latest.css'

      at normalizeStaticProxyAssetPath (server.js:1614:11)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1289:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 calling S3 {
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest',
      assetPath: 'assets/index-0da4b4af.css'
    }

      at serveHashedIndexAssetFromS3 (server.js:1153:13)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 S3 returned

      at serveHashedIndexAssetFromS3 (server.js:1160:13)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:618:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 streaming body

      at serveHashedIndexAssetFromS3 (server.js:1169:13)

  console.log
    DEBUG: streamS3BodyToResponse start

      at streamS3BodyToResponse (server.js:460:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=32

      at Readable.<anonymous> (server.js:506:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=32

      at Readable.<anonymous> (server.js:514:19)

  console.log
    {"timestamp":"2025-12-04T14:05:15.656Z","level":"info","message":"http_request_completed","requestId":"79779cdc-ca0e-443a-9af0-c680d21033e7","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","statusCode":200,"durationMs":27,"contentLength":"32","template":"unknown","session":"79779cdc-ca0e-443a-9af0-c680d21033e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"79779cdc-ca0e-443a-9af0-c680d21033e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 streaming done

      at serveHashedIndexAssetFromS3 (server.js:1172:13)

  console.log
    {"timestamp":"2025-12-04T14:05:15.657Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-0da4b4af.css","path":"assets/index-0da4b4af.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-0da4b4af.css","s3Key":"assets/index-0da4b4af.css","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest success

      at handleIndexAssetAliasRequest (server.js:1435:13)

  console.log
    {"timestamp":"2025-12-04T14:05:15.665Z","level":"info","message":"http_request_received","requestId":"9454261b-c0cb-4289-8fde-dcafea8247b2","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css","template":"unknown","session":"9454261b-c0cb-4289-8fde-dcafea8247b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9454261b-c0cb-4289-8fde-dcafea8247b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.667Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.669Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.672Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.674Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.677Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-0da4b4af.css' candidate='assets/index-0da4b4af.css'

      at normalizeStaticProxyAssetPath (server.js:1614:11)

  console.log
    DEBUG: proxy handler { normalizedAssetPath: '/assets/index-0da4b4af.css' }

      at server.js:19152:11

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 calling S3 {
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest',
      assetPath: '/assets/index-0da4b4af.css'
    }

      at serveHashedIndexAssetFromS3 (server.js:1153:13)

  console.warn
    {"timestamp":"2025-12-04T14:05:15.689Z","level":"warn","message":"client_asset_proxy_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-0da4b4af.css","path":"/assets/index-0da4b4af.css","method":"GET","proxy":true,"error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:762:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1154:41)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19165:30\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at serveHashedIndexAssetFromS3 (server.js:1177:5)
      at server.js:19165:30

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1289:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T14:05:15.702Z","level":"info","message":"http_request_completed","requestId":"9454261b-c0cb-4289-8fde-dcafea8247b2","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css","statusCode":200,"durationMs":37,"contentLength":"106285","template":"unknown","session":"9454261b-c0cb-4289-8fde-dcafea8247b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9454261b-c0cb-4289-8fde-dcafea8247b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.704Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","path":"/assets/index-0da4b4af.css","proxy":true,"degradedFrom":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:15.705Z","level":"warn","message":"client_asset_proxy_degraded_to_alias","path":"/assets/index-0da4b4af.css","method":"GET","proxy":true,"aliasPath":"/assets/index-latest.css","degradedFrom":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:19221:9

  console.log
    {"timestamp":"2025-12-04T14:05:15.718Z","level":"info","message":"http_request_received","requestId":"50e785a1-921b-4e06-99cc-c1d866e508a5","method":"GET","path":"/assets/index-0da4b4af.css","template":"unknown","session":"50e785a1-921b-4e06-99cc-c1d866e508a5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50e785a1-921b-4e06-99cc-c1d866e508a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.720Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-0da4b4af.css","reqUrl":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.722Z","level":"info","message":"request_received","path":"/assets/index-0da4b4af.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.724Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.727Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.738Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 calling S3 {
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest',
      assetPath: '/assets/index-0da4b4af.css'
    }

      at serveHashedIndexAssetFromS3 (server.js:1153:13)

  console.warn
    {"timestamp":"2025-12-04T14:05:15.754Z","level":"warn","message":"client_asset_s3_fallback_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-0da4b4af.css","path":"/assets/index-0da4b4af.css","method":"GET","error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:808:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1154:41)\n    at tryServeHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1218:24)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at serveHashedIndexAssetFromS3 (server.js:1177:5)
      at tryServeHashedIndexAssetFromS3 (server.js:1218:24)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1289:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T14:05:15.767Z","level":"info","message":"http_request_completed","requestId":"50e785a1-921b-4e06-99cc-c1d866e508a5","method":"GET","path":"/assets/index-0da4b4af.css","statusCode":200,"durationMs":49,"contentLength":"106285","template":"unknown","session":"50e785a1-921b-4e06-99cc-c1d866e508a5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50e785a1-921b-4e06-99cc-c1d866e508a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.768Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","hashedPath":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:15.769Z","level":"warn","message":"hashed_index_asset_degraded_to_alias","hashedPath":"/assets/index-0da4b4af.css","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at tryServeHashedIndexAssetFromS3 (server.js:1270:7)

  console.log
    {"timestamp":"2025-12-04T14:05:15.790Z","level":"info","message":"http_request_received","requestId":"79e5fb0e-4951-4912-bf06-202906b8473b","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","template":"unknown","session":"79e5fb0e-4951-4912-bf06-202906b8473b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"79e5fb0e-4951-4912-bf06-202906b8473b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.796Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=..%2Fsecrets.txt","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.799Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.806Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.809Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.813Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='../secrets.txt' candidate='../secrets.txt'

      at normalizeStaticProxyAssetPath (server.js:1614:11)

  console.warn
    {"timestamp":"2025-12-04T14:05:15.820Z","level":"warn","message":"api_error_response","requestId":"79e5fb0e-4951-4912-bf06-202906b8473b","status":400,"error":{"code":"INVALID_STATIC_ASSET_PATH","message":"Provide a valid static asset path to proxy.","details":{},"requestId":"79e5fb0e-4951-4912-bf06-202906b8473b"},"template":"unknown","session":"79e5fb0e-4951-4912-bf06-202906b8473b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"79e5fb0e-4951-4912-bf06-202906b8473b","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at sendError (server.js:3975:3)
      at server.js:19091:12
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at SendStream.error (node_modules/serve-static/index.js:121:7)
      at SendStream.error (node_modules/send/index.js:270:17)
      at SendStream.onStatError (node_modules/send/index.js:417:12)
      at next (node_modules/send/index.js:730:16)
      at onstat (node_modules/send/index.js:719:14)

  console.log
    {"timestamp":"2025-12-04T14:05:15.836Z","level":"info","message":"http_request_completed","requestId":"79e5fb0e-4951-4912-bf06-202906b8473b","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","statusCode":400,"durationMs":46,"contentLength":"182","template":"unknown","session":"79e5fb0e-4951-4912-bf06-202906b8473b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"79e5fb0e-4951-4912-bf06-202906b8473b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.842Z","level":"info","message":"http_request_received","requestId":"4efc8e51-a157-4a7a-b625-83145032a856","method":"GET","path":"/api/static-manifest","template":"unknown","session":"4efc8e51-a157-4a7a-b625-83145032a856","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4efc8e51-a157-4a7a-b625-83145032a856","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.845Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.847Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.850Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.852Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.856Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.862Z","level":"info","message":"http_request_completed","requestId":"4efc8e51-a157-4a7a-b625-83145032a856","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":20,"contentLength":"301","template":"unknown","session":"4efc8e51-a157-4a7a-b625-83145032a856","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4efc8e51-a157-4a7a-b625-83145032a856","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.873Z","level":"info","message":"http_request_received","requestId":"71d2dd97-6f0a-4223-8abc-0ae6e7ac645e","method":"GET","path":"/api/static-manifest","template":"unknown","session":"71d2dd97-6f0a-4223-8abc-0ae6e7ac645e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"71d2dd97-6f0a-4223-8abc-0ae6e7ac645e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.875Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.877Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.880Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.883Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.886Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.891Z","level":"info","message":"http_request_completed","requestId":"71d2dd97-6f0a-4223-8abc-0ae6e7ac645e","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":18,"contentLength":"195","template":"unknown","session":"71d2dd97-6f0a-4223-8abc-0ae6e7ac645e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"71d2dd97-6f0a-4223-8abc-0ae6e7ac645e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.896Z","level":"info","message":"http_request_received","requestId":"5f40da98-6cce-4f2e-a857-834997aa9af1","method":"GET","path":"/api/static-manifest?refresh=1","template":"unknown","session":"5f40da98-6cce-4f2e-a857-834997aa9af1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5f40da98-6cce-4f2e-a857-834997aa9af1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.898Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest?refresh=1","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.901Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.903Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.905Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.909Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.914Z","level":"info","message":"http_request_completed","requestId":"5f40da98-6cce-4f2e-a857-834997aa9af1","method":"GET","path":"/api/static-manifest?refresh=1","statusCode":200,"durationMs":18,"contentLength":"195","template":"unknown","session":"5f40da98-6cce-4f2e-a857-834997aa9af1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5f40da98-6cce-4f2e-a857-834997aa9af1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.924Z","level":"info","message":"http_request_received","requestId":"480727ed-d467-4ce1-9098-5fcdb61ba588","method":"GET","path":"/api/static-manifest","template":"unknown","session":"480727ed-d467-4ce1-9098-5fcdb61ba588","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"480727ed-d467-4ce1-9098-5fcdb61ba588","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.929Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.932Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.936Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.940Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.945Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:15.962Z","level":"warn","message":"client_asset_manifest_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/manifest.json","error":{"name":"Error","message":"manifest not found","stack":"Error: manifest not found\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:906:22)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7819:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7822:16)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:869:30\n    at loadStaticAssetManifestFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:952:5)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19241:28\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/serve-static/index.js:121:7)\n    at SendStream.emit (node:events:513:28)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:270:17)\n    at SendStream.onStatError (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:417:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:730:16)\n    at onstat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:719:14)\n    at FSReqCallback.oncomplete (node:fs:206:21)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:944:7
      at loadStaticAssetManifestFromS3 (server.js:959:12)
      at server.js:19241:22

  console.error
    {"timestamp":"2025-12-04T14:05:15.972Z","level":"error","message":"api_error_response","requestId":"480727ed-d467-4ce1-9098-5fcdb61ba588","status":503,"error":{"code":"STATIC_MANIFEST_UNAVAILABLE","message":"Static asset manifest is not currently available. Please try again shortly.","details":{},"requestId":"480727ed-d467-4ce1-9098-5fcdb61ba588"},"template":"unknown","session":"480727ed-d467-4ce1-9098-5fcdb61ba588","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"480727ed-d467-4ce1-9098-5fcdb61ba588","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at sendError (server.js:3975:3)
      at server.js:19246:14

  console.log
    {"timestamp":"2025-12-04T14:05:15.983Z","level":"info","message":"http_request_completed","requestId":"480727ed-d467-4ce1-9098-5fcdb61ba588","method":"GET","path":"/api/static-manifest","statusCode":503,"durationMs":59,"contentLength":"216","template":"unknown","session":"480727ed-d467-4ce1-9098-5fcdb61ba588","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"480727ed-d467-4ce1-9098-5fcdb61ba588","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.991Z","level":"info","message":"http_request_received","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","method":"POST","path":"/api/process-cv","template":"unknown","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.993Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.995Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:15.997Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.000Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.004Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/1b67a31b-9365-404c-998a-6d1faf0cec4d/incoming/original.pdf","chunks":1,"timestamp":1764857116013}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/1b67a31b-9365-404c-998a-6d1faf0cec4d/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/1b67a31b-9365-404c-998a-6d1faf0cec4d/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":12}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:05:16.040Z","level":"info","message":"process_cv_started","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","manualJobDescriptionProvided":true,"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.042Z","level":"info","message":"template_selection","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:16.044Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:16.061Z","level":"info","message":"initial_upload_completed","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","bucket":"test-bucket","key":"cv/candidate/1b67a31b-9365-404c-998a-6d1faf0cec4d/incoming/original.pdf","template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.080Z","level":"info","message":"resume_text_extracted","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","characters":57,"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.082Z","level":"info","message":"resume_classified","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.085Z","level":"info","message":"raw_upload_relocated","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","bucket":"test-bucket","fromKey":"cv/candidate/1b67a31b-9365-404c-998a-6d1faf0cec4d/incoming/original.pdf","toKey":"cv/professional_summary/1b67a31b-9365-404c-998a-6d1faf0cec4d/original.pdf","template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.087Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","bucket":"test-bucket","key":"cv/professional_summary/1b67a31b-9365-404c-998a-6d1faf0cec4d/original.pdf","template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.088Z","level":"info","message":"dynamo_initial_record_written","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","bucket":"test-bucket","key":"cv/professional_summary/1b67a31b-9365-404c-998a-6d1faf0cec4d/original.pdf","template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.090Z","level":"info","message":"upload_metadata_written","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","bucket":"test-bucket","key":"cv/professional_summary/1b67a31b-9365-404c-998a-6d1faf0cec4d/logs/log.json","template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.091Z","level":"info","message":"job_description_supplied_manually","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","characters":174,"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.093Z","level":"info","message":"job_description_analyzed","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","jobTitle":"","jobSkills":5,"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.101Z","level":"info","message":"resume_skills_analyzed","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.104Z","level":"info","message":"llm_call_metrics","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.110Z","level":"info","message":"process_cv_scoring_completed","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.144Z","level":"info","message":"llm_call_metrics","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.146Z","level":"info","message":"generation_section_rewrite_completed","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","generationRunId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.147Z","level":"info","message":"llm_call_metrics","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.154Z","level":"info","message":"generation_resume_verified","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","generationRunId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:16.177Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","generationRunId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:16.191Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","generationRunId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:16.202Z","level":"info","message":"generation_cover_letters_completed","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","generationRunId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","variants":2,"fallbackApplied":true,"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.206Z","level":"info","message":"pdf_generation_attempt","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","generationRunId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1b67a31b-9365-404c-998a-6d1faf0cec4d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/1b67a31b-9365-404c-998a-6d1faf0cec4d/enhanced_modern.pdf","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.208Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","generationRunId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1b67a31b-9365-404c-998a-6d1faf0cec4d/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.209Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","generationRunId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1b67a31b-9365-404c-998a-6d1faf0cec4d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/1b67a31b-9365-404c-998a-6d1faf0cec4d/enhanced_modern.pdf","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.211Z","level":"info","message":"pdf_generation_attempt","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","generationRunId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1b67a31b-9365-404c-998a-6d1faf0cec4d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/1b67a31b-9365-404c-998a-6d1faf0cec4d/enhanced_professional.pdf","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.212Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","generationRunId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1b67a31b-9365-404c-998a-6d1faf0cec4d/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.213Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","generationRunId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1b67a31b-9365-404c-998a-6d1faf0cec4d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/1b67a31b-9365-404c-998a-6d1faf0cec4d/enhanced_professional.pdf","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.214Z","level":"info","message":"pdf_generation_attempt","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","generationRunId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1b67a31b-9365-404c-998a-6d1faf0cec4d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/1b67a31b-9365-404c-998a-6d1faf0cec4d/cover_letter_cover_modern.pdf","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.215Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","generationRunId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1b67a31b-9365-404c-998a-6d1faf0cec4d/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.216Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","generationRunId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1b67a31b-9365-404c-998a-6d1faf0cec4d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/1b67a31b-9365-404c-998a-6d1faf0cec4d/cover_letter_cover_modern.pdf","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.218Z","level":"info","message":"pdf_generation_attempt","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","generationRunId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1b67a31b-9365-404c-998a-6d1faf0cec4d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/1b67a31b-9365-404c-998a-6d1faf0cec4d/cover_letter_cover_professional.pdf","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.219Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","generationRunId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1b67a31b-9365-404c-998a-6d1faf0cec4d/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.219Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","generationRunId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1b67a31b-9365-404c-998a-6d1faf0cec4d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/1b67a31b-9365-404c-998a-6d1faf0cec4d/cover_letter_cover_professional.pdf","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.231Z","level":"info","message":"llm_call_metrics","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.233Z","level":"info","message":"generation_completed","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","generationRunId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","enhancedScore":80,"outputs":5,"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.237Z","level":"info","message":"placeholder_record_deleted","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","jobId":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","placeholderIdentifier":"1b67a31b-9365-404c-998a-6d1faf0cec4d","template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"105c007e-34b4-4f56-9e0a-a8f43ec1653b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.239Z","level":"info","message":"http_request_completed","requestId":"1b67a31b-9365-404c-998a-6d1faf0cec4d","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":248,"contentLength":"58133","template":"unknown","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b67a31b-9365-404c-998a-6d1faf0cec4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.247Z","level":"info","message":"http_request_received","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","method":"POST","path":"/api/process-cv","template":"unknown","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.249Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.251Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.254Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.257Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.261Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/incoming/original.pdf","chunks":1,"timestamp":1764857116267}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:05:16.283Z","level":"info","message":"process_cv_started","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","manualJobDescriptionProvided":true,"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.284Z","level":"info","message":"template_selection","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:16.284Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:16.297Z","level":"info","message":"initial_upload_completed","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","bucket":"test-bucket","key":"cv/candidate/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/incoming/original.pdf","template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.306Z","level":"info","message":"resume_text_extracted","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","characters":57,"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.308Z","level":"info","message":"resume_classified","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.309Z","level":"info","message":"raw_upload_relocated","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","bucket":"test-bucket","fromKey":"cv/candidate/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/incoming/original.pdf","toKey":"cv/professional_summary/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/original.pdf","template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.310Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","bucket":"test-bucket","key":"cv/professional_summary/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/original.pdf","template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.310Z","level":"info","message":"dynamo_initial_record_written","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","bucket":"test-bucket","key":"cv/professional_summary/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/original.pdf","template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.311Z","level":"info","message":"upload_metadata_written","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","bucket":"test-bucket","key":"cv/professional_summary/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/logs/log.json","template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.311Z","level":"info","message":"job_description_supplied_manually","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","characters":174,"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.313Z","level":"info","message":"job_description_analyzed","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","jobTitle":"","jobSkills":5,"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.314Z","level":"info","message":"resume_skills_analyzed","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.315Z","level":"info","message":"llm_call_metrics","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.316Z","level":"info","message":"process_cv_scoring_completed","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.321Z","level":"info","message":"llm_call_metrics","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.323Z","level":"info","message":"generation_section_rewrite_completed","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","generationRunId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.325Z","level":"info","message":"llm_call_metrics","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.332Z","level":"info","message":"generation_resume_verified","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","generationRunId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:16.339Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","generationRunId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:16.352Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","generationRunId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:16.362Z","level":"info","message":"generation_cover_letters_completed","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","generationRunId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","variants":2,"fallbackApplied":true,"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.364Z","level":"info","message":"pdf_generation_attempt","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","generationRunId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/enhanced_modern.pdf","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.364Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","generationRunId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.365Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","generationRunId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/enhanced_modern.pdf","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.367Z","level":"info","message":"pdf_generation_attempt","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","generationRunId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/enhanced_professional.pdf","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.368Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","generationRunId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.369Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","generationRunId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/enhanced_professional.pdf","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.372Z","level":"info","message":"pdf_generation_attempt","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","generationRunId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/cover_letter_cover_modern.pdf","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.374Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","generationRunId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.375Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","generationRunId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/cover_letter_cover_modern.pdf","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.377Z","level":"info","message":"pdf_generation_attempt","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","generationRunId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/cover_letter_cover_professional.pdf","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.378Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","generationRunId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.379Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","generationRunId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb/cover_letter_cover_professional.pdf","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.391Z","level":"info","message":"llm_call_metrics","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.393Z","level":"info","message":"generation_completed","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","generationRunId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","enhancedScore":80,"outputs":5,"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.396Z","level":"info","message":"placeholder_record_deleted","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","jobId":"15aecc01-7080-4701-9b21-423dd0a54dc9","placeholderIdentifier":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15aecc01-7080-4701-9b21-423dd0a54dc9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.400Z","level":"info","message":"http_request_completed","requestId":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":153,"contentLength":"58133","template":"unknown","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cdd5eb48-b9c8-4368-a78f-e49a43c3e5bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.472Z","level":"info","message":"http_request_received","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","method":"POST","path":"/api/process-cv","template":"unknown","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.475Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.478Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.482Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.488Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.492Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/1b61798c-1e1e-4dbd-b5da-0faa54671c15/incoming/original.pdf","chunks":1,"timestamp":1764857116497}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/1b61798c-1e1e-4dbd-b5da-0faa54671c15/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/1b61798c-1e1e-4dbd-b5da-0faa54671c15/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:05:16.502Z","level":"info","message":"process_cv_started","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","manualJobDescriptionProvided":true,"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.503Z","level":"info","message":"template_selection","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:16.507Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:16.521Z","level":"info","message":"initial_upload_completed","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","bucket":"test-bucket","key":"cv/candidate/1b61798c-1e1e-4dbd-b5da-0faa54671c15/incoming/original.pdf","template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.527Z","level":"info","message":"resume_text_extracted","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","characters":57,"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.529Z","level":"info","message":"resume_classified","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.530Z","level":"info","message":"raw_upload_relocated","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","bucket":"test-bucket","fromKey":"cv/candidate/1b61798c-1e1e-4dbd-b5da-0faa54671c15/incoming/original.pdf","toKey":"cv/professional_summary/1b61798c-1e1e-4dbd-b5da-0faa54671c15/original.pdf","template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.533Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","bucket":"test-bucket","key":"cv/professional_summary/1b61798c-1e1e-4dbd-b5da-0faa54671c15/original.pdf","template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.534Z","level":"info","message":"dynamo_initial_record_written","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","bucket":"test-bucket","key":"cv/professional_summary/1b61798c-1e1e-4dbd-b5da-0faa54671c15/original.pdf","template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.537Z","level":"info","message":"upload_metadata_written","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","bucket":"test-bucket","key":"cv/professional_summary/1b61798c-1e1e-4dbd-b5da-0faa54671c15/logs/log.json","template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.539Z","level":"info","message":"session_transition_change_log_removed","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","bucket":"test-bucket","removedKeys":["cv/candidate/session-old/logs/change-log.json","cv/candidate/session-old/artifacts/changelog.json"],"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.540Z","level":"info","message":"job_description_supplied_manually","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","characters":174,"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.545Z","level":"info","message":"job_description_analyzed","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","jobTitle":"","jobSkills":5,"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.547Z","level":"info","message":"resume_skills_analyzed","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.548Z","level":"info","message":"llm_call_metrics","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.550Z","level":"info","message":"process_cv_scoring_completed","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.554Z","level":"info","message":"llm_call_metrics","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.555Z","level":"info","message":"generation_section_rewrite_completed","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","generationRunId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.555Z","level":"info","message":"llm_call_metrics","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.559Z","level":"info","message":"generation_resume_verified","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","generationRunId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:16.570Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","generationRunId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:16.583Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","generationRunId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:16.614Z","level":"info","message":"generation_cover_letters_completed","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","generationRunId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","variants":2,"fallbackApplied":true,"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.622Z","level":"info","message":"pdf_generation_attempt","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","generationRunId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1b61798c-1e1e-4dbd-b5da-0faa54671c15/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/1b61798c-1e1e-4dbd-b5da-0faa54671c15/enhanced_modern.pdf","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.623Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","generationRunId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1b61798c-1e1e-4dbd-b5da-0faa54671c15/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.624Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","generationRunId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1b61798c-1e1e-4dbd-b5da-0faa54671c15/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/1b61798c-1e1e-4dbd-b5da-0faa54671c15/enhanced_modern.pdf","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.627Z","level":"info","message":"pdf_generation_attempt","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","generationRunId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1b61798c-1e1e-4dbd-b5da-0faa54671c15/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/1b61798c-1e1e-4dbd-b5da-0faa54671c15/enhanced_professional.pdf","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.628Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","generationRunId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1b61798c-1e1e-4dbd-b5da-0faa54671c15/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.630Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","generationRunId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1b61798c-1e1e-4dbd-b5da-0faa54671c15/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/1b61798c-1e1e-4dbd-b5da-0faa54671c15/enhanced_professional.pdf","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.631Z","level":"info","message":"pdf_generation_attempt","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","generationRunId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1b61798c-1e1e-4dbd-b5da-0faa54671c15/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/1b61798c-1e1e-4dbd-b5da-0faa54671c15/cover_letter_cover_modern.pdf","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.632Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","generationRunId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1b61798c-1e1e-4dbd-b5da-0faa54671c15/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.633Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","generationRunId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1b61798c-1e1e-4dbd-b5da-0faa54671c15/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/1b61798c-1e1e-4dbd-b5da-0faa54671c15/cover_letter_cover_modern.pdf","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.635Z","level":"info","message":"pdf_generation_attempt","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","generationRunId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1b61798c-1e1e-4dbd-b5da-0faa54671c15/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/1b61798c-1e1e-4dbd-b5da-0faa54671c15/cover_letter_cover_professional.pdf","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.636Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","generationRunId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1b61798c-1e1e-4dbd-b5da-0faa54671c15/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.637Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","generationRunId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1b61798c-1e1e-4dbd-b5da-0faa54671c15/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/1b61798c-1e1e-4dbd-b5da-0faa54671c15/cover_letter_cover_professional.pdf","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.642Z","level":"info","message":"llm_call_metrics","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.643Z","level":"info","message":"generation_completed","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","generationRunId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","enhancedScore":80,"outputs":5,"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.645Z","level":"info","message":"placeholder_record_deleted","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","jobId":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","placeholderIdentifier":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1b1340-e186-4921-8d58-5dc0eb4f0f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.647Z","level":"info","message":"http_request_completed","requestId":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":175,"contentLength":"58133","template":"unknown","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b61798c-1e1e-4dbd-b5da-0faa54671c15","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.652Z","level":"info","message":"http_request_received","requestId":"repeat","method":"POST","path":"/api/process-cv","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.654Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.656Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.658Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.662Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.666Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","chunks":1,"timestamp":1764857116671}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":6}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:05:16.678Z","level":"info","message":"process_cv_started","requestId":"repeat","jobId":"repeat","manualJobDescriptionProvided":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.679Z","level":"info","message":"template_selection","requestId":"repeat","jobId":"repeat","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:16.680Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"repeat","jobId":"repeat","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:16.690Z","level":"info","message":"initial_upload_completed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.691Z","level":"info","message":"resume_text_extracted","requestId":"repeat","jobId":"repeat","characters":57,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.692Z","level":"info","message":"resume_classified","requestId":"repeat","jobId":"repeat","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.693Z","level":"info","message":"raw_upload_relocated","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","fromKey":"cv/candidate/repeat/incoming/original.pdf","toKey":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.696Z","level":"info","message":"dynamo_initial_record_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.697Z","level":"info","message":"upload_metadata_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/logs/log.json","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.697Z","level":"info","message":"session_transition_change_log_removed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","removedKeys":["cv/candidate/repeat/logs/change-log.json","cv/candidate/repeat/artifacts/changelog.json"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.698Z","level":"info","message":"job_description_supplied_manually","requestId":"repeat","jobId":"repeat","characters":174,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.698Z","level":"info","message":"job_description_analyzed","requestId":"repeat","jobId":"repeat","jobTitle":"","jobSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.699Z","level":"info","message":"resume_skills_analyzed","requestId":"repeat","jobId":"repeat","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.700Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.701Z","level":"info","message":"process_cv_scoring_completed","requestId":"repeat","jobId":"repeat","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.707Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.709Z","level":"info","message":"generation_section_rewrite_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.745Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.756Z","level":"info","message":"generation_resume_verified","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:16.763Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:16.774Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:16.784Z","level":"info","message":"generation_cover_letters_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","variants":2,"fallbackApplied":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.785Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.786Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.787Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.788Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.788Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.789Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.790Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.791Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.791Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.793Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.793Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.794Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.801Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.803Z","level":"info","message":"generation_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","enhancedScore":80,"outputs":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.805Z","level":"info","message":"http_request_completed","requestId":"repeat","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":153,"contentLength":"57353","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.811Z","level":"info","message":"http_request_received","requestId":"d65b7d45-d3cd-4ca2-b7fc-2f6475330dee","method":"POST","path":"/api/process-cv","template":"unknown","session":"d65b7d45-d3cd-4ca2-b7fc-2f6475330dee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d65b7d45-d3cd-4ca2-b7fc-2f6475330dee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.812Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.814Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.817Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.819Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.822Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/d65b7d45-d3cd-4ca2-b7fc-2f6475330dee/incoming/original.pdf","chunks":1,"timestamp":1764857116826}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/d65b7d45-d3cd-4ca2-b7fc-2f6475330dee/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/d65b7d45-d3cd-4ca2-b7fc-2f6475330dee/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:05:16.829Z","level":"info","message":"process_cv_started","requestId":"d65b7d45-d3cd-4ca2-b7fc-2f6475330dee","jobId":"9589051f-7fe4-489d-af0f-5652386ff023","manualJobDescriptionProvided":false,"template":"unknown","session":"9589051f-7fe4-489d-af0f-5652386ff023","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9589051f-7fe4-489d-af0f-5652386ff023","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.829Z","level":"info","message":"template_selection","requestId":"d65b7d45-d3cd-4ca2-b7fc-2f6475330dee","jobId":"9589051f-7fe4-489d-af0f-5652386ff023","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"9589051f-7fe4-489d-af0f-5652386ff023","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9589051f-7fe4-489d-af0f-5652386ff023","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:16.830Z","level":"warn","message":"job_description_missing","requestId":"d65b7d45-d3cd-4ca2-b7fc-2f6475330dee","jobId":"9589051f-7fe4-489d-af0f-5652386ff023","template":"unknown","session":"9589051f-7fe4-489d-af0f-5652386ff023","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9589051f-7fe4-489d-af0f-5652386ff023","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25115:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T14:05:16.840Z","level":"warn","message":"api_error_response","requestId":"d65b7d45-d3cd-4ca2-b7fc-2f6475330dee","jobId":"9589051f-7fe4-489d-af0f-5652386ff023","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"d65b7d45-d3cd-4ca2-b7fc-2f6475330dee","jobId":"9589051f-7fe4-489d-af0f-5652386ff023"},"template":"unknown","session":"9589051f-7fe4-489d-af0f-5652386ff023","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9589051f-7fe4-489d-af0f-5652386ff023","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at sendError (server.js:3975:3)
      at server.js:25116:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:16.850Z","level":"info","message":"http_request_completed","requestId":"d65b7d45-d3cd-4ca2-b7fc-2f6475330dee","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":39,"contentLength":"244","template":"unknown","session":"d65b7d45-d3cd-4ca2-b7fc-2f6475330dee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d65b7d45-d3cd-4ca2-b7fc-2f6475330dee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.854Z","level":"info","message":"http_request_received","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","method":"POST","path":"/api/process-cv","template":"unknown","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.856Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.858Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.860Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.863Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.866Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/incoming/original.pdf","chunks":1,"timestamp":1764857116872}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:05:16.874Z","level":"info","message":"process_cv_started","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","manualJobDescriptionProvided":true,"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.875Z","level":"info","message":"template_selection","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:16.876Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:16.884Z","level":"info","message":"initial_upload_completed","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","bucket":"test-bucket","key":"cv/candidate/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/incoming/original.pdf","template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.887Z","level":"info","message":"resume_text_extracted","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","characters":57,"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.888Z","level":"info","message":"resume_classified","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.889Z","level":"info","message":"raw_upload_relocated","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","bucket":"test-bucket","fromKey":"cv/candidate/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/incoming/original.pdf","toKey":"cv/professional_summary/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/original.pdf","template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.890Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","bucket":"test-bucket","key":"cv/professional_summary/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/original.pdf","template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.891Z","level":"info","message":"dynamo_initial_record_written","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","bucket":"test-bucket","key":"cv/professional_summary/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/original.pdf","template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.892Z","level":"info","message":"upload_metadata_written","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","bucket":"test-bucket","key":"cv/professional_summary/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/logs/log.json","template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.892Z","level":"info","message":"job_description_supplied_manually","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","characters":59,"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.893Z","level":"info","message":"job_description_analyzed","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","jobTitle":"","jobSkills":5,"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.894Z","level":"info","message":"resume_skills_analyzed","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.895Z","level":"info","message":"llm_call_metrics","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.897Z","level":"info","message":"process_cv_scoring_completed","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.900Z","level":"info","message":"llm_call_metrics","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"ea2430c235b24028819e3e632af324e68724bbc1d27bee61065e3e4452249d1c","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.901Z","level":"info","message":"generation_section_rewrite_completed","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","generationRunId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.902Z","level":"info","message":"llm_call_metrics","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"5ccfe9db3e82fa26357ec9c5a8fa36d7c5cf260bf775e906492a22db0355a609","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.906Z","level":"info","message":"generation_resume_verified","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","generationRunId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:16.911Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","generationRunId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:16.919Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","generationRunId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:16.927Z","level":"info","message":"generation_cover_letters_completed","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","generationRunId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","variants":2,"fallbackApplied":true,"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.928Z","level":"info","message":"pdf_generation_attempt","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","generationRunId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/enhanced_modern.pdf","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.929Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","generationRunId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.930Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","generationRunId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/enhanced_modern.pdf","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.931Z","level":"info","message":"pdf_generation_attempt","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","generationRunId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/enhanced_professional.pdf","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.932Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","generationRunId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.933Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","generationRunId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/enhanced_professional.pdf","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.934Z","level":"info","message":"pdf_generation_attempt","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","generationRunId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/cover_letter_cover_modern.pdf","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.934Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","generationRunId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.935Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","generationRunId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/cover_letter_cover_modern.pdf","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.936Z","level":"info","message":"pdf_generation_attempt","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","generationRunId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/cover_letter_cover_professional.pdf","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.937Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","generationRunId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.938Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","generationRunId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f26c6e92-1eeb-4eb7-983c-0fdd8c196c88/cover_letter_cover_professional.pdf","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.943Z","level":"info","message":"llm_call_metrics","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.944Z","level":"info","message":"generation_completed","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","generationRunId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","enhancedScore":80,"outputs":5,"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.946Z","level":"info","message":"placeholder_record_deleted","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","jobId":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","placeholderIdentifier":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1437e2d-0bf9-4aa3-b4b2-3094fce4b0d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.948Z","level":"info","message":"http_request_completed","requestId":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":94,"contentLength":"55048","template":"unknown","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f26c6e92-1eeb-4eb7-983c-0fdd8c196c88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.956Z","level":"info","message":"http_request_received","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","method":"POST","path":"/api/process-cv","template":"unknown","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.958Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.961Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.963Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.966Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.970Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/incoming/original.pdf","chunks":1,"timestamp":1764857116974}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:05:16.977Z","level":"info","message":"process_cv_started","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","manualJobDescriptionProvided":true,"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.978Z","level":"info","message":"template_selection","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:16.979Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:16.988Z","level":"info","message":"initial_upload_completed","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","bucket":"test-bucket","key":"cv/candidate/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/incoming/original.pdf","template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.992Z","level":"info","message":"resume_text_extracted","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","characters":57,"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.993Z","level":"info","message":"resume_classified","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.994Z","level":"info","message":"raw_upload_relocated","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","bucket":"test-bucket","fromKey":"cv/candidate/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/incoming/original.pdf","toKey":"cv/professional_summary/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/original.pdf","template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.994Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","bucket":"test-bucket","key":"cv/professional_summary/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/original.pdf","template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.995Z","level":"info","message":"dynamo_initial_record_written","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","bucket":"test-bucket","key":"cv/professional_summary/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/original.pdf","template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.996Z","level":"info","message":"upload_metadata_written","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","bucket":"test-bucket","key":"cv/professional_summary/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/logs/log.json","template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.996Z","level":"info","message":"job_description_supplied_manually","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","characters":32,"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.997Z","level":"info","message":"job_description_analyzed","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","jobTitle":"","jobSkills":5,"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.998Z","level":"info","message":"resume_skills_analyzed","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:16.999Z","level":"info","message":"llm_call_metrics","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.000Z","level":"info","message":"process_cv_scoring_completed","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.004Z","level":"info","message":"llm_call_metrics","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"4ee429ea92424e8e19e4720211137d476a19f7274074e1702e9c42fe53b6fed7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.005Z","level":"info","message":"generation_section_rewrite_completed","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","generationRunId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.006Z","level":"info","message":"llm_call_metrics","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"b847d6e14d4cae3ee14cd5dbb7c4a4ca1658d965fe5c0b4564eb95e9b23995e3","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.010Z","level":"info","message":"generation_resume_verified","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","generationRunId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:17.014Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","generationRunId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:17.027Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","generationRunId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:17.042Z","level":"info","message":"generation_cover_letters_completed","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","generationRunId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","variants":2,"fallbackApplied":true,"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.044Z","level":"info","message":"pdf_generation_attempt","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","generationRunId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/enhanced_modern.pdf","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.045Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","generationRunId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.046Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","generationRunId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/enhanced_modern.pdf","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.047Z","level":"info","message":"pdf_generation_attempt","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","generationRunId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/enhanced_professional.pdf","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.048Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","generationRunId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.048Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","generationRunId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/enhanced_professional.pdf","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.049Z","level":"info","message":"pdf_generation_attempt","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","generationRunId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/cover_letter_cover_modern.pdf","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.050Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","generationRunId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.050Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","generationRunId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/cover_letter_cover_modern.pdf","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.052Z","level":"info","message":"pdf_generation_attempt","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","generationRunId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/cover_letter_cover_professional.pdf","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.052Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","generationRunId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.053Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","generationRunId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/76137e55-a0cd-4be3-b9cc-d0e49fc93a0f/cover_letter_cover_professional.pdf","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.057Z","level":"info","message":"llm_call_metrics","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.059Z","level":"info","message":"generation_completed","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","generationRunId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","enhancedScore":80,"outputs":5,"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.061Z","level":"info","message":"placeholder_record_deleted","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","jobId":"05345651-4b6b-4304-a4b6-53978b961448","placeholderIdentifier":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05345651-4b6b-4304-a4b6-53978b961448","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.063Z","level":"info","message":"http_request_completed","requestId":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":107,"contentLength":"53771","template":"unknown","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"76137e55-a0cd-4be3-b9cc-d0e49fc93a0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.068Z","level":"info","message":"http_request_received","requestId":"35275ced-7b22-4f34-becd-f062160c3dd3","method":"POST","path":"/api/process-cv","template":"unknown","session":"35275ced-7b22-4f34-becd-f062160c3dd3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35275ced-7b22-4f34-becd-f062160c3dd3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.070Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.072Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.074Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.077Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.080Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/35275ced-7b22-4f34-becd-f062160c3dd3/incoming/original.pdf","chunks":1,"timestamp":1764857117084}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/35275ced-7b22-4f34-becd-f062160c3dd3/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/35275ced-7b22-4f34-becd-f062160c3dd3/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.warn
    {"timestamp":"2025-12-04T14:05:17.087Z","level":"warn","message":"job_description_prohibited_html_detected","requestId":"35275ced-7b22-4f34-becd-f062160c3dd3","jobId":"252667e3-f302-4d25-82b9-719c731c70cb","template":"unknown","session":"252667e3-f302-4d25-82b9-719c731c70cb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"252667e3-f302-4d25-82b9-719c731c70cb","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25008:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T14:05:17.097Z","level":"warn","message":"api_error_response","requestId":"35275ced-7b22-4f34-becd-f062160c3dd3","jobId":"252667e3-f302-4d25-82b9-719c731c70cb","status":400,"error":{"code":"JOB_DESCRIPTION_PROHIBITED_TAGS","message":"Remove HTML tags like <script> before continuing.","details":{"field":"manualJobDescription"},"requestId":"35275ced-7b22-4f34-becd-f062160c3dd3","jobId":"252667e3-f302-4d25-82b9-719c731c70cb"},"template":"unknown","session":"252667e3-f302-4d25-82b9-719c731c70cb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"252667e3-f302-4d25-82b9-719c731c70cb","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at sendError (server.js:3975:3)
      at server.js:25009:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:17.106Z","level":"info","message":"http_request_completed","requestId":"35275ced-7b22-4f34-becd-f062160c3dd3","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":38,"contentLength":"271","template":"unknown","session":"35275ced-7b22-4f34-becd-f062160c3dd3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35275ced-7b22-4f34-becd-f062160c3dd3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.120Z","level":"info","message":"http_request_received","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","method":"POST","path":"/api/process-cv","template":"unknown","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.122Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.124Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.126Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.129Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.132Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/48eac9aa-72ef-4584-b56f-16438722340f/incoming/original.pdf","chunks":1,"timestamp":1764857117136}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/48eac9aa-72ef-4584-b56f-16438722340f/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/48eac9aa-72ef-4584-b56f-16438722340f/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:05:17.138Z","level":"info","message":"process_cv_started","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","manualJobDescriptionProvided":true,"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.139Z","level":"info","message":"template_selection","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:17.140Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:17.148Z","level":"info","message":"initial_upload_completed","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","bucket":"test-bucket","key":"cv/candidate/48eac9aa-72ef-4584-b56f-16438722340f/incoming/original.pdf","template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.149Z","level":"info","message":"resume_text_extracted","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","characters":57,"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.150Z","level":"info","message":"resume_classified","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.150Z","level":"info","message":"raw_upload_relocated","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","bucket":"test-bucket","fromKey":"cv/candidate/48eac9aa-72ef-4584-b56f-16438722340f/incoming/original.pdf","toKey":"cv/professional_summary/48eac9aa-72ef-4584-b56f-16438722340f/original.pdf","template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.151Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","bucket":"test-bucket","key":"cv/professional_summary/48eac9aa-72ef-4584-b56f-16438722340f/original.pdf","template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.151Z","level":"info","message":"dynamo_initial_record_written","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","bucket":"test-bucket","key":"cv/professional_summary/48eac9aa-72ef-4584-b56f-16438722340f/original.pdf","template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.152Z","level":"info","message":"upload_metadata_written","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","bucket":"test-bucket","key":"cv/professional_summary/48eac9aa-72ef-4584-b56f-16438722340f/logs/log.json","template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.152Z","level":"info","message":"job_description_supplied_manually","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","characters":31,"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.153Z","level":"info","message":"job_description_analyzed","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","jobTitle":"","jobSkills":5,"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.154Z","level":"info","message":"resume_skills_analyzed","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.155Z","level":"info","message":"llm_call_metrics","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.162Z","level":"info","message":"process_cv_scoring_completed","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.169Z","level":"info","message":"llm_call_metrics","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"3b6fa31427cfe80be95734691ddba88dda63de26496df29477f91bd398cefbfa","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.170Z","level":"info","message":"generation_section_rewrite_completed","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","generationRunId":"48eac9aa-72ef-4584-b56f-16438722340f","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.170Z","level":"info","message":"llm_call_metrics","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"eedd7612e0b87e24dbfb4e165754c9448ec3573f7db56a3242654c71c3ca223b","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.174Z","level":"info","message":"generation_resume_verified","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","generationRunId":"48eac9aa-72ef-4584-b56f-16438722340f","template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:17.178Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","generationRunId":"48eac9aa-72ef-4584-b56f-16438722340f","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:17.186Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","generationRunId":"48eac9aa-72ef-4584-b56f-16438722340f","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:17.201Z","level":"info","message":"generation_cover_letters_completed","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","generationRunId":"48eac9aa-72ef-4584-b56f-16438722340f","variants":2,"fallbackApplied":true,"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.202Z","level":"info","message":"pdf_generation_attempt","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","generationRunId":"48eac9aa-72ef-4584-b56f-16438722340f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/48eac9aa-72ef-4584-b56f-16438722340f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/48eac9aa-72ef-4584-b56f-16438722340f/enhanced_modern.pdf","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.203Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","generationRunId":"48eac9aa-72ef-4584-b56f-16438722340f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/48eac9aa-72ef-4584-b56f-16438722340f/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.203Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","generationRunId":"48eac9aa-72ef-4584-b56f-16438722340f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/48eac9aa-72ef-4584-b56f-16438722340f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/48eac9aa-72ef-4584-b56f-16438722340f/enhanced_modern.pdf","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.204Z","level":"info","message":"pdf_generation_attempt","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","generationRunId":"48eac9aa-72ef-4584-b56f-16438722340f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/48eac9aa-72ef-4584-b56f-16438722340f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/48eac9aa-72ef-4584-b56f-16438722340f/enhanced_professional.pdf","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.205Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","generationRunId":"48eac9aa-72ef-4584-b56f-16438722340f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/48eac9aa-72ef-4584-b56f-16438722340f/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.205Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","generationRunId":"48eac9aa-72ef-4584-b56f-16438722340f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/48eac9aa-72ef-4584-b56f-16438722340f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/48eac9aa-72ef-4584-b56f-16438722340f/enhanced_professional.pdf","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.206Z","level":"info","message":"pdf_generation_attempt","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","generationRunId":"48eac9aa-72ef-4584-b56f-16438722340f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/48eac9aa-72ef-4584-b56f-16438722340f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/48eac9aa-72ef-4584-b56f-16438722340f/cover_letter_cover_modern.pdf","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.206Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","generationRunId":"48eac9aa-72ef-4584-b56f-16438722340f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/48eac9aa-72ef-4584-b56f-16438722340f/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.207Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","generationRunId":"48eac9aa-72ef-4584-b56f-16438722340f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/48eac9aa-72ef-4584-b56f-16438722340f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/48eac9aa-72ef-4584-b56f-16438722340f/cover_letter_cover_modern.pdf","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.208Z","level":"info","message":"pdf_generation_attempt","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","generationRunId":"48eac9aa-72ef-4584-b56f-16438722340f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/48eac9aa-72ef-4584-b56f-16438722340f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/48eac9aa-72ef-4584-b56f-16438722340f/cover_letter_cover_professional.pdf","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.208Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","generationRunId":"48eac9aa-72ef-4584-b56f-16438722340f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/48eac9aa-72ef-4584-b56f-16438722340f/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.209Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","generationRunId":"48eac9aa-72ef-4584-b56f-16438722340f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/48eac9aa-72ef-4584-b56f-16438722340f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/48eac9aa-72ef-4584-b56f-16438722340f/cover_letter_cover_professional.pdf","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.213Z","level":"info","message":"llm_call_metrics","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.218Z","level":"info","message":"generation_completed","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","generationRunId":"48eac9aa-72ef-4584-b56f-16438722340f","enhancedScore":80,"outputs":5,"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.220Z","level":"info","message":"placeholder_record_deleted","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","jobId":"7b7e8ecb-f331-4938-886e-9ce1e4219433","placeholderIdentifier":"48eac9aa-72ef-4584-b56f-16438722340f","template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b7e8ecb-f331-4938-886e-9ce1e4219433","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.222Z","level":"info","message":"http_request_completed","requestId":"48eac9aa-72ef-4584-b56f-16438722340f","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":102,"contentLength":"53718","template":"unknown","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"48eac9aa-72ef-4584-b56f-16438722340f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.227Z","level":"info","message":"http_request_received","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","method":"POST","path":"/api/process-cv","template":"unknown","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.229Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.231Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.233Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.236Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.238Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/incoming/original.pdf","chunks":1,"timestamp":1764857117243}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:05:17.246Z","level":"info","message":"process_cv_started","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","manualJobDescriptionProvided":true,"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.246Z","level":"info","message":"template_selection","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:17.247Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:17.256Z","level":"info","message":"initial_upload_completed","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","bucket":"test-bucket","key":"cv/candidate/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/incoming/original.pdf","template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.257Z","level":"info","message":"resume_text_extracted","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","characters":57,"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.257Z","level":"info","message":"resume_classified","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.258Z","level":"info","message":"raw_upload_relocated","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","bucket":"test-bucket","fromKey":"cv/candidate/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/incoming/original.pdf","toKey":"cv/professional_summary/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/original.pdf","template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.258Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","bucket":"test-bucket","key":"cv/professional_summary/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/original.pdf","template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.259Z","level":"info","message":"dynamo_initial_record_written","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","bucket":"test-bucket","key":"cv/professional_summary/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/original.pdf","template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.259Z","level":"info","message":"upload_metadata_written","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","bucket":"test-bucket","key":"cv/professional_summary/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/logs/log.json","template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.259Z","level":"info","message":"job_description_supplied_manually","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","characters":174,"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.260Z","level":"info","message":"job_description_analyzed","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","jobTitle":"","jobSkills":5,"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.261Z","level":"info","message":"resume_skills_analyzed","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.261Z","level":"info","message":"llm_call_metrics","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.262Z","level":"info","message":"process_cv_scoring_completed","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.265Z","level":"info","message":"llm_call_metrics","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.266Z","level":"info","message":"generation_section_rewrite_completed","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","generationRunId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.267Z","level":"info","message":"llm_call_metrics","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.272Z","level":"info","message":"generation_resume_verified","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","generationRunId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:17.277Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","generationRunId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:17.286Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","generationRunId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:17.295Z","level":"info","message":"generation_cover_letters_completed","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","generationRunId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","variants":2,"fallbackApplied":true,"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.296Z","level":"info","message":"pdf_generation_attempt","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","generationRunId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/enhanced_modern.pdf","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.297Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","generationRunId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.298Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","generationRunId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/enhanced_modern.pdf","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.299Z","level":"info","message":"pdf_generation_attempt","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","generationRunId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/enhanced_professional.pdf","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.300Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","generationRunId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.301Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","generationRunId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/enhanced_professional.pdf","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.302Z","level":"info","message":"pdf_generation_attempt","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","generationRunId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/cover_letter_cover_modern.pdf","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.303Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","generationRunId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.303Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","generationRunId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/cover_letter_cover_modern.pdf","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.305Z","level":"info","message":"pdf_generation_attempt","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","generationRunId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/cover_letter_cover_professional.pdf","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.306Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","generationRunId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.307Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","generationRunId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/643a40b6-ed6d-4f9c-903e-cb63dba6d0a6/cover_letter_cover_professional.pdf","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.310Z","level":"info","message":"llm_call_metrics","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.311Z","level":"info","message":"generation_completed","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","generationRunId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","enhancedScore":80,"outputs":5,"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.314Z","level":"info","message":"placeholder_record_deleted","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","jobId":"2863df05-7aba-41f0-98a3-f7dee99e57db","placeholderIdentifier":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2863df05-7aba-41f0-98a3-f7dee99e57db","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.316Z","level":"info","message":"http_request_completed","requestId":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":89,"contentLength":"58133","template":"unknown","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"643a40b6-ed6d-4f9c-903e-cb63dba6d0a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.321Z","level":"info","message":"http_request_received","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","method":"POST","path":"/api/process-cv","template":"unknown","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.322Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.324Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.326Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.329Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.332Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/b0355e41-449a-44ef-b23d-ac1fea62d4e7/incoming/original.pdf","chunks":1,"timestamp":1764857117336}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/b0355e41-449a-44ef-b23d-ac1fea62d4e7/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/b0355e41-449a-44ef-b23d-ac1fea62d4e7/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:05:17.338Z","level":"info","message":"process_cv_started","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","manualJobDescriptionProvided":true,"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.339Z","level":"info","message":"template_selection","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:17.340Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:17.350Z","level":"info","message":"initial_upload_completed","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","bucket":"test-bucket","key":"cv/candidate/b0355e41-449a-44ef-b23d-ac1fea62d4e7/incoming/original.pdf","template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.351Z","level":"info","message":"resume_text_extracted","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","characters":57,"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.351Z","level":"info","message":"resume_classified","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.352Z","level":"info","message":"raw_upload_relocated","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","bucket":"test-bucket","fromKey":"cv/candidate/b0355e41-449a-44ef-b23d-ac1fea62d4e7/incoming/original.pdf","toKey":"cv/professional_summary/b0355e41-449a-44ef-b23d-ac1fea62d4e7/original.pdf","template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.353Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","bucket":"test-bucket","key":"cv/professional_summary/b0355e41-449a-44ef-b23d-ac1fea62d4e7/original.pdf","template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.353Z","level":"info","message":"dynamo_initial_record_written","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","bucket":"test-bucket","key":"cv/professional_summary/b0355e41-449a-44ef-b23d-ac1fea62d4e7/original.pdf","template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.354Z","level":"info","message":"upload_metadata_written","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","bucket":"test-bucket","key":"cv/professional_summary/b0355e41-449a-44ef-b23d-ac1fea62d4e7/logs/log.json","template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.355Z","level":"info","message":"job_description_supplied_manually","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","characters":174,"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.355Z","level":"info","message":"job_description_analyzed","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","jobTitle":"","jobSkills":5,"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.356Z","level":"info","message":"resume_skills_analyzed","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.357Z","level":"info","message":"llm_call_metrics","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.358Z","level":"info","message":"process_cv_scoring_completed","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:17.365Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","sample":"not json","template":"unknown","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8543:20)
      at generateEnhancedDocumentsResponse (server.js:20192:26)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:17.384Z","level":"info","message":"llm_call_metrics","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.385Z","level":"info","message":"llm_call_metrics","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.386Z","level":"info","message":"generation_section_rewrite_completed","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","generationRunId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.388Z","level":"info","message":"llm_call_metrics","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"89e63aad97eee35da336c4707bebe46001a38648f790cb26108fe67f8c6eef15","skillCount":5,"template":"project_summary","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:17.393Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","generationRunId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:17.402Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","generationRunId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:17.409Z","level":"info","message":"generation_cover_letters_completed","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","generationRunId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","variants":2,"fallbackApplied":true,"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.413Z","level":"info","message":"pdf_generation_attempt","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","generationRunId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b0355e41-449a-44ef-b23d-ac1fea62d4e7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b0355e41-449a-44ef-b23d-ac1fea62d4e7/enhanced_modern.pdf","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.414Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","generationRunId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b0355e41-449a-44ef-b23d-ac1fea62d4e7/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.415Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","generationRunId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b0355e41-449a-44ef-b23d-ac1fea62d4e7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b0355e41-449a-44ef-b23d-ac1fea62d4e7/enhanced_modern.pdf","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.416Z","level":"info","message":"pdf_generation_attempt","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","generationRunId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b0355e41-449a-44ef-b23d-ac1fea62d4e7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b0355e41-449a-44ef-b23d-ac1fea62d4e7/enhanced_professional.pdf","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.417Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","generationRunId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b0355e41-449a-44ef-b23d-ac1fea62d4e7/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.418Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","generationRunId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b0355e41-449a-44ef-b23d-ac1fea62d4e7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b0355e41-449a-44ef-b23d-ac1fea62d4e7/enhanced_professional.pdf","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.418Z","level":"info","message":"pdf_generation_attempt","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","generationRunId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b0355e41-449a-44ef-b23d-ac1fea62d4e7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b0355e41-449a-44ef-b23d-ac1fea62d4e7/cover_letter_cover_modern.pdf","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.419Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","generationRunId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b0355e41-449a-44ef-b23d-ac1fea62d4e7/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.420Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","generationRunId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b0355e41-449a-44ef-b23d-ac1fea62d4e7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b0355e41-449a-44ef-b23d-ac1fea62d4e7/cover_letter_cover_modern.pdf","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.421Z","level":"info","message":"pdf_generation_attempt","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","generationRunId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b0355e41-449a-44ef-b23d-ac1fea62d4e7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b0355e41-449a-44ef-b23d-ac1fea62d4e7/cover_letter_cover_professional.pdf","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.422Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","generationRunId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b0355e41-449a-44ef-b23d-ac1fea62d4e7/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.423Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","generationRunId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b0355e41-449a-44ef-b23d-ac1fea62d4e7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b0355e41-449a-44ef-b23d-ac1fea62d4e7/cover_letter_cover_professional.pdf","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.426Z","level":"info","message":"llm_call_metrics","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.427Z","level":"info","message":"generation_completed","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","generationRunId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","enhancedScore":80,"outputs":5,"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.430Z","level":"info","message":"placeholder_record_deleted","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","jobId":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","placeholderIdentifier":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"efe38ddf-bb07-482c-9fb8-9041bb78e5c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.432Z","level":"info","message":"http_request_completed","requestId":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":111,"contentLength":"58091","template":"unknown","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b0355e41-449a-44ef-b23d-ac1fea62d4e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.441Z","level":"info","message":"http_request_received","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","method":"POST","path":"/api/process-cv","template":"unknown","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.443Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.445Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.447Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.449Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.452Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/34222d1f-e35e-4d43-95b7-3119d3a6a727/incoming/original.pdf","chunks":1,"timestamp":1764857117456}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/34222d1f-e35e-4d43-95b7-3119d3a6a727/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/34222d1f-e35e-4d43-95b7-3119d3a6a727/incoming/original.pdf","uploadDurationMs":1,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:05:17.459Z","level":"info","message":"process_cv_started","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","manualJobDescriptionProvided":true,"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.460Z","level":"info","message":"template_selection","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:17.461Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:17.469Z","level":"info","message":"initial_upload_completed","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","bucket":"test-bucket","key":"cv/candidate/34222d1f-e35e-4d43-95b7-3119d3a6a727/incoming/original.pdf","template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.470Z","level":"info","message":"resume_text_extracted","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","characters":57,"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.471Z","level":"info","message":"resume_classified","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.471Z","level":"info","message":"raw_upload_relocated","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","bucket":"test-bucket","fromKey":"cv/candidate/34222d1f-e35e-4d43-95b7-3119d3a6a727/incoming/original.pdf","toKey":"cv/professional_summary/34222d1f-e35e-4d43-95b7-3119d3a6a727/original.pdf","template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.472Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","bucket":"test-bucket","key":"cv/professional_summary/34222d1f-e35e-4d43-95b7-3119d3a6a727/original.pdf","template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.472Z","level":"info","message":"dynamo_initial_record_written","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","bucket":"test-bucket","key":"cv/professional_summary/34222d1f-e35e-4d43-95b7-3119d3a6a727/original.pdf","template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.473Z","level":"info","message":"upload_metadata_written","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","bucket":"test-bucket","key":"cv/professional_summary/34222d1f-e35e-4d43-95b7-3119d3a6a727/logs/log.json","template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.473Z","level":"info","message":"job_description_supplied_manually","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","characters":174,"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.473Z","level":"info","message":"job_description_analyzed","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","jobTitle":"","jobSkills":5,"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.474Z","level":"info","message":"resume_skills_analyzed","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.475Z","level":"info","message":"llm_call_metrics","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.476Z","level":"info","message":"process_cv_scoring_completed","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.480Z","level":"info","message":"llm_call_metrics","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.481Z","level":"info","message":"generation_section_rewrite_completed","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","generationRunId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.482Z","level":"info","message":"llm_call_metrics","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.483Z","level":"info","message":"llm_call_metrics","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.486Z","level":"info","message":"generation_resume_verified","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","generationRunId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:17.490Z","level":"error","message":"ai_response_missing_json","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","generationRunId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20474:26)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:17.499Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","generationRunId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","attempt":1,"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20479:11)
      at server.js:26750:28

  console.error
    {"timestamp":"2025-12-04T14:05:17.510Z","level":"error","message":"ai_response_missing_json","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","generationRunId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20474:26)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:17.519Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","generationRunId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","attempt":2,"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20479:11)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:17.529Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","generationRunId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:17.538Z","level":"info","message":"generation_cover_letters_completed","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","generationRunId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","variants":2,"fallbackApplied":true,"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.539Z","level":"info","message":"pdf_generation_attempt","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","generationRunId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/34222d1f-e35e-4d43-95b7-3119d3a6a727/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/34222d1f-e35e-4d43-95b7-3119d3a6a727/enhanced_modern.pdf","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.541Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","generationRunId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/34222d1f-e35e-4d43-95b7-3119d3a6a727/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.542Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","generationRunId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/34222d1f-e35e-4d43-95b7-3119d3a6a727/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/34222d1f-e35e-4d43-95b7-3119d3a6a727/enhanced_modern.pdf","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.544Z","level":"info","message":"pdf_generation_attempt","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","generationRunId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/34222d1f-e35e-4d43-95b7-3119d3a6a727/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/34222d1f-e35e-4d43-95b7-3119d3a6a727/enhanced_professional.pdf","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.545Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","generationRunId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/34222d1f-e35e-4d43-95b7-3119d3a6a727/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.546Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","generationRunId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/34222d1f-e35e-4d43-95b7-3119d3a6a727/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/34222d1f-e35e-4d43-95b7-3119d3a6a727/enhanced_professional.pdf","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.546Z","level":"info","message":"pdf_generation_attempt","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","generationRunId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/34222d1f-e35e-4d43-95b7-3119d3a6a727/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/34222d1f-e35e-4d43-95b7-3119d3a6a727/cover_letter_cover_modern.pdf","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.547Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","generationRunId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/34222d1f-e35e-4d43-95b7-3119d3a6a727/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.548Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","generationRunId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/34222d1f-e35e-4d43-95b7-3119d3a6a727/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/34222d1f-e35e-4d43-95b7-3119d3a6a727/cover_letter_cover_modern.pdf","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.549Z","level":"info","message":"pdf_generation_attempt","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","generationRunId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/34222d1f-e35e-4d43-95b7-3119d3a6a727/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/34222d1f-e35e-4d43-95b7-3119d3a6a727/cover_letter_cover_professional.pdf","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.549Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","generationRunId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/34222d1f-e35e-4d43-95b7-3119d3a6a727/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.550Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","generationRunId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/34222d1f-e35e-4d43-95b7-3119d3a6a727/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/34222d1f-e35e-4d43-95b7-3119d3a6a727/cover_letter_cover_professional.pdf","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.554Z","level":"info","message":"llm_call_metrics","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.555Z","level":"info","message":"generation_completed","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","generationRunId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","enhancedScore":80,"outputs":5,"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.558Z","level":"info","message":"placeholder_record_deleted","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","jobId":"33193919-28af-4a2f-8ed6-d2016f101c48","placeholderIdentifier":"34222d1f-e35e-4d43-95b7-3119d3a6a727","template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"33193919-28af-4a2f-8ed6-d2016f101c48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.560Z","level":"info","message":"http_request_completed","requestId":"34222d1f-e35e-4d43-95b7-3119d3a6a727","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":119,"contentLength":"59498","template":"unknown","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"34222d1f-e35e-4d43-95b7-3119d3a6a727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.567Z","level":"info","message":"http_request_received","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","method":"POST","path":"/api/process-cv","template":"unknown","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.569Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.570Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.573Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.575Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.578Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/incoming/original.pdf","chunks":1,"timestamp":1764857117583}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:05:17.587Z","level":"info","message":"process_cv_started","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","manualJobDescriptionProvided":true,"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.587Z","level":"info","message":"template_selection","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:17.600Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:17.610Z","level":"info","message":"initial_upload_completed","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","bucket":"test-bucket","key":"cv/candidate/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/incoming/original.pdf","template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.611Z","level":"info","message":"resume_text_extracted","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","characters":57,"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.611Z","level":"info","message":"resume_classified","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.612Z","level":"info","message":"raw_upload_relocated","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","bucket":"test-bucket","fromKey":"cv/candidate/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/incoming/original.pdf","toKey":"cv/professional_summary/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/original.pdf","template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.613Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","bucket":"test-bucket","key":"cv/professional_summary/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/original.pdf","template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.613Z","level":"info","message":"dynamo_initial_record_written","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","bucket":"test-bucket","key":"cv/professional_summary/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/original.pdf","template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.614Z","level":"info","message":"upload_metadata_written","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","bucket":"test-bucket","key":"cv/professional_summary/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/logs/log.json","template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.614Z","level":"info","message":"job_description_supplied_manually","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","characters":174,"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.614Z","level":"info","message":"job_description_analyzed","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","jobTitle":"","jobSkills":5,"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.615Z","level":"info","message":"resume_skills_analyzed","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.616Z","level":"info","message":"llm_call_metrics","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.617Z","level":"info","message":"process_cv_scoring_completed","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.620Z","level":"info","message":"llm_call_metrics","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.621Z","level":"info","message":"generation_section_rewrite_completed","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","generationRunId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.622Z","level":"info","message":"llm_call_metrics","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.622Z","level":"info","message":"llm_call_metrics","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.625Z","level":"info","message":"generation_resume_verified","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","generationRunId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:17.629Z","level":"error","message":"ai_response_missing_json","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","generationRunId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20474:26)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:17.637Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","generationRunId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","attempt":1,"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20479:11)
      at server.js:26750:28

  console.error
    {"timestamp":"2025-12-04T14:05:17.646Z","level":"error","message":"ai_response_missing_json","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","generationRunId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20474:26)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:17.657Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","generationRunId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","attempt":2,"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20479:11)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:17.666Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","generationRunId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:17.675Z","level":"info","message":"generation_cover_letters_completed","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","generationRunId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","variants":2,"fallbackApplied":true,"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.676Z","level":"info","message":"pdf_generation_attempt","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","generationRunId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/enhanced_modern.pdf","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.680Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","generationRunId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.682Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","generationRunId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/enhanced_modern.pdf","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.682Z","level":"info","message":"pdf_generation_attempt","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","generationRunId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/enhanced_professional.pdf","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.683Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","generationRunId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.684Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","generationRunId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/enhanced_professional.pdf","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.684Z","level":"info","message":"pdf_generation_attempt","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","generationRunId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/cover_letter_cover_modern.pdf","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.685Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","generationRunId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.686Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","generationRunId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/cover_letter_cover_modern.pdf","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.687Z","level":"info","message":"pdf_generation_attempt","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","generationRunId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/cover_letter_cover_professional.pdf","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.688Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","generationRunId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.689Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","generationRunId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/09cf4e0d-8411-4d09-87bb-44fa2774f1c5/cover_letter_cover_professional.pdf","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.692Z","level":"info","message":"llm_call_metrics","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.694Z","level":"info","message":"generation_completed","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","generationRunId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","enhancedScore":80,"outputs":5,"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.696Z","level":"info","message":"placeholder_record_deleted","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","jobId":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","placeholderIdentifier":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96f815c4-d54e-4d77-ae9d-6ef0b6385c19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.698Z","level":"info","message":"http_request_completed","requestId":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":131,"contentLength":"59498","template":"unknown","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"09cf4e0d-8411-4d09-87bb-44fa2774f1c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.705Z","level":"info","message":"http_request_received","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","method":"POST","path":"/api/process-cv","template":"unknown","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.707Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.709Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.711Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.714Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.717Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/bcebd834-6bf3-41cd-b834-26162eb0ae4d/incoming/original.pdf","chunks":1,"timestamp":1764857117722}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/bcebd834-6bf3-41cd-b834-26162eb0ae4d/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/bcebd834-6bf3-41cd-b834-26162eb0ae4d/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":4}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:05:17.727Z","level":"info","message":"process_cv_started","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","manualJobDescriptionProvided":true,"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.728Z","level":"info","message":"template_selection","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:17.729Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:17.738Z","level":"info","message":"initial_upload_completed","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","bucket":"test-bucket","key":"cv/candidate/bcebd834-6bf3-41cd-b834-26162eb0ae4d/incoming/original.pdf","template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.739Z","level":"info","message":"resume_text_extracted","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","characters":57,"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.740Z","level":"info","message":"resume_classified","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.741Z","level":"info","message":"raw_upload_relocated","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","bucket":"test-bucket","fromKey":"cv/candidate/bcebd834-6bf3-41cd-b834-26162eb0ae4d/incoming/original.pdf","toKey":"cv/professional_summary/bcebd834-6bf3-41cd-b834-26162eb0ae4d/original.pdf","template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.741Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","bucket":"test-bucket","key":"cv/professional_summary/bcebd834-6bf3-41cd-b834-26162eb0ae4d/original.pdf","template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.742Z","level":"info","message":"dynamo_initial_record_written","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","bucket":"test-bucket","key":"cv/professional_summary/bcebd834-6bf3-41cd-b834-26162eb0ae4d/original.pdf","template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.743Z","level":"info","message":"upload_metadata_written","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","bucket":"test-bucket","key":"cv/professional_summary/bcebd834-6bf3-41cd-b834-26162eb0ae4d/logs/log.json","template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.743Z","level":"info","message":"job_description_supplied_manually","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","characters":174,"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.744Z","level":"info","message":"job_description_analyzed","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","jobTitle":"","jobSkills":5,"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.745Z","level":"info","message":"resume_skills_analyzed","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.746Z","level":"info","message":"llm_call_metrics","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.747Z","level":"info","message":"process_cv_scoring_completed","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:17.751Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","template":"unknown","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8543:20)
      at generateEnhancedDocumentsResponse (server.js:20192:26)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:17.759Z","level":"info","message":"llm_call_metrics","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.760Z","level":"info","message":"llm_call_metrics","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.761Z","level":"info","message":"generation_section_rewrite_completed","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","generationRunId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.762Z","level":"info","message":"llm_call_metrics","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.763Z","level":"info","message":"llm_call_metrics","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:17.772Z","level":"error","message":"ai_response_missing_json","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","generationRunId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20474:26)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:17.781Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","generationRunId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","attempt":1,"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20479:11)
      at server.js:26750:28

  console.error
    {"timestamp":"2025-12-04T14:05:17.789Z","level":"error","message":"ai_response_missing_json","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","generationRunId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20474:26)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:17.798Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","generationRunId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","attempt":2,"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20479:11)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:17.807Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","generationRunId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:17.816Z","level":"info","message":"generation_cover_letters_completed","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","generationRunId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","variants":2,"fallbackApplied":true,"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.817Z","level":"info","message":"pdf_generation_attempt","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","generationRunId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/bcebd834-6bf3-41cd-b834-26162eb0ae4d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/bcebd834-6bf3-41cd-b834-26162eb0ae4d/enhanced_modern.pdf","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.818Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","generationRunId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/bcebd834-6bf3-41cd-b834-26162eb0ae4d/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.819Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","generationRunId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/bcebd834-6bf3-41cd-b834-26162eb0ae4d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/bcebd834-6bf3-41cd-b834-26162eb0ae4d/enhanced_modern.pdf","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.820Z","level":"info","message":"pdf_generation_attempt","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","generationRunId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/bcebd834-6bf3-41cd-b834-26162eb0ae4d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/bcebd834-6bf3-41cd-b834-26162eb0ae4d/enhanced_professional.pdf","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.821Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","generationRunId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/bcebd834-6bf3-41cd-b834-26162eb0ae4d/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.822Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","generationRunId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/bcebd834-6bf3-41cd-b834-26162eb0ae4d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/bcebd834-6bf3-41cd-b834-26162eb0ae4d/enhanced_professional.pdf","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.823Z","level":"info","message":"pdf_generation_attempt","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","generationRunId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/bcebd834-6bf3-41cd-b834-26162eb0ae4d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/bcebd834-6bf3-41cd-b834-26162eb0ae4d/cover_letter_cover_modern.pdf","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.823Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","generationRunId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/bcebd834-6bf3-41cd-b834-26162eb0ae4d/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.824Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","generationRunId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/bcebd834-6bf3-41cd-b834-26162eb0ae4d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/bcebd834-6bf3-41cd-b834-26162eb0ae4d/cover_letter_cover_modern.pdf","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.825Z","level":"info","message":"pdf_generation_attempt","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","generationRunId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/bcebd834-6bf3-41cd-b834-26162eb0ae4d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/bcebd834-6bf3-41cd-b834-26162eb0ae4d/cover_letter_cover_professional.pdf","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.826Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","generationRunId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/bcebd834-6bf3-41cd-b834-26162eb0ae4d/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.826Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","generationRunId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/bcebd834-6bf3-41cd-b834-26162eb0ae4d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/bcebd834-6bf3-41cd-b834-26162eb0ae4d/cover_letter_cover_professional.pdf","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.829Z","level":"info","message":"llm_call_metrics","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.830Z","level":"info","message":"generation_completed","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","generationRunId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","enhancedScore":80,"outputs":5,"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.832Z","level":"info","message":"placeholder_record_deleted","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","jobId":"fe06b19d-b4a2-4b26-b5c3-768611b34799","placeholderIdentifier":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe06b19d-b4a2-4b26-b5c3-768611b34799","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.834Z","level":"info","message":"http_request_completed","requestId":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":129,"contentLength":"58301","template":"unknown","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bcebd834-6bf3-41cd-b834-26162eb0ae4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.847Z","level":"info","message":"http_request_received","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","method":"POST","path":"/api/process-cv","template":"unknown","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.848Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.850Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.852Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.855Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.858Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/ae96376f-6545-45be-9794-5b78204a63c2/incoming/original.pdf","chunks":1,"timestamp":1764857117861}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/ae96376f-6545-45be-9794-5b78204a63c2/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/ae96376f-6545-45be-9794-5b78204a63c2/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:05:17.864Z","level":"info","message":"process_cv_started","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","manualJobDescriptionProvided":true,"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.865Z","level":"info","message":"template_selection","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:17.866Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:17.874Z","level":"info","message":"initial_upload_completed","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","bucket":"test-bucket","key":"cv/candidate/ae96376f-6545-45be-9794-5b78204a63c2/incoming/original.pdf","template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.875Z","level":"info","message":"resume_text_extracted","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","characters":57,"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.876Z","level":"info","message":"resume_classified","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.876Z","level":"info","message":"raw_upload_relocated","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","bucket":"test-bucket","fromKey":"cv/candidate/ae96376f-6545-45be-9794-5b78204a63c2/incoming/original.pdf","toKey":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/original.pdf","template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.878Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","bucket":"test-bucket","key":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/original.pdf","template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.879Z","level":"info","message":"dynamo_initial_record_written","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","bucket":"test-bucket","key":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/original.pdf","template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.880Z","level":"info","message":"upload_metadata_written","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","bucket":"test-bucket","key":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/logs/log.json","template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.880Z","level":"info","message":"job_description_supplied_manually","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","characters":174,"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.881Z","level":"info","message":"job_description_analyzed","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","jobTitle":"","jobSkills":5,"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.882Z","level":"info","message":"resume_skills_analyzed","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.883Z","level":"info","message":"llm_call_metrics","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.884Z","level":"info","message":"process_cv_scoring_completed","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:17.886Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"ae96376f-6545-45be-9794-5b78204a63c2","template":"unknown","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8543:20)
      at generateEnhancedDocumentsResponse (server.js:20192:26)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:17.894Z","level":"info","message":"llm_call_metrics","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.895Z","level":"info","message":"llm_call_metrics","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.896Z","level":"info","message":"generation_section_rewrite_completed","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","generationRunId":"ae96376f-6545-45be-9794-5b78204a63c2","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.897Z","level":"info","message":"llm_call_metrics","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.897Z","level":"info","message":"llm_call_metrics","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:17.902Z","level":"error","message":"ai_response_missing_json","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","generationRunId":"ae96376f-6545-45be-9794-5b78204a63c2","template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20474:26)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:17.910Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","generationRunId":"ae96376f-6545-45be-9794-5b78204a63c2","attempt":1,"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20479:11)
      at server.js:26750:28

  console.error
    {"timestamp":"2025-12-04T14:05:17.918Z","level":"error","message":"ai_response_missing_json","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","generationRunId":"ae96376f-6545-45be-9794-5b78204a63c2","template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20474:26)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:17.926Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","generationRunId":"ae96376f-6545-45be-9794-5b78204a63c2","attempt":2,"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20479:11)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:17.934Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","generationRunId":"ae96376f-6545-45be-9794-5b78204a63c2","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:17.942Z","level":"info","message":"generation_cover_letters_completed","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","generationRunId":"ae96376f-6545-45be-9794-5b78204a63c2","variants":2,"fallbackApplied":true,"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.944Z","level":"info","message":"pdf_generation_attempt","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","generationRunId":"ae96376f-6545-45be-9794-5b78204a63c2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/enhanced_modern.pdf","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.945Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","generationRunId":"ae96376f-6545-45be-9794-5b78204a63c2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.946Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","generationRunId":"ae96376f-6545-45be-9794-5b78204a63c2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/enhanced_modern.pdf","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.947Z","level":"info","message":"pdf_generation_attempt","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","generationRunId":"ae96376f-6545-45be-9794-5b78204a63c2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/enhanced_professional.pdf","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.947Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","generationRunId":"ae96376f-6545-45be-9794-5b78204a63c2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.948Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","generationRunId":"ae96376f-6545-45be-9794-5b78204a63c2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/enhanced_professional.pdf","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.949Z","level":"info","message":"pdf_generation_attempt","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","generationRunId":"ae96376f-6545-45be-9794-5b78204a63c2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/cover_letter_cover_modern.pdf","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.950Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","generationRunId":"ae96376f-6545-45be-9794-5b78204a63c2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.951Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","generationRunId":"ae96376f-6545-45be-9794-5b78204a63c2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/cover_letter_cover_modern.pdf","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.952Z","level":"info","message":"pdf_generation_attempt","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","generationRunId":"ae96376f-6545-45be-9794-5b78204a63c2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/cover_letter_cover_professional.pdf","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.953Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","generationRunId":"ae96376f-6545-45be-9794-5b78204a63c2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:17.956Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","generationRunId":"ae96376f-6545-45be-9794-5b78204a63c2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/cover_letter_cover_professional.pdf","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:17.959Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","generationRunId":"ae96376f-6545-45be-9794-5b78204a63c2","artifactType":"original_upload","storageKey":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/original.pdf","template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","metadata":{"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"original_upload"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:21880:9)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:17.967Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","generationRunId":"ae96376f-6545-45be-9794-5b78204a63c2","artifactType":"version1","storageKey":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/modern/version1.pdf","template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","metadata":{"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"version1"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:21880:9)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:17.976Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","generationRunId":"ae96376f-6545-45be-9794-5b78204a63c2","artifactType":"version2","storageKey":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/professional/version2.pdf","template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","metadata":{"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"version2"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:21880:9)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:17.984Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","generationRunId":"ae96376f-6545-45be-9794-5b78204a63c2","artifactType":"cover_letter1","storageKey":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/cover_modern/cover_letter1.pdf","template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","metadata":{"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"cover_letter1"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:21880:9)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:17.992Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","generationRunId":"ae96376f-6545-45be-9794-5b78204a63c2","artifactType":"cover_letter2","storageKey":"cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/cover_professional/cover_letter2.pdf","template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","metadata":{"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"cover_letter2"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:21880:9)
      at server.js:26750:28

  console.error
    {"timestamp":"2025-12-04T14:05:18.001Z","level":"error","message":"generation_urls_missing","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","generationRunId":"ae96376f-6545-45be-9794-5b78204a63c2","requestedUrlCount":0,"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:21981:7)
      at server.js:26750:28

  console.error
    {"timestamp":"2025-12-04T14:05:18.010Z","level":"error","message":"api_error_response","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","status":500,"error":{"code":"AI_RESPONSE_INVALID","message":"Unable to prepare download links for the generated documents.","details":{"logs":{"s3":{"bucket":"test-bucket","key":"logs/errors/2025-12-04/2025-12-04t14-05-18-010z-ae96376f-6545-45be-9794-5b78204a63c2.json","status":"pending"}}},"requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a"},"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at sendError (server.js:3975:3)
      at generateEnhancedDocumentsResponse (server.js:21985:7)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:18.032Z","level":"warn","message":"generation_artifacts_cleaned_up","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","jobId":"b6a78da4-4b9d-440f-80af-aabd9575657a","generationRunId":"ae96376f-6545-45be-9794-5b78204a63c2","reason":"no_valid_urls","deletedKeys":["cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/modern/version1.pdf","cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/professional/version2.pdf","cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/cover_modern/cover_letter1.pdf","cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/cover_professional/cover_letter2.pdf","cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/artifacts/original.json","cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/artifacts/version1.json","cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/artifacts/version2.json","cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/artifacts/cover-letter1.json","cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/artifacts/cover-letter2.json","cv/professional_summary/ae96376f-6545-45be-9794-5b78204a63c2/artifacts/changelog.json"],"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6a78da4-4b9d-440f-80af-aabd9575657a","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:19908:9
      at generateEnhancedDocumentsResponse (server.js:22513:7)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:18.041Z","level":"info","message":"http_request_completed","requestId":"ae96376f-6545-45be-9794-5b78204a63c2","method":"POST","path":"/api/process-cv","statusCode":500,"durationMs":194,"contentLength":"396","template":"unknown","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ae96376f-6545-45be-9794-5b78204a63c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.046Z","level":"info","message":"http_request_received","requestId":"184fb498-0a32-46a7-a48b-3c53d7083bbd","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"184fb498-0a32-46a7-a48b-3c53d7083bbd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"184fb498-0a32-46a7-a48b-3c53d7083bbd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.047Z","level":"info","message":"path_restoration_debug","reqPath":"/api/refresh-download-link","reqUrl":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.049Z","level":"info","message":"request_received","path":"/api/refresh-download-link","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.051Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.068Z","level":"info","message":"client_app_routes_entered","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.070Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.073Z","level":"info","message":"http_request_completed","requestId":"184fb498-0a32-46a7-a48b-3c53d7083bbd","method":"POST","path":"/api/refresh-download-link","statusCode":200,"durationMs":27,"contentLength":"232","template":"unknown","session":"184fb498-0a32-46a7-a48b-3c53d7083bbd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"184fb498-0a32-46a7-a48b-3c53d7083bbd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.096Z","level":"info","message":"http_request_received","requestId":"0fedb118-272b-4083-9a55-5e371cf56372","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"0fedb118-272b-4083-9a55-5e371cf56372","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0fedb118-272b-4083-9a55-5e371cf56372","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.099Z","level":"info","message":"path_restoration_debug","reqPath":"/api/refresh-download-link","reqUrl":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.106Z","level":"info","message":"request_received","path":"/api/refresh-download-link","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.108Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.112Z","level":"info","message":"client_app_routes_entered","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.114Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:18.115Z","level":"warn","message":"api_error_response","requestId":"0fedb118-272b-4083-9a55-5e371cf56372","jobId":"job-123","status":404,"error":{"code":"DOWNLOAD_NOT_FOUND","message":"The requested download link is no longer available.","details":{},"requestId":"0fedb118-272b-4083-9a55-5e371cf56372","jobId":"job-123"},"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at sendError (server.js:3975:3)
      at server.js:24618:12

  console.log
    {"timestamp":"2025-12-04T14:05:18.129Z","level":"info","message":"http_request_completed","requestId":"0fedb118-272b-4083-9a55-5e371cf56372","method":"POST","path":"/api/refresh-download-link","statusCode":404,"durationMs":33,"contentLength":"201","template":"unknown","session":"0fedb118-272b-4083-9a55-5e371cf56372","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0fedb118-272b-4083-9a55-5e371cf56372","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.136Z","level":"info","message":"http_request_received","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","method":"POST","path":"/api/process-cv","template":"unknown","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.139Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.142Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.145Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.149Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.160Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/f6c45c98-c932-4967-bd5a-ba0e293ad477/incoming/original.pdf","chunks":1,"timestamp":1764857118167}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/f6c45c98-c932-4967-bd5a-ba0e293ad477/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/f6c45c98-c932-4967-bd5a-ba0e293ad477/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:05:18.169Z","level":"info","message":"process_cv_started","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","manualJobDescriptionProvided":true,"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.170Z","level":"info","message":"template_selection","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:18.171Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:18.181Z","level":"info","message":"initial_upload_completed","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","bucket":"test-bucket","key":"cv/candidate/f6c45c98-c932-4967-bd5a-ba0e293ad477/incoming/original.pdf","template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.181Z","level":"info","message":"resume_text_extracted","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","characters":57,"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.182Z","level":"info","message":"resume_classified","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.183Z","level":"info","message":"raw_upload_relocated","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","bucket":"test-bucket","fromKey":"cv/candidate/f6c45c98-c932-4967-bd5a-ba0e293ad477/incoming/original.pdf","toKey":"cv/professional_summary/f6c45c98-c932-4967-bd5a-ba0e293ad477/original.pdf","template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.184Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","bucket":"test-bucket","key":"cv/professional_summary/f6c45c98-c932-4967-bd5a-ba0e293ad477/original.pdf","template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.184Z","level":"info","message":"dynamo_initial_record_written","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","bucket":"test-bucket","key":"cv/professional_summary/f6c45c98-c932-4967-bd5a-ba0e293ad477/original.pdf","template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.185Z","level":"info","message":"upload_metadata_written","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","bucket":"test-bucket","key":"cv/professional_summary/f6c45c98-c932-4967-bd5a-ba0e293ad477/logs/log.json","template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.185Z","level":"info","message":"job_description_supplied_manually","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","characters":174,"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.186Z","level":"info","message":"job_description_analyzed","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","jobTitle":"","jobSkills":5,"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.187Z","level":"info","message":"resume_skills_analyzed","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.188Z","level":"info","message":"llm_call_metrics","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.190Z","level":"info","message":"process_cv_scoring_completed","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:18.194Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","template":"unknown","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8543:20)
      at generateEnhancedDocumentsResponse (server.js:20192:26)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:18.207Z","level":"info","message":"llm_call_metrics","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.209Z","level":"info","message":"llm_call_metrics","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.210Z","level":"info","message":"generation_section_rewrite_completed","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","generationRunId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.212Z","level":"info","message":"llm_call_metrics","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.213Z","level":"info","message":"llm_call_metrics","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:18.221Z","level":"error","message":"ai_response_missing_json","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","generationRunId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20474:26)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:18.231Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","generationRunId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","attempt":1,"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20479:11)
      at server.js:26750:28

  console.error
    {"timestamp":"2025-12-04T14:05:18.241Z","level":"error","message":"ai_response_missing_json","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","generationRunId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20474:26)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:18.255Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","generationRunId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","attempt":2,"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20479:11)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:18.265Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","generationRunId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:18.272Z","level":"info","message":"generation_cover_letters_completed","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","generationRunId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","variants":2,"fallbackApplied":true,"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.273Z","level":"info","message":"pdf_generation_attempt","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","generationRunId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f6c45c98-c932-4967-bd5a-ba0e293ad477/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f6c45c98-c932-4967-bd5a-ba0e293ad477/enhanced_modern.pdf","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.274Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","generationRunId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f6c45c98-c932-4967-bd5a-ba0e293ad477/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.275Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","generationRunId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f6c45c98-c932-4967-bd5a-ba0e293ad477/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f6c45c98-c932-4967-bd5a-ba0e293ad477/enhanced_modern.pdf","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.276Z","level":"info","message":"pdf_generation_attempt","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","generationRunId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f6c45c98-c932-4967-bd5a-ba0e293ad477/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f6c45c98-c932-4967-bd5a-ba0e293ad477/enhanced_professional.pdf","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.276Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","generationRunId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f6c45c98-c932-4967-bd5a-ba0e293ad477/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.277Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","generationRunId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f6c45c98-c932-4967-bd5a-ba0e293ad477/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f6c45c98-c932-4967-bd5a-ba0e293ad477/enhanced_professional.pdf","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.278Z","level":"info","message":"pdf_generation_attempt","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","generationRunId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f6c45c98-c932-4967-bd5a-ba0e293ad477/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f6c45c98-c932-4967-bd5a-ba0e293ad477/cover_letter_cover_modern.pdf","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.278Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","generationRunId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f6c45c98-c932-4967-bd5a-ba0e293ad477/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.279Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","generationRunId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f6c45c98-c932-4967-bd5a-ba0e293ad477/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f6c45c98-c932-4967-bd5a-ba0e293ad477/cover_letter_cover_modern.pdf","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.280Z","level":"info","message":"pdf_generation_attempt","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","generationRunId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f6c45c98-c932-4967-bd5a-ba0e293ad477/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f6c45c98-c932-4967-bd5a-ba0e293ad477/cover_letter_cover_professional.pdf","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.281Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","generationRunId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f6c45c98-c932-4967-bd5a-ba0e293ad477/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.282Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","generationRunId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f6c45c98-c932-4967-bd5a-ba0e293ad477/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f6c45c98-c932-4967-bd5a-ba0e293ad477/cover_letter_cover_professional.pdf","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.285Z","level":"info","message":"llm_call_metrics","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.286Z","level":"info","message":"generation_completed","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","generationRunId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","enhancedScore":80,"outputs":5,"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.288Z","level":"info","message":"placeholder_record_deleted","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","jobId":"b6c71858-3ad3-4537-8f0e-27a009a50344","placeholderIdentifier":"f6c45c98-c932-4967-bd5a-ba0e293ad477","template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6c71858-3ad3-4537-8f0e-27a009a50344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.289Z","level":"info","message":"http_request_completed","requestId":"f6c45c98-c932-4967-bd5a-ba0e293ad477","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":153,"contentLength":"58301","template":"unknown","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f6c45c98-c932-4967-bd5a-ba0e293ad477","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.348Z","level":"info","message":"http_request_received","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","method":"POST","path":"/api/process-cv","template":"unknown","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.364Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.385Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.390Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.393Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.396Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/incoming/original.pdf","chunks":1,"timestamp":1764857118401}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:05:18.412Z","level":"info","message":"process_cv_started","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","manualJobDescriptionProvided":true,"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.413Z","level":"info","message":"template_selection","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:18.414Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:18.432Z","level":"info","message":"initial_upload_completed","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","bucket":"test-bucket","key":"cv/candidate/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/incoming/original.pdf","template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.438Z","level":"info","message":"resume_text_extracted","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","characters":57,"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.439Z","level":"info","message":"resume_classified","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.440Z","level":"info","message":"raw_upload_relocated","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","bucket":"test-bucket","fromKey":"cv/candidate/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/incoming/original.pdf","toKey":"cv/professional_summary/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/original.pdf","template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.441Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","bucket":"test-bucket","key":"cv/professional_summary/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/original.pdf","template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.442Z","level":"info","message":"dynamo_initial_record_written","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","bucket":"test-bucket","key":"cv/professional_summary/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/original.pdf","template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.443Z","level":"info","message":"upload_metadata_written","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","bucket":"test-bucket","key":"cv/professional_summary/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/logs/log.json","template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.444Z","level":"info","message":"job_description_supplied_manually","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","characters":174,"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.446Z","level":"info","message":"job_description_analyzed","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","jobTitle":"","jobSkills":5,"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.449Z","level":"info","message":"resume_skills_analyzed","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.450Z","level":"info","message":"llm_call_metrics","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.491Z","level":"info","message":"process_cv_scoring_completed","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.501Z","level":"info","message":"llm_call_metrics","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.502Z","level":"info","message":"generation_section_rewrite_completed","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","generationRunId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.503Z","level":"info","message":"llm_call_metrics","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.512Z","level":"info","message":"generation_resume_verified","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","generationRunId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:18.524Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","generationRunId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:18.537Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","generationRunId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:18.545Z","level":"info","message":"generation_cover_letters_completed","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","generationRunId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","variants":2,"fallbackApplied":true,"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.547Z","level":"info","message":"pdf_generation_attempt","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","generationRunId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/enhanced_modern.pdf","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.548Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","generationRunId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.548Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","generationRunId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/enhanced_modern.pdf","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.549Z","level":"info","message":"pdf_generation_attempt","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","generationRunId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/enhanced_professional.pdf","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.550Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","generationRunId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.551Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","generationRunId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/enhanced_professional.pdf","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.552Z","level":"info","message":"pdf_generation_attempt","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","generationRunId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/cover_letter_cover_modern.pdf","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.552Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","generationRunId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.553Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","generationRunId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/cover_letter_cover_modern.pdf","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.558Z","level":"info","message":"pdf_generation_attempt","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","generationRunId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/cover_letter_cover_professional.pdf","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.559Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","generationRunId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.561Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","generationRunId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e9cbfe36-b36c-44ea-86f1-57cd4e3083c1/cover_letter_cover_professional.pdf","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.567Z","level":"info","message":"llm_call_metrics","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.569Z","level":"info","message":"generation_completed","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","generationRunId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","enhancedScore":80,"outputs":5,"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.571Z","level":"info","message":"placeholder_record_deleted","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","jobId":"27e82f83-a3a6-4acb-983a-d11af4066b53","placeholderIdentifier":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27e82f83-a3a6-4acb-983a-d11af4066b53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.573Z","level":"info","message":"http_request_completed","requestId":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":225,"contentLength":"58133","template":"unknown","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e9cbfe36-b36c-44ea-86f1-57cd4e3083c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.585Z","level":"info","message":"http_request_received","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","method":"POST","path":"/api/process-cv","template":"unknown","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.589Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.591Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.593Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.598Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.604Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/1f715175-616f-4e49-8a84-9b620ec34dd5/incoming/original.pdf","chunks":1,"timestamp":1764857118608}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/1f715175-616f-4e49-8a84-9b620ec34dd5/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/1f715175-616f-4e49-8a84-9b620ec34dd5/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":4}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:05:18.622Z","level":"info","message":"process_cv_started","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","manualJobDescriptionProvided":true,"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.624Z","level":"info","message":"template_selection","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","template1":"classic","template2":"ats","coverTemplate1":"cover_classic","coverTemplate2":"cover_ats","availableCvTemplates":["classic","ats","modern","professional","2025"],"availableCoverTemplates":["cover_classic","cover_ats","cover_modern","cover_professional","cover_2025"],"template":"classic","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:18.625Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:18.634Z","level":"info","message":"initial_upload_completed","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","bucket":"test-bucket","key":"cv/candidate/1f715175-616f-4e49-8a84-9b620ec34dd5/incoming/original.pdf","template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.636Z","level":"info","message":"resume_text_extracted","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","characters":57,"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.637Z","level":"info","message":"resume_classified","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.637Z","level":"info","message":"raw_upload_relocated","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","bucket":"test-bucket","fromKey":"cv/candidate/1f715175-616f-4e49-8a84-9b620ec34dd5/incoming/original.pdf","toKey":"cv/professional_summary/1f715175-616f-4e49-8a84-9b620ec34dd5/original.pdf","template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.638Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","bucket":"test-bucket","key":"cv/professional_summary/1f715175-616f-4e49-8a84-9b620ec34dd5/original.pdf","template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.641Z","level":"info","message":"dynamo_initial_record_written","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","bucket":"test-bucket","key":"cv/professional_summary/1f715175-616f-4e49-8a84-9b620ec34dd5/original.pdf","template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.642Z","level":"info","message":"upload_metadata_written","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","bucket":"test-bucket","key":"cv/professional_summary/1f715175-616f-4e49-8a84-9b620ec34dd5/logs/log.json","template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.643Z","level":"info","message":"job_description_supplied_manually","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","characters":174,"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.644Z","level":"info","message":"job_description_analyzed","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","jobTitle":"","jobSkills":5,"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.646Z","level":"info","message":"resume_skills_analyzed","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.648Z","level":"info","message":"llm_call_metrics","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.650Z","level":"info","message":"process_cv_scoring_completed","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.657Z","level":"info","message":"llm_call_metrics","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.658Z","level":"info","message":"generation_section_rewrite_completed","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","generationRunId":"1f715175-616f-4e49-8a84-9b620ec34dd5","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.660Z","level":"info","message":"llm_call_metrics","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.664Z","level":"info","message":"generation_resume_verified","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","generationRunId":"1f715175-616f-4e49-8a84-9b620ec34dd5","template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:18.668Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","generationRunId":"1f715175-616f-4e49-8a84-9b620ec34dd5","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:18.679Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","generationRunId":"1f715175-616f-4e49-8a84-9b620ec34dd5","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:18.687Z","level":"info","message":"generation_cover_letters_completed","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","generationRunId":"1f715175-616f-4e49-8a84-9b620ec34dd5","variants":2,"fallbackApplied":true,"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.689Z","level":"info","message":"pdf_generation_attempt","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","generationRunId":"1f715175-616f-4e49-8a84-9b620ec34dd5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1f715175-616f-4e49-8a84-9b620ec34dd5/","sessionId":"[REDACTED]","template":"classic","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/1f715175-616f-4e49-8a84-9b620ec34dd5/enhanced_classic.pdf","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.690Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","generationRunId":"1f715175-616f-4e49-8a84-9b620ec34dd5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1f715175-616f-4e49-8a84-9b620ec34dd5/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.690Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","generationRunId":"1f715175-616f-4e49-8a84-9b620ec34dd5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1f715175-616f-4e49-8a84-9b620ec34dd5/","sessionId":"[REDACTED]","template":"classic","attempt":1,"bytes":3,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/1f715175-616f-4e49-8a84-9b620ec34dd5/enhanced_classic.pdf","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.691Z","level":"info","message":"pdf_generation_attempt","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","generationRunId":"1f715175-616f-4e49-8a84-9b620ec34dd5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1f715175-616f-4e49-8a84-9b620ec34dd5/","sessionId":"[REDACTED]","template":"ats","attempt":1,"totalAttempts":1,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/1f715175-616f-4e49-8a84-9b620ec34dd5/enhanced_ats.pdf","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.692Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","generationRunId":"1f715175-616f-4e49-8a84-9b620ec34dd5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1f715175-616f-4e49-8a84-9b620ec34dd5/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":["mode","atsMode"],"session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.693Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","generationRunId":"1f715175-616f-4e49-8a84-9b620ec34dd5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1f715175-616f-4e49-8a84-9b620ec34dd5/","sessionId":"[REDACTED]","template":"ats","attempt":1,"bytes":3,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/1f715175-616f-4e49-8a84-9b620ec34dd5/enhanced_ats.pdf","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.694Z","level":"info","message":"pdf_generation_attempt","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","generationRunId":"1f715175-616f-4e49-8a84-9b620ec34dd5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1f715175-616f-4e49-8a84-9b620ec34dd5/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/1f715175-616f-4e49-8a84-9b620ec34dd5/cover_letter_cover_classic.pdf","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.694Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","generationRunId":"1f715175-616f-4e49-8a84-9b620ec34dd5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1f715175-616f-4e49-8a84-9b620ec34dd5/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.695Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","generationRunId":"1f715175-616f-4e49-8a84-9b620ec34dd5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1f715175-616f-4e49-8a84-9b620ec34dd5/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/1f715175-616f-4e49-8a84-9b620ec34dd5/cover_letter_cover_classic.pdf","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.697Z","level":"info","message":"pdf_generation_attempt","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","generationRunId":"1f715175-616f-4e49-8a84-9b620ec34dd5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1f715175-616f-4e49-8a84-9b620ec34dd5/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/1f715175-616f-4e49-8a84-9b620ec34dd5/cover_letter_cover_ats.pdf","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.698Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","generationRunId":"1f715175-616f-4e49-8a84-9b620ec34dd5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1f715175-616f-4e49-8a84-9b620ec34dd5/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.698Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","generationRunId":"1f715175-616f-4e49-8a84-9b620ec34dd5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1f715175-616f-4e49-8a84-9b620ec34dd5/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/1f715175-616f-4e49-8a84-9b620ec34dd5/cover_letter_cover_ats.pdf","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.702Z","level":"info","message":"llm_call_metrics","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.703Z","level":"info","message":"generation_completed","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","generationRunId":"1f715175-616f-4e49-8a84-9b620ec34dd5","enhancedScore":80,"outputs":5,"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.705Z","level":"info","message":"placeholder_record_deleted","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","jobId":"6507994f-03ae-4684-ba96-71226da81c31","placeholderIdentifier":"1f715175-616f-4e49-8a84-9b620ec34dd5","template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6507994f-03ae-4684-ba96-71226da81c31","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.707Z","level":"info","message":"http_request_completed","requestId":"1f715175-616f-4e49-8a84-9b620ec34dd5","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":122,"contentLength":"57992","template":"unknown","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1f715175-616f-4e49-8a84-9b620ec34dd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.712Z","level":"info","message":"http_request_received","requestId":"29afc767-c630-472a-9802-a4241b96633d","method":"POST","path":"/api/process-cv","template":"unknown","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.714Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.716Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.722Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.725Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.731Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/29afc767-c630-472a-9802-a4241b96633d/incoming/original.pdf","chunks":1,"timestamp":1764857118735}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/29afc767-c630-472a-9802-a4241b96633d/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/29afc767-c630-472a-9802-a4241b96633d/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:05:18.738Z","level":"info","message":"process_cv_started","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","manualJobDescriptionProvided":true,"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.739Z","level":"info","message":"template_selection","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:18.740Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:18.751Z","level":"info","message":"initial_upload_completed","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","bucket":"test-bucket","key":"cv/candidate/29afc767-c630-472a-9802-a4241b96633d/incoming/original.pdf","template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.752Z","level":"info","message":"resume_text_extracted","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","characters":57,"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.753Z","level":"info","message":"resume_classified","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.754Z","level":"info","message":"raw_upload_relocated","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","bucket":"test-bucket","fromKey":"cv/candidate/29afc767-c630-472a-9802-a4241b96633d/incoming/original.pdf","toKey":"cv/professional_summary/29afc767-c630-472a-9802-a4241b96633d/original.pdf","template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.755Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","bucket":"test-bucket","key":"cv/professional_summary/29afc767-c630-472a-9802-a4241b96633d/original.pdf","template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.756Z","level":"info","message":"dynamo_initial_record_written","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","bucket":"test-bucket","key":"cv/professional_summary/29afc767-c630-472a-9802-a4241b96633d/original.pdf","template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.757Z","level":"info","message":"upload_metadata_written","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","bucket":"test-bucket","key":"cv/professional_summary/29afc767-c630-472a-9802-a4241b96633d/logs/log.json","template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.758Z","level":"info","message":"job_description_supplied_manually","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","characters":174,"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.758Z","level":"info","message":"job_description_analyzed","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","jobTitle":"","jobSkills":5,"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.759Z","level":"info","message":"resume_skills_analyzed","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.760Z","level":"info","message":"llm_call_metrics","requestId":"29afc767-c630-472a-9802-a4241b96633d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.765Z","level":"info","message":"process_cv_scoring_completed","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.773Z","level":"info","message":"llm_call_metrics","requestId":"29afc767-c630-472a-9802-a4241b96633d","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"02d97c4de2dc6045a8d84c10e35b0b09be1fff3da32b47fa5d4c293317deef58","addedSkillCount":0,"template":"resume_rewrite","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.774Z","level":"info","message":"generation_section_rewrite_completed","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","generationRunId":"29afc767-c630-472a-9802-a4241b96633d","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.775Z","level":"info","message":"llm_call_metrics","requestId":"29afc767-c630-472a-9802-a4241b96633d","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"3cb5bda2be537250e5bef0d91034f772d9c2c805c99b7e04ba145ecb904d5893","skillCount":5,"template":"project_summary","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.779Z","level":"info","message":"generation_resume_verified","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","generationRunId":"29afc767-c630-472a-9802-a4241b96633d","template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:18.786Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","generationRunId":"29afc767-c630-472a-9802-a4241b96633d","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:18.796Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","generationRunId":"29afc767-c630-472a-9802-a4241b96633d","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:18.806Z","level":"info","message":"generation_cover_letters_completed","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","generationRunId":"29afc767-c630-472a-9802-a4241b96633d","variants":2,"fallbackApplied":true,"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.808Z","level":"info","message":"pdf_generation_attempt","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","generationRunId":"29afc767-c630-472a-9802-a4241b96633d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/29afc767-c630-472a-9802-a4241b96633d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/29afc767-c630-472a-9802-a4241b96633d/enhanced_modern.pdf","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.809Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","generationRunId":"29afc767-c630-472a-9802-a4241b96633d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/29afc767-c630-472a-9802-a4241b96633d/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.810Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","generationRunId":"29afc767-c630-472a-9802-a4241b96633d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/29afc767-c630-472a-9802-a4241b96633d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/29afc767-c630-472a-9802-a4241b96633d/enhanced_modern.pdf","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.812Z","level":"info","message":"pdf_generation_attempt","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","generationRunId":"29afc767-c630-472a-9802-a4241b96633d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/29afc767-c630-472a-9802-a4241b96633d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/29afc767-c630-472a-9802-a4241b96633d/enhanced_professional.pdf","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.813Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","generationRunId":"29afc767-c630-472a-9802-a4241b96633d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/29afc767-c630-472a-9802-a4241b96633d/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.814Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","generationRunId":"29afc767-c630-472a-9802-a4241b96633d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/29afc767-c630-472a-9802-a4241b96633d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/29afc767-c630-472a-9802-a4241b96633d/enhanced_professional.pdf","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.815Z","level":"info","message":"pdf_generation_attempt","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","generationRunId":"29afc767-c630-472a-9802-a4241b96633d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/29afc767-c630-472a-9802-a4241b96633d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/29afc767-c630-472a-9802-a4241b96633d/cover_letter_cover_modern.pdf","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.816Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","generationRunId":"29afc767-c630-472a-9802-a4241b96633d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/29afc767-c630-472a-9802-a4241b96633d/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.817Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","generationRunId":"29afc767-c630-472a-9802-a4241b96633d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/29afc767-c630-472a-9802-a4241b96633d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/29afc767-c630-472a-9802-a4241b96633d/cover_letter_cover_modern.pdf","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.819Z","level":"info","message":"pdf_generation_attempt","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","generationRunId":"29afc767-c630-472a-9802-a4241b96633d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/29afc767-c630-472a-9802-a4241b96633d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/29afc767-c630-472a-9802-a4241b96633d/cover_letter_cover_professional.pdf","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.820Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","generationRunId":"29afc767-c630-472a-9802-a4241b96633d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/29afc767-c630-472a-9802-a4241b96633d/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.821Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","generationRunId":"29afc767-c630-472a-9802-a4241b96633d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/29afc767-c630-472a-9802-a4241b96633d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/29afc767-c630-472a-9802-a4241b96633d/cover_letter_cover_professional.pdf","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.827Z","level":"info","message":"llm_call_metrics","requestId":"29afc767-c630-472a-9802-a4241b96633d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.828Z","level":"info","message":"generation_completed","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","generationRunId":"29afc767-c630-472a-9802-a4241b96633d","enhancedScore":80,"outputs":5,"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.830Z","level":"info","message":"placeholder_record_deleted","requestId":"29afc767-c630-472a-9802-a4241b96633d","jobId":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","placeholderIdentifier":"29afc767-c630-472a-9802-a4241b96633d","template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"677f5cb1-f782-4b20-a4e7-26cbbe8083b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.832Z","level":"info","message":"http_request_completed","requestId":"29afc767-c630-472a-9802-a4241b96633d","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":120,"contentLength":"59354","template":"unknown","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29afc767-c630-472a-9802-a4241b96633d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.839Z","level":"info","message":"http_request_received","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","method":"POST","path":"/api/process-cv","template":"unknown","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.840Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.842Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.844Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.848Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.851Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/429b7523-83fb-4b8f-a61b-2013ef1a77e2/incoming/original.pdf","chunks":1,"timestamp":1764857118855}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/429b7523-83fb-4b8f-a61b-2013ef1a77e2/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/429b7523-83fb-4b8f-a61b-2013ef1a77e2/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:05:18.858Z","level":"info","message":"process_cv_started","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","manualJobDescriptionProvided":true,"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.859Z","level":"info","message":"template_selection","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:18.860Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:18.873Z","level":"info","message":"initial_upload_completed","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","bucket":"test-bucket","key":"cv/candidate/429b7523-83fb-4b8f-a61b-2013ef1a77e2/incoming/original.pdf","template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.874Z","level":"info","message":"resume_text_extracted","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","characters":57,"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.874Z","level":"info","message":"resume_classified","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.875Z","level":"info","message":"raw_upload_relocated","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","bucket":"test-bucket","fromKey":"cv/candidate/429b7523-83fb-4b8f-a61b-2013ef1a77e2/incoming/original.pdf","toKey":"cv/professional_summary/429b7523-83fb-4b8f-a61b-2013ef1a77e2/original.pdf","template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.875Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","bucket":"test-bucket","key":"cv/professional_summary/429b7523-83fb-4b8f-a61b-2013ef1a77e2/original.pdf","template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.876Z","level":"info","message":"dynamo_initial_record_written","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","bucket":"test-bucket","key":"cv/professional_summary/429b7523-83fb-4b8f-a61b-2013ef1a77e2/original.pdf","template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.877Z","level":"info","message":"upload_metadata_written","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","bucket":"test-bucket","key":"cv/professional_summary/429b7523-83fb-4b8f-a61b-2013ef1a77e2/logs/log.json","template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.877Z","level":"info","message":"job_description_supplied_manually","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","characters":174,"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.878Z","level":"info","message":"job_description_analyzed","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","jobTitle":"","jobSkills":5,"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.879Z","level":"info","message":"resume_skills_analyzed","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.879Z","level":"info","message":"llm_call_metrics","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.880Z","level":"info","message":"process_cv_scoring_completed","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.884Z","level":"info","message":"llm_call_metrics","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.885Z","level":"info","message":"generation_section_rewrite_completed","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","generationRunId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.885Z","level":"info","message":"llm_call_metrics","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"9f21e6c3bcbaef44e0e62da79c13bb8790b57affdb114dc9f59fc273f882540c","skillCount":5,"template":"project_summary","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.888Z","level":"info","message":"generation_resume_verified","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","generationRunId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:18.897Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","generationRunId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:18.909Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","generationRunId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:18.923Z","level":"info","message":"generation_cover_letters_completed","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","generationRunId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","variants":2,"fallbackApplied":true,"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.927Z","level":"info","message":"pdf_generation_attempt","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","generationRunId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/429b7523-83fb-4b8f-a61b-2013ef1a77e2/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/429b7523-83fb-4b8f-a61b-2013ef1a77e2/enhanced_modern.pdf","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.928Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","generationRunId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/429b7523-83fb-4b8f-a61b-2013ef1a77e2/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.929Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","generationRunId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/429b7523-83fb-4b8f-a61b-2013ef1a77e2/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/429b7523-83fb-4b8f-a61b-2013ef1a77e2/enhanced_modern.pdf","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.930Z","level":"info","message":"pdf_generation_attempt","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","generationRunId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/429b7523-83fb-4b8f-a61b-2013ef1a77e2/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/429b7523-83fb-4b8f-a61b-2013ef1a77e2/enhanced_professional.pdf","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.931Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","generationRunId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/429b7523-83fb-4b8f-a61b-2013ef1a77e2/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.931Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","generationRunId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/429b7523-83fb-4b8f-a61b-2013ef1a77e2/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/429b7523-83fb-4b8f-a61b-2013ef1a77e2/enhanced_professional.pdf","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.932Z","level":"info","message":"pdf_generation_attempt","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","generationRunId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/429b7523-83fb-4b8f-a61b-2013ef1a77e2/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/429b7523-83fb-4b8f-a61b-2013ef1a77e2/cover_letter_cover_modern.pdf","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.933Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","generationRunId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/429b7523-83fb-4b8f-a61b-2013ef1a77e2/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.934Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","generationRunId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/429b7523-83fb-4b8f-a61b-2013ef1a77e2/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/429b7523-83fb-4b8f-a61b-2013ef1a77e2/cover_letter_cover_modern.pdf","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.935Z","level":"info","message":"pdf_generation_attempt","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","generationRunId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/429b7523-83fb-4b8f-a61b-2013ef1a77e2/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/429b7523-83fb-4b8f-a61b-2013ef1a77e2/cover_letter_cover_professional.pdf","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.936Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","generationRunId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/429b7523-83fb-4b8f-a61b-2013ef1a77e2/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.937Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","generationRunId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/429b7523-83fb-4b8f-a61b-2013ef1a77e2/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/429b7523-83fb-4b8f-a61b-2013ef1a77e2/cover_letter_cover_professional.pdf","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.941Z","level":"info","message":"llm_call_metrics","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.942Z","level":"info","message":"generation_completed","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","generationRunId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","enhancedScore":80,"outputs":5,"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.944Z","level":"info","message":"placeholder_record_deleted","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","jobId":"fb646125-a232-4433-8876-4155fb209451","placeholderIdentifier":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb646125-a232-4433-8876-4155fb209451","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.946Z","level":"info","message":"http_request_completed","requestId":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":107,"contentLength":"57968","template":"unknown","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"429b7523-83fb-4b8f-a61b-2013ef1a77e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.950Z","level":"info","message":"http_request_received","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","method":"POST","path":"/api/process-cv","template":"unknown","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.952Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.954Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.956Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.959Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.961Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/incoming/original.pdf","chunks":1,"timestamp":1764857118965}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:05:18.968Z","level":"info","message":"process_cv_started","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","manualJobDescriptionProvided":true,"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.969Z","level":"info","message":"template_selection","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:18.970Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:18.978Z","level":"info","message":"initial_upload_completed","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","bucket":"test-bucket","key":"cv/candidate/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/incoming/original.pdf","template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.979Z","level":"info","message":"resume_text_extracted","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","characters":57,"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.980Z","level":"info","message":"resume_classified","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.981Z","level":"info","message":"raw_upload_relocated","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","bucket":"test-bucket","fromKey":"cv/candidate/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/incoming/original.pdf","toKey":"cv/professional_summary/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/original.pdf","template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.982Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","bucket":"test-bucket","key":"cv/professional_summary/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/original.pdf","template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.982Z","level":"info","message":"dynamo_initial_record_written","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","bucket":"test-bucket","key":"cv/professional_summary/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/original.pdf","template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.983Z","level":"info","message":"upload_metadata_written","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","bucket":"test-bucket","key":"cv/professional_summary/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/logs/log.json","template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.984Z","level":"info","message":"job_description_supplied_manually","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","characters":174,"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.985Z","level":"info","message":"job_description_analyzed","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","jobTitle":"","jobSkills":5,"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.986Z","level":"info","message":"resume_skills_analyzed","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.987Z","level":"info","message":"llm_call_metrics","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.988Z","level":"info","message":"process_cv_scoring_completed","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.992Z","level":"info","message":"llm_call_metrics","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.993Z","level":"info","message":"generation_section_rewrite_completed","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","generationRunId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.994Z","level":"info","message":"llm_call_metrics","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"78ddb280a2cb83c23c85b1035eed8b3d5fbcd26529ae4529d14b4e3768cf61d3","skillCount":5,"template":"project_summary","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:18.997Z","level":"info","message":"generation_resume_verified","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","generationRunId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:19.005Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","generationRunId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:19.014Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","generationRunId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:19.021Z","level":"info","message":"generation_cover_letters_completed","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","generationRunId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","variants":2,"fallbackApplied":true,"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.023Z","level":"info","message":"pdf_generation_attempt","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","generationRunId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/enhanced_modern.pdf","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.024Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","generationRunId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.025Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","generationRunId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/enhanced_modern.pdf","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.027Z","level":"info","message":"pdf_generation_attempt","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","generationRunId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/enhanced_professional.pdf","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.028Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","generationRunId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.029Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","generationRunId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/enhanced_professional.pdf","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.030Z","level":"info","message":"pdf_generation_attempt","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","generationRunId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/cover_letter_cover_modern.pdf","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.031Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","generationRunId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.032Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","generationRunId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/cover_letter_cover_modern.pdf","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.033Z","level":"info","message":"pdf_generation_attempt","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","generationRunId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/cover_letter_cover_professional.pdf","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.034Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","generationRunId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.035Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","generationRunId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/0c8119e7-8efa-4635-832f-bbe9eb3d90c0/cover_letter_cover_professional.pdf","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.038Z","level":"info","message":"llm_call_metrics","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.040Z","level":"info","message":"generation_completed","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","generationRunId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","enhancedScore":80,"outputs":5,"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.043Z","level":"info","message":"placeholder_record_deleted","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","jobId":"820d42f9-7cee-4c2e-a930-93dfb1044f67","placeholderIdentifier":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"820d42f9-7cee-4c2e-a930-93dfb1044f67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.046Z","level":"info","message":"http_request_completed","requestId":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":96,"contentLength":"59302","template":"unknown","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0c8119e7-8efa-4635-832f-bbe9eb3d90c0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.052Z","level":"info","message":"http_request_received","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","method":"POST","path":"/api/process-cv","template":"unknown","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.054Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.056Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.059Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.063Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.066Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/0cdc0a14-c419-401d-bc82-7effb1d5916b/incoming/original.pdf","chunks":1,"timestamp":1764857119070}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/0cdc0a14-c419-401d-bc82-7effb1d5916b/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/0cdc0a14-c419-401d-bc82-7effb1d5916b/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:05:19.072Z","level":"info","message":"process_cv_started","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","manualJobDescriptionProvided":true,"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.073Z","level":"info","message":"template_selection","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:19.074Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:19.085Z","level":"info","message":"initial_upload_completed","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","bucket":"test-bucket","key":"cv/candidate/0cdc0a14-c419-401d-bc82-7effb1d5916b/incoming/original.pdf","template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.085Z","level":"info","message":"resume_text_extracted","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","characters":57,"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.086Z","level":"info","message":"resume_classified","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.086Z","level":"info","message":"raw_upload_relocated","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","bucket":"test-bucket","fromKey":"cv/candidate/0cdc0a14-c419-401d-bc82-7effb1d5916b/incoming/original.pdf","toKey":"cv/professional_summary/0cdc0a14-c419-401d-bc82-7effb1d5916b/original.pdf","template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.087Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","bucket":"test-bucket","key":"cv/professional_summary/0cdc0a14-c419-401d-bc82-7effb1d5916b/original.pdf","template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.091Z","level":"info","message":"dynamo_initial_record_written","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","bucket":"test-bucket","key":"cv/professional_summary/0cdc0a14-c419-401d-bc82-7effb1d5916b/original.pdf","template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.092Z","level":"info","message":"upload_metadata_written","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","bucket":"test-bucket","key":"cv/professional_summary/0cdc0a14-c419-401d-bc82-7effb1d5916b/logs/log.json","template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.092Z","level":"info","message":"job_description_supplied_manually","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","characters":174,"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.093Z","level":"info","message":"job_description_analyzed","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","jobTitle":"","jobSkills":5,"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.094Z","level":"info","message":"resume_skills_analyzed","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.094Z","level":"info","message":"llm_call_metrics","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.095Z","level":"info","message":"process_cv_scoring_completed","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.099Z","level":"info","message":"llm_call_metrics","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.100Z","level":"info","message":"generation_section_rewrite_completed","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","generationRunId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.101Z","level":"info","message":"llm_call_metrics","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"968eb1ed4b9ef5f26cd87ba7e60f108acaf8c335efc2ef153d4aaa0b022ea8c8","skillCount":5,"template":"project_summary","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.105Z","level":"info","message":"generation_resume_verified","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","generationRunId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:19.111Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","generationRunId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:19.121Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","generationRunId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:19.132Z","level":"info","message":"generation_cover_letters_completed","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","generationRunId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","variants":2,"fallbackApplied":true,"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.133Z","level":"info","message":"pdf_generation_attempt","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","generationRunId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0cdc0a14-c419-401d-bc82-7effb1d5916b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/0cdc0a14-c419-401d-bc82-7effb1d5916b/enhanced_modern.pdf","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.134Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","generationRunId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0cdc0a14-c419-401d-bc82-7effb1d5916b/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.135Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","generationRunId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0cdc0a14-c419-401d-bc82-7effb1d5916b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/0cdc0a14-c419-401d-bc82-7effb1d5916b/enhanced_modern.pdf","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.136Z","level":"info","message":"pdf_generation_attempt","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","generationRunId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0cdc0a14-c419-401d-bc82-7effb1d5916b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/0cdc0a14-c419-401d-bc82-7effb1d5916b/enhanced_professional.pdf","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.137Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","generationRunId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0cdc0a14-c419-401d-bc82-7effb1d5916b/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.138Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","generationRunId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0cdc0a14-c419-401d-bc82-7effb1d5916b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/0cdc0a14-c419-401d-bc82-7effb1d5916b/enhanced_professional.pdf","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.138Z","level":"info","message":"pdf_generation_attempt","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","generationRunId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0cdc0a14-c419-401d-bc82-7effb1d5916b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/0cdc0a14-c419-401d-bc82-7effb1d5916b/cover_letter_cover_modern.pdf","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.139Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","generationRunId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0cdc0a14-c419-401d-bc82-7effb1d5916b/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.140Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","generationRunId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0cdc0a14-c419-401d-bc82-7effb1d5916b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/0cdc0a14-c419-401d-bc82-7effb1d5916b/cover_letter_cover_modern.pdf","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.141Z","level":"info","message":"pdf_generation_attempt","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","generationRunId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0cdc0a14-c419-401d-bc82-7effb1d5916b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/0cdc0a14-c419-401d-bc82-7effb1d5916b/cover_letter_cover_professional.pdf","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.142Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","generationRunId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0cdc0a14-c419-401d-bc82-7effb1d5916b/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.143Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","generationRunId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0cdc0a14-c419-401d-bc82-7effb1d5916b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/0cdc0a14-c419-401d-bc82-7effb1d5916b/cover_letter_cover_professional.pdf","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.147Z","level":"info","message":"llm_call_metrics","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.148Z","level":"info","message":"generation_completed","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","generationRunId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","enhancedScore":80,"outputs":5,"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.150Z","level":"info","message":"placeholder_record_deleted","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","jobId":"6e9e4b8b-3727-4177-814f-862ba627fdc1","placeholderIdentifier":"0cdc0a14-c419-401d-bc82-7effb1d5916b","template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6e9e4b8b-3727-4177-814f-862ba627fdc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.153Z","level":"info","message":"http_request_completed","requestId":"0cdc0a14-c419-401d-bc82-7effb1d5916b","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":101,"contentLength":"59835","template":"unknown","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0cdc0a14-c419-401d-bc82-7effb1d5916b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.161Z","level":"info","message":"http_request_received","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","method":"POST","path":"/api/process-cv","template":"unknown","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.163Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.165Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.167Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.169Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.172Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/9f113513-70d3-4e1b-92f1-d94e66459bd9/incoming/original.pdf","chunks":1,"timestamp":1764857119176}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/9f113513-70d3-4e1b-92f1-d94e66459bd9/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/9f113513-70d3-4e1b-92f1-d94e66459bd9/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":4}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:05:19.181Z","level":"info","message":"process_cv_started","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","manualJobDescriptionProvided":true,"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.183Z","level":"info","message":"template_selection","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:19.184Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:19.193Z","level":"info","message":"initial_upload_completed","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","bucket":"test-bucket","key":"cv/candidate/9f113513-70d3-4e1b-92f1-d94e66459bd9/incoming/original.pdf","template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.194Z","level":"info","message":"resume_text_extracted","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","characters":57,"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.194Z","level":"info","message":"resume_classified","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.195Z","level":"info","message":"raw_upload_relocated","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","bucket":"test-bucket","fromKey":"cv/candidate/9f113513-70d3-4e1b-92f1-d94e66459bd9/incoming/original.pdf","toKey":"cv/professional_summary/9f113513-70d3-4e1b-92f1-d94e66459bd9/original.pdf","template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.195Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","bucket":"test-bucket","key":"cv/professional_summary/9f113513-70d3-4e1b-92f1-d94e66459bd9/original.pdf","template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.196Z","level":"info","message":"dynamo_initial_record_written","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","bucket":"test-bucket","key":"cv/professional_summary/9f113513-70d3-4e1b-92f1-d94e66459bd9/original.pdf","template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.198Z","level":"info","message":"upload_metadata_written","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","bucket":"test-bucket","key":"cv/professional_summary/9f113513-70d3-4e1b-92f1-d94e66459bd9/logs/log.json","template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.200Z","level":"info","message":"job_description_supplied_manually","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","characters":174,"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.201Z","level":"info","message":"job_description_analyzed","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","jobTitle":"","jobSkills":5,"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.203Z","level":"info","message":"resume_skills_analyzed","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.205Z","level":"info","message":"llm_call_metrics","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.207Z","level":"info","message":"process_cv_scoring_completed","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.221Z","level":"info","message":"llm_call_metrics","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.221Z","level":"info","message":"generation_section_rewrite_completed","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","generationRunId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.222Z","level":"info","message":"llm_call_metrics","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.225Z","level":"info","message":"generation_resume_verified","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","generationRunId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:19.229Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","generationRunId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:19.239Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","generationRunId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:19.251Z","level":"info","message":"generation_cover_letters_completed","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","generationRunId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","variants":2,"fallbackApplied":true,"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.252Z","level":"info","message":"pdf_generation_attempt","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","generationRunId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9f113513-70d3-4e1b-92f1-d94e66459bd9/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9f113513-70d3-4e1b-92f1-d94e66459bd9/enhanced_modern.pdf","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.253Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","generationRunId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9f113513-70d3-4e1b-92f1-d94e66459bd9/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.255Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","generationRunId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9f113513-70d3-4e1b-92f1-d94e66459bd9/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9f113513-70d3-4e1b-92f1-d94e66459bd9/enhanced_modern.pdf","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.256Z","level":"info","message":"pdf_generation_attempt","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","generationRunId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9f113513-70d3-4e1b-92f1-d94e66459bd9/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9f113513-70d3-4e1b-92f1-d94e66459bd9/enhanced_professional.pdf","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.257Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","generationRunId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9f113513-70d3-4e1b-92f1-d94e66459bd9/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.260Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","generationRunId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9f113513-70d3-4e1b-92f1-d94e66459bd9/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9f113513-70d3-4e1b-92f1-d94e66459bd9/enhanced_professional.pdf","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.261Z","level":"info","message":"pdf_generation_attempt","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","generationRunId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9f113513-70d3-4e1b-92f1-d94e66459bd9/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9f113513-70d3-4e1b-92f1-d94e66459bd9/cover_letter_cover_modern.pdf","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.262Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","generationRunId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9f113513-70d3-4e1b-92f1-d94e66459bd9/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.264Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","generationRunId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9f113513-70d3-4e1b-92f1-d94e66459bd9/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9f113513-70d3-4e1b-92f1-d94e66459bd9/cover_letter_cover_modern.pdf","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.265Z","level":"info","message":"pdf_generation_attempt","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","generationRunId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9f113513-70d3-4e1b-92f1-d94e66459bd9/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9f113513-70d3-4e1b-92f1-d94e66459bd9/cover_letter_cover_professional.pdf","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.266Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","generationRunId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9f113513-70d3-4e1b-92f1-d94e66459bd9/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.269Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","generationRunId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9f113513-70d3-4e1b-92f1-d94e66459bd9/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9f113513-70d3-4e1b-92f1-d94e66459bd9/cover_letter_cover_professional.pdf","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.275Z","level":"info","message":"llm_call_metrics","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.278Z","level":"info","message":"generation_completed","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","generationRunId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","enhancedScore":80,"outputs":5,"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.283Z","level":"info","message":"placeholder_record_deleted","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","jobId":"0bcb1352-6718-4d9a-ab25-e740af08b651","placeholderIdentifier":"9f113513-70d3-4e1b-92f1-d94e66459bd9","template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0bcb1352-6718-4d9a-ab25-e740af08b651","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.287Z","level":"info","message":"http_request_completed","requestId":"9f113513-70d3-4e1b-92f1-d94e66459bd9","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":126,"contentLength":"58133","template":"unknown","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9f113513-70d3-4e1b-92f1-d94e66459bd9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.293Z","level":"info","message":"http_request_received","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","method":"POST","path":"/api/process-cv","template":"unknown","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.297Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.303Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.308Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.316Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.325Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/d3c642db-d5aa-4be5-99a8-d35c140501ce/incoming/original.pdf","chunks":1,"timestamp":1764857119329}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/d3c642db-d5aa-4be5-99a8-d35c140501ce/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/d3c642db-d5aa-4be5-99a8-d35c140501ce/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:05:19.331Z","level":"info","message":"process_cv_started","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","manualJobDescriptionProvided":true,"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.332Z","level":"info","message":"template_selection","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:19.333Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:19.348Z","level":"info","message":"initial_upload_completed","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","bucket":"test-bucket","key":"cv/candidate/d3c642db-d5aa-4be5-99a8-d35c140501ce/incoming/original.pdf","template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.349Z","level":"info","message":"resume_text_extracted","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","characters":57,"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.349Z","level":"info","message":"resume_classified","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.350Z","level":"info","message":"raw_upload_relocated","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","bucket":"test-bucket","fromKey":"cv/candidate/d3c642db-d5aa-4be5-99a8-d35c140501ce/incoming/original.pdf","toKey":"cv/professional_summary/d3c642db-d5aa-4be5-99a8-d35c140501ce/original.pdf","template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.350Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","bucket":"test-bucket","key":"cv/professional_summary/d3c642db-d5aa-4be5-99a8-d35c140501ce/original.pdf","template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.351Z","level":"info","message":"dynamo_initial_record_written","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","bucket":"test-bucket","key":"cv/professional_summary/d3c642db-d5aa-4be5-99a8-d35c140501ce/original.pdf","template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.352Z","level":"info","message":"upload_metadata_written","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","bucket":"test-bucket","key":"cv/professional_summary/d3c642db-d5aa-4be5-99a8-d35c140501ce/logs/log.json","template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.352Z","level":"info","message":"job_description_supplied_manually","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","characters":174,"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.353Z","level":"info","message":"job_description_analyzed","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","jobTitle":"","jobSkills":5,"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.354Z","level":"info","message":"resume_skills_analyzed","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.354Z","level":"info","message":"llm_call_metrics","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.355Z","level":"info","message":"process_cv_scoring_completed","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.361Z","level":"info","message":"llm_call_metrics","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"9a6d2d1a9ce924151b6a4db0f761d85550b399b0c2990ac5bc2d2ac9b952bd0d","addedSkillCount":0,"template":"resume_rewrite","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.362Z","level":"info","message":"generation_section_rewrite_completed","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","generationRunId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.372Z","level":"info","message":"generation_resume_verified","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","generationRunId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.377Z","level":"info","message":"generation_cover_letters_normalized","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","generationRunId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","variants":["cover_letter1","cover_letter2"],"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:19.379Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","generationRunId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:19.388Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","generationRunId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","variants":["cover_letter1"],"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.389Z","level":"info","message":"generation_cover_letters_completed","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","generationRunId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","variants":2,"fallbackApplied":true,"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.390Z","level":"info","message":"pdf_generation_attempt","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","generationRunId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d3c642db-d5aa-4be5-99a8-d35c140501ce/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/d3c642db-d5aa-4be5-99a8-d35c140501ce/enhanced_modern.pdf","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.391Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","generationRunId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d3c642db-d5aa-4be5-99a8-d35c140501ce/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.391Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","generationRunId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d3c642db-d5aa-4be5-99a8-d35c140501ce/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/d3c642db-d5aa-4be5-99a8-d35c140501ce/enhanced_modern.pdf","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.392Z","level":"info","message":"pdf_generation_attempt","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","generationRunId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d3c642db-d5aa-4be5-99a8-d35c140501ce/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/d3c642db-d5aa-4be5-99a8-d35c140501ce/enhanced_professional.pdf","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.393Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","generationRunId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d3c642db-d5aa-4be5-99a8-d35c140501ce/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.393Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","generationRunId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d3c642db-d5aa-4be5-99a8-d35c140501ce/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/d3c642db-d5aa-4be5-99a8-d35c140501ce/enhanced_professional.pdf","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.394Z","level":"info","message":"pdf_generation_attempt","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","generationRunId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d3c642db-d5aa-4be5-99a8-d35c140501ce/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/d3c642db-d5aa-4be5-99a8-d35c140501ce/cover_letter_cover_modern.pdf","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.395Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","generationRunId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d3c642db-d5aa-4be5-99a8-d35c140501ce/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.395Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","generationRunId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d3c642db-d5aa-4be5-99a8-d35c140501ce/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/d3c642db-d5aa-4be5-99a8-d35c140501ce/cover_letter_cover_modern.pdf","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.396Z","level":"info","message":"pdf_generation_attempt","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","generationRunId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d3c642db-d5aa-4be5-99a8-d35c140501ce/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/d3c642db-d5aa-4be5-99a8-d35c140501ce/cover_letter_cover_professional.pdf","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.397Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","generationRunId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d3c642db-d5aa-4be5-99a8-d35c140501ce/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.398Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","generationRunId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d3c642db-d5aa-4be5-99a8-d35c140501ce/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/d3c642db-d5aa-4be5-99a8-d35c140501ce/cover_letter_cover_professional.pdf","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.400Z","level":"info","message":"llm_call_metrics","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.401Z","level":"info","message":"generation_completed","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","generationRunId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","enhancedScore":80,"outputs":5,"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.403Z","level":"info","message":"placeholder_record_deleted","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","jobId":"4244f9fb-145f-4205-9bd9-028121a9153f","placeholderIdentifier":"d3c642db-d5aa-4be5-99a8-d35c140501ce","template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4244f9fb-145f-4205-9bd9-028121a9153f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.404Z","level":"info","message":"http_request_completed","requestId":"d3c642db-d5aa-4be5-99a8-d35c140501ce","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":111,"contentLength":"46262","template":"unknown","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3c642db-d5aa-4be5-99a8-d35c140501ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.411Z","level":"info","message":"http_request_received","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","method":"POST","path":"/api/process-cv","template":"unknown","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.417Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.419Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.421Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.424Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.426Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/d9de26b9-cfdc-4aae-bc23-29436b468c0e/incoming/original.pdf","chunks":1,"timestamp":1764857119430}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/d9de26b9-cfdc-4aae-bc23-29436b468c0e/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/d9de26b9-cfdc-4aae-bc23-29436b468c0e/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:05:19.433Z","level":"info","message":"process_cv_started","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","manualJobDescriptionProvided":true,"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.434Z","level":"info","message":"template_selection","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:19.436Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:19.447Z","level":"info","message":"initial_upload_completed","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","bucket":"test-bucket","key":"cv/candidate/d9de26b9-cfdc-4aae-bc23-29436b468c0e/incoming/original.pdf","template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.448Z","level":"info","message":"resume_text_extracted","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","characters":57,"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.449Z","level":"info","message":"resume_classified","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.450Z","level":"info","message":"raw_upload_relocated","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","bucket":"test-bucket","fromKey":"cv/candidate/d9de26b9-cfdc-4aae-bc23-29436b468c0e/incoming/original.pdf","toKey":"cv/professional_summary/d9de26b9-cfdc-4aae-bc23-29436b468c0e/original.pdf","template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.451Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","bucket":"test-bucket","key":"cv/professional_summary/d9de26b9-cfdc-4aae-bc23-29436b468c0e/original.pdf","template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.451Z","level":"info","message":"dynamo_initial_record_written","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","bucket":"test-bucket","key":"cv/professional_summary/d9de26b9-cfdc-4aae-bc23-29436b468c0e/original.pdf","template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.452Z","level":"info","message":"upload_metadata_written","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","bucket":"test-bucket","key":"cv/professional_summary/d9de26b9-cfdc-4aae-bc23-29436b468c0e/logs/log.json","template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.452Z","level":"info","message":"job_description_supplied_manually","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","characters":174,"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.453Z","level":"info","message":"job_description_analyzed","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","jobTitle":"","jobSkills":5,"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.454Z","level":"info","message":"resume_skills_analyzed","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.455Z","level":"info","message":"llm_call_metrics","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.456Z","level":"info","message":"process_cv_scoring_completed","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:19.458Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","sample":"Here is your revised resume text without JSON formatting.","template":"unknown","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8543:20)
      at generateEnhancedDocumentsResponse (server.js:20192:26)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:19.466Z","level":"info","message":"llm_call_metrics","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.467Z","level":"info","message":"llm_call_metrics","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.468Z","level":"info","message":"generation_section_rewrite_completed","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","generationRunId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.469Z","level":"info","message":"llm_call_metrics","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"d230fd9d3c6f4e6f7bb7c385f22b3a147a5c937619c1919bfb6f5e09096df674","skillCount":5,"template":"project_summary","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:19.474Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","generationRunId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:19.483Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","generationRunId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:19.492Z","level":"info","message":"generation_cover_letters_completed","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","generationRunId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","variants":2,"fallbackApplied":true,"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.493Z","level":"info","message":"pdf_generation_attempt","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","generationRunId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d9de26b9-cfdc-4aae-bc23-29436b468c0e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/d9de26b9-cfdc-4aae-bc23-29436b468c0e/enhanced_modern.pdf","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.494Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","generationRunId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d9de26b9-cfdc-4aae-bc23-29436b468c0e/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.496Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","generationRunId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d9de26b9-cfdc-4aae-bc23-29436b468c0e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/d9de26b9-cfdc-4aae-bc23-29436b468c0e/enhanced_modern.pdf","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.497Z","level":"info","message":"pdf_generation_attempt","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","generationRunId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d9de26b9-cfdc-4aae-bc23-29436b468c0e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/d9de26b9-cfdc-4aae-bc23-29436b468c0e/enhanced_professional.pdf","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.497Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","generationRunId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d9de26b9-cfdc-4aae-bc23-29436b468c0e/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.498Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","generationRunId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d9de26b9-cfdc-4aae-bc23-29436b468c0e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/d9de26b9-cfdc-4aae-bc23-29436b468c0e/enhanced_professional.pdf","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.499Z","level":"info","message":"pdf_generation_attempt","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","generationRunId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d9de26b9-cfdc-4aae-bc23-29436b468c0e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/d9de26b9-cfdc-4aae-bc23-29436b468c0e/cover_letter_cover_modern.pdf","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.500Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","generationRunId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d9de26b9-cfdc-4aae-bc23-29436b468c0e/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.501Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","generationRunId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d9de26b9-cfdc-4aae-bc23-29436b468c0e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/d9de26b9-cfdc-4aae-bc23-29436b468c0e/cover_letter_cover_modern.pdf","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.502Z","level":"info","message":"pdf_generation_attempt","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","generationRunId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d9de26b9-cfdc-4aae-bc23-29436b468c0e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/d9de26b9-cfdc-4aae-bc23-29436b468c0e/cover_letter_cover_professional.pdf","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.503Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","generationRunId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d9de26b9-cfdc-4aae-bc23-29436b468c0e/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.504Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","generationRunId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d9de26b9-cfdc-4aae-bc23-29436b468c0e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/d9de26b9-cfdc-4aae-bc23-29436b468c0e/cover_letter_cover_professional.pdf","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.508Z","level":"info","message":"llm_call_metrics","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.510Z","level":"info","message":"generation_completed","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","generationRunId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","enhancedScore":80,"outputs":5,"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.511Z","level":"info","message":"placeholder_record_deleted","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","jobId":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","placeholderIdentifier":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d834efb-b589-468e-8c60-1c3ac2ce4f65","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.513Z","level":"info","message":"http_request_completed","requestId":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":102,"contentLength":"57871","template":"unknown","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9de26b9-cfdc-4aae-bc23-29436b468c0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.534Z","level":"info","message":"http_request_received","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","method":"POST","path":"/api/process-cv","template":"unknown","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.536Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.538Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.540Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.543Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.545Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/incoming/original.pdf","chunks":1,"timestamp":1764857119549}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:05:19.551Z","level":"info","message":"process_cv_started","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","manualJobDescriptionProvided":true,"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.551Z","level":"info","message":"template_selection","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:19.552Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:19.563Z","level":"info","message":"initial_upload_completed","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","bucket":"test-bucket","key":"cv/candidate/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/incoming/original.pdf","template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.564Z","level":"info","message":"resume_text_extracted","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","characters":57,"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.564Z","level":"info","message":"resume_classified","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.565Z","level":"info","message":"raw_upload_relocated","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","bucket":"test-bucket","fromKey":"cv/candidate/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/incoming/original.pdf","toKey":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/original.pdf","template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.565Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","bucket":"test-bucket","key":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/original.pdf","template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.566Z","level":"info","message":"dynamo_initial_record_written","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","bucket":"test-bucket","key":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/original.pdf","template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.566Z","level":"info","message":"upload_metadata_written","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","bucket":"test-bucket","key":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/logs/log.json","template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.567Z","level":"info","message":"job_description_supplied_manually","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","characters":174,"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.567Z","level":"info","message":"job_description_analyzed","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","jobTitle":"","jobSkills":5,"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.569Z","level":"info","message":"resume_skills_analyzed","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.569Z","level":"info","message":"llm_call_metrics","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.570Z","level":"info","message":"process_cv_scoring_completed","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.574Z","level":"info","message":"llm_call_metrics","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.575Z","level":"info","message":"generation_section_rewrite_completed","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.576Z","level":"info","message":"llm_call_metrics","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.580Z","level":"info","message":"generation_resume_verified","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:19.584Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:19.594Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:19.602Z","level":"info","message":"generation_cover_letters_completed","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","variants":2,"fallbackApplied":true,"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.603Z","level":"info","message":"pdf_generation_attempt","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/enhanced_modern.pdf","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.604Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:19.608Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21321:17)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:19.617Z","level":"info","message":"pdf_generation_attempt","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/enhanced_professional.pdf","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.618Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:19.619Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21321:17)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:19.630Z","level":"info","message":"pdf_generation_attempt","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"classic","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/enhanced_classic.pdf","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.631Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:19.631Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21321:17)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:19.640Z","level":"info","message":"pdf_generation_attempt","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"ats","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/enhanced_ats.pdf","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.641Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:19.642Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21321:17)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:19.695Z","level":"info","message":"pdf_generation_attempt","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"2025","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/enhanced_2025.pdf","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.697Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:19.700Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21321:17)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:19.798Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/enhanced_2025.pdf","forcedFallback":true,"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11163:7)
      at generateEnhancedDocumentsResponse (server.js:21321:17)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:19.826Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/enhanced_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"2025","requestedTemplateId":"2025","engine":"pdf-lib","bytes":9,"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.828Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/enhanced_2025.pdf","bytes":9,"forcedFallback":true,"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.830Z","level":"info","message":"pdf_generation_attempt","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/enhanced_professional.pdf","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.831Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:19.832Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21321:17)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:19.844Z","level":"info","message":"pdf_generation_attempt","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"modern","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/enhanced_modern.pdf","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.844Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:19.845Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21321:17)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:19.853Z","level":"info","message":"pdf_generation_attempt","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"2025","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/enhanced_2025.pdf","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.854Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:19.854Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21321:17)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:19.868Z","level":"info","message":"pdf_generation_attempt","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"classic","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/enhanced_classic.pdf","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.870Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:19.871Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21321:17)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:19.884Z","level":"info","message":"pdf_generation_attempt","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"ats","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/enhanced_ats.pdf","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.886Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:19.888Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21321:17)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:19.905Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/enhanced_ats.pdf","forcedFallback":true,"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11163:7)
      at generateEnhancedDocumentsResponse (server.js:21321:17)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:19.927Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/enhanced_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"ats","requestedTemplateId":"ats","engine":"pdf-lib","bytes":9,"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.929Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/enhanced_ats.pdf","bytes":9,"forcedFallback":true,"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.932Z","level":"info","message":"pdf_generation_attempt","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/cover_letter_cover_modern.pdf","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.933Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:19.936Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21321:17)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:19.961Z","level":"info","message":"pdf_generation_attempt","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/cover_letter_cover_professional.pdf","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:19.986Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:19.988Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21321:17)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:20.005Z","level":"info","message":"pdf_generation_attempt","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/cover_letter_cover_classic.pdf","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.006Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:20.007Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21321:17)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:20.018Z","level":"info","message":"pdf_generation_attempt","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/cover_letter_cover_ats.pdf","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.019Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:20.021Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21321:17)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:20.035Z","level":"info","message":"pdf_generation_attempt","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/cover_letter_cover_2025.pdf","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.036Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:20.037Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21321:17)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:20.052Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/cover_letter_cover_2025.pdf","forcedFallback":true,"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11163:7)
      at generateEnhancedDocumentsResponse (server.js:21321:17)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:20.067Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/cover_letter_cover_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_2025","requestedTemplateId":"cover_2025","engine":"pdf-lib","bytes":9,"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.070Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/cover_letter_cover_2025.pdf","bytes":9,"forcedFallback":true,"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.072Z","level":"info","message":"pdf_generation_attempt","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/cover_letter_cover_professional.pdf","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.073Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:20.074Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21321:17)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:20.087Z","level":"info","message":"pdf_generation_attempt","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/cover_letter_cover_modern.pdf","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.088Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:20.090Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21321:17)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:20.125Z","level":"info","message":"pdf_generation_attempt","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/cover_letter_cover_2025.pdf","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.127Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:20.129Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21321:17)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:20.139Z","level":"info","message":"pdf_generation_attempt","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/cover_letter_cover_classic.pdf","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.141Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:20.142Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21321:17)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:20.153Z","level":"info","message":"pdf_generation_attempt","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/cover_letter_cover_ats.pdf","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.155Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:05:20.156Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21321:17)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:20.172Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/cover_letter_cover_ats.pdf","forcedFallback":true,"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11163:7)
      at generateEnhancedDocumentsResponse (server.js:21321:17)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:20.184Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/cover_letter_cover_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_ats","requestedTemplateId":"cover_ats","engine":"pdf-lib","bytes":9,"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.185Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac/cover_letter_cover_ats.pdf","bytes":9,"forcedFallback":true,"session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.190Z","level":"info","message":"llm_call_metrics","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.192Z","level":"info","message":"generation_completed","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","generationRunId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","enhancedScore":80,"outputs":5,"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.194Z","level":"info","message":"placeholder_record_deleted","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","jobId":"3e203601-a7e5-41ff-82c6-f80514d9db75","placeholderIdentifier":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3e203601-a7e5-41ff-82c6-f80514d9db75","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.197Z","level":"info","message":"http_request_completed","requestId":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":663,"contentLength":"60620","template":"unknown","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"48ff0cda-a1b9-4b0d-b9f3-de8c4868c2ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.216Z","level":"info","message":"http_request_received","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","method":"POST","path":"/api/process-cv","template":"unknown","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.219Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.222Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.224Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.230Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.234Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/72be46ac-1479-473c-b7b0-40bd2d61b624/incoming/original.pdf","chunks":1,"timestamp":1764857120246}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/72be46ac-1479-473c-b7b0-40bd2d61b624/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/72be46ac-1479-473c-b7b0-40bd2d61b624/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.250Z","level":"info","message":"process_cv_started","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","manualJobDescriptionProvided":true,"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.251Z","level":"info","message":"template_selection","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:20.252Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:20.266Z","level":"info","message":"initial_upload_completed","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","bucket":"test-bucket","key":"cv/candidate/72be46ac-1479-473c-b7b0-40bd2d61b624/incoming/original.pdf","template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.266Z","level":"info","message":"resume_text_extracted","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","characters":57,"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.267Z","level":"info","message":"resume_classified","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.269Z","level":"info","message":"raw_upload_relocated","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","bucket":"test-bucket","fromKey":"cv/candidate/72be46ac-1479-473c-b7b0-40bd2d61b624/incoming/original.pdf","toKey":"cv/professional_summary/72be46ac-1479-473c-b7b0-40bd2d61b624/original.pdf","template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.269Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","bucket":"test-bucket","key":"cv/professional_summary/72be46ac-1479-473c-b7b0-40bd2d61b624/original.pdf","template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.270Z","level":"info","message":"dynamo_initial_record_written","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","bucket":"test-bucket","key":"cv/professional_summary/72be46ac-1479-473c-b7b0-40bd2d61b624/original.pdf","template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.271Z","level":"info","message":"upload_metadata_written","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","bucket":"test-bucket","key":"cv/professional_summary/72be46ac-1479-473c-b7b0-40bd2d61b624/logs/log.json","template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.272Z","level":"info","message":"job_description_supplied_manually","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","characters":174,"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.273Z","level":"info","message":"job_description_analyzed","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","jobTitle":"","jobSkills":5,"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.275Z","level":"info","message":"resume_skills_analyzed","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.276Z","level":"info","message":"llm_call_metrics","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.278Z","level":"info","message":"process_cv_scoring_completed","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.283Z","level":"info","message":"llm_call_metrics","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"083bf06ffdad2254495e6ab02d51602dd213ec7860f8066358ba6750acc9f49a","addedSkillCount":1,"template":"resume_rewrite","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.285Z","level":"info","message":"generation_section_rewrite_completed","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","generationRunId":"72be46ac-1479-473c-b7b0-40bd2d61b624","modifiedTitle":"Revised Title","addedSkills":1,"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.288Z","level":"info","message":"generation_resume_verified","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","generationRunId":"72be46ac-1479-473c-b7b0-40bd2d61b624","template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:05:20.312Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","generationRunId":"72be46ac-1479-473c-b7b0-40bd2d61b624","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
          at runMicrotasks (<anonymous>)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:20.325Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","generationRunId":"72be46ac-1479-473c-b7b0-40bd2d61b624","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
          at runMicrotasks (<anonymous>)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:20.334Z","level":"info","message":"generation_cover_letters_completed","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","generationRunId":"72be46ac-1479-473c-b7b0-40bd2d61b624","variants":2,"fallbackApplied":true,"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.336Z","level":"info","message":"pdf_generation_attempt","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","generationRunId":"72be46ac-1479-473c-b7b0-40bd2d61b624","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/72be46ac-1479-473c-b7b0-40bd2d61b624/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/72be46ac-1479-473c-b7b0-40bd2d61b624/enhanced_modern.pdf","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.338Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","generationRunId":"72be46ac-1479-473c-b7b0-40bd2d61b624","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/72be46ac-1479-473c-b7b0-40bd2d61b624/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.341Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","generationRunId":"72be46ac-1479-473c-b7b0-40bd2d61b624","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/72be46ac-1479-473c-b7b0-40bd2d61b624/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/72be46ac-1479-473c-b7b0-40bd2d61b624/enhanced_modern.pdf","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.342Z","level":"info","message":"pdf_generation_attempt","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","generationRunId":"72be46ac-1479-473c-b7b0-40bd2d61b624","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/72be46ac-1479-473c-b7b0-40bd2d61b624/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/72be46ac-1479-473c-b7b0-40bd2d61b624/enhanced_professional.pdf","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.344Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","generationRunId":"72be46ac-1479-473c-b7b0-40bd2d61b624","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/72be46ac-1479-473c-b7b0-40bd2d61b624/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.345Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","generationRunId":"72be46ac-1479-473c-b7b0-40bd2d61b624","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/72be46ac-1479-473c-b7b0-40bd2d61b624/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/72be46ac-1479-473c-b7b0-40bd2d61b624/enhanced_professional.pdf","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.346Z","level":"info","message":"pdf_generation_attempt","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","generationRunId":"72be46ac-1479-473c-b7b0-40bd2d61b624","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/72be46ac-1479-473c-b7b0-40bd2d61b624/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/72be46ac-1479-473c-b7b0-40bd2d61b624/cover_letter_cover_modern.pdf","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.347Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","generationRunId":"72be46ac-1479-473c-b7b0-40bd2d61b624","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/72be46ac-1479-473c-b7b0-40bd2d61b624/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.349Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","generationRunId":"72be46ac-1479-473c-b7b0-40bd2d61b624","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/72be46ac-1479-473c-b7b0-40bd2d61b624/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/72be46ac-1479-473c-b7b0-40bd2d61b624/cover_letter_cover_modern.pdf","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.351Z","level":"info","message":"pdf_generation_attempt","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","generationRunId":"72be46ac-1479-473c-b7b0-40bd2d61b624","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/72be46ac-1479-473c-b7b0-40bd2d61b624/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/72be46ac-1479-473c-b7b0-40bd2d61b624/cover_letter_cover_professional.pdf","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.352Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","generationRunId":"72be46ac-1479-473c-b7b0-40bd2d61b624","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/72be46ac-1479-473c-b7b0-40bd2d61b624/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.353Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","generationRunId":"72be46ac-1479-473c-b7b0-40bd2d61b624","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/72be46ac-1479-473c-b7b0-40bd2d61b624/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/72be46ac-1479-473c-b7b0-40bd2d61b624/cover_letter_cover_professional.pdf","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.357Z","level":"info","message":"llm_call_metrics","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"1075df15bec8b8fc718989e1c7ca31af0c39036b671cabbdfc22628f8e2e250f","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.358Z","level":"info","message":"generation_completed","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","generationRunId":"72be46ac-1479-473c-b7b0-40bd2d61b624","enhancedScore":80,"outputs":5,"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.360Z","level":"info","message":"placeholder_record_deleted","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","jobId":"d822121f-adf8-4197-9008-eeba96e7c980","placeholderIdentifier":"72be46ac-1479-473c-b7b0-40bd2d61b624","template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d822121f-adf8-4197-9008-eeba96e7c980","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.365Z","level":"info","message":"http_request_completed","requestId":"72be46ac-1479-473c-b7b0-40bd2d61b624","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":149,"contentLength":"59251","template":"unknown","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72be46ac-1479-473c-b7b0-40bd2d61b624","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.381Z","level":"info","message":"http_request_received","requestId":"81aa402c-c148-41d5-bb3f-8a4d23f1fed2","method":"POST","path":"/api/process-cv","template":"unknown","session":"81aa402c-c148-41d5-bb3f-8a4d23f1fed2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"81aa402c-c148-41d5-bb3f-8a4d23f1fed2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.386Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.390Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.396Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.399Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.409Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.417Z","level":"info","message":"process_cv_started","requestId":"81aa402c-c148-41d5-bb3f-8a4d23f1fed2","jobId":"7b84d62d-30e1-427b-8dae-dac13df4c62d","manualJobDescriptionProvided":true,"template":"unknown","session":"7b84d62d-30e1-427b-8dae-dac13df4c62d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b84d62d-30e1-427b-8dae-dac13df4c62d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.419Z","level":"info","message":"template_selection","requestId":"81aa402c-c148-41d5-bb3f-8a4d23f1fed2","jobId":"7b84d62d-30e1-427b-8dae-dac13df4c62d","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"7b84d62d-30e1-427b-8dae-dac13df4c62d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7b84d62d-30e1-427b-8dae-dac13df4c62d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:20.420Z","level":"warn","message":"resume_missing","requestId":"81aa402c-c148-41d5-bb3f-8a4d23f1fed2","jobId":"7b84d62d-30e1-427b-8dae-dac13df4c62d","template":"unknown","session":"7b84d62d-30e1-427b-8dae-dac13df4c62d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b84d62d-30e1-427b-8dae-dac13df4c62d","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25105:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T14:05:20.431Z","level":"warn","message":"api_error_response","requestId":"81aa402c-c148-41d5-bb3f-8a4d23f1fed2","jobId":"7b84d62d-30e1-427b-8dae-dac13df4c62d","status":400,"error":{"code":"RESUME_FILE_REQUIRED","message":"resume file required","details":{"field":"resume"},"requestId":"81aa402c-c148-41d5-bb3f-8a4d23f1fed2","jobId":"7b84d62d-30e1-427b-8dae-dac13df4c62d"},"template":"unknown","session":"7b84d62d-30e1-427b-8dae-dac13df4c62d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b84d62d-30e1-427b-8dae-dac13df4c62d","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at sendError (server.js:3975:3)
      at server.js:25106:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:20.450Z","level":"info","message":"http_request_completed","requestId":"81aa402c-c148-41d5-bb3f-8a4d23f1fed2","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":69,"contentLength":"217","template":"unknown","session":"81aa402c-c148-41d5-bb3f-8a4d23f1fed2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"81aa402c-c148-41d5-bb3f-8a4d23f1fed2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.454Z","level":"info","message":"http_request_received","requestId":"149bb0f5-0069-48b6-b3f7-e325825ee479","method":"POST","path":"/api/process-cv","template":"unknown","session":"149bb0f5-0069-48b6-b3f7-e325825ee479","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"149bb0f5-0069-48b6-b3f7-e325825ee479","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.455Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.458Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.460Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.463Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.467Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:20.512Z","level":"warn","message":"resume_upload_failed","requestId":"149bb0f5-0069-48b6-b3f7-e325825ee479","jobId":"d3fb5e3a-34c3-4694-b2db-d38d477abc48","storageError":false,"error":{"name":"Error","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","stack":"Error: Unsupported resume format. Please upload a PDF, DOC, or DOCX file.\n    at fileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4997:9)\n    at wrappedFileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/index.js:44:7)\n    at Multipart.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:109:7)\n    at Multipart.emit (node:events:513:28)\n    at HeaderParser.cb (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:358:14)\n    at HeaderParser.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:394:37)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at IncomingMessage.Readable.read (node:internal/streams/readable:527:10)\n    at flow (node:internal/streams/readable:1011:34)\n    at resume_ (node:internal/streams/readable:992:3)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)"},"template":"unknown","session":"d3fb5e3a-34c3-4694-b2db-d38d477abc48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3fb5e3a-34c3-4694-b2db-d38d477abc48","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:24799:7
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at fileFilter (server.js:4996:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.warn
    {"timestamp":"2025-12-04T14:05:20.546Z","level":"warn","message":"api_error_response","requestId":"149bb0f5-0069-48b6-b3f7-e325825ee479","jobId":"d3fb5e3a-34c3-4694-b2db-d38d477abc48","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","details":{"field":"resume"},"requestId":"149bb0f5-0069-48b6-b3f7-e325825ee479","jobId":"d3fb5e3a-34c3-4694-b2db-d38d477abc48"},"template":"unknown","session":"d3fb5e3a-34c3-4694-b2db-d38d477abc48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3fb5e3a-34c3-4694-b2db-d38d477abc48","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at sendError (server.js:3975:3)
      at respond (server.js:24807:9)
      at server.js:24811:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at fileFilter (server.js:4996:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.log
    {"timestamp":"2025-12-04T14:05:20.581Z","level":"info","message":"http_request_completed","requestId":"149bb0f5-0069-48b6-b3f7-e325825ee479","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":127,"contentLength":"267","template":"unknown","session":"149bb0f5-0069-48b6-b3f7-e325825ee479","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"149bb0f5-0069-48b6-b3f7-e325825ee479","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.588Z","level":"info","message":"http_request_received","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","method":"POST","path":"/api/process-cv","template":"unknown","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.590Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.595Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.598Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.601Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.612Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/incoming/original.pdf","chunks":1,"timestamp":1764857120616}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":32768}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":32768,"newSize":32768,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":4}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.621Z","level":"info","message":"process_cv_started","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","manualJobDescriptionProvided":true,"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.622Z","level":"info","message":"template_selection","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:20.623Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:20.639Z","level":"info","message":"initial_upload_completed","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","bucket":"test-bucket","key":"cv/candidate/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/incoming/original.pdf","template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.641Z","level":"info","message":"resume_text_extracted","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","characters":57,"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.642Z","level":"info","message":"resume_classified","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.643Z","level":"info","message":"raw_upload_relocated","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","bucket":"test-bucket","fromKey":"cv/candidate/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/incoming/original.pdf","toKey":"cv/professional_summary/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/original.pdf","template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.643Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","bucket":"test-bucket","key":"cv/professional_summary/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/original.pdf","template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.644Z","level":"info","message":"dynamo_initial_record_written","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","bucket":"test-bucket","key":"cv/professional_summary/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/original.pdf","template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.645Z","level":"info","message":"upload_metadata_written","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","bucket":"test-bucket","key":"cv/professional_summary/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/logs/log.json","template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.646Z","level":"info","message":"job_description_supplied_manually","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","characters":174,"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.646Z","level":"info","message":"job_description_analyzed","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","jobTitle":"","jobSkills":5,"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.648Z","level":"info","message":"resume_skills_analyzed","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.649Z","level":"info","message":"llm_call_metrics","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.650Z","level":"info","message":"process_cv_scoring_completed","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.654Z","level":"info","message":"llm_call_metrics","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.656Z","level":"info","message":"generation_section_rewrite_completed","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","generationRunId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.657Z","level":"info","message":"llm_call_metrics","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.666Z","level":"info","message":"generation_resume_verified","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","generationRunId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:05:20.671Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","generationRunId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
          at runMicrotasks (<anonymous>)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:20.681Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","generationRunId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
          at runMicrotasks (<anonymous>)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:20.705Z","level":"info","message":"generation_cover_letters_completed","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","generationRunId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","variants":2,"fallbackApplied":true,"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.707Z","level":"info","message":"pdf_generation_attempt","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","generationRunId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/enhanced_modern.pdf","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.709Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","generationRunId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.710Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","generationRunId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/enhanced_modern.pdf","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.711Z","level":"info","message":"pdf_generation_attempt","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","generationRunId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/enhanced_professional.pdf","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.712Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","generationRunId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.713Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","generationRunId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/enhanced_professional.pdf","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.714Z","level":"info","message":"pdf_generation_attempt","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","generationRunId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/cover_letter_cover_modern.pdf","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.715Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","generationRunId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.716Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","generationRunId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/cover_letter_cover_modern.pdf","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.717Z","level":"info","message":"pdf_generation_attempt","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","generationRunId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/cover_letter_cover_professional.pdf","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.718Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","generationRunId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.719Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","generationRunId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4/cover_letter_cover_professional.pdf","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.723Z","level":"info","message":"llm_call_metrics","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.725Z","level":"info","message":"generation_completed","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","generationRunId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","enhancedScore":80,"outputs":5,"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.726Z","level":"info","message":"placeholder_record_deleted","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","jobId":"1a260d76-61a1-4932-8e36-1165dc891775","placeholderIdentifier":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a260d76-61a1-4932-8e36-1165dc891775","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.734Z","level":"info","message":"http_request_completed","requestId":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":146,"contentLength":"58133","template":"unknown","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f0a40bd6-c5a0-4c69-8af2-d1114fb27ad4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.744Z","level":"info","message":"http_request_received","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","method":"POST","path":"/api/process-cv","template":"unknown","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.746Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.748Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.751Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.755Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.758Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/a8bdc236-609e-481c-8db1-421943873dc0/incoming/original.pdf","chunks":5,"timestamp":1764857120765}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":262144}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":262144,"newSize":262144,"durationMs":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/a8bdc236-609e-481c-8db1-421943873dc0/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/a8bdc236-609e-481c-8db1-421943873dc0/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":11}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.777Z","level":"info","message":"process_cv_started","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","manualJobDescriptionProvided":true,"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.778Z","level":"info","message":"template_selection","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.779Z","level":"info","message":"initial_upload_completed","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","bucket":"test-bucket","key":"cv/candidate/a8bdc236-609e-481c-8db1-421943873dc0/incoming/original.pdf","template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.780Z","level":"info","message":"resume_text_extracted","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","characters":9,"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.781Z","level":"info","message":"document_classification_ai_metrics","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.815Z","level":"info","message":"resume_classified","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.818Z","level":"info","message":"raw_upload_relocated","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","bucket":"test-bucket","fromKey":"cv/candidate/a8bdc236-609e-481c-8db1-421943873dc0/incoming/original.pdf","toKey":"cv/docx_text/a8bdc236-609e-481c-8db1-421943873dc0/original.docx","template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.819Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","bucket":"test-bucket","key":"cv/docx_text/a8bdc236-609e-481c-8db1-421943873dc0/original.docx","template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.820Z","level":"info","message":"dynamo_initial_record_written","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","bucket":"test-bucket","key":"cv/docx_text/a8bdc236-609e-481c-8db1-421943873dc0/original.docx","template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.821Z","level":"info","message":"upload_metadata_written","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","bucket":"test-bucket","key":"cv/docx_text/a8bdc236-609e-481c-8db1-421943873dc0/logs/log.json","template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.822Z","level":"info","message":"job_description_supplied_manually","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","characters":174,"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.823Z","level":"info","message":"job_description_analyzed","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","jobTitle":"","jobSkills":5,"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.825Z","level":"info","message":"resume_skills_analyzed","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.830Z","level":"info","message":"llm_call_metrics","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.832Z","level":"info","message":"process_cv_scoring_completed","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.837Z","level":"info","message":"llm_call_metrics","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.838Z","level":"info","message":"generation_section_rewrite_completed","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","generationRunId":"a8bdc236-609e-481c-8db1-421943873dc0","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.838Z","level":"info","message":"llm_call_metrics","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.848Z","level":"info","message":"generation_resume_verified","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","generationRunId":"a8bdc236-609e-481c-8db1-421943873dc0","template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:05:20.855Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","generationRunId":"a8bdc236-609e-481c-8db1-421943873dc0","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
          at runMicrotasks (<anonymous>)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:20.870Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","generationRunId":"a8bdc236-609e-481c-8db1-421943873dc0","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
          at runMicrotasks (<anonymous>)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:20.900Z","level":"info","message":"generation_cover_letters_completed","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","generationRunId":"a8bdc236-609e-481c-8db1-421943873dc0","variants":2,"fallbackApplied":true,"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.908Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","generationRunId":"a8bdc236-609e-481c-8db1-421943873dc0","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/a8bdc236-609e-481c-8db1-421943873dc0/","originalUploadKey":"cv/docx_text/a8bdc236-609e-481c-8db1-421943873dc0/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.910Z","level":"info","message":"original_upload_pdf_generated","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","generationRunId":"a8bdc236-609e-481c-8db1-421943873dc0","storageKey":"cv/docx_text/a8bdc236-609e-481c-8db1-421943873dc0/original/original_upload.pdf","originalUploadKey":"cv/docx_text/a8bdc236-609e-481c-8db1-421943873dc0/original.docx","originalUploadExtension":".docx","template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.911Z","level":"info","message":"pdf_generation_attempt","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","generationRunId":"a8bdc236-609e-481c-8db1-421943873dc0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/a8bdc236-609e-481c-8db1-421943873dc0/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/a8bdc236-609e-481c-8db1-421943873dc0/enhanced_modern.pdf","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.914Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","generationRunId":"a8bdc236-609e-481c-8db1-421943873dc0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/a8bdc236-609e-481c-8db1-421943873dc0/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.917Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","generationRunId":"a8bdc236-609e-481c-8db1-421943873dc0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/a8bdc236-609e-481c-8db1-421943873dc0/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/a8bdc236-609e-481c-8db1-421943873dc0/enhanced_modern.pdf","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.919Z","level":"info","message":"pdf_generation_attempt","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","generationRunId":"a8bdc236-609e-481c-8db1-421943873dc0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/a8bdc236-609e-481c-8db1-421943873dc0/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/a8bdc236-609e-481c-8db1-421943873dc0/enhanced_professional.pdf","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.921Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","generationRunId":"a8bdc236-609e-481c-8db1-421943873dc0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/a8bdc236-609e-481c-8db1-421943873dc0/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.922Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","generationRunId":"a8bdc236-609e-481c-8db1-421943873dc0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/a8bdc236-609e-481c-8db1-421943873dc0/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/a8bdc236-609e-481c-8db1-421943873dc0/enhanced_professional.pdf","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.923Z","level":"info","message":"pdf_generation_attempt","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","generationRunId":"a8bdc236-609e-481c-8db1-421943873dc0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/a8bdc236-609e-481c-8db1-421943873dc0/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/a8bdc236-609e-481c-8db1-421943873dc0/cover_letter_cover_modern.pdf","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.924Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","generationRunId":"a8bdc236-609e-481c-8db1-421943873dc0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/a8bdc236-609e-481c-8db1-421943873dc0/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.926Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","generationRunId":"a8bdc236-609e-481c-8db1-421943873dc0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/a8bdc236-609e-481c-8db1-421943873dc0/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/a8bdc236-609e-481c-8db1-421943873dc0/cover_letter_cover_modern.pdf","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.927Z","level":"info","message":"pdf_generation_attempt","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","generationRunId":"a8bdc236-609e-481c-8db1-421943873dc0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/a8bdc236-609e-481c-8db1-421943873dc0/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/a8bdc236-609e-481c-8db1-421943873dc0/cover_letter_cover_professional.pdf","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.929Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","generationRunId":"a8bdc236-609e-481c-8db1-421943873dc0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/a8bdc236-609e-481c-8db1-421943873dc0/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.930Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","generationRunId":"a8bdc236-609e-481c-8db1-421943873dc0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/a8bdc236-609e-481c-8db1-421943873dc0/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/a8bdc236-609e-481c-8db1-421943873dc0/cover_letter_cover_professional.pdf","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.937Z","level":"info","message":"llm_call_metrics","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.940Z","level":"info","message":"generation_completed","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","generationRunId":"a8bdc236-609e-481c-8db1-421943873dc0","enhancedScore":80,"outputs":6,"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.942Z","level":"info","message":"placeholder_record_deleted","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","jobId":"39b1f996-5644-441d-b00a-a4c1b421f4dc","placeholderIdentifier":"a8bdc236-609e-481c-8db1-421943873dc0","template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39b1f996-5644-441d-b00a-a4c1b421f4dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.945Z","level":"info","message":"http_request_completed","requestId":"a8bdc236-609e-481c-8db1-421943873dc0","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":201,"contentLength":"58696","template":"unknown","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a8bdc236-609e-481c-8db1-421943873dc0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.954Z","level":"info","message":"http_request_received","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","method":"POST","path":"/api/process-cv","template":"unknown","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.956Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.958Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.961Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.964Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.967Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/incoming/original.pdf","chunks":33,"timestamp":1764857120984}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":2097152}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":2097152,"newSize":2097152,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":6}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:20.991Z","level":"info","message":"process_cv_started","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","manualJobDescriptionProvided":true,"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:20.992Z","level":"info","message":"template_selection","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:20.993Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:21.028Z","level":"info","message":"initial_upload_completed","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","bucket":"test-bucket","key":"cv/candidate/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/incoming/original.pdf","template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.029Z","level":"info","message":"resume_text_extracted","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","characters":57,"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.031Z","level":"info","message":"resume_classified","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.032Z","level":"info","message":"raw_upload_relocated","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","bucket":"test-bucket","fromKey":"cv/candidate/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/incoming/original.pdf","toKey":"cv/professional_summary/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/original.pdf","template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.043Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","bucket":"test-bucket","key":"cv/professional_summary/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/original.pdf","template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.044Z","level":"info","message":"dynamo_initial_record_written","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","bucket":"test-bucket","key":"cv/professional_summary/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/original.pdf","template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.046Z","level":"info","message":"upload_metadata_written","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","bucket":"test-bucket","key":"cv/professional_summary/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/logs/log.json","template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.047Z","level":"info","message":"job_description_supplied_manually","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","characters":174,"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.048Z","level":"info","message":"job_description_analyzed","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","jobTitle":"","jobSkills":5,"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.051Z","level":"info","message":"resume_skills_analyzed","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.052Z","level":"info","message":"llm_call_metrics","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.054Z","level":"info","message":"process_cv_scoring_completed","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.059Z","level":"info","message":"llm_call_metrics","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.060Z","level":"info","message":"generation_section_rewrite_completed","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","generationRunId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.061Z","level":"info","message":"llm_call_metrics","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.066Z","level":"info","message":"generation_resume_verified","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","generationRunId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:05:21.076Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","generationRunId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
          at runMicrotasks (<anonymous>)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:21.113Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","generationRunId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
          at runMicrotasks (<anonymous>)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:21.123Z","level":"info","message":"generation_cover_letters_completed","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","generationRunId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","variants":2,"fallbackApplied":true,"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.128Z","level":"info","message":"pdf_generation_attempt","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","generationRunId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/enhanced_modern.pdf","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.131Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","generationRunId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.134Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","generationRunId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/enhanced_modern.pdf","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.135Z","level":"info","message":"pdf_generation_attempt","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","generationRunId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/enhanced_professional.pdf","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.137Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","generationRunId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.138Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","generationRunId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/enhanced_professional.pdf","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.140Z","level":"info","message":"pdf_generation_attempt","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","generationRunId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/cover_letter_cover_modern.pdf","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.141Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","generationRunId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.142Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","generationRunId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/cover_letter_cover_modern.pdf","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.143Z","level":"info","message":"pdf_generation_attempt","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","generationRunId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/cover_letter_cover_professional.pdf","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.146Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","generationRunId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.148Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","generationRunId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/43f57b52-5d7c-4e7b-be28-98ecf601cf3f/cover_letter_cover_professional.pdf","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.161Z","level":"info","message":"llm_call_metrics","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.163Z","level":"info","message":"generation_completed","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","generationRunId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","enhancedScore":80,"outputs":5,"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.165Z","level":"info","message":"placeholder_record_deleted","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","jobId":"b752a551-2887-47a8-bc04-e7975a12574c","placeholderIdentifier":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b752a551-2887-47a8-bc04-e7975a12574c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.169Z","level":"info","message":"http_request_completed","requestId":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":215,"contentLength":"58133","template":"unknown","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"43f57b52-5d7c-4e7b-be28-98ecf601cf3f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.196Z","level":"info","message":"http_request_received","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","method":"POST","path":"/api/process-cv","template":"unknown","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.198Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.200Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.203Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.205Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.208Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/444cfe54-5989-4214-bd2f-00c48d96bc2a/incoming/original.pdf","chunks":82,"timestamp":1764857121225}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5241856}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5241856,"newSize":5241856,"durationMs":86}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/444cfe54-5989-4214-bd2f-00c48d96bc2a/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/444cfe54-5989-4214-bd2f-00c48d96bc2a/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":90}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.316Z","level":"info","message":"process_cv_started","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","manualJobDescriptionProvided":true,"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.318Z","level":"info","message":"template_selection","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.319Z","level":"info","message":"initial_upload_completed","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","bucket":"test-bucket","key":"cv/candidate/444cfe54-5989-4214-bd2f-00c48d96bc2a/incoming/original.pdf","template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.319Z","level":"info","message":"resume_text_extracted","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","characters":9,"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.320Z","level":"info","message":"document_classification_ai_metrics","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.322Z","level":"info","message":"resume_classified","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.322Z","level":"info","message":"raw_upload_relocated","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","bucket":"test-bucket","fromKey":"cv/candidate/444cfe54-5989-4214-bd2f-00c48d96bc2a/incoming/original.pdf","toKey":"cv/docx_text/444cfe54-5989-4214-bd2f-00c48d96bc2a/original.docx","template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.323Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","bucket":"test-bucket","key":"cv/docx_text/444cfe54-5989-4214-bd2f-00c48d96bc2a/original.docx","template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.324Z","level":"info","message":"dynamo_initial_record_written","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","bucket":"test-bucket","key":"cv/docx_text/444cfe54-5989-4214-bd2f-00c48d96bc2a/original.docx","template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.324Z","level":"info","message":"upload_metadata_written","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","bucket":"test-bucket","key":"cv/docx_text/444cfe54-5989-4214-bd2f-00c48d96bc2a/logs/log.json","template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.325Z","level":"info","message":"job_description_supplied_manually","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","characters":174,"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.326Z","level":"info","message":"job_description_analyzed","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","jobTitle":"","jobSkills":5,"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.328Z","level":"info","message":"resume_skills_analyzed","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.331Z","level":"info","message":"llm_call_metrics","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.332Z","level":"info","message":"process_cv_scoring_completed","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.336Z","level":"info","message":"llm_call_metrics","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.338Z","level":"info","message":"generation_section_rewrite_completed","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","generationRunId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.338Z","level":"info","message":"llm_call_metrics","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.346Z","level":"info","message":"generation_resume_verified","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","generationRunId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:05:21.409Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","generationRunId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
          at runMicrotasks (<anonymous>)
      at server.js:26750:28

  console.warn
    {"timestamp":"2025-12-04T14:05:21.420Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","generationRunId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
          at runMicrotasks (<anonymous>)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:21.435Z","level":"info","message":"generation_cover_letters_completed","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","generationRunId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","variants":2,"fallbackApplied":true,"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.437Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","generationRunId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/444cfe54-5989-4214-bd2f-00c48d96bc2a/","originalUploadKey":"cv/docx_text/444cfe54-5989-4214-bd2f-00c48d96bc2a/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.438Z","level":"info","message":"original_upload_pdf_generated","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","generationRunId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","storageKey":"cv/docx_text/444cfe54-5989-4214-bd2f-00c48d96bc2a/original/original_upload.pdf","originalUploadKey":"cv/docx_text/444cfe54-5989-4214-bd2f-00c48d96bc2a/original.docx","originalUploadExtension":".docx","template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.439Z","level":"info","message":"pdf_generation_attempt","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","generationRunId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/444cfe54-5989-4214-bd2f-00c48d96bc2a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/444cfe54-5989-4214-bd2f-00c48d96bc2a/enhanced_modern.pdf","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.440Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","generationRunId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/444cfe54-5989-4214-bd2f-00c48d96bc2a/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.441Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","generationRunId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/444cfe54-5989-4214-bd2f-00c48d96bc2a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/444cfe54-5989-4214-bd2f-00c48d96bc2a/enhanced_modern.pdf","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.442Z","level":"info","message":"pdf_generation_attempt","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","generationRunId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/444cfe54-5989-4214-bd2f-00c48d96bc2a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/444cfe54-5989-4214-bd2f-00c48d96bc2a/enhanced_professional.pdf","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.442Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","generationRunId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/444cfe54-5989-4214-bd2f-00c48d96bc2a/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.446Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","generationRunId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/444cfe54-5989-4214-bd2f-00c48d96bc2a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/444cfe54-5989-4214-bd2f-00c48d96bc2a/enhanced_professional.pdf","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.449Z","level":"info","message":"pdf_generation_attempt","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","generationRunId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/444cfe54-5989-4214-bd2f-00c48d96bc2a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/444cfe54-5989-4214-bd2f-00c48d96bc2a/cover_letter_cover_modern.pdf","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.450Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","generationRunId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/444cfe54-5989-4214-bd2f-00c48d96bc2a/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.451Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","generationRunId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/444cfe54-5989-4214-bd2f-00c48d96bc2a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/444cfe54-5989-4214-bd2f-00c48d96bc2a/cover_letter_cover_modern.pdf","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.452Z","level":"info","message":"pdf_generation_attempt","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","generationRunId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/444cfe54-5989-4214-bd2f-00c48d96bc2a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/444cfe54-5989-4214-bd2f-00c48d96bc2a/cover_letter_cover_professional.pdf","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.453Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","generationRunId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/444cfe54-5989-4214-bd2f-00c48d96bc2a/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.455Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","generationRunId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/444cfe54-5989-4214-bd2f-00c48d96bc2a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/444cfe54-5989-4214-bd2f-00c48d96bc2a/cover_letter_cover_professional.pdf","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.460Z","level":"info","message":"llm_call_metrics","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.462Z","level":"info","message":"generation_completed","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","generationRunId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","enhancedScore":80,"outputs":6,"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.464Z","level":"info","message":"placeholder_record_deleted","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","jobId":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","placeholderIdentifier":"444cfe54-5989-4214-bd2f-00c48d96bc2a","template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d59e72bb-e4bc-4b62-9cc8-f6241fa27ee3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.467Z","level":"info","message":"http_request_completed","requestId":"444cfe54-5989-4214-bd2f-00c48d96bc2a","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":271,"contentLength":"58696","template":"unknown","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"444cfe54-5989-4214-bd2f-00c48d96bc2a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.481Z","level":"info","message":"http_request_received","requestId":"75ed2a8b-e0c4-45fa-9218-bce3bb44dbb2","method":"POST","path":"/api/process-cv","template":"unknown","session":"75ed2a8b-e0c4-45fa-9218-bce3bb44dbb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75ed2a8b-e0c4-45fa-9218-bce3bb44dbb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.484Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.488Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.491Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.494Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.498Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/75ed2a8b-e0c4-45fa-9218-bce3bb44dbb2/incoming/original.pdf","chunks":83,"timestamp":1764857121510}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5242880}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5242880,"newSize":5242880,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/75ed2a8b-e0c4-45fa-9218-bce3bb44dbb2/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/75ed2a8b-e0c4-45fa-9218-bce3bb44dbb2/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":4}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:05:21.516Z","level":"warn","message":"resume_upload_failed","requestId":"75ed2a8b-e0c4-45fa-9218-bce3bb44dbb2","jobId":"a169700c-6858-49c1-9a94-d0a2c2044b65","storageError":false,"error":{"name":"MulterError","message":"File too large","code":"LIMIT_FILE_SIZE","stack":"MulterError: File too large\n    at abortWithCode (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:73:22)\n    at FileStream.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:136:11)\n    at FileStream.emit (node:events:513:28)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:479:32)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at addChunk (node:internal/streams/readable:315:12)\n    at readableAddChunk (node:internal/streams/readable:289:9)\n    at IncomingMessage.Readable.push (node:internal/streams/readable:228:10)\n    at HTTPParser.parserOnBody (node:_http_common:140:24)"},"template":"unknown","session":"a169700c-6858-49c1-9a94-d0a2c2044b65","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a169700c-6858-49c1-9a94-d0a2c2044b65","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:24799:7
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:166:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:149:11)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:05:21.527Z","level":"warn","message":"api_error_response","requestId":"75ed2a8b-e0c4-45fa-9218-bce3bb44dbb2","jobId":"a169700c-6858-49c1-9a94-d0a2c2044b65","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"File too large","details":{"field":"resume"},"requestId":"75ed2a8b-e0c4-45fa-9218-bce3bb44dbb2","jobId":"a169700c-6858-49c1-9a94-d0a2c2044b65"},"template":"unknown","session":"a169700c-6858-49c1-9a94-d0a2c2044b65","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a169700c-6858-49c1-9a94-d0a2c2044b65","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at sendError (server.js:3975:3)
      at respond (server.js:24807:9)
      at server.js:24811:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:166:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:149:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.538Z","level":"info","message":"http_request_completed","requestId":"75ed2a8b-e0c4-45fa-9218-bce3bb44dbb2","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":57,"contentLength":"215","template":"unknown","session":"75ed2a8b-e0c4-45fa-9218-bce3bb44dbb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75ed2a8b-e0c4-45fa-9218-bce3bb44dbb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.541Z","level":"info","message":"http_request_received","requestId":"acce46ee-213c-4b7d-befa-ee1bae6f55b7","method":"POST","path":"/api/process-cv","template":"unknown","session":"acce46ee-213c-4b7d-befa-ee1bae6f55b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"acce46ee-213c-4b7d-befa-ee1bae6f55b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.543Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.545Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.547Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.550Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.555Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/acce46ee-213c-4b7d-befa-ee1bae6f55b7/incoming/original.pdf","chunks":1,"timestamp":1764857121572}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/acce46ee-213c-4b7d-befa-ee1bae6f55b7/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/acce46ee-213c-4b7d-befa-ee1bae6f55b7/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.575Z","level":"info","message":"process_cv_started","requestId":"acce46ee-213c-4b7d-befa-ee1bae6f55b7","jobId":"0145c58c-072b-41c2-8da5-24820df98bbb","manualJobDescriptionProvided":true,"template":"unknown","session":"0145c58c-072b-41c2-8da5-24820df98bbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0145c58c-072b-41c2-8da5-24820df98bbb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.576Z","level":"info","message":"template_selection","requestId":"acce46ee-213c-4b7d-befa-ee1bae6f55b7","jobId":"0145c58c-072b-41c2-8da5-24820df98bbb","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"0145c58c-072b-41c2-8da5-24820df98bbb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0145c58c-072b-41c2-8da5-24820df98bbb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:21.579Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"acce46ee-213c-4b7d-befa-ee1bae6f55b7","jobId":"0145c58c-072b-41c2-8da5-24820df98bbb","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"0145c58c-072b-41c2-8da5-24820df98bbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0145c58c-072b-41c2-8da5-24820df98bbb","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:21.588Z","level":"info","message":"initial_upload_completed","requestId":"acce46ee-213c-4b7d-befa-ee1bae6f55b7","jobId":"0145c58c-072b-41c2-8da5-24820df98bbb","bucket":"test-bucket","key":"cv/candidate/acce46ee-213c-4b7d-befa-ee1bae6f55b7/incoming/original.pdf","template":"unknown","session":"0145c58c-072b-41c2-8da5-24820df98bbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0145c58c-072b-41c2-8da5-24820df98bbb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.589Z","level":"info","message":"resume_text_extracted","requestId":"acce46ee-213c-4b7d-befa-ee1bae6f55b7","jobId":"0145c58c-072b-41c2-8da5-24820df98bbb","characters":70,"template":"unknown","session":"0145c58c-072b-41c2-8da5-24820df98bbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0145c58c-072b-41c2-8da5-24820df98bbb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.591Z","level":"info","message":"document_classification_ai_metrics","requestId":"acce46ee-213c-4b7d-befa-ee1bae6f55b7","jobId":"0145c58c-072b-41c2-8da5-24820df98bbb","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"6e7cfda39efd36ecdd0998d74c5dc8668e761fe838cd589d1b8e87517f67efbf","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"0145c58c-072b-41c2-8da5-24820df98bbb","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"0145c58c-072b-41c2-8da5-24820df98bbb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.592Z","level":"info","message":"resume_classified","requestId":"acce46ee-213c-4b7d-befa-ee1bae6f55b7","jobId":"0145c58c-072b-41c2-8da5-24820df98bbb","isResume":false,"description":"an invoice document","confidence":0.4,"accepted":false,"overridden":false,"template":"unknown","session":"0145c58c-072b-41c2-8da5-24820df98bbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0145c58c-072b-41c2-8da5-24820df98bbb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:05:21.593Z","level":"warn","message":"resume_validation_failed","requestId":"acce46ee-213c-4b7d-befa-ee1bae6f55b7","jobId":"0145c58c-072b-41c2-8da5-24820df98bbb","reason":"not_identified_as_resume","description":"an invoice document","confidence":0.4,"wordCount":12,"invalidKey":"invalid/candidate/2025-12-04/acce46ee-213c-4b7d-befa-ee1bae6f55b7/an-invoice-d1f6d2b2-7db1-4ce7-b2f2-3db82813e3f3.pdf","classification":"an invoice","template":"unknown","session":"0145c58c-072b-41c2-8da5-24820df98bbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0145c58c-072b-41c2-8da5-24820df98bbb","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25686:9
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:05:21.603Z","level":"warn","message":"api_error_response","requestId":"acce46ee-213c-4b7d-befa-ee1bae6f55b7","jobId":"0145c58c-072b-41c2-8da5-24820df98bbb","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded an invoice document (classified as \"invoice\"). Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\". Please upload a correct CV or resume to continue.","details":{"description":"an invoice document","confidence":0.4,"reason":"Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\".","classification":"an invoice","className":"invoice","storageKey":"invalid/candidate/2025-12-04/acce46ee-213c-4b7d-befa-ee1bae6f55b7/an-invoice-d1f6d2b2-7db1-4ce7-b2f2-3db82813e3f3.pdf","invalidStorageKey":"invalid/candidate/2025-12-04/acce46ee-213c-4b7d-befa-ee1bae6f55b7/an-invoice-d1f6d2b2-7db1-4ce7-b2f2-3db82813e3f3.pdf"},"requestId":"acce46ee-213c-4b7d-befa-ee1bae6f55b7","jobId":"0145c58c-072b-41c2-8da5-24820df98bbb"},"template":"unknown","session":"0145c58c-072b-41c2-8da5-24820df98bbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0145c58c-072b-41c2-8da5-24820df98bbb","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at sendError (server.js:3975:3)
      at server.js:25761:14
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.623Z","level":"info","message":"http_request_completed","requestId":"acce46ee-213c-4b7d-befa-ee1bae6f55b7","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":82,"contentLength":"871","template":"unknown","session":"acce46ee-213c-4b7d-befa-ee1bae6f55b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"acce46ee-213c-4b7d-befa-ee1bae6f55b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.631Z","level":"info","message":"http_request_received","requestId":"307bc7d8-2b79-4ef3-ad1f-c4e4555525b5","method":"POST","path":"/api/process-cv","template":"unknown","session":"307bc7d8-2b79-4ef3-ad1f-c4e4555525b5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"307bc7d8-2b79-4ef3-ad1f-c4e4555525b5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.632Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.635Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.637Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.640Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.643Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/307bc7d8-2b79-4ef3-ad1f-c4e4555525b5/incoming/original.pdf","chunks":1,"timestamp":1764857121646}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":203,"durationMs":4}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/307bc7d8-2b79-4ef3-ad1f-c4e4555525b5/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/307bc7d8-2b79-4ef3-ad1f-c4e4555525b5/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":7}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.654Z","level":"info","message":"process_cv_started","requestId":"307bc7d8-2b79-4ef3-ad1f-c4e4555525b5","jobId":"0b8da0ff-ed8d-45b8-966e-88ef8c38270f","manualJobDescriptionProvided":true,"template":"unknown","session":"0b8da0ff-ed8d-45b8-966e-88ef8c38270f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b8da0ff-ed8d-45b8-966e-88ef8c38270f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.655Z","level":"info","message":"template_selection","requestId":"307bc7d8-2b79-4ef3-ad1f-c4e4555525b5","jobId":"0b8da0ff-ed8d-45b8-966e-88ef8c38270f","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"0b8da0ff-ed8d-45b8-966e-88ef8c38270f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0b8da0ff-ed8d-45b8-966e-88ef8c38270f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.656Z","level":"info","message":"initial_upload_completed","requestId":"307bc7d8-2b79-4ef3-ad1f-c4e4555525b5","jobId":"0b8da0ff-ed8d-45b8-966e-88ef8c38270f","bucket":"test-bucket","key":"cv/candidate/307bc7d8-2b79-4ef3-ad1f-c4e4555525b5/incoming/original.pdf","template":"unknown","session":"0b8da0ff-ed8d-45b8-966e-88ef8c38270f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b8da0ff-ed8d-45b8-966e-88ef8c38270f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.657Z","level":"info","message":"resume_text_extracted","requestId":"307bc7d8-2b79-4ef3-ad1f-c4e4555525b5","jobId":"0b8da0ff-ed8d-45b8-966e-88ef8c38270f","characters":52,"template":"unknown","session":"0b8da0ff-ed8d-45b8-966e-88ef8c38270f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b8da0ff-ed8d-45b8-966e-88ef8c38270f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.659Z","level":"info","message":"document_classification_ai_metrics","requestId":"307bc7d8-2b79-4ef3-ad1f-c4e4555525b5","jobId":"0b8da0ff-ed8d-45b8-966e-88ef8c38270f","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"b660b3e8ecbc83aad9e6543dcb4a0d862627f82012d98cdb58b183fb5f0cc539","outputDigest":"ce4b8bd954f55aa4d760051876705884299536b3f182fa6f09cbd2aaee0a6b16","latencyMs":0,"isResume":false,"confidence":0.2,"template":"document_classification","session":"0b8da0ff-ed8d-45b8-966e-88ef8c38270f","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"0b8da0ff-ed8d-45b8-966e-88ef8c38270f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.660Z","level":"info","message":"resume_classified","requestId":"307bc7d8-2b79-4ef3-ad1f-c4e4555525b5","jobId":"0b8da0ff-ed8d-45b8-966e-88ef8c38270f","isResume":false,"description":"a short memo","confidence":0.2,"accepted":false,"overridden":false,"template":"unknown","session":"0b8da0ff-ed8d-45b8-966e-88ef8c38270f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b8da0ff-ed8d-45b8-966e-88ef8c38270f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:05:21.661Z","level":"warn","message":"resume_validation_failed","requestId":"307bc7d8-2b79-4ef3-ad1f-c4e4555525b5","jobId":"0b8da0ff-ed8d-45b8-966e-88ef8c38270f","reason":"not_identified_as_resume","description":"a short memo","confidence":0.2,"wordCount":9,"invalidKey":"invalid/candidate/2025-12-04/307bc7d8-2b79-4ef3-ad1f-c4e4555525b5/a-short-memo-1e5f64d0-3a9b-4061-85eb-8bc773a24174.docx","classification":"a short memo","template":"unknown","session":"0b8da0ff-ed8d-45b8-966e-88ef8c38270f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b8da0ff-ed8d-45b8-966e-88ef8c38270f","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25686:9
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:05:21.672Z","level":"warn","message":"api_error_response","requestId":"307bc7d8-2b79-4ef3-ad1f-c4e4555525b5","jobId":"0b8da0ff-ed8d-45b8-966e-88ef8c38270f","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded a short memo document (classified as \"short_memo\"). Missing resume structure. Please upload a correct CV or resume to continue.","details":{"description":"a short memo","confidence":0.2,"reason":"Missing resume structure.","classification":"a short memo","className":"short_memo","storageKey":"invalid/candidate/2025-12-04/307bc7d8-2b79-4ef3-ad1f-c4e4555525b5/a-short-memo-1e5f64d0-3a9b-4061-85eb-8bc773a24174.docx","invalidStorageKey":"invalid/candidate/2025-12-04/307bc7d8-2b79-4ef3-ad1f-c4e4555525b5/a-short-memo-1e5f64d0-3a9b-4061-85eb-8bc773a24174.docx"},"requestId":"307bc7d8-2b79-4ef3-ad1f-c4e4555525b5","jobId":"0b8da0ff-ed8d-45b8-966e-88ef8c38270f"},"template":"unknown","session":"0b8da0ff-ed8d-45b8-966e-88ef8c38270f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b8da0ff-ed8d-45b8-966e-88ef8c38270f","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at sendError (server.js:3975:3)
      at server.js:25761:14
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.681Z","level":"info","message":"http_request_completed","requestId":"307bc7d8-2b79-4ef3-ad1f-c4e4555525b5","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":50,"contentLength":"748","template":"unknown","session":"307bc7d8-2b79-4ef3-ad1f-c4e4555525b5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"307bc7d8-2b79-4ef3-ad1f-c4e4555525b5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.700Z","level":"info","message":"http_request_received","requestId":"de1aeb94-a1dd-4c78-b7ef-cb353ecfec3c","method":"POST","path":"/api/process-cv","template":"unknown","session":"de1aeb94-a1dd-4c78-b7ef-cb353ecfec3c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"de1aeb94-a1dd-4c78-b7ef-cb353ecfec3c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.702Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.705Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.708Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.711Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.714Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/de1aeb94-a1dd-4c78-b7ef-cb353ecfec3c/incoming/original.pdf","chunks":1,"timestamp":1764857121717}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/de1aeb94-a1dd-4c78-b7ef-cb353ecfec3c/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/de1aeb94-a1dd-4c78-b7ef-cb353ecfec3c/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.721Z","level":"info","message":"process_cv_started","requestId":"de1aeb94-a1dd-4c78-b7ef-cb353ecfec3c","jobId":"8757ee68-a5ac-456b-a38d-c8043969548e","manualJobDescriptionProvided":false,"template":"unknown","session":"8757ee68-a5ac-456b-a38d-c8043969548e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8757ee68-a5ac-456b-a38d-c8043969548e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.722Z","level":"info","message":"template_selection","requestId":"de1aeb94-a1dd-4c78-b7ef-cb353ecfec3c","jobId":"8757ee68-a5ac-456b-a38d-c8043969548e","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8757ee68-a5ac-456b-a38d-c8043969548e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8757ee68-a5ac-456b-a38d-c8043969548e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:21.723Z","level":"warn","message":"job_description_missing","requestId":"de1aeb94-a1dd-4c78-b7ef-cb353ecfec3c","jobId":"8757ee68-a5ac-456b-a38d-c8043969548e","template":"unknown","session":"8757ee68-a5ac-456b-a38d-c8043969548e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8757ee68-a5ac-456b-a38d-c8043969548e","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25115:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T14:05:21.734Z","level":"warn","message":"api_error_response","requestId":"de1aeb94-a1dd-4c78-b7ef-cb353ecfec3c","jobId":"8757ee68-a5ac-456b-a38d-c8043969548e","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"de1aeb94-a1dd-4c78-b7ef-cb353ecfec3c","jobId":"8757ee68-a5ac-456b-a38d-c8043969548e"},"template":"unknown","session":"8757ee68-a5ac-456b-a38d-c8043969548e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8757ee68-a5ac-456b-a38d-c8043969548e","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at sendError (server.js:3975:3)
      at server.js:25116:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:21.746Z","level":"info","message":"http_request_completed","requestId":"de1aeb94-a1dd-4c78-b7ef-cb353ecfec3c","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":46,"contentLength":"244","template":"unknown","session":"de1aeb94-a1dd-4c78-b7ef-cb353ecfec3c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"de1aeb94-a1dd-4c78-b7ef-cb353ecfec3c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.757Z","level":"info","message":"http_request_received","requestId":"e24cc68c-349e-4788-be84-0beb45348f26","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"e24cc68c-349e-4788-be84-0beb45348f26","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e24cc68c-349e-4788-be84-0beb45348f26","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.759Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.761Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.764Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.767Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.768Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:21.771Z","level":"warn","message":"api_error_response","requestId":"e24cc68c-349e-4788-be84-0beb45348f26","jobId":"aee51f6b-5207-4d15-bc95-65afc735754c","status":400,"error":{"code":"JOB_ID_REQUIRED","message":"jobId is required to generate enhanced documents.","details":{},"requestId":"e24cc68c-349e-4788-be84-0beb45348f26","jobId":"aee51f6b-5207-4d15-bc95-65afc735754c"},"template":"unknown","session":"aee51f6b-5207-4d15-bc95-65afc735754c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aee51f6b-5207-4d15-bc95-65afc735754c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at sendError (server.js:3975:3)
      at server.js:22525:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at assignJobContext (server.js:16428:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveStatic (node_modules/serve-static/index.js:75:16)
      at server.js:4963:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at tryServeHashedIndexAssetFromS3 (server.js:1192:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveIndexAssetAlias (server.js:1528:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4945:5
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4939:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at urlencodedParser (node_modules/body-parser/lib/types/urlencoded.js:85:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

  console.log
    {"timestamp":"2025-12-04T14:05:21.789Z","level":"info","message":"http_request_completed","requestId":"e24cc68c-349e-4788-be84-0beb45348f26","method":"POST","path":"/api/generate-enhanced-docs","statusCode":400,"durationMs":32,"contentLength":"225","template":"unknown","session":"e24cc68c-349e-4788-be84-0beb45348f26","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e24cc68c-349e-4788-be84-0beb45348f26","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.793Z","level":"info","message":"http_request_received","requestId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.795Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.797Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.799Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.801Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.802Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:21.804Z","level":"warn","message":"generation_job_context_missing","requestId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:22717:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.817Z","level":"info","message":"llm_call_metrics","requestId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"7ff1a2fe49f8d71808c8d1fdb99db5320bf5a75739ee80e7efed665ea9588077","outputDigest":"5af248b63fed3c73350376c1d32988fbeb95f6a40181a19b7e450c5651a56ea6","addedSkillCount":0,"template":"resume_rewrite","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.817Z","level":"info","message":"generation_section_rewrite_completed","requestId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.820Z","level":"info","message":"generation_resume_verified","requestId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","template":"unknown","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:05:21.830Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
          at runMicrotasks (<anonymous>)
      at server.js:23020:28

  console.log
    {"timestamp":"2025-12-04T14:05:21.850Z","level":"info","message":"generation_cover_letters_completed","requestId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","variants":2,"fallbackApplied":true,"template":"unknown","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.854Z","level":"info","message":"pdf_generation_attempt","requestId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/c5c0fe66-585d-4bdb-982f-fde9fa131118/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/c5c0fe66-585d-4bdb-982f-fde9fa131118/enhanced_modern.pdf","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.856Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/c5c0fe66-585d-4bdb-982f-fde9fa131118/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.857Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/c5c0fe66-585d-4bdb-982f-fde9fa131118/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/c5c0fe66-585d-4bdb-982f-fde9fa131118/enhanced_modern.pdf","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.858Z","level":"info","message":"pdf_generation_attempt","requestId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/c5c0fe66-585d-4bdb-982f-fde9fa131118/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/c5c0fe66-585d-4bdb-982f-fde9fa131118/enhanced_professional.pdf","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.860Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/c5c0fe66-585d-4bdb-982f-fde9fa131118/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.861Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/c5c0fe66-585d-4bdb-982f-fde9fa131118/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/c5c0fe66-585d-4bdb-982f-fde9fa131118/enhanced_professional.pdf","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.862Z","level":"info","message":"pdf_generation_attempt","requestId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/c5c0fe66-585d-4bdb-982f-fde9fa131118/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/c5c0fe66-585d-4bdb-982f-fde9fa131118/cover_letter_cover_modern.pdf","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.863Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/c5c0fe66-585d-4bdb-982f-fde9fa131118/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.864Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/c5c0fe66-585d-4bdb-982f-fde9fa131118/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/c5c0fe66-585d-4bdb-982f-fde9fa131118/cover_letter_cover_modern.pdf","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.866Z","level":"info","message":"pdf_generation_attempt","requestId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/c5c0fe66-585d-4bdb-982f-fde9fa131118/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/c5c0fe66-585d-4bdb-982f-fde9fa131118/cover_letter_cover_professional.pdf","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.867Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/c5c0fe66-585d-4bdb-982f-fde9fa131118/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.868Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/c5c0fe66-585d-4bdb-982f-fde9fa131118/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/c5c0fe66-585d-4bdb-982f-fde9fa131118/cover_letter_cover_professional.pdf","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.872Z","level":"info","message":"llm_call_metrics","requestId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.874Z","level":"info","message":"generation_completed","requestId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","enhancedScore":0,"outputs":4,"template":"unknown","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.879Z","level":"info","message":"http_request_completed","requestId":"c5c0fe66-585d-4bdb-982f-fde9fa131118","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":86,"contentLength":"55422","template":"unknown","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5c0fe66-585d-4bdb-982f-fde9fa131118","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.886Z","level":"info","message":"http_request_received","requestId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.888Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.891Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.894Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.896Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:21.899Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:21.903Z","level":"warn","message":"generation_job_context_missing","requestId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:22717:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.931Z","level":"info","message":"llm_call_metrics","requestId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.932Z","level":"info","message":"generation_section_rewrite_completed","requestId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.939Z","level":"info","message":"generation_resume_verified","requestId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","template":"unknown","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:05:21.965Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
          at runMicrotasks (<anonymous>)
      at server.js:23020:28

  console.log
    {"timestamp":"2025-12-04T14:05:21.977Z","level":"info","message":"generation_cover_letters_completed","requestId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","variants":2,"fallbackApplied":true,"template":"unknown","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.978Z","level":"info","message":"pdf_generation_attempt","requestId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/9f4d3d4d-d912-4a7d-bfc7-055fbe46630e/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/9f4d3d4d-d912-4a7d-bfc7-055fbe46630e/enhanced_modern.pdf","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.980Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/9f4d3d4d-d912-4a7d-bfc7-055fbe46630e/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.981Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/9f4d3d4d-d912-4a7d-bfc7-055fbe46630e/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/9f4d3d4d-d912-4a7d-bfc7-055fbe46630e/enhanced_modern.pdf","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.982Z","level":"info","message":"pdf_generation_attempt","requestId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/9f4d3d4d-d912-4a7d-bfc7-055fbe46630e/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/9f4d3d4d-d912-4a7d-bfc7-055fbe46630e/enhanced_professional.pdf","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.983Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/9f4d3d4d-d912-4a7d-bfc7-055fbe46630e/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.983Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/9f4d3d4d-d912-4a7d-bfc7-055fbe46630e/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/9f4d3d4d-d912-4a7d-bfc7-055fbe46630e/enhanced_professional.pdf","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.984Z","level":"info","message":"pdf_generation_attempt","requestId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/9f4d3d4d-d912-4a7d-bfc7-055fbe46630e/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/9f4d3d4d-d912-4a7d-bfc7-055fbe46630e/cover_letter_cover_modern.pdf","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.985Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/9f4d3d4d-d912-4a7d-bfc7-055fbe46630e/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.986Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/9f4d3d4d-d912-4a7d-bfc7-055fbe46630e/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/9f4d3d4d-d912-4a7d-bfc7-055fbe46630e/cover_letter_cover_modern.pdf","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.989Z","level":"info","message":"pdf_generation_attempt","requestId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/9f4d3d4d-d912-4a7d-bfc7-055fbe46630e/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/9f4d3d4d-d912-4a7d-bfc7-055fbe46630e/cover_letter_cover_professional.pdf","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.990Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/9f4d3d4d-d912-4a7d-bfc7-055fbe46630e/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.991Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/9f4d3d4d-d912-4a7d-bfc7-055fbe46630e/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/9f4d3d4d-d912-4a7d-bfc7-055fbe46630e/cover_letter_cover_professional.pdf","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:21.999Z","level":"info","message":"llm_call_metrics","requestId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.001Z","level":"info","message":"generation_completed","requestId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","enhancedScore":0,"outputs":4,"template":"unknown","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.004Z","level":"info","message":"http_request_completed","requestId":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":118,"contentLength":"60025","template":"unknown","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9f4d3d4d-d912-4a7d-bfc7-055fbe46630e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.010Z","level":"info","message":"http_request_received","requestId":"5bfb1450-10b0-4097-8286-de9a89f371a7","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.012Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.014Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.016Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.019Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.021Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:22.023Z","level":"warn","message":"generation_job_context_missing","requestId":"5bfb1450-10b0-4097-8286-de9a89f371a7","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:22717:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.037Z","level":"info","message":"llm_call_metrics","requestId":"5bfb1450-10b0-4097-8286-de9a89f371a7","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.038Z","level":"info","message":"generation_section_rewrite_completed","requestId":"5bfb1450-10b0-4097-8286-de9a89f371a7","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5bfb1450-10b0-4097-8286-de9a89f371a7","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.043Z","level":"info","message":"generation_resume_verified","requestId":"5bfb1450-10b0-4097-8286-de9a89f371a7","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5bfb1450-10b0-4097-8286-de9a89f371a7","template":"unknown","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:05:22.050Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"5bfb1450-10b0-4097-8286-de9a89f371a7","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5bfb1450-10b0-4097-8286-de9a89f371a7","invalidLetters":[{"key":"cover_letter1","issues":["placeholder_detected","weak_closing","section_heading_without_content"]}],"template":"unknown","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
          at runMicrotasks (<anonymous>)
      at server.js:23020:28

  console.warn
    {"timestamp":"2025-12-04T14:05:22.063Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"5bfb1450-10b0-4097-8286-de9a89f371a7","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5bfb1450-10b0-4097-8286-de9a89f371a7","missing":["cover_letter1"],"template":"unknown","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
          at runMicrotasks (<anonymous>)
      at server.js:23020:28

  console.log
    {"timestamp":"2025-12-04T14:05:22.071Z","level":"info","message":"generation_cover_letters_completed","requestId":"5bfb1450-10b0-4097-8286-de9a89f371a7","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5bfb1450-10b0-4097-8286-de9a89f371a7","variants":2,"fallbackApplied":true,"template":"unknown","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.073Z","level":"info","message":"pdf_generation_attempt","requestId":"5bfb1450-10b0-4097-8286-de9a89f371a7","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5bfb1450-10b0-4097-8286-de9a89f371a7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/5bfb1450-10b0-4097-8286-de9a89f371a7/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/5bfb1450-10b0-4097-8286-de9a89f371a7/enhanced_modern.pdf","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.075Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5bfb1450-10b0-4097-8286-de9a89f371a7","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5bfb1450-10b0-4097-8286-de9a89f371a7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/5bfb1450-10b0-4097-8286-de9a89f371a7/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.076Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5bfb1450-10b0-4097-8286-de9a89f371a7","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5bfb1450-10b0-4097-8286-de9a89f371a7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/5bfb1450-10b0-4097-8286-de9a89f371a7/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/5bfb1450-10b0-4097-8286-de9a89f371a7/enhanced_modern.pdf","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.077Z","level":"info","message":"pdf_generation_attempt","requestId":"5bfb1450-10b0-4097-8286-de9a89f371a7","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5bfb1450-10b0-4097-8286-de9a89f371a7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/5bfb1450-10b0-4097-8286-de9a89f371a7/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/5bfb1450-10b0-4097-8286-de9a89f371a7/enhanced_professional.pdf","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.078Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5bfb1450-10b0-4097-8286-de9a89f371a7","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5bfb1450-10b0-4097-8286-de9a89f371a7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/5bfb1450-10b0-4097-8286-de9a89f371a7/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.079Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5bfb1450-10b0-4097-8286-de9a89f371a7","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5bfb1450-10b0-4097-8286-de9a89f371a7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/5bfb1450-10b0-4097-8286-de9a89f371a7/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/5bfb1450-10b0-4097-8286-de9a89f371a7/enhanced_professional.pdf","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.080Z","level":"info","message":"pdf_generation_attempt","requestId":"5bfb1450-10b0-4097-8286-de9a89f371a7","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5bfb1450-10b0-4097-8286-de9a89f371a7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/5bfb1450-10b0-4097-8286-de9a89f371a7/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/5bfb1450-10b0-4097-8286-de9a89f371a7/cover_letter_cover_modern.pdf","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.080Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5bfb1450-10b0-4097-8286-de9a89f371a7","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5bfb1450-10b0-4097-8286-de9a89f371a7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/5bfb1450-10b0-4097-8286-de9a89f371a7/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.081Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5bfb1450-10b0-4097-8286-de9a89f371a7","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5bfb1450-10b0-4097-8286-de9a89f371a7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/5bfb1450-10b0-4097-8286-de9a89f371a7/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/5bfb1450-10b0-4097-8286-de9a89f371a7/cover_letter_cover_modern.pdf","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.084Z","level":"info","message":"pdf_generation_attempt","requestId":"5bfb1450-10b0-4097-8286-de9a89f371a7","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5bfb1450-10b0-4097-8286-de9a89f371a7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/5bfb1450-10b0-4097-8286-de9a89f371a7/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/5bfb1450-10b0-4097-8286-de9a89f371a7/cover_letter_cover_professional.pdf","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.085Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5bfb1450-10b0-4097-8286-de9a89f371a7","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5bfb1450-10b0-4097-8286-de9a89f371a7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/5bfb1450-10b0-4097-8286-de9a89f371a7/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.086Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5bfb1450-10b0-4097-8286-de9a89f371a7","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5bfb1450-10b0-4097-8286-de9a89f371a7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/5bfb1450-10b0-4097-8286-de9a89f371a7/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/5bfb1450-10b0-4097-8286-de9a89f371a7/cover_letter_cover_professional.pdf","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.090Z","level":"info","message":"llm_call_metrics","requestId":"5bfb1450-10b0-4097-8286-de9a89f371a7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.092Z","level":"info","message":"generation_completed","requestId":"5bfb1450-10b0-4097-8286-de9a89f371a7","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5bfb1450-10b0-4097-8286-de9a89f371a7","enhancedScore":0,"outputs":4,"template":"unknown","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.095Z","level":"info","message":"http_request_completed","requestId":"5bfb1450-10b0-4097-8286-de9a89f371a7","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":85,"contentLength":"52626","template":"unknown","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bfb1450-10b0-4097-8286-de9a89f371a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.100Z","level":"info","message":"http_request_received","requestId":"bdc5b10e-b512-4364-852e-67398b96e42a","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.103Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.106Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.109Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.114Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.117Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:22.119Z","level":"warn","message":"generation_job_context_missing","requestId":"bdc5b10e-b512-4364-852e-67398b96e42a","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:22717:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.137Z","level":"info","message":"llm_call_metrics","requestId":"bdc5b10e-b512-4364-852e-67398b96e42a","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.139Z","level":"info","message":"generation_section_rewrite_completed","requestId":"bdc5b10e-b512-4364-852e-67398b96e42a","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"bdc5b10e-b512-4364-852e-67398b96e42a","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.146Z","level":"info","message":"generation_resume_verified","requestId":"bdc5b10e-b512-4364-852e-67398b96e42a","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"bdc5b10e-b512-4364-852e-67398b96e42a","template":"unknown","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:05:22.154Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"bdc5b10e-b512-4364-852e-67398b96e42a","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"bdc5b10e-b512-4364-852e-67398b96e42a","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
          at runMicrotasks (<anonymous>)
      at server.js:23020:28

  console.log
    {"timestamp":"2025-12-04T14:05:22.166Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"bdc5b10e-b512-4364-852e-67398b96e42a","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"bdc5b10e-b512-4364-852e-67398b96e42a","variants":["cover_letter1"],"template":"unknown","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.170Z","level":"info","message":"generation_cover_letters_completed","requestId":"bdc5b10e-b512-4364-852e-67398b96e42a","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"bdc5b10e-b512-4364-852e-67398b96e42a","variants":2,"fallbackApplied":true,"template":"unknown","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.171Z","level":"info","message":"pdf_generation_attempt","requestId":"bdc5b10e-b512-4364-852e-67398b96e42a","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"bdc5b10e-b512-4364-852e-67398b96e42a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/bdc5b10e-b512-4364-852e-67398b96e42a/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/bdc5b10e-b512-4364-852e-67398b96e42a/enhanced_modern.pdf","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.172Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"bdc5b10e-b512-4364-852e-67398b96e42a","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"bdc5b10e-b512-4364-852e-67398b96e42a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/bdc5b10e-b512-4364-852e-67398b96e42a/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.173Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"bdc5b10e-b512-4364-852e-67398b96e42a","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"bdc5b10e-b512-4364-852e-67398b96e42a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/bdc5b10e-b512-4364-852e-67398b96e42a/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/bdc5b10e-b512-4364-852e-67398b96e42a/enhanced_modern.pdf","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.174Z","level":"info","message":"pdf_generation_attempt","requestId":"bdc5b10e-b512-4364-852e-67398b96e42a","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"bdc5b10e-b512-4364-852e-67398b96e42a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/bdc5b10e-b512-4364-852e-67398b96e42a/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/bdc5b10e-b512-4364-852e-67398b96e42a/enhanced_professional.pdf","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.175Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"bdc5b10e-b512-4364-852e-67398b96e42a","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"bdc5b10e-b512-4364-852e-67398b96e42a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/bdc5b10e-b512-4364-852e-67398b96e42a/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.177Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"bdc5b10e-b512-4364-852e-67398b96e42a","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"bdc5b10e-b512-4364-852e-67398b96e42a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/bdc5b10e-b512-4364-852e-67398b96e42a/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/bdc5b10e-b512-4364-852e-67398b96e42a/enhanced_professional.pdf","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.177Z","level":"info","message":"pdf_generation_attempt","requestId":"bdc5b10e-b512-4364-852e-67398b96e42a","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"bdc5b10e-b512-4364-852e-67398b96e42a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/bdc5b10e-b512-4364-852e-67398b96e42a/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/bdc5b10e-b512-4364-852e-67398b96e42a/cover_letter_cover_modern.pdf","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.179Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"bdc5b10e-b512-4364-852e-67398b96e42a","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"bdc5b10e-b512-4364-852e-67398b96e42a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/bdc5b10e-b512-4364-852e-67398b96e42a/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.180Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"bdc5b10e-b512-4364-852e-67398b96e42a","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"bdc5b10e-b512-4364-852e-67398b96e42a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/bdc5b10e-b512-4364-852e-67398b96e42a/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/bdc5b10e-b512-4364-852e-67398b96e42a/cover_letter_cover_modern.pdf","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.182Z","level":"info","message":"pdf_generation_attempt","requestId":"bdc5b10e-b512-4364-852e-67398b96e42a","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"bdc5b10e-b512-4364-852e-67398b96e42a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/bdc5b10e-b512-4364-852e-67398b96e42a/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/bdc5b10e-b512-4364-852e-67398b96e42a/cover_letter_cover_professional.pdf","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.183Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"bdc5b10e-b512-4364-852e-67398b96e42a","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"bdc5b10e-b512-4364-852e-67398b96e42a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/bdc5b10e-b512-4364-852e-67398b96e42a/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.187Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"bdc5b10e-b512-4364-852e-67398b96e42a","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"bdc5b10e-b512-4364-852e-67398b96e42a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/bdc5b10e-b512-4364-852e-67398b96e42a/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/bdc5b10e-b512-4364-852e-67398b96e42a/cover_letter_cover_professional.pdf","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.192Z","level":"info","message":"llm_call_metrics","requestId":"bdc5b10e-b512-4364-852e-67398b96e42a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.193Z","level":"info","message":"generation_completed","requestId":"bdc5b10e-b512-4364-852e-67398b96e42a","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"bdc5b10e-b512-4364-852e-67398b96e42a","enhancedScore":0,"outputs":4,"template":"unknown","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.195Z","level":"info","message":"http_request_completed","requestId":"bdc5b10e-b512-4364-852e-67398b96e42a","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":95,"contentLength":"48347","template":"unknown","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bdc5b10e-b512-4364-852e-67398b96e42a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.200Z","level":"info","message":"http_request_received","requestId":"0dda544a-ff9f-4f96-929d-b32e4d762170","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.202Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.204Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.206Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.210Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.212Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:22.214Z","level":"warn","message":"generation_job_context_missing","requestId":"0dda544a-ff9f-4f96-929d-b32e4d762170","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:22717:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.229Z","level":"info","message":"llm_call_metrics","requestId":"0dda544a-ff9f-4f96-929d-b32e4d762170","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.230Z","level":"info","message":"generation_section_rewrite_completed","requestId":"0dda544a-ff9f-4f96-929d-b32e4d762170","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0dda544a-ff9f-4f96-929d-b32e4d762170","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.235Z","level":"info","message":"generation_resume_verified","requestId":"0dda544a-ff9f-4f96-929d-b32e4d762170","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0dda544a-ff9f-4f96-929d-b32e4d762170","template":"unknown","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:05:22.269Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"0dda544a-ff9f-4f96-929d-b32e4d762170","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0dda544a-ff9f-4f96-929d-b32e4d762170","invalidLetters":[{"key":"cover_letter1","issues":["exceeds_word_limit"]},{"key":"cover_letter2","issues":["exceeds_word_limit"]}],"template":"unknown","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
          at runMicrotasks (<anonymous>)
      at server.js:23020:28

  console.warn
    {"timestamp":"2025-12-04T14:05:22.281Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"0dda544a-ff9f-4f96-929d-b32e4d762170","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0dda544a-ff9f-4f96-929d-b32e4d762170","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
          at runMicrotasks (<anonymous>)
      at server.js:23020:28

  console.log
    {"timestamp":"2025-12-04T14:05:22.296Z","level":"info","message":"generation_cover_letters_completed","requestId":"0dda544a-ff9f-4f96-929d-b32e4d762170","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0dda544a-ff9f-4f96-929d-b32e4d762170","variants":2,"fallbackApplied":true,"template":"unknown","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.297Z","level":"info","message":"pdf_generation_attempt","requestId":"0dda544a-ff9f-4f96-929d-b32e4d762170","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0dda544a-ff9f-4f96-929d-b32e4d762170","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/0dda544a-ff9f-4f96-929d-b32e4d762170/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/0dda544a-ff9f-4f96-929d-b32e4d762170/enhanced_modern.pdf","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.298Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0dda544a-ff9f-4f96-929d-b32e4d762170","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0dda544a-ff9f-4f96-929d-b32e4d762170","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/0dda544a-ff9f-4f96-929d-b32e4d762170/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.299Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0dda544a-ff9f-4f96-929d-b32e4d762170","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0dda544a-ff9f-4f96-929d-b32e4d762170","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/0dda544a-ff9f-4f96-929d-b32e4d762170/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/0dda544a-ff9f-4f96-929d-b32e4d762170/enhanced_modern.pdf","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.301Z","level":"info","message":"pdf_generation_attempt","requestId":"0dda544a-ff9f-4f96-929d-b32e4d762170","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0dda544a-ff9f-4f96-929d-b32e4d762170","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/0dda544a-ff9f-4f96-929d-b32e4d762170/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/0dda544a-ff9f-4f96-929d-b32e4d762170/enhanced_professional.pdf","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.302Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0dda544a-ff9f-4f96-929d-b32e4d762170","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0dda544a-ff9f-4f96-929d-b32e4d762170","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/0dda544a-ff9f-4f96-929d-b32e4d762170/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.302Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0dda544a-ff9f-4f96-929d-b32e4d762170","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0dda544a-ff9f-4f96-929d-b32e4d762170","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/0dda544a-ff9f-4f96-929d-b32e4d762170/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/0dda544a-ff9f-4f96-929d-b32e4d762170/enhanced_professional.pdf","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.303Z","level":"info","message":"pdf_generation_attempt","requestId":"0dda544a-ff9f-4f96-929d-b32e4d762170","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0dda544a-ff9f-4f96-929d-b32e4d762170","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/0dda544a-ff9f-4f96-929d-b32e4d762170/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/0dda544a-ff9f-4f96-929d-b32e4d762170/cover_letter_cover_modern.pdf","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.304Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0dda544a-ff9f-4f96-929d-b32e4d762170","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0dda544a-ff9f-4f96-929d-b32e4d762170","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/0dda544a-ff9f-4f96-929d-b32e4d762170/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.304Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0dda544a-ff9f-4f96-929d-b32e4d762170","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0dda544a-ff9f-4f96-929d-b32e4d762170","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/0dda544a-ff9f-4f96-929d-b32e4d762170/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/0dda544a-ff9f-4f96-929d-b32e4d762170/cover_letter_cover_modern.pdf","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.305Z","level":"info","message":"pdf_generation_attempt","requestId":"0dda544a-ff9f-4f96-929d-b32e4d762170","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0dda544a-ff9f-4f96-929d-b32e4d762170","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/0dda544a-ff9f-4f96-929d-b32e4d762170/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/0dda544a-ff9f-4f96-929d-b32e4d762170/cover_letter_cover_professional.pdf","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.306Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0dda544a-ff9f-4f96-929d-b32e4d762170","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0dda544a-ff9f-4f96-929d-b32e4d762170","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/0dda544a-ff9f-4f96-929d-b32e4d762170/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.307Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0dda544a-ff9f-4f96-929d-b32e4d762170","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0dda544a-ff9f-4f96-929d-b32e4d762170","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/0dda544a-ff9f-4f96-929d-b32e4d762170/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/0dda544a-ff9f-4f96-929d-b32e4d762170/cover_letter_cover_professional.pdf","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.321Z","level":"info","message":"llm_call_metrics","requestId":"0dda544a-ff9f-4f96-929d-b32e4d762170","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.322Z","level":"info","message":"generation_completed","requestId":"0dda544a-ff9f-4f96-929d-b32e4d762170","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0dda544a-ff9f-4f96-929d-b32e4d762170","enhancedScore":0,"outputs":4,"template":"unknown","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.325Z","level":"info","message":"http_request_completed","requestId":"0dda544a-ff9f-4f96-929d-b32e4d762170","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":125,"contentLength":"60025","template":"unknown","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0dda544a-ff9f-4f96-929d-b32e4d762170","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.331Z","level":"info","message":"http_request_received","requestId":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.333Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.335Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.339Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.342Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.348Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:22.353Z","level":"warn","message":"generation_job_context_missing","requestId":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:22717:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.368Z","level":"info","message":"llm_call_metrics","requestId":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d49fc3c9f3e6b68c516d8ed2277f352be0cdf73d24dc9159a6ddd8d2156f86c9","outputDigest":"df45602e27dd18441258611754779b1df94aaddbe2a7ac6965c12432f6053bc4","addedSkillCount":0,"template":"resume_rewrite","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.368Z","level":"info","message":"generation_section_rewrite_completed","requestId":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.372Z","level":"info","message":"generation_resume_verified","requestId":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","template":"unknown","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:05:22.376Z","level":"warn","message":"generation_cover_letters_unavailable","requestId":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","unavailable":["cover_letter1","cover_letter2"],"template":"unknown","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20760:7)
          at runMicrotasks (<anonymous>)
      at server.js:23020:28

  console.log
    {"timestamp":"2025-12-04T14:05:22.383Z","level":"info","message":"generation_cover_letters_completed","requestId":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","variants":0,"fallbackApplied":false,"template":"unknown","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.384Z","level":"info","message":"pdf_generation_attempt","requestId":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/4dbedc76-942b-47c6-84c5-1abbab1d3be1/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/4dbedc76-942b-47c6-84c5-1abbab1d3be1/enhanced_modern.pdf","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.384Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/4dbedc76-942b-47c6-84c5-1abbab1d3be1/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.388Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/4dbedc76-942b-47c6-84c5-1abbab1d3be1/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/4dbedc76-942b-47c6-84c5-1abbab1d3be1/enhanced_modern.pdf","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.389Z","level":"info","message":"pdf_generation_attempt","requestId":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/4dbedc76-942b-47c6-84c5-1abbab1d3be1/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/4dbedc76-942b-47c6-84c5-1abbab1d3be1/enhanced_professional.pdf","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.390Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/4dbedc76-942b-47c6-84c5-1abbab1d3be1/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.391Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/4dbedc76-942b-47c6-84c5-1abbab1d3be1/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/4dbedc76-942b-47c6-84c5-1abbab1d3be1/enhanced_professional.pdf","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.396Z","level":"info","message":"llm_call_metrics","requestId":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.399Z","level":"info","message":"generation_completed","requestId":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","enhancedScore":0,"outputs":2,"template":"unknown","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.403Z","level":"info","message":"http_request_completed","requestId":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":72,"contentLength":"32129","template":"unknown","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dbedc76-942b-47c6-84c5-1abbab1d3be1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.410Z","level":"info","message":"http_request_received","requestId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.414Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.420Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.422Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.425Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.427Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:22.433Z","level":"warn","message":"generation_change_log_load_failed","requestId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22783:34\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:22785:13
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.445Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.450Z","level":"info","message":"llm_call_metrics","requestId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"acf1b9378acb575b229122bd0509d239fb40292b5a2de638f8974b10630dddf9","outputDigest":"d38deb915a9824cbd24a0a21322f3421cffa08850deba8b630d4c012e36accc6","addedSkillCount":0,"template":"resume_rewrite","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.453Z","level":"info","message":"generation_section_rewrite_completed","requestId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.454Z","level":"info","message":"llm_call_metrics","requestId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"a89c45c951abfe25af2671eb78aaf142165e3f6bd78d4b83089b4f9a78e64f20","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.459Z","level":"info","message":"generation_resume_verified","requestId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","template":"unknown","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:05:22.464Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
          at runMicrotasks (<anonymous>)
      at server.js:23020:28

  console.warn
    {"timestamp":"2025-12-04T14:05:22.477Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
          at runMicrotasks (<anonymous>)
      at server.js:23020:28

  console.log
    {"timestamp":"2025-12-04T14:05:22.487Z","level":"info","message":"generation_cover_letters_completed","requestId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","variants":2,"fallbackApplied":true,"template":"unknown","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.489Z","level":"info","message":"pdf_generation_attempt","requestId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.490Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.490Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.491Z","level":"info","message":"pdf_generation_attempt","requestId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.493Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.496Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.498Z","level":"info","message":"pdf_generation_attempt","requestId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.502Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.504Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.505Z","level":"info","message":"pdf_generation_attempt","requestId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.506Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.507Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.511Z","level":"info","message":"llm_call_metrics","requestId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"6daad81d53ca29e2440dbdfd5e7ac149ac9bc677f5bd5a926b958a85793be6c1","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.514Z","level":"info","message":"generation_completed","requestId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","enhancedScore":0,"outputs":5,"template":"unknown","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.520Z","level":"info","message":"http_request_completed","requestId":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":110,"contentLength":"52667","template":"unknown","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c19ba93-64e1-4c7a-b36f-3ecde183a731","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.527Z","level":"info","message":"http_request_received","requestId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.530Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.534Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.537Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.542Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.543Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:22.547Z","level":"warn","message":"generation_change_log_load_failed","requestId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22783:34\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:22785:13
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.555Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.574Z","level":"info","message":"llm_call_metrics","requestId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"fc71d2d7420045c9674c39d1bc893139670e4554452723b0b8930f14ae74efd1","outputDigest":"994365ee088ebf4da994d91479825476737b8633f45dc9441cf82f317f739457","addedSkillCount":0,"template":"resume_rewrite","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.575Z","level":"info","message":"generation_section_rewrite_completed","requestId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.576Z","level":"info","message":"llm_call_metrics","requestId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"2941229673895ce87f4eb2dd47c041b77270273e0250170302676d5a10351fbf","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.580Z","level":"info","message":"generation_resume_verified","requestId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","template":"unknown","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:05:22.586Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20554:7)
          at runMicrotasks (<anonymous>)
      at server.js:23020:28

  console.warn
    {"timestamp":"2025-12-04T14:05:22.599Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
          at runMicrotasks (<anonymous>)
      at server.js:23020:28

  console.log
    {"timestamp":"2025-12-04T14:05:22.625Z","level":"info","message":"generation_cover_letters_completed","requestId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","variants":2,"fallbackApplied":true,"template":"unknown","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.627Z","level":"info","message":"pdf_generation_attempt","requestId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.628Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.629Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.631Z","level":"info","message":"pdf_generation_attempt","requestId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.632Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.633Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.634Z","level":"info","message":"pdf_generation_attempt","requestId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.635Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.636Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.637Z","level":"info","message":"pdf_generation_attempt","requestId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.638Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.638Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.641Z","level":"info","message":"llm_call_metrics","requestId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"bb70bada40357e7ad85703e98908783ac38c79f83207e1ee038136c2f4863594","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.643Z","level":"info","message":"generation_completed","requestId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","enhancedScore":0,"outputs":5,"template":"unknown","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.646Z","level":"info","message":"http_request_completed","requestId":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":119,"contentLength":"50998","template":"unknown","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"99bdd68e-6448-4dbb-8ea7-5c6064f66ae5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.654Z","level":"info","message":"http_request_received","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","method":"POST","path":"/api/process-cv","template":"unknown","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.657Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.659Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.662Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.664Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.667Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/47f3873f-56cd-460d-b8d4-eaa585952e77/incoming/original.pdf","chunks":1,"timestamp":1764857122673}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/47f3873f-56cd-460d-b8d4-eaa585952e77/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/47f3873f-56cd-460d-b8d4-eaa585952e77/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.676Z","level":"info","message":"process_cv_started","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","manualJobDescriptionProvided":true,"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.677Z","level":"info","message":"template_selection","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:22.677Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25151:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24791:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:05:22.687Z","level":"info","message":"initial_upload_completed","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","bucket":"test-bucket","key":"cv/candidate/47f3873f-56cd-460d-b8d4-eaa585952e77/incoming/original.pdf","template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.688Z","level":"info","message":"resume_text_extracted","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","characters":57,"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.689Z","level":"info","message":"resume_classified","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.690Z","level":"info","message":"raw_upload_relocated","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","bucket":"test-bucket","fromKey":"cv/candidate/47f3873f-56cd-460d-b8d4-eaa585952e77/incoming/original.pdf","toKey":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/original.pdf","template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.692Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","bucket":"test-bucket","key":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/original.pdf","template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.693Z","level":"info","message":"dynamo_initial_record_written","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","bucket":"test-bucket","key":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/original.pdf","template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.694Z","level":"info","message":"upload_metadata_written","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","bucket":"test-bucket","key":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/logs/log.json","template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.696Z","level":"info","message":"job_description_supplied_manually","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","characters":174,"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.697Z","level":"info","message":"job_description_analyzed","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","jobTitle":"","jobSkills":5,"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.699Z","level":"info","message":"resume_skills_analyzed","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.701Z","level":"info","message":"llm_call_metrics","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.702Z","level":"info","message":"process_cv_scoring_completed","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.711Z","level":"info","message":"llm_call_metrics","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"e0b0f289a004a53fc90e2f086b7a8368b36f3cb57e330732da1cad386d479cd5","addedSkillCount":0,"template":"resume_rewrite","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.712Z","level":"info","message":"generation_section_rewrite_completed","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","generationRunId":"47f3873f-56cd-460d-b8d4-eaa585952e77","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.716Z","level":"info","message":"generation_resume_verified","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","generationRunId":"47f3873f-56cd-460d-b8d4-eaa585952e77","template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:05:22.723Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","generationRunId":"47f3873f-56cd-460d-b8d4-eaa585952e77","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
          at runMicrotasks (<anonymous>)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:22.733Z","level":"info","message":"generation_cover_letters_completed","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","generationRunId":"47f3873f-56cd-460d-b8d4-eaa585952e77","variants":2,"fallbackApplied":true,"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.734Z","level":"info","message":"pdf_generation_attempt","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","generationRunId":"47f3873f-56cd-460d-b8d4-eaa585952e77","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/enhanced_modern.pdf","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.735Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","generationRunId":"47f3873f-56cd-460d-b8d4-eaa585952e77","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T14:05:22.737Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","generationRunId":"47f3873f-56cd-460d-b8d4-eaa585952e77","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3364:27)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/enhanced_modern.pdf","environment":{"nodeEnv":"development","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
          at runMicrotasks (<anonymous>)
      at generateEnhancedDocumentsResponse (server.js:21321:11)
      at server.js:26750:28

  console.log
    {"timestamp":"2025-12-04T14:05:22.747Z","level":"info","message":"pdf_generation_attempt","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","generationRunId":"47f3873f-56cd-460d-b8d4-eaa585952e77","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/enhanced_professional.pdf","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.747Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","generationRunId":"47f3873f-56cd-460d-b8d4-eaa585952e77","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.748Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","generationRunId":"47f3873f-56cd-460d-b8d4-eaa585952e77","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/","sessionId":"[REDACTED]","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/enhanced_professional.pdf","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.749Z","level":"info","message":"pdf_generation_attempt","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","generationRunId":"47f3873f-56cd-460d-b8d4-eaa585952e77","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/enhanced_professional.pdf","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.750Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","generationRunId":"47f3873f-56cd-460d-b8d4-eaa585952e77","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.751Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","generationRunId":"47f3873f-56cd-460d-b8d4-eaa585952e77","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/enhanced_professional.pdf","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.751Z","level":"info","message":"pdf_generation_attempt","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","generationRunId":"47f3873f-56cd-460d-b8d4-eaa585952e77","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/cover_letter_cover_modern.pdf","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.753Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","generationRunId":"47f3873f-56cd-460d-b8d4-eaa585952e77","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.755Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","generationRunId":"47f3873f-56cd-460d-b8d4-eaa585952e77","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":16,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/cover_letter_cover_modern.pdf","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.757Z","level":"info","message":"pdf_generation_attempt","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","generationRunId":"47f3873f-56cd-460d-b8d4-eaa585952e77","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/cover_letter_cover_professional.pdf","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.758Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","generationRunId":"47f3873f-56cd-460d-b8d4-eaa585952e77","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.759Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","generationRunId":"47f3873f-56cd-460d-b8d4-eaa585952e77","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":22,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/47f3873f-56cd-460d-b8d4-eaa585952e77/cover_letter_cover_professional.pdf","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.762Z","level":"info","message":"llm_call_metrics","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"b81624598eca82514b81f4fd0ef858c4f8eda9605bf4a3b33ed31144fa2daed3","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.763Z","level":"info","message":"generation_completed","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","generationRunId":"47f3873f-56cd-460d-b8d4-eaa585952e77","enhancedScore":80,"outputs":5,"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.765Z","level":"info","message":"placeholder_record_deleted","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","jobId":"37c2e961-a04a-40f3-a939-bd3a97b06113","placeholderIdentifier":"47f3873f-56cd-460d-b8d4-eaa585952e77","template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37c2e961-a04a-40f3-a939-bd3a97b06113","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.771Z","level":"info","message":"http_request_completed","requestId":"47f3873f-56cd-460d-b8d4-eaa585952e77","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":117,"contentLength":"59519","template":"unknown","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47f3873f-56cd-460d-b8d4-eaa585952e77","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.776Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":2,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.779Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T14:05:22.780Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3469:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3483:20)

  console.log
    {"timestamp":"2025-12-04T14:05:22.791Z","level":"info","message":"pdf_generation_backstop_succeeded","documentType":"resume","template":"2025","templatesBackstopped":["2025"],"backstopResults":[{"templateId":"2025","bytes":1024}],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.792Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":2,"totalAttempts":2,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.793Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.794Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"modern","attempt":2,"bytes":10,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.796Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.798Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T14:05:22.799Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"modern","attempt":1,"error":{"name":"Error","message":"Modern renderer unavailable","stack":"Error: Modern renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3508:30)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3512:20)

  console.log
    {"timestamp":"2025-12-04T14:05:22.809Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.810Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.811Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.812Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.814Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T14:05:22.817Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3530:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3543:20)

  console.log
    {"timestamp":"2025-12-04T14:05:22.825Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.826Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.827Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.829Z","level":"info","message":"pdf_generation_attempt","documentType":"cover_letter","template":"cover_modern","attempt":1,"totalAttempts":1,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.830Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"cover_letter","template":"cover_modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T14:05:22.831Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"cover_letter","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"Primary renderer offline","stack":"Error: Primary renderer offline\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3561:48)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.warn
    {"timestamp":"2025-12-04T14:05:22.844Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11163:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.error
    {"timestamp":"2025-12-04T14:05:22.857Z","level":"error","message":"pdf_generation_plain_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","error":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3563:13\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9799:12)\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11167:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3598:5)"},"forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11212:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.error
    {"timestamp":"2025-12-04T14:05:22.866Z","level":"error","message":"pdf_generation_minimal_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3566:13\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11233:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3598:5)"},"previousError":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3563:13\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9799:12)\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11167:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3598:5)"},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11256:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.error
    {"timestamp":"2025-12-04T14:05:22.878Z","level":"error","message":"pdf_generation_all_attempts_failed","documentType":"cover_letter","templates":["cover_modern"],"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3566:13\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11233:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3598:5)"},"targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"summary":"Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable","messages":["Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable"],"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11278:3)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.945Z","level":"info","message":"http_request_received","requestId":"dfa515a1-8ed3-4798-975d-ffd23eb78b5e","method":"POST","path":"/api/change-log","template":"unknown","session":"dfa515a1-8ed3-4798-975d-ffd23eb78b5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfa515a1-8ed3-4798-975d-ffd23eb78b5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.948Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.950Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.953Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.956Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.958Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.963Z","level":"info","message":"change_log_updated","requestId":"dfa515a1-8ed3-4798-975d-ffd23eb78b5e","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.966Z","level":"info","message":"http_request_completed","requestId":"dfa515a1-8ed3-4798-975d-ffd23eb78b5e","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":21,"contentLength":"48197","template":"unknown","session":"dfa515a1-8ed3-4798-975d-ffd23eb78b5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfa515a1-8ed3-4798-975d-ffd23eb78b5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.973Z","level":"info","message":"http_request_received","requestId":"d8be1513-8611-47c2-b3ac-b65890c3d9e2","method":"POST","path":"/api/change-log","template":"unknown","session":"d8be1513-8611-47c2-b3ac-b65890c3d9e2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d8be1513-8611-47c2-b3ac-b65890c3d9e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.976Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.978Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.981Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.985Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.987Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:22.992Z","level":"info","message":"change_log_updated","requestId":"d8be1513-8611-47c2-b3ac-b65890c3d9e2","jobId":"job-321","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-321","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-321","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:22.994Z","level":"info","message":"http_request_completed","requestId":"d8be1513-8611-47c2-b3ac-b65890c3d9e2","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":21,"contentLength":"1958","template":"unknown","session":"d8be1513-8611-47c2-b3ac-b65890c3d9e2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d8be1513-8611-47c2-b3ac-b65890c3d9e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.001Z","level":"info","message":"http_request_received","requestId":"18aaaf4b-e814-4d6e-a4dd-23777d39b987","method":"POST","path":"/api/change-log","template":"unknown","session":"18aaaf4b-e814-4d6e-a4dd-23777d39b987","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18aaaf4b-e814-4d6e-a4dd-23777d39b987","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.003Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.005Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.008Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.011Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.013Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.019Z","level":"info","message":"change_log_updated","requestId":"18aaaf4b-e814-4d6e-a4dd-23777d39b987","jobId":"job-789","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-789","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-789","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:23.021Z","level":"info","message":"http_request_completed","requestId":"18aaaf4b-e814-4d6e-a4dd-23777d39b987","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":20,"contentLength":"6061","template":"unknown","session":"18aaaf4b-e814-4d6e-a4dd-23777d39b987","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18aaaf4b-e814-4d6e-a4dd-23777d39b987","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.027Z","level":"info","message":"http_request_received","requestId":"b16fccc0-c92d-4d35-b694-8d9bf2b0387d","method":"POST","path":"/api/change-log","template":"unknown","session":"b16fccc0-c92d-4d35-b694-8d9bf2b0387d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b16fccc0-c92d-4d35-b694-8d9bf2b0387d","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.029Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.031Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.033Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.036Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.037Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.040Z","level":"info","message":"change_log_updated","requestId":"b16fccc0-c92d-4d35-b694-8d9bf2b0387d","jobId":"job-session","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-session","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-session","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:23.040Z","level":"info","message":"http_request_completed","requestId":"b16fccc0-c92d-4d35-b694-8d9bf2b0387d","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":13,"contentLength":"1213","template":"unknown","session":"b16fccc0-c92d-4d35-b694-8d9bf2b0387d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b16fccc0-c92d-4d35-b694-8d9bf2b0387d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.045Z","level":"info","message":"http_request_received","requestId":"6b5c07cc-ea75-478f-8cb5-2dc67708450a","method":"POST","path":"/api/change-log","template":"unknown","session":"6b5c07cc-ea75-478f-8cb5-2dc67708450a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b5c07cc-ea75-478f-8cb5-2dc67708450a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.047Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.050Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.052Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.055Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.056Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.059Z","level":"info","message":"change_log_updated","requestId":"6b5c07cc-ea75-478f-8cb5-2dc67708450a","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:23.060Z","level":"info","message":"http_request_completed","requestId":"6b5c07cc-ea75-478f-8cb5-2dc67708450a","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":15,"contentLength":"789","template":"unknown","session":"6b5c07cc-ea75-478f-8cb5-2dc67708450a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b5c07cc-ea75-478f-8cb5-2dc67708450a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.066Z","level":"info","message":"http_request_received","requestId":"bcf6dde4-59b8-416b-8e93-1c4be098d8dd","method":"POST","path":"/api/change-log","template":"unknown","session":"bcf6dde4-59b8-416b-8e93-1c4be098d8dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bcf6dde4-59b8-416b-8e93-1c4be098d8dd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.068Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.070Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.072Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.075Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.076Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.078Z","level":"info","message":"change_log_updated","requestId":"bcf6dde4-59b8-416b-8e93-1c4be098d8dd","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:23.079Z","level":"info","message":"http_request_completed","requestId":"bcf6dde4-59b8-416b-8e93-1c4be098d8dd","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":13,"contentLength":"350","template":"unknown","session":"bcf6dde4-59b8-416b-8e93-1c4be098d8dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bcf6dde4-59b8-416b-8e93-1c4be098d8dd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.083Z","level":"info","message":"http_request_received","requestId":"834da08c-2e84-461e-b050-11de74aa5443","method":"POST","path":"/api/change-log","template":"unknown","session":"834da08c-2e84-461e-b050-11de74aa5443","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"834da08c-2e84-461e-b050-11de74aa5443","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.085Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.087Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.090Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.093Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.094Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.097Z","level":"info","message":"change_log_updated","requestId":"834da08c-2e84-461e-b050-11de74aa5443","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:23.098Z","level":"info","message":"http_request_completed","requestId":"834da08c-2e84-461e-b050-11de74aa5443","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":15,"contentLength":"1151","template":"unknown","session":"834da08c-2e84-461e-b050-11de74aa5443","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"834da08c-2e84-461e-b050-11de74aa5443","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.102Z","level":"info","message":"http_request_received","requestId":"2f86e62c-bd1a-4511-a0fe-7d5b38fef4fe","method":"POST","path":"/api/change-log","template":"unknown","session":"2f86e62c-bd1a-4511-a0fe-7d5b38fef4fe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f86e62c-bd1a-4511-a0fe-7d5b38fef4fe","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.104Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.106Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.109Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.113Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.114Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.116Z","level":"info","message":"change_log_updated","requestId":"2f86e62c-bd1a-4511-a0fe-7d5b38fef4fe","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:23.117Z","level":"info","message":"http_request_completed","requestId":"2f86e62c-bd1a-4511-a0fe-7d5b38fef4fe","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":15,"contentLength":"596","template":"unknown","session":"2f86e62c-bd1a-4511-a0fe-7d5b38fef4fe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f86e62c-bd1a-4511-a0fe-7d5b38fef4fe","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.122Z","level":"info","message":"http_request_received","requestId":"8e67fbae-7d03-427d-a6bf-f8cf1a763345","method":"POST","path":"/api/change-log","template":"unknown","session":"8e67fbae-7d03-427d-a6bf-f8cf1a763345","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8e67fbae-7d03-427d-a6bf-f8cf1a763345","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.124Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.126Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.128Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.131Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.132Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:05:23.137Z","level":"info","message":"change_log_updated","requestId":"8e67fbae-7d03-427d-a6bf-f8cf1a763345","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:05:23.138Z","level":"info","message":"http_request_completed","requestId":"8e67fbae-7d03-427d-a6bf-f8cf1a763345","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":16,"contentLength":"2337","template":"unknown","session":"8e67fbae-7d03-427d-a6bf-f8cf1a763345","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8e67fbae-7d03-427d-a6bf-f8cf1a763345","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

PASS tests/server.test.mjs (10.779 s)
  health check
     GET /healthz (92 ms)
  static asset fallbacks
     GET /favicon.ico returns 204 (30 ms)
     serves hashed index asset from S3 when local file is missing (66 ms)
     serves hashed index asset directly from the bundled client when available (59 ms)
     strips API Gateway stage prefixes before resolving static index aliases (38 ms)
     performs HEAD lookup against S3 for hashed index asset metadata (46 ms)
     serves the latest index asset alias via S3 when local files are unavailable (63 ms)
     serves the index asset alias via the S3 manifest when the local manifest is missing (61 ms)
     serves the index asset alias when the manifest contains prefixed S3 keys (42 ms)
     serves the index asset alias via manifest fallback when the primary bundle is missing from S3 (56 ms)
  static asset proxy endpoint
     serves the index alias via the local build (31 ms)
     normalizes stray punctuation in proxy asset queries (36 ms)
     strips inline alias annotations from hashed proxy asset queries (29 ms)
     falls back to S3 when the hashed bundle is unavailable locally (33 ms)
     degrades hashed proxy requests to the index alias when upstream assets are missing (54 ms)
     degrades direct hashed asset requests to the index alias when upstream bundles are missing (72 ms)
     rejects invalid asset paths (52 ms)
  static asset manifest endpoint
     returns manifest data when available (26 ms)
     allows forcing a manifest refresh via query parameter (56 ms)
     returns 503 when manifest is unavailable (64 ms)
  /api/process-cv
     handles DynamoDB table lifecycle (481 ms)
     removes stale session change logs when starting a new upload session (183 ms)
     removes session change log data when the session prefix is reused (158 ms)
     requires manual job description input (145 ms)
     sanitizes manual job description input before analysis (112 ms)
     rejects manual job description input containing prohibited HTML tags (50 ms)
     stores sanitized job description as session input metadata (108 ms)
     accepts uploads without a LinkedIn profile URL (93 ms)
     malformed AI response (120 ms)
     handles code-fenced JSON with extra text (124 ms)
     handles JSON surrounded by text (137 ms)
     returns presigned PDF URLs with labeled asset types (142 ms)
     returns a structured error when download URLs cannot be generated (199 ms)
     cover letter urls include structured metadata (211 ms)
     uses provided templates in preferred order (232 ms)
     uses templates array (134 ms)
     filters AI guidance lines (125 ms)
     resume prompt asks for a project matching job skills (113 ms)
     inserts project into resume text (101 ms)
     adds project section when job description provided (107 ms)
     cover letters omit placeholder sections (133 ms)
     normalizes structured cover letter responses into text (119 ms)
     uses sanitized resume fallback when AI returns plain text for versions (123 ms)
     falls back to plain PDFs when template rendering fails (674 ms)
     final CV includes updated title, project, and skills (171 ms)
     missing file (74 ms)
     unsupported file type (132 ms)
     rejects non-resume content with descriptive feedback (88 ms)
     requires re-upload when classification does not identify a CV (69 ms)
     missing job description text (56 ms)
    download link refresh
       resigns an existing artifact key for the active job (32 ms)
       returns not found when the storage key does not match the job context (57 ms)
    resume size handling
       accepts tiny PDF (32 KB) uploads up to 5 MB (153 ms)
       accepts small DOCX (256 KB) uploads up to 5 MB (210 ms)
       accepts mid-sized PDF (2 MB) uploads up to 5 MB (232 ms)
       accepts near-limit DOCX (just under 5 MB) uploads up to 5 MB (294 ms)
       rejects resumes larger than 5 MB (65 ms)
  /api/generate-enhanced-docs
     responds with structured details when jobId is missing (37 ms)
     queues message when fallback cover letters are used (93 ms)
     replaces whitespace cover letters with fallback copy (124 ms)
     audits cover letters for placeholders and applies fallback (89 ms)
     replaces weak closing cover letters with confident fallback copy (100 ms)
     replaces cover letters exceeding the word limit with confident fallback copy (131 ms)
     surfaces message when cover letters remain unavailable (77 ms)
     refreshes session artifacts when job description changes for a new enhancement (117 ms)
     refreshes session artifacts automatically when job description changes (127 ms)
     persists template vs population errors in stage metadata (124 ms)
  generatePdfWithFallback
     records retry message when 2025 renderer fails (20 ms)
     announces next template when fallback occurs for non-2025 resume (16 ms)
     announces actual next template when 2025 fallback prefers contrast option (16 ms)
     throws explicit PdfGenerationError with summary when all strategies fail (61 ms)
  classifyDocument
     identifies resumes by section structure
     detects cover letters (1 ms)
     rejects job descriptions that mimic resume sections (1 ms)
  extractText
     extracts text from pdf (1 ms)
     extracts text from docx (2 ms)
     guides user when pdf parsing fails (29 ms)
     guides user when docx parsing fails (3 ms)
     extracts text from doc (7 ms)
     rejects plain text files (1 ms)
  client download labels
     App displays correct labels for each file type (5 ms)
  change log persistence safeguards
     truncates oversized change log fields before persisting (29 ms)
     persists category changelog details for ATS, skills, and related sections (26 ms)
     captures rescore summary and updates session score snapshot (26 ms)
     stores session change logs under a user session prefix when no prior key exists (18 ms)
  change log session visibility
     persists reverted entries when updating the change log (21 ms)
     stores rejected entries in the session change log dismissed list (17 ms)
     persists cover letter change log payloads to S3 (19 ms)
     removing a cover letter entry records dismissal state in S3 (20 ms)
     persists activity logs from nested payloads into the session change log (22 ms)

Test Suites: 1 passed, 1 total
Tests:       90 passed, 90 total
Snapshots:   0 total
Time:        10.85 s, estimated 13 s
Ran all test suites matching /tests\/server.test.mjs/i.
Force exiting Jest: Have you considered using `--detectOpenHandles` to detect async operations that kept running after all tests finished?
