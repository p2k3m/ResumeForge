
> resumeforge@1.0.0 test:unit
> NODE_OPTIONS='--max-old-space-size=4096' node --experimental-vm-modules node_modules/jest/bin/jest.js --testPathIgnorePatterns='\.integration\.test\.js$' --testPathIgnorePatterns='\.e2e\.test\.js$'

[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
(node:79277) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
(node:79279) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
(node:79279) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
(node:79283) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
FAIL tests/lambdas/documentGenerationLambda.test.js
  ● Test suite failed to run

    A jest worker process (pid=79279) was terminated by another process: signal=SIGSEGV, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)

(node:79283) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/uploadHashedAssets.test.js
  ● Console

    console.log
      [upload-hashed-assets] Verified 8 uploaded assets are accessible in s3://static-bucket-test/static/client/prod/latest/

      at verifyUploadedObjects (scripts/upload-hashed-assets.mjs:1655:11)

    console.log
      [upload-hashed-assets] Propagated 8 assets to s3://static-bucket-test/static/client/prod/ from static/client/prod/latest.

      at replicateUploadsToFallbackPrefixes (scripts/upload-hashed-assets.mjs:1592:13)

    console.log
      [upload-hashed-assets] Verified 6 uploaded assets are accessible in s3://static-bucket-test/static/client/prod/latest/

      at verifyUploadedObjects (scripts/upload-hashed-assets.mjs:1655:11)

    console.log
      [upload-hashed-assets] Propagated 6 assets to s3://static-bucket-test/static/client/prod/ from static/client/prod/latest.

      at replicateUploadsToFallbackPrefixes (scripts/upload-hashed-assets.mjs:1592:13)

    console.log
      [upload-hashed-assets] Verified 8 uploaded assets are accessible in s3://static-bucket-test/static/client/prod/latest/

      at verifyUploadedObjects (scripts/upload-hashed-assets.mjs:1655:11)

    console.log
      [upload-hashed-assets] Propagated 8 assets to s3://static-bucket-test/static/client/prod/ from static/client/prod/latest.

      at replicateUploadsToFallbackPrefixes (scripts/upload-hashed-assets.mjs:1592:13)

    console.log
      [upload-hashed-assets] Verified 8 uploaded assets are accessible in s3://resume-forge-app-2025/static/client/prod/latest/

      at verifyUploadedObjects (scripts/upload-hashed-assets.mjs:1655:11)

    console.log
      [upload-hashed-assets] Propagated 8 assets to s3://resume-forge-app-2025/static/client/prod/ from static/client/prod/latest.

      at replicateUploadsToFallbackPrefixes (scripts/upload-hashed-assets.mjs:1592:13)

    console.log
      [upload-hashed-assets] Propagated 8 assets to s3://resume-forge-app-2025/static/client/test/ from static/client/prod/latest.

      at replicateUploadsToFallbackPrefixes (scripts/upload-hashed-assets.mjs:1592:13)

    console.log
      [upload-hashed-assets] Verified 8 uploaded assets are accessible in s3://static-bucket-test/static/client/prod/latest/

      at verifyUploadedObjects (scripts/upload-hashed-assets.mjs:1655:11)

    console.log
      [upload-hashed-assets] Propagated 8 assets to s3://static-bucket-test/static/client/prod/ from static/client/prod/latest.

      at replicateUploadsToFallbackPrefixes (scripts/upload-hashed-assets.mjs:1592:13)

    console.log
      [upload-hashed-assets] Verified 8 uploaded assets are accessible in s3://static-bucket-test/static/client/prod/latest/

      at verifyUploadedObjects (scripts/upload-hashed-assets.mjs:1655:11)

    console.warn
      [upload-hashed-assets] Restored missing alias assets/index-latest.css from assets/index-20251101.css.

      370 |     )
      371 |
    > 372 |     console.warn(
          |             ^
      373 |       `[upload-hashed-assets] Restored missing alias ${aliasPath} from ${sourcePath}.`,
      374 |     )
      375 |   }

      at ensureAliasObjectsInS3 (scripts/upload-hashed-assets.mjs:372:13)
      at uploadHashedIndexAssets (scripts/upload-hashed-assets.mjs:1485:3)
      at Object.<anonymous> (tests/uploadHashedAssets.test.js:692:5)

    console.log
      [upload-hashed-assets] Propagated 8 assets to s3://static-bucket-test/static/client/prod/ from static/client/prod/latest.

      at replicateUploadsToFallbackPrefixes (scripts/upload-hashed-assets.mjs:1592:13)

    console.log
      [upload-hashed-assets] Verified 8 uploaded assets are accessible in s3://static-bucket-test/static/client/prod/latest/

      at verifyUploadedObjects (scripts/upload-hashed-assets.mjs:1655:11)

    console.log
      [upload-hashed-assets] Propagated 8 assets to s3://static-bucket-test/static/client/prod/ from static/client/prod/latest.

      at replicateUploadsToFallbackPrefixes (scripts/upload-hashed-assets.mjs:1592:13)

    console.warn
      [upload-hashed-assets] index.html does not reference any hashed index assets, but found them in manifest.json. Proceeding with manifest assets.

      449 |     if (manifest && Array.isArray(manifest.hashedIndexAssets) && manifest.hashedIndexAssets.length > 0) {
      450 |       referencedAssets = manifest.hashedIndexAssets
    > 451 |       console.warn(
          |               ^
      452 |         '[upload-hashed-assets] index.html does not reference any hashed index assets, but found them in manifest.json. Proceeding with manifest assets.',
      453 |       )
      454 |     } else {

      at gatherHashedAssetUploadEntries (scripts/upload-hashed-assets.mjs:451:15)
      at uploadHashedIndexAssets (scripts/upload-hashed-assets.mjs:1317:41)
      at Object.<anonymous> (tests/uploadHashedAssets.test.js:779:5)

    console.log
      [upload-hashed-assets] Verified 8 uploaded assets are accessible in s3://static-bucket-test/static/client/prod/latest/

      at verifyUploadedObjects (scripts/upload-hashed-assets.mjs:1655:11)

    console.log
      [upload-hashed-assets] Propagated 8 assets to s3://static-bucket-test/static/client/prod/ from static/client/prod/latest.

      at replicateUploadsToFallbackPrefixes (scripts/upload-hashed-assets.mjs:1592:13)

    console.log
      [upload-hashed-assets] Verified 8 uploaded assets are accessible in s3://static-bucket-test/static/client/prod/latest/

      at verifyUploadedObjects (scripts/upload-hashed-assets.mjs:1655:11)

    console.log
      [upload-hashed-assets] Propagated 8 assets to s3://static-bucket-test/static/client/prod/ from static/client/prod/latest.

      at replicateUploadsToFallbackPrefixes (scripts/upload-hashed-assets.mjs:1592:13)

(node:79282) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
PASS client/src/components/__tests__/ChangeComparisonView.test.jsx
(node:79278) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
(node:79278) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/pdfUtils.test.js
(node:79280) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
PASS client/src/components/__tests__/ATSScoreDashboard.test.jsx
(node:79281) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
PASS tests/loggingSanitization.test.js
(node:79283) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS client/src/components/__tests__/TemplatePreview.test.jsx
PASS tests/improvementRoutes.test.js (6.046 s)
  ● Console

    console.log
      {"timestamp":"2025-12-03T13:17:57.927Z","level":"info","message":"http_request_received","requestId":"245170fe-83eb-4241-a8b3-eeb4605b2176","method":"POST","path":"/api/improve-summary","template":"unknown","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:57.982Z","level":"info","message":"path_restoration_debug","reqPath":"/api/improve-summary","reqUrl":"/api/improve-summary","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:57.983Z","level":"info","message":"request_received","path":"/api/improve-summary","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:57.985Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/improve-summary","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.017Z","level":"info","message":"client_app_routes_entered","path":"/api/improve-summary","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.019Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/improve-summary","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.144Z","level":"info","message":"llm_call_metrics","requestId":"245170fe-83eb-4241-a8b3-eeb4605b2176","operation":"resume_improvement","templateId":"resume_improvement","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"b6f857c5a530e6307644b7f6605a3152d7f5b6727f6ee29b881cdbd91e98d916","outputDigest":"72681f67e0904734ae5e1a139d3b7ddb3a62a7ad79a1ad954c0f1036a1c1fedb","confidence":0.82,"type":"improve-summary","changeDetailCount":1,"template":"resume_improvement","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"resume_improvement","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.163Z","level":"info","message":"llm_call_metrics","requestId":"245170fe-83eb-4241-a8b3-eeb4605b2176","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"6daad81d53ca29e2440dbdfd5e7ac149ac9bc677f5bd5a926b958a85793be6c1","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.192Z","level":"info","message":"llm_call_metrics","requestId":"245170fe-83eb-4241-a8b3-eeb4605b2176","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f106fd33ec2c0b83e1c85dd9956b0b929e8ebd535d1fe8b4f0ea5cb3d5447f44","skillCount":2,"outcome":"fallback","template":"project_summary","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:17:58.282Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"245170fe-83eb-4241-a8b3-eeb4605b2176","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"245170fe-83eb-4241-a8b3-eeb4605b2176","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"unknown","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at handleImprovementRequest (server.js:18485:28)
      at server.js:19407:5

    console.log
      {"timestamp":"2025-12-03T13:17:58.284Z","level":"info","message":"generation_cover_letters_completed","requestId":"245170fe-83eb-4241-a8b3-eeb4605b2176","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"245170fe-83eb-4241-a8b3-eeb4605b2176","variants":2,"fallbackApplied":true,"template":"unknown","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"unknown","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.289Z","level":"info","message":"pdf_generation_attempt","requestId":"245170fe-83eb-4241-a8b3-eeb4605b2176","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"245170fe-83eb-4241-a8b3-eeb4605b2176","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/alex_candidate/245170fe-83eb-4241-a8b3-eeb4605b2176/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/alex_candidate/245170fe-83eb-4241-a8b3-eeb4605b2176/enhanced_modern.pdf","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"modern","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.289Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"245170fe-83eb-4241-a8b3-eeb4605b2176","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"245170fe-83eb-4241-a8b3-eeb4605b2176","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/alex_candidate/245170fe-83eb-4241-a8b3-eeb4605b2176/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"modern","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.292Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"modern","templateId":"modern","usingRenderer":false,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.297Z","level":"debug","message":"pdf_template_loading","templateId":"modern","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.html","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.308Z","level":"debug","message":"pdf_template_css_missing","templateId":"modern","cssPath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.css","error":{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.css"},"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.315Z","level":"debug","message":"pdf_template_compiled","templateId":"modern","htmlLength":9923,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.317Z","level":"info","message":"optional_dependency_unavailable","module":"@sparticuz/chromium","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.318Z","level":"info","message":"optional_dependency_unavailable","module":"puppeteer-core","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.319Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"modern","requestedTemplateId":"modern","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.041Z","level":"debug","message":"pdf_pdfkit_fallback","templateId":"modern","requestedTemplateId":"modern","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.115Z","level":"debug","message":"pdf_pdfkit_fallback_complete","templateId":"modern","requestedTemplateId":"modern","bytes":6788,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.115Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"245170fe-83eb-4241-a8b3-eeb4605b2176","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"245170fe-83eb-4241-a8b3-eeb4605b2176","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/alex_candidate/245170fe-83eb-4241-a8b3-eeb4605b2176/","template":"modern","attempt":1,"bytes":6788,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/alex_candidate/245170fe-83eb-4241-a8b3-eeb4605b2176/enhanced_modern.pdf","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"modern","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.117Z","level":"info","message":"pdf_generation_attempt","requestId":"245170fe-83eb-4241-a8b3-eeb4605b2176","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"245170fe-83eb-4241-a8b3-eeb4605b2176","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/alex_candidate/245170fe-83eb-4241-a8b3-eeb4605b2176/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/alex_candidate/245170fe-83eb-4241-a8b3-eeb4605b2176/enhanced_professional.pdf","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"professional","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.118Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"245170fe-83eb-4241-a8b3-eeb4605b2176","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"245170fe-83eb-4241-a8b3-eeb4605b2176","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/alex_candidate/245170fe-83eb-4241-a8b3-eeb4605b2176/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"professional","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.118Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"professional","templateId":"professional","usingRenderer":false,"template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.122Z","level":"debug","message":"pdf_template_loading","templateId":"professional","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/professional.html","template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.136Z","level":"debug","message":"pdf_template_css_missing","templateId":"professional","cssPath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/professional.css","error":{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/professional.css"},"template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.138Z","level":"debug","message":"pdf_template_compiled","templateId":"professional","htmlLength":13949,"template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.139Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"professional","requestedTemplateId":"professional","template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.139Z","level":"debug","message":"pdf_pdfkit_fallback","templateId":"professional","requestedTemplateId":"professional","template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.161Z","level":"debug","message":"pdf_pdfkit_fallback_complete","templateId":"professional","requestedTemplateId":"professional","bytes":7540,"template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.162Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"245170fe-83eb-4241-a8b3-eeb4605b2176","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"245170fe-83eb-4241-a8b3-eeb4605b2176","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/alex_candidate/245170fe-83eb-4241-a8b3-eeb4605b2176/","template":"professional","attempt":1,"bytes":7540,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/alex_candidate/245170fe-83eb-4241-a8b3-eeb4605b2176/enhanced_professional.pdf","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"professional","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.163Z","level":"info","message":"pdf_generation_attempt","requestId":"245170fe-83eb-4241-a8b3-eeb4605b2176","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"245170fe-83eb-4241-a8b3-eeb4605b2176","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/alex_candidate/245170fe-83eb-4241-a8b3-eeb4605b2176/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/alex_candidate/245170fe-83eb-4241-a8b3-eeb4605b2176/cover_letter_cover_modern.pdf","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"cover_modern","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.163Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"245170fe-83eb-4241-a8b3-eeb4605b2176","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"245170fe-83eb-4241-a8b3-eeb4605b2176","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/alex_candidate/245170fe-83eb-4241-a8b3-eeb4605b2176/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"cover_modern","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.164Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"cover_modern","templateId":"cover_modern","usingRenderer":false,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.165Z","level":"debug","message":"pdf_template_loading","templateId":"cover_modern","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/cover_modern.html","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.174Z","level":"debug","message":"pdf_template_compiled","templateId":"cover_modern","htmlLength":4132,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.175Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"cover_modern","requestedTemplateId":"cover_modern","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.175Z","level":"debug","message":"pdf_pdfkit_fallback","templateId":"cover_modern","requestedTemplateId":"cover_modern","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.196Z","level":"debug","message":"pdf_pdfkit_fallback_complete","templateId":"cover_modern","requestedTemplateId":"cover_modern","bytes":2713,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.197Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"245170fe-83eb-4241-a8b3-eeb4605b2176","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"245170fe-83eb-4241-a8b3-eeb4605b2176","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/alex_candidate/245170fe-83eb-4241-a8b3-eeb4605b2176/","template":"cover_modern","attempt":1,"bytes":2713,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/alex_candidate/245170fe-83eb-4241-a8b3-eeb4605b2176/cover_letter_cover_modern.pdf","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"cover_modern","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.198Z","level":"info","message":"pdf_generation_attempt","requestId":"245170fe-83eb-4241-a8b3-eeb4605b2176","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"245170fe-83eb-4241-a8b3-eeb4605b2176","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/alex_candidate/245170fe-83eb-4241-a8b3-eeb4605b2176/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/alex_candidate/245170fe-83eb-4241-a8b3-eeb4605b2176/cover_letter_cover_professional.pdf","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"cover_professional","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.198Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"245170fe-83eb-4241-a8b3-eeb4605b2176","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"245170fe-83eb-4241-a8b3-eeb4605b2176","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/alex_candidate/245170fe-83eb-4241-a8b3-eeb4605b2176/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"cover_professional","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.199Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"cover_professional","templateId":"cover_professional","usingRenderer":false,"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.200Z","level":"debug","message":"pdf_template_loading","templateId":"cover_professional","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/cover_professional.html","template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.218Z","level":"debug","message":"pdf_template_css_missing","templateId":"cover_professional","cssPath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/cover_professional.css","error":{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/cover_professional.css"},"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.223Z","level":"debug","message":"pdf_template_compiled","templateId":"cover_professional","htmlLength":6463,"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.223Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"cover_professional","requestedTemplateId":"cover_professional","template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.223Z","level":"debug","message":"pdf_pdfkit_fallback","templateId":"cover_professional","requestedTemplateId":"cover_professional","template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.242Z","level":"debug","message":"pdf_pdfkit_fallback_complete","templateId":"cover_professional","requestedTemplateId":"cover_professional","bytes":3096,"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.243Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"245170fe-83eb-4241-a8b3-eeb4605b2176","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"245170fe-83eb-4241-a8b3-eeb4605b2176","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/alex_candidate/245170fe-83eb-4241-a8b3-eeb4605b2176/","template":"cover_professional","attempt":1,"bytes":3096,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/alex_candidate/245170fe-83eb-4241-a8b3-eeb4605b2176/cover_letter_cover_professional.pdf","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"cover_professional","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.297Z","level":"info","message":"llm_call_metrics","requestId":"245170fe-83eb-4241-a8b3-eeb4605b2176","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"6daad81d53ca29e2440dbdfd5e7ac149ac9bc677f5bd5a926b958a85793be6c1","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.299Z","level":"info","message":"generation_completed","requestId":"245170fe-83eb-4241-a8b3-eeb4605b2176","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"245170fe-83eb-4241-a8b3-eeb4605b2176","enhancedScore":50,"outputs":5,"template":"unknown","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"unknown","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.303Z","level":"info","message":"targeted_improvement_completed","requestId":"245170fe-83eb-4241-a8b3-eeb4605b2176","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","confidence":0.82,"appliedSkills":1,"template":"unknown","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"unknown","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.351Z","level":"info","message":"http_request_completed","requestId":"245170fe-83eb-4241-a8b3-eeb4605b2176","method":"POST","path":"/api/improve-summary","statusCode":200,"durationMs":1425,"contentLength":"53755","template":"unknown","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"245170fe-83eb-4241-a8b3-eeb4605b2176","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.371Z","level":"info","message":"http_request_received","requestId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","method":"POST","path":"/api/improve-certifications","template":"unknown","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.373Z","level":"info","message":"path_restoration_debug","reqPath":"/api/improve-certifications","reqUrl":"/api/improve-certifications","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.374Z","level":"info","message":"request_received","path":"/api/improve-certifications","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.375Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/improve-certifications","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.377Z","level":"info","message":"client_app_routes_entered","path":"/api/improve-certifications","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.378Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/improve-certifications","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.414Z","level":"info","message":"llm_call_metrics","requestId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","operation":"resume_improvement","templateId":"resume_improvement","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"570841e154aa4756a3ca3351e8d32effa77598b0e2d258daafa821f2e0dc9fb8","outputDigest":"e94f50f5c784f9ccb2c626cb988b6b11eb78f9e45a24c778bfa99440e76ac61b","confidence":0.77,"type":"improve-certifications","changeDetailCount":1,"template":"resume_improvement","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"resume_improvement","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.437Z","level":"info","message":"llm_call_metrics","requestId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"06121307eff22798a9524dfa145d5428b40306bf024b63dd3fb6bab9211eb1f6","skillCount":3,"outcome":"fallback","template":"project_summary","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:17:59.468Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"unknown","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at handleImprovementRequest (server.js:18485:28)
      at server.js:19407:5

    console.log
      {"timestamp":"2025-12-03T13:17:59.469Z","level":"info","message":"generation_cover_letters_completed","requestId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","variants":2,"fallbackApplied":true,"template":"unknown","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"unknown","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.470Z","level":"info","message":"pdf_generation_attempt","requestId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/alex_candidate/13ebd107-d508-4c96-9fc4-6f04c1fcca95/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/alex_candidate/13ebd107-d508-4c96-9fc4-6f04c1fcca95/enhanced_modern.pdf","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"modern","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.470Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/alex_candidate/13ebd107-d508-4c96-9fc4-6f04c1fcca95/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"modern","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.471Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"modern","templateId":"modern","usingRenderer":false,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.472Z","level":"debug","message":"pdf_template_loading","templateId":"modern","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.html","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.485Z","level":"debug","message":"pdf_template_css_missing","templateId":"modern","cssPath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.css","error":{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.css"},"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.487Z","level":"debug","message":"pdf_template_compiled","templateId":"modern","htmlLength":9934,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.487Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"modern","requestedTemplateId":"modern","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.488Z","level":"debug","message":"pdf_pdfkit_fallback","templateId":"modern","requestedTemplateId":"modern","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.509Z","level":"debug","message":"pdf_pdfkit_fallback_complete","templateId":"modern","requestedTemplateId":"modern","bytes":6994,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.509Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/alex_candidate/13ebd107-d508-4c96-9fc4-6f04c1fcca95/","template":"modern","attempt":1,"bytes":6994,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/alex_candidate/13ebd107-d508-4c96-9fc4-6f04c1fcca95/enhanced_modern.pdf","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"modern","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.510Z","level":"info","message":"pdf_generation_attempt","requestId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/alex_candidate/13ebd107-d508-4c96-9fc4-6f04c1fcca95/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/alex_candidate/13ebd107-d508-4c96-9fc4-6f04c1fcca95/enhanced_professional.pdf","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"professional","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.511Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/alex_candidate/13ebd107-d508-4c96-9fc4-6f04c1fcca95/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"professional","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.511Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"professional","templateId":"professional","usingRenderer":false,"template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.512Z","level":"debug","message":"pdf_template_loading","templateId":"professional","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/professional.html","template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.513Z","level":"debug","message":"pdf_template_css_missing","templateId":"professional","cssPath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/professional.css","error":{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/professional.css"},"template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.515Z","level":"debug","message":"pdf_template_compiled","templateId":"professional","htmlLength":13852,"template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.515Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"professional","requestedTemplateId":"professional","template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.516Z","level":"debug","message":"pdf_pdfkit_fallback","templateId":"professional","requestedTemplateId":"professional","template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.564Z","level":"debug","message":"pdf_pdfkit_fallback_complete","templateId":"professional","requestedTemplateId":"professional","bytes":7474,"template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.564Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/alex_candidate/13ebd107-d508-4c96-9fc4-6f04c1fcca95/","template":"professional","attempt":1,"bytes":7474,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/alex_candidate/13ebd107-d508-4c96-9fc4-6f04c1fcca95/enhanced_professional.pdf","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"professional","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.565Z","level":"info","message":"pdf_generation_attempt","requestId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/alex_candidate/13ebd107-d508-4c96-9fc4-6f04c1fcca95/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/alex_candidate/13ebd107-d508-4c96-9fc4-6f04c1fcca95/cover_letter_cover_modern.pdf","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"cover_modern","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.566Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/alex_candidate/13ebd107-d508-4c96-9fc4-6f04c1fcca95/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"cover_modern","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.566Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"cover_modern","templateId":"cover_modern","usingRenderer":false,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.569Z","level":"debug","message":"pdf_template_loading","templateId":"cover_modern","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/cover_modern.html","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.570Z","level":"debug","message":"pdf_template_compiled","templateId":"cover_modern","htmlLength":4023,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.570Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"cover_modern","requestedTemplateId":"cover_modern","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.571Z","level":"debug","message":"pdf_pdfkit_fallback","templateId":"cover_modern","requestedTemplateId":"cover_modern","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.597Z","level":"debug","message":"pdf_pdfkit_fallback_complete","templateId":"cover_modern","requestedTemplateId":"cover_modern","bytes":2713,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.598Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/alex_candidate/13ebd107-d508-4c96-9fc4-6f04c1fcca95/","template":"cover_modern","attempt":1,"bytes":2713,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/alex_candidate/13ebd107-d508-4c96-9fc4-6f04c1fcca95/cover_letter_cover_modern.pdf","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"cover_modern","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.609Z","level":"info","message":"pdf_generation_attempt","requestId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/alex_candidate/13ebd107-d508-4c96-9fc4-6f04c1fcca95/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/alex_candidate/13ebd107-d508-4c96-9fc4-6f04c1fcca95/cover_letter_cover_professional.pdf","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"cover_professional","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.610Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/alex_candidate/13ebd107-d508-4c96-9fc4-6f04c1fcca95/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"cover_professional","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.610Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"cover_professional","templateId":"cover_professional","usingRenderer":false,"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.611Z","level":"debug","message":"pdf_template_loading","templateId":"cover_professional","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/cover_professional.html","template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.617Z","level":"debug","message":"pdf_template_css_missing","templateId":"cover_professional","cssPath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/cover_professional.css","error":{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/cover_professional.css"},"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.618Z","level":"debug","message":"pdf_template_compiled","templateId":"cover_professional","htmlLength":6420,"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.618Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"cover_professional","requestedTemplateId":"cover_professional","template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.619Z","level":"debug","message":"pdf_pdfkit_fallback","templateId":"cover_professional","requestedTemplateId":"cover_professional","template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.655Z","level":"debug","message":"pdf_pdfkit_fallback_complete","templateId":"cover_professional","requestedTemplateId":"cover_professional","bytes":3096,"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.656Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/alex_candidate/13ebd107-d508-4c96-9fc4-6f04c1fcca95/","template":"cover_professional","attempt":1,"bytes":3096,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/alex_candidate/13ebd107-d508-4c96-9fc4-6f04c1fcca95/cover_letter_cover_professional.pdf","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"cover_professional","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.661Z","level":"info","message":"generation_completed","requestId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","enhancedScore":0,"outputs":5,"template":"unknown","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"unknown","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.663Z","level":"info","message":"targeted_improvement_completed","requestId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","confidence":0.77,"appliedSkills":0,"template":"unknown","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"unknown","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.666Z","level":"info","message":"http_request_completed","requestId":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","method":"POST","path":"/api/improve-certifications","statusCode":200,"durationMs":295,"contentLength":"49693","template":"unknown","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"13ebd107-d508-4c96-9fc4-6f04c1fcca95","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.680Z","level":"info","message":"http_request_received","requestId":"88e65d9f-6500-4455-9e34-79201271ea12","method":"POST","path":"/api/align-experience","template":"unknown","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.681Z","level":"info","message":"path_restoration_debug","reqPath":"/api/align-experience","reqUrl":"/api/align-experience","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.681Z","level":"info","message":"request_received","path":"/api/align-experience","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.683Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/align-experience","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.684Z","level":"info","message":"client_app_routes_entered","path":"/api/align-experience","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.685Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/align-experience","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:17:59.715Z","level":"warn","message":"targeted_improvement_ai_failed","type":"align-experience","error":{"name":"Error","message":"Model unavailable","stack":"Error: Model unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/improvementRoutes.test.js:304:47)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"align-experience","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"align-experience"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at runTargetedImprovement (server.js:7706:5)
      at handleImprovementRequest (server.js:18167:20)
      at server.js:19407:5

    console.log
      {"timestamp":"2025-12-03T13:17:59.719Z","level":"info","message":"llm_call_metrics","requestId":"88e65d9f-6500-4455-9e34-79201271ea12","operation":"resume_improvement","templateId":"resume_improvement","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"b8f6e53548fbc6ecf83f7a1ffb4ee4a15d0fb1439d6fe9c60fa5132d5cc692ca","type":"align-experience","outcome":"fallback","template":"resume_improvement","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience","metadata":{"template":"resume_improvement","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.733Z","level":"info","message":"llm_call_metrics","requestId":"88e65d9f-6500-4455-9e34-79201271ea12","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"e1725828256404200e2e7386c02c7b10e253701bffb08339cb75adbe2d4ffc6e","resourceCount":2,"skillCount":2,"outcome":"fallback","template":"learning_resources","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.740Z","level":"info","message":"llm_call_metrics","requestId":"88e65d9f-6500-4455-9e34-79201271ea12","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f106fd33ec2c0b83e1c85dd9956b0b929e8ebd535d1fe8b4f0ea5cb3d5447f44","skillCount":2,"outcome":"fallback","template":"project_summary","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:17:59.757Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"88e65d9f-6500-4455-9e34-79201271ea12","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"88e65d9f-6500-4455-9e34-79201271ea12","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience","metadata":{"template":"unknown","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at handleImprovementRequest (server.js:18485:28)
      at server.js:19407:5

    console.log
      {"timestamp":"2025-12-03T13:17:59.757Z","level":"info","message":"generation_cover_letters_completed","requestId":"88e65d9f-6500-4455-9e34-79201271ea12","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"88e65d9f-6500-4455-9e34-79201271ea12","variants":2,"fallbackApplied":true,"template":"unknown","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience","metadata":{"template":"unknown","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.758Z","level":"info","message":"pdf_generation_attempt","requestId":"88e65d9f-6500-4455-9e34-79201271ea12","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"88e65d9f-6500-4455-9e34-79201271ea12","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/alex_candidate/88e65d9f-6500-4455-9e34-79201271ea12/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/alex_candidate/88e65d9f-6500-4455-9e34-79201271ea12/enhanced_modern.pdf","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience","metadata":{"template":"modern","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.760Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"88e65d9f-6500-4455-9e34-79201271ea12","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"88e65d9f-6500-4455-9e34-79201271ea12","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/alex_candidate/88e65d9f-6500-4455-9e34-79201271ea12/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience","metadata":{"template":"modern","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.761Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"modern","templateId":"modern","usingRenderer":false,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.765Z","level":"debug","message":"pdf_template_loading","templateId":"modern","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.html","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.771Z","level":"debug","message":"pdf_template_css_missing","templateId":"modern","cssPath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.css","error":{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.css"},"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.773Z","level":"debug","message":"pdf_template_compiled","templateId":"modern","htmlLength":10458,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.774Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"modern","requestedTemplateId":"modern","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.774Z","level":"debug","message":"pdf_pdfkit_fallback","templateId":"modern","requestedTemplateId":"modern","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.800Z","level":"debug","message":"pdf_pdfkit_fallback_complete","templateId":"modern","requestedTemplateId":"modern","bytes":8117,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.800Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"88e65d9f-6500-4455-9e34-79201271ea12","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"88e65d9f-6500-4455-9e34-79201271ea12","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/alex_candidate/88e65d9f-6500-4455-9e34-79201271ea12/","template":"modern","attempt":1,"bytes":8117,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/alex_candidate/88e65d9f-6500-4455-9e34-79201271ea12/enhanced_modern.pdf","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience","metadata":{"template":"modern","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.801Z","level":"info","message":"pdf_generation_attempt","requestId":"88e65d9f-6500-4455-9e34-79201271ea12","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"88e65d9f-6500-4455-9e34-79201271ea12","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/alex_candidate/88e65d9f-6500-4455-9e34-79201271ea12/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/alex_candidate/88e65d9f-6500-4455-9e34-79201271ea12/enhanced_professional.pdf","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience","metadata":{"template":"professional","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.801Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"88e65d9f-6500-4455-9e34-79201271ea12","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"88e65d9f-6500-4455-9e34-79201271ea12","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/alex_candidate/88e65d9f-6500-4455-9e34-79201271ea12/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience","metadata":{"template":"professional","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.802Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"professional","templateId":"professional","usingRenderer":false,"template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.803Z","level":"debug","message":"pdf_template_loading","templateId":"professional","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/professional.html","template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.805Z","level":"debug","message":"pdf_template_css_missing","templateId":"professional","cssPath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/professional.css","error":{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/professional.css"},"template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.806Z","level":"debug","message":"pdf_template_compiled","templateId":"professional","htmlLength":14602,"template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.806Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"professional","requestedTemplateId":"professional","template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.807Z","level":"debug","message":"pdf_pdfkit_fallback","templateId":"professional","requestedTemplateId":"professional","template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.843Z","level":"debug","message":"pdf_pdfkit_fallback_complete","templateId":"professional","requestedTemplateId":"professional","bytes":9308,"template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.843Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"88e65d9f-6500-4455-9e34-79201271ea12","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"88e65d9f-6500-4455-9e34-79201271ea12","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/alex_candidate/88e65d9f-6500-4455-9e34-79201271ea12/","template":"professional","attempt":1,"bytes":9308,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/alex_candidate/88e65d9f-6500-4455-9e34-79201271ea12/enhanced_professional.pdf","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience","metadata":{"template":"professional","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.844Z","level":"info","message":"pdf_generation_attempt","requestId":"88e65d9f-6500-4455-9e34-79201271ea12","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"88e65d9f-6500-4455-9e34-79201271ea12","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/alex_candidate/88e65d9f-6500-4455-9e34-79201271ea12/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/alex_candidate/88e65d9f-6500-4455-9e34-79201271ea12/cover_letter_cover_modern.pdf","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience","metadata":{"template":"cover_modern","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.845Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"88e65d9f-6500-4455-9e34-79201271ea12","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"88e65d9f-6500-4455-9e34-79201271ea12","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/alex_candidate/88e65d9f-6500-4455-9e34-79201271ea12/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience","metadata":{"template":"cover_modern","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.845Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"cover_modern","templateId":"cover_modern","usingRenderer":false,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.846Z","level":"debug","message":"pdf_template_loading","templateId":"cover_modern","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/cover_modern.html","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.848Z","level":"debug","message":"pdf_template_compiled","templateId":"cover_modern","htmlLength":4213,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.849Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"cover_modern","requestedTemplateId":"cover_modern","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.849Z","level":"debug","message":"pdf_pdfkit_fallback","templateId":"cover_modern","requestedTemplateId":"cover_modern","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.906Z","level":"debug","message":"pdf_pdfkit_fallback_complete","templateId":"cover_modern","requestedTemplateId":"cover_modern","bytes":2713,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.906Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"88e65d9f-6500-4455-9e34-79201271ea12","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"88e65d9f-6500-4455-9e34-79201271ea12","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/alex_candidate/88e65d9f-6500-4455-9e34-79201271ea12/","template":"cover_modern","attempt":1,"bytes":2713,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/alex_candidate/88e65d9f-6500-4455-9e34-79201271ea12/cover_letter_cover_modern.pdf","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience","metadata":{"template":"cover_modern","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.908Z","level":"info","message":"pdf_generation_attempt","requestId":"88e65d9f-6500-4455-9e34-79201271ea12","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"88e65d9f-6500-4455-9e34-79201271ea12","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/alex_candidate/88e65d9f-6500-4455-9e34-79201271ea12/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/alex_candidate/88e65d9f-6500-4455-9e34-79201271ea12/cover_letter_cover_professional.pdf","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience","metadata":{"template":"cover_professional","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.908Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"88e65d9f-6500-4455-9e34-79201271ea12","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"88e65d9f-6500-4455-9e34-79201271ea12","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/alex_candidate/88e65d9f-6500-4455-9e34-79201271ea12/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience","metadata":{"template":"cover_professional","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.908Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"cover_professional","templateId":"cover_professional","usingRenderer":false,"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.909Z","level":"debug","message":"pdf_template_loading","templateId":"cover_professional","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/cover_professional.html","template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.912Z","level":"debug","message":"pdf_template_css_missing","templateId":"cover_professional","cssPath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/cover_professional.css","error":{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/cover_professional.css"},"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.913Z","level":"debug","message":"pdf_template_compiled","templateId":"cover_professional","htmlLength":6542,"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.913Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"cover_professional","requestedTemplateId":"cover_professional","template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.913Z","level":"debug","message":"pdf_pdfkit_fallback","templateId":"cover_professional","requestedTemplateId":"cover_professional","template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.924Z","level":"debug","message":"pdf_pdfkit_fallback_complete","templateId":"cover_professional","requestedTemplateId":"cover_professional","bytes":3096,"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.924Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"88e65d9f-6500-4455-9e34-79201271ea12","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"88e65d9f-6500-4455-9e34-79201271ea12","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/alex_candidate/88e65d9f-6500-4455-9e34-79201271ea12/","template":"cover_professional","attempt":1,"bytes":3096,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/alex_candidate/88e65d9f-6500-4455-9e34-79201271ea12/cover_letter_cover_professional.pdf","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience","metadata":{"template":"cover_professional","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.930Z","level":"info","message":"llm_call_metrics","requestId":"88e65d9f-6500-4455-9e34-79201271ea12","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"c5f7a8d53df20ee2b4f529b609a0d19895535565d6de7bd0479687589877831e","resourceCount":2,"skillCount":2,"outcome":"fallback","template":"learning_resources","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.931Z","level":"info","message":"generation_completed","requestId":"88e65d9f-6500-4455-9e34-79201271ea12","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"88e65d9f-6500-4455-9e34-79201271ea12","enhancedScore":33,"outputs":5,"template":"unknown","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience","metadata":{"template":"unknown","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.935Z","level":"info","message":"targeted_improvement_completed","requestId":"88e65d9f-6500-4455-9e34-79201271ea12","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","confidence":0.38,"appliedSkills":2,"template":"unknown","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience","metadata":{"template":"unknown","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.938Z","level":"info","message":"http_request_completed","requestId":"88e65d9f-6500-4455-9e34-79201271ea12","method":"POST","path":"/api/align-experience","statusCode":200,"durationMs":258,"contentLength":"58712","template":"unknown","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88e65d9f-6500-4455-9e34-79201271ea12","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.952Z","level":"info","message":"http_request_received","requestId":"e35ec965-544c-4f24-a551-bf51134ce7dc","method":"POST","path":"/api/add-missing-skills","template":"unknown","session":"e35ec965-544c-4f24-a551-bf51134ce7dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e35ec965-544c-4f24-a551-bf51134ce7dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.963Z","level":"info","message":"path_restoration_debug","reqPath":"/api/add-missing-skills","reqUrl":"/api/add-missing-skills","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.964Z","level":"info","message":"request_received","path":"/api/add-missing-skills","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.966Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/add-missing-skills","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.968Z","level":"info","message":"client_app_routes_entered","path":"/api/add-missing-skills","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.969Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/add-missing-skills","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:17:59.970Z","level":"warn","message":"api_error_response","requestId":"e35ec965-544c-4f24-a551-bf51134ce7dc","jobId":"job-456","status":400,"error":{"code":"IMPROVEMENT_INPUT_REQUIRED","message":"resumeText and jobDescription are required to generate improvements.","details":{"fields":["resumeText","jobDescription"]},"requestId":"e35ec965-544c-4f24-a551-bf51134ce7dc","jobId":"job-456"},"template":"unknown","session":"job-456","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-456","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at sendError (server.js:3925:3)
      at handleImprovementRequest (server.js:18102:12)
      at server.js:19407:11
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at assignJobContext (server.js:16367:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveStatic (node_modules/serve-static/index.js:75:16)
      at server.js:4902:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at tryServeHashedIndexAssetFromS3 (server.js:1153:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveIndexAssetAlias (server.js:1488:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4884:5
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4878:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at urlencodedParser (node_modules/body-parser/lib/types/urlencoded.js:85:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

    console.log
      {"timestamp":"2025-12-03T13:17:59.972Z","level":"info","message":"http_request_completed","requestId":"e35ec965-544c-4f24-a551-bf51134ce7dc","method":"POST","path":"/api/add-missing-skills","statusCode":400,"durationMs":20,"contentLength":"266","template":"unknown","session":"e35ec965-544c-4f24-a551-bf51134ce7dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e35ec965-544c-4f24-a551-bf51134ce7dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

PASS client/src/utils/__tests__/parseJobDescriptionText.test.js
(node:79282) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/matchMessaging.test.js
PASS tests/parseContent.test.js
PASS client/src/__tests__/mainRender.test.jsx
  ● Console

    console.log
      bootstrapApp called

      at log (client/src/bootstrapApp.js:10:11)

    console.log
      bootstrapApp called

      at log (client/src/bootstrapApp.js:10:11)

    console.log
      bootstrapApp called

      at log (client/src/bootstrapApp.js:10:11)

PASS tests/buildScoreBreakdown.test.js
PASS tests/cloudfrontAssetCheck.test.mjs
(node:79280) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/staticAssetKey.test.js
PASS tests/pdfFallback.test.js (5.785 s)
  ● Console

    console.log
      {"timestamp":"2025-12-03T13:18:00.981Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"modern","templateId":"modern","usingRenderer":false,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.051Z","level":"debug","message":"pdf_template_loading","templateId":"modern","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.html","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.055Z","level":"debug","message":"pdf_template_css_missing","templateId":"modern","cssPath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.css","error":{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.css"},"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.081Z","level":"debug","message":"pdf_template_compiled","templateId":"modern","htmlLength":6621,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.083Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"modern","requestedTemplateId":"modern","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:01.084Z","level":"warn","message":"pdf_pdfkit_dependency_missing","templateId":"modern","requestedTemplateId":"modern","documentType":"resume","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdf (server.js:10083:7)
      at Object.<anonymous> (tests/pdfFallback.test.js:146:26)

    console.warn
      {"timestamp":"2025-12-03T13:18:01.084Z","level":"warn","message":"pdf_plain_fallback_invoked","templateId":"modern","requestedTemplateId":"modern","reason":"pdfkit_dependency_missing","documentType":"resume","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdf (server.js:10095:7)
      at Object.<anonymous> (tests/pdfFallback.test.js:146:26)

    console.log
      {"timestamp":"2025-12-03T13:18:01.097Z","level":"info","message":"pdf_plain_fallback_generated","templateId":"modern","requestedTemplateId":"modern","documentType":"resume","reason":"pdfkit_dependency_missing","engine":"pdf-lib","bytes":46,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.103Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"cover_modern","templateId":"cover_modern","usingRenderer":false,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.111Z","level":"debug","message":"pdf_template_loading","templateId":"cover_modern","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/cover_modern.html","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.142Z","level":"debug","message":"pdf_template_compiled","templateId":"cover_modern","htmlLength":3273,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.147Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"cover_modern","requestedTemplateId":"cover_modern","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:01.149Z","level":"warn","message":"pdf_pdfkit_dependency_missing","templateId":"cover_modern","requestedTemplateId":"cover_modern","documentType":"cover_letter","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdf (server.js:10083:7)
      at Object.<anonymous> (tests/pdfFallback.test.js:150:25)

    console.warn
      {"timestamp":"2025-12-03T13:18:01.149Z","level":"warn","message":"pdf_plain_fallback_invoked","templateId":"cover_modern","requestedTemplateId":"cover_modern","reason":"pdfkit_dependency_missing","documentType":"cover_letter","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdf (server.js:10095:7)
      at Object.<anonymous> (tests/pdfFallback.test.js:150:25)

    console.log
      {"timestamp":"2025-12-03T13:18:01.150Z","level":"info","message":"pdf_plain_fallback_generated","templateId":"cover_modern","requestedTemplateId":"cover_modern","documentType":"cover_letter","reason":"pdfkit_dependency_missing","engine":"pdf-lib","bytes":58,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.574Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"modern","templateId":"modern","usingRenderer":false,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.581Z","level":"debug","message":"pdf_template_loading","templateId":"modern","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.html","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.609Z","level":"debug","message":"pdf_template_css_missing","templateId":"modern","cssPath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.css","error":{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.css"},"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.627Z","level":"debug","message":"pdf_template_compiled","templateId":"modern","htmlLength":6623,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.628Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"modern","requestedTemplateId":"modern","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:02.628Z","level":"warn","message":"pdf_pdfkit_dependency_missing","templateId":"modern","requestedTemplateId":"modern","documentType":"resume","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdf (server.js:10083:7)
      at Object.<anonymous> (tests/pdfFallback.test.js:165:26)

    console.warn
      {"timestamp":"2025-12-03T13:18:02.630Z","level":"warn","message":"pdf_plain_fallback_invoked","templateId":"modern","requestedTemplateId":"modern","reason":"pdfkit_dependency_missing","documentType":"resume","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdf (server.js:10095:7)
      at Object.<anonymous> (tests/pdfFallback.test.js:165:26)

    console.warn
      {"timestamp":"2025-12-03T13:18:02.631Z","level":"warn","message":"pdf_plain_fallback_pdf_lib_missing","templateId":"modern","requestedTemplateId":"modern","documentType":"resume","reason":"pdfkit_dependency_missing","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at tryPdfLib (server.js:9392:9)
      at defaultGeneratePlainPdfFallback (server.js:9571:24)

    console.error
      {"timestamp":"2025-12-03T13:18:02.639Z","level":"error","message":"pdf_plain_fallback_pdfkit_failed","templateId":"modern","requestedTemplateId":"modern","documentType":"resume","reason":"pdfkit_dependency_missing","error":{"name":"TypeError","message":"Cannot read properties of undefined (reading 'width')","stack":"TypeError: Cannot read properties of undefined (reading 'width')\n    at buffer (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9605:38)\n    at new Promise (<anonymous>)\n    at tryPdfKit (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9597:28)\n    at defaultGeneratePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9686:24)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/pdfFallback.test.js:165:26)"},"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at tryPdfKit (server.js:9678:7)
      at defaultGeneratePlainPdfFallback (server.js:9686:24)
      at Object.<anonymous> (tests/pdfFallback.test.js:165:26)

    console.warn
      {"timestamp":"2025-12-03T13:18:02.643Z","level":"warn","message":"pdf_plain_fallback_minimal_generated","templateId":"modern","requestedTemplateId":"modern","documentType":"resume","reason":"pdfkit_dependency_missing","engine":"minimal","bytes":647,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at defaultGeneratePlainPdfFallback (server.js:9700:5)
      at Object.<anonymous> (tests/pdfFallback.test.js:165:26)

    console.log
      {"timestamp":"2025-12-03T13:18:02.644Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"cover_modern","templateId":"cover_modern","usingRenderer":false,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.645Z","level":"debug","message":"pdf_template_loading","templateId":"cover_modern","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/cover_modern.html","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.670Z","level":"debug","message":"pdf_template_compiled","templateId":"cover_modern","htmlLength":3279,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.672Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"cover_modern","requestedTemplateId":"cover_modern","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:02.672Z","level":"warn","message":"pdf_pdfkit_dependency_missing","templateId":"cover_modern","requestedTemplateId":"cover_modern","documentType":"cover_letter","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdf (server.js:10083:7)
      at Object.<anonymous> (tests/pdfFallback.test.js:169:25)

    console.warn
      {"timestamp":"2025-12-03T13:18:02.673Z","level":"warn","message":"pdf_plain_fallback_invoked","templateId":"cover_modern","requestedTemplateId":"cover_modern","reason":"pdfkit_dependency_missing","documentType":"cover_letter","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdf (server.js:10095:7)
      at Object.<anonymous> (tests/pdfFallback.test.js:169:25)

    console.warn
      {"timestamp":"2025-12-03T13:18:02.674Z","level":"warn","message":"pdf_plain_fallback_pdf_lib_missing","templateId":"cover_modern","requestedTemplateId":"cover_modern","documentType":"cover_letter","reason":"pdfkit_dependency_missing","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at tryPdfLib (server.js:9392:9)
      at defaultGeneratePlainPdfFallback (server.js:9571:24)

    console.error
      {"timestamp":"2025-12-03T13:18:02.675Z","level":"error","message":"pdf_plain_fallback_pdfkit_failed","templateId":"cover_modern","requestedTemplateId":"cover_modern","documentType":"cover_letter","reason":"pdfkit_dependency_missing","error":{"name":"TypeError","message":"Cannot read properties of undefined (reading 'width')","stack":"TypeError: Cannot read properties of undefined (reading 'width')\n    at buffer (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9605:38)\n    at new Promise (<anonymous>)\n    at tryPdfKit (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9597:28)\n    at defaultGeneratePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9686:24)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/pdfFallback.test.js:169:25)"},"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at tryPdfKit (server.js:9678:7)
      at defaultGeneratePlainPdfFallback (server.js:9686:24)
      at Object.<anonymous> (tests/pdfFallback.test.js:169:25)

    console.warn
      {"timestamp":"2025-12-03T13:18:02.676Z","level":"warn","message":"pdf_plain_fallback_minimal_generated","templateId":"cover_modern","requestedTemplateId":"cover_modern","documentType":"cover_letter","reason":"pdfkit_dependency_missing","engine":"minimal","bytes":671,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at defaultGeneratePlainPdfFallback (server.js:9700:5)
      at Object.<anonymous> (tests/pdfFallback.test.js:169:25)

PASS tests/coverLetterLinks.test.js
(node:79278) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS client/src/components/__tests__/CoverLetterEditorModal.test.jsx
PASS tests/staticAssetAliasMetadata.test.js
(node:79282) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/staticAssetCaching.test.js
(node:79283) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/extractExperience.test.js
(node:79280) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/determineUploadContentType.test.js
(node:79278) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS client/src/components/__tests__/ChangeLogSummaryPanel.test.jsx
(node:79281) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/publishedCloudfront.test.js
  ● Console

    console.warn
      Optional environment value CLOUDFRONT_ORIGINS is not set. Provide it via the runtime config file or environment to enable strict CORS.

      28 | optionalEnvHints.forEach((name) => {
      29 |   if (!hasValue(process.env[name])) {
    > 30 |     console.warn(
         |             ^
      31 |       `Optional environment value ${name} is not set. Provide it via the runtime config file or environment to enable strict CORS.`
      32 |     );
      33 |   }

      at warn (config/environment.js:30:13)
          at Array.forEach (<anonymous>)
      at forEach (config/environment.js:28:18)
      at setupTestServer (tests/utils/testServer.js:476:24)
      at createServer (tests/publishedCloudfront.test.js:20:18)
      at Object.<anonymous> (tests/publishedCloudfront.test.js:30:30)

    console.log
      {"timestamp":"2025-12-03T13:18:06.716Z","level":"info","message":"http_request_received","requestId":"0a24561e-49a8-4e06-b24f-d0a97c2a88a2","method":"GET","path":"/go/cloudfront","template":"unknown","session":"0a24561e-49a8-4e06-b24f-d0a97c2a88a2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0a24561e-49a8-4e06-b24f-d0a97c2a88a2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.726Z","level":"info","message":"path_restoration_debug","reqPath":"/go/cloudfront","reqUrl":"/go/cloudfront","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.729Z","level":"info","message":"request_received","path":"/go/cloudfront","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.731Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/go/cloudfront","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.733Z","level":"info","message":"client_app_routes_entered","path":"/go/cloudfront","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.735Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/go/cloudfront","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.750Z","level":"info","message":"http_request_completed","requestId":"0a24561e-49a8-4e06-b24f-d0a97c2a88a2","method":"GET","path":"/go/cloudfront","statusCode":308,"durationMs":34,"contentLength":"77","template":"unknown","session":"0a24561e-49a8-4e06-b24f-d0a97c2a88a2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0a24561e-49a8-4e06-b24f-d0a97c2a88a2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.778Z","level":"info","message":"http_request_received","requestId":"35fc8e76-d5a9-40e0-8bcf-9ab825c23c45","method":"GET","path":"/redirect/latest?path=api%2Fprocess-cv","template":"unknown","session":"35fc8e76-d5a9-40e0-8bcf-9ab825c23c45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35fc8e76-d5a9-40e0-8bcf-9ab825c23c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.780Z","level":"info","message":"path_restoration_debug","reqPath":"/redirect/latest","reqUrl":"/redirect/latest?path=api%2Fprocess-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.782Z","level":"info","message":"request_received","path":"/redirect/latest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.783Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/redirect/latest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.865Z","level":"info","message":"client_app_routes_entered","path":"/redirect/latest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.920Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/redirect/latest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.191Z","level":"info","message":"http_request_completed","requestId":"35fc8e76-d5a9-40e0-8bcf-9ab825c23c45","method":"GET","path":"/redirect/latest?path=api%2Fprocess-cv","statusCode":308,"durationMs":413,"contentLength":"87","template":"unknown","session":"35fc8e76-d5a9-40e0-8bcf-9ab825c23c45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35fc8e76-d5a9-40e0-8bcf-9ab825c23c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

PASS tests/selectTemplatesGroup.test.js (5.72 s)
PASS tests/rescoreImprovement.test.js
  ● Console

    console.log
      {"timestamp":"2025-12-03T13:18:06.742Z","level":"info","message":"http_request_received","requestId":"6b729fa5-98f0-47ea-a69c-4bdda517effc","method":"POST","path":"/api/rescore-improvement","template":"unknown","session":"6b729fa5-98f0-47ea-a69c-4bdda517effc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b729fa5-98f0-47ea-a69c-4bdda517effc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.791Z","level":"info","message":"path_restoration_debug","reqPath":"/api/rescore-improvement","reqUrl":"/api/rescore-improvement","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.099Z","level":"info","message":"request_received","path":"/api/rescore-improvement","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.136Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/rescore-improvement","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.590Z","level":"info","message":"client_app_routes_entered","path":"/api/rescore-improvement","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.592Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/rescore-improvement","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.659Z","level":"info","message":"improvement_rescored","requestId":"6b729fa5-98f0-47ea-a69c-4bdda517effc","jobId":"4f28d450-216f-477b-934c-063efdb3ff74","route":"rescore-improvement","enhancedScore":50,"coveredSkills":1,"template":"unknown","session":"4f28d450-216f-477b-934c-063efdb3ff74","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f28d450-216f-477b-934c-063efdb3ff74","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.700Z","level":"info","message":"http_request_completed","requestId":"6b729fa5-98f0-47ea-a69c-4bdda517effc","method":"POST","path":"/api/rescore-improvement","statusCode":200,"durationMs":958,"contentLength":"6182","template":"unknown","session":"6b729fa5-98f0-47ea-a69c-4bdda517effc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b729fa5-98f0-47ea-a69c-4bdda517effc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.731Z","level":"info","message":"http_request_received","requestId":"56973a2f-883d-42c2-8558-493cd4a7f6c8","method":"POST","path":"/api/rescore-improvement","template":"unknown","session":"56973a2f-883d-42c2-8558-493cd4a7f6c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"56973a2f-883d-42c2-8558-493cd4a7f6c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.732Z","level":"info","message":"path_restoration_debug","reqPath":"/api/rescore-improvement","reqUrl":"/api/rescore-improvement","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.733Z","level":"info","message":"request_received","path":"/api/rescore-improvement","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.737Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/rescore-improvement","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.739Z","level":"info","message":"client_app_routes_entered","path":"/api/rescore-improvement","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.740Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/rescore-improvement","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.760Z","level":"info","message":"improvement_rescored","requestId":"56973a2f-883d-42c2-8558-493cd4a7f6c8","jobId":"855711d4-1607-4c04-8fd7-98e788a2cd46","route":"rescore-improvement","enhancedScore":50,"coveredSkills":1,"template":"unknown","session":"855711d4-1607-4c04-8fd7-98e788a2cd46","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"855711d4-1607-4c04-8fd7-98e788a2cd46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.777Z","level":"info","message":"http_request_completed","requestId":"56973a2f-883d-42c2-8558-493cd4a7f6c8","method":"POST","path":"/api/rescore-improvement","statusCode":200,"durationMs":46,"contentLength":"6170","template":"unknown","session":"56973a2f-883d-42c2-8558-493cd4a7f6c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"56973a2f-883d-42c2-8558-493cd4a7f6c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.796Z","level":"info","message":"http_request_received","requestId":"eba269cd-44fb-48fa-bd0d-dc96bbe312f3","method":"POST","path":"/api/rescore-improvement","template":"unknown","session":"eba269cd-44fb-48fa-bd0d-dc96bbe312f3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eba269cd-44fb-48fa-bd0d-dc96bbe312f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.801Z","level":"info","message":"path_restoration_debug","reqPath":"/api/rescore-improvement","reqUrl":"/api/rescore-improvement","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.820Z","level":"info","message":"request_received","path":"/api/rescore-improvement","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.822Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/rescore-improvement","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.825Z","level":"info","message":"client_app_routes_entered","path":"/api/rescore-improvement","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.825Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/rescore-improvement","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:07.830Z","level":"warn","message":"api_error_response","requestId":"eba269cd-44fb-48fa-bd0d-dc96bbe312f3","jobId":"da03e77e-0fd2-479e-b3b6-ed8cc8b958ff","status":400,"error":{"code":"RESCORE_INPUT_REQUIRED","message":"resumeText is required to recalculate scores.","details":{},"requestId":"eba269cd-44fb-48fa-bd0d-dc96bbe312f3","jobId":"da03e77e-0fd2-479e-b3b6-ed8cc8b958ff"},"template":"unknown","session":"da03e77e-0fd2-479e-b3b6-ed8cc8b958ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"da03e77e-0fd2-479e-b3b6-ed8cc8b958ff","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at sendError (server.js:3925:3)
      at server.js:23582:12
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at assignJobContext (server.js:16367:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveStatic (node_modules/serve-static/index.js:75:16)
      at server.js:4902:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at tryServeHashedIndexAssetFromS3 (server.js:1153:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveIndexAssetAlias (server.js:1488:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4884:5
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4878:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at urlencodedParser (node_modules/body-parser/lib/types/urlencoded.js:85:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

    console.log
      {"timestamp":"2025-12-03T13:18:07.842Z","level":"info","message":"http_request_completed","requestId":"eba269cd-44fb-48fa-bd0d-dc96bbe312f3","method":"POST","path":"/api/rescore-improvement","statusCode":400,"durationMs":46,"contentLength":"228","template":"unknown","session":"eba269cd-44fb-48fa-bd0d-dc96bbe312f3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eba269cd-44fb-48fa-bd0d-dc96bbe312f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

PASS client/src/__tests__/AppTemplateSelection.test.jsx
(node:79280) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
(node:79282) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/templateSections.test.js
PASS tests/outputUrlNormalization.test.js
PASS tests/fetchCredlyProfile.test.js
(node:79281) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
(node:79278) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/removeGuidanceLines.test.js
FAIL tests/server.test.mjs (14.478 s)
  ● Console

    console.log
      {"timestamp":"2025-12-03T13:17:58.112Z","level":"info","message":"http_request_received","requestId":"b50af41b-711e-4665-82bf-8554b20b1992","method":"GET","path":"/healthz","template":"unknown","session":"b50af41b-711e-4665-82bf-8554b20b1992","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b50af41b-711e-4665-82bf-8554b20b1992","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.155Z","level":"info","message":"path_restoration_debug","reqPath":"/healthz","reqUrl":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.169Z","level":"info","message":"request_received","path":"/healthz","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.174Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.177Z","level":"info","message":"client_app_routes_entered","path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.181Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.202Z","level":"info","message":"http_request_completed","requestId":"b50af41b-711e-4665-82bf-8554b20b1992","method":"GET","path":"/healthz","statusCode":200,"durationMs":90,"contentLength":"15","template":"unknown","session":"b50af41b-711e-4665-82bf-8554b20b1992","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b50af41b-711e-4665-82bf-8554b20b1992","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.247Z","level":"info","message":"http_request_received","requestId":"75e6b1a4-c1b4-46ef-8ff0-80f422fca3e1","method":"GET","path":"/favicon.ico","template":"unknown","session":"75e6b1a4-c1b4-46ef-8ff0-80f422fca3e1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75e6b1a4-c1b4-46ef-8ff0-80f422fca3e1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.248Z","level":"info","message":"path_restoration_debug","reqPath":"/favicon.ico","reqUrl":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.253Z","level":"info","message":"request_received","path":"/favicon.ico","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.277Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.290Z","level":"info","message":"client_app_routes_entered","path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.292Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.306Z","level":"info","message":"http_request_completed","requestId":"75e6b1a4-c1b4-46ef-8ff0-80f422fca3e1","method":"GET","path":"/favicon.ico","statusCode":204,"durationMs":59,"template":"unknown","session":"75e6b1a4-c1b4-46ef-8ff0-80f422fca3e1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75e6b1a4-c1b4-46ef-8ff0-80f422fca3e1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.321Z","level":"info","message":"http_request_received","requestId":"e8e9cf9c-88d9-474f-865d-72a7c5624db0","method":"GET","path":"/assets/index-missing.css","template":"unknown","session":"e8e9cf9c-88d9-474f-865d-72a7c5624db0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e8e9cf9c-88d9-474f-865d-72a7c5624db0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.323Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-missing.css","reqUrl":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.326Z","level":"info","message":"request_received","path":"/assets/index-missing.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.327Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.378Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.394Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      DEBUG: serveClientDistAsset ENOENT /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-missing.css

      at serveClientDistAsset (server.js:1052:15)

    console.log
      {"timestamp":"2025-12-03T13:17:58.432Z","level":"info","message":"client_asset_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-missing.css","path":"/assets/index-missing.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.432Z","level":"info","message":"http_request_completed","requestId":"e8e9cf9c-88d9-474f-865d-72a7c5624db0","method":"GET","path":"/assets/index-missing.css","statusCode":200,"durationMs":111,"contentLength":"18","template":"unknown","session":"e8e9cf9c-88d9-474f-865d-72a7c5624db0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e8e9cf9c-88d9-474f-865d-72a7c5624db0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.440Z","level":"info","message":"http_request_received","requestId":"0ba2cc8b-9970-4cbf-a1b6-7d1c6a75a4bd","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"0ba2cc8b-9970-4cbf-a1b6-7d1c6a75a4bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ba2cc8b-9970-4cbf-a1b6-7d1c6a75a4bd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.441Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.442Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.443Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.444Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.449Z","level":"info","message":"http_request_completed","requestId":"0ba2cc8b-9970-4cbf-a1b6-7d1c6a75a4bd","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":9,"contentLength":"106285","template":"unknown","session":"0ba2cc8b-9970-4cbf-a1b6-7d1c6a75a4bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ba2cc8b-9970-4cbf-a1b6-7d1c6a75a4bd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.451Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.455Z","level":"info","message":"http_request_received","requestId":"0cdae776-be88-45da-9442-c7528ecd4465","method":"GET","path":"/prod/assets/index-latest.css","template":"unknown","session":"0cdae776-be88-45da-9442-c7528ecd4465","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0cdae776-be88-45da-9442-c7528ecd4465","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.456Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.457Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.458Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.459Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.469Z","level":"info","message":"http_request_completed","requestId":"0cdae776-be88-45da-9442-c7528ecd4465","method":"GET","path":"/prod/assets/index-latest.css","statusCode":200,"durationMs":14,"contentLength":"106285","template":"unknown","session":"0cdae776-be88-45da-9442-c7528ecd4465","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0cdae776-be88-45da-9442-c7528ecd4465","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.471Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.479Z","level":"info","message":"http_request_received","requestId":"15fac1a6-ae3b-4004-9469-cfd8e8095940","method":"HEAD","path":"/assets/index-meta.js","template":"unknown","session":"15fac1a6-ae3b-4004-9469-cfd8e8095940","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15fac1a6-ae3b-4004-9469-cfd8e8095940","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.480Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-meta.js","reqUrl":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.481Z","level":"info","message":"request_received","path":"/assets/index-meta.js","method":"HEAD","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.499Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.500Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.502Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      DEBUG: serveClientDistAsset ENOENT /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-meta.js

      at serveClientDistAsset (server.js:1052:15)

    console.log
      {"timestamp":"2025-12-03T13:17:58.508Z","level":"info","message":"client_asset_s3_head_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-meta.js","path":"/assets/index-meta.js","method":"HEAD","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.509Z","level":"info","message":"http_request_completed","requestId":"15fac1a6-ae3b-4004-9469-cfd8e8095940","method":"HEAD","path":"/assets/index-meta.js","statusCode":200,"durationMs":30,"contentLength":"1234","template":"unknown","session":"15fac1a6-ae3b-4004-9469-cfd8e8095940","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15fac1a6-ae3b-4004-9469-cfd8e8095940","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.516Z","level":"info","message":"http_request_received","requestId":"d6a1c9a8-07c8-435c-b00a-8095ace628d3","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"d6a1c9a8-07c8-435c-b00a-8095ace628d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6a1c9a8-07c8-435c-b00a-8095ace628d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.517Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.518Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.519Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.520Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      DEBUG: serveClientDistAsset ENOENT /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css

      at serveClientDistAsset (server.js:1052:15)

    console.log
      DEBUG: serveClientDistAsset ENOENT /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-test-alias.css

      at serveClientDistAsset (server.js:1052:15)

    console.log
      {"timestamp":"2025-12-03T13:17:58.543Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-test-alias.css","path":"assets/index-test-alias.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-test-alias.css","s3Key":"assets/index-test-alias.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.543Z","level":"info","message":"http_request_completed","requestId":"d6a1c9a8-07c8-435c-b00a-8095ace628d3","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":27,"contentLength":"23","template":"unknown","session":"d6a1c9a8-07c8-435c-b00a-8095ace628d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6a1c9a8-07c8-435c-b00a-8095ace628d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.579Z","level":"info","message":"http_request_received","requestId":"2ba0bf57-9664-46dd-ac87-6841adfa3a11","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"2ba0bf57-9664-46dd-ac87-6841adfa3a11","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ba0bf57-9664-46dd-ac87-6841adfa3a11","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.580Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.581Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.582Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.583Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      DEBUG: serveClientDistAsset ENOENT /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css

      at serveClientDistAsset (server.js:1052:15)

    console.log
      DEBUG: serveClientDistAsset ENOENT /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-manifest-only.css

      at serveClientDistAsset (server.js:1052:15)

    console.log
      {"timestamp":"2025-12-03T13:17:58.591Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-manifest-only.css","path":"assets/index-manifest-only.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-manifest-only.css","s3Key":"assets/index-manifest-only.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.592Z","level":"info","message":"http_request_completed","requestId":"2ba0bf57-9664-46dd-ac87-6841adfa3a11","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":13,"contentLength":"31","template":"unknown","session":"2ba0bf57-9664-46dd-ac87-6841adfa3a11","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ba0bf57-9664-46dd-ac87-6841adfa3a11","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.598Z","level":"info","message":"http_request_received","requestId":"feba164f-6bd1-47e1-8b3c-773271cb95e0","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"feba164f-6bd1-47e1-8b3c-773271cb95e0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"feba164f-6bd1-47e1-8b3c-773271cb95e0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.600Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.601Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.601Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.603Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      DEBUG: serveClientDistAsset ENOENT /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css

      at serveClientDistAsset (server.js:1052:15)

    console.log
      DEBUG: serveClientDistAsset ENOENT /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-prefixed.css

      at serveClientDistAsset (server.js:1052:15)

    console.log
      {"timestamp":"2025-12-03T13:17:58.610Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/prod/latest/assets/index-prefixed.css","path":"static/client/prod/latest/assets/index-prefixed.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-prefixed.css","s3Key":"static/client/prod/latest/assets/index-prefixed.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.611Z","level":"info","message":"http_request_completed","requestId":"feba164f-6bd1-47e1-8b3c-773271cb95e0","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":13,"contentLength":"26","template":"unknown","session":"feba164f-6bd1-47e1-8b3c-773271cb95e0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"feba164f-6bd1-47e1-8b3c-773271cb95e0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.617Z","level":"info","message":"http_request_received","requestId":"ee8f28ee-c1ba-4801-aa06-a3b0cb3df8ee","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"ee8f28ee-c1ba-4801-aa06-a3b0cb3df8ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ee8f28ee-c1ba-4801-aa06-a3b0cb3df8ee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.618Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.626Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.627Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.628Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      DEBUG: serveClientDistAsset ENOENT /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css

      at serveClientDistAsset (server.js:1052:15)

    console.log
      DEBUG: serveClientDistAsset ENOENT /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-missing.css

      at serveClientDistAsset (server.js:1052:15)

    console.warn
      {"timestamp":"2025-12-03T13:17:58.669Z","level":"warn","message":"client_asset_alias_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-missing.css","path":"assets/index-missing.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-missing.css","s3Key":"assets/index-missing.css","error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:554:23)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7758:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7761:16)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1122:32)\n    at handleIndexAssetAliasRequest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1386:30)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at serveIndexAssetAlias (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1497:3)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at serveHashedIndexAssetFromS3 (server.js:1141:5)
      at handleIndexAssetAliasRequest (server.js:1386:24)
      at serveIndexAssetAlias (server.js:1497:3)

    console.log
      DEBUG: serveClientDistAsset ENOENT /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-existing.css

      at serveClientDistAsset (server.js:1052:15)

    console.log
      {"timestamp":"2025-12-03T13:17:58.672Z","level":"info","message":"client_asset_alias_fallback_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-existing.css","path":"assets/index-existing.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-existing.css","s3Key":"assets/index-existing.css","manifestFallback":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.673Z","level":"info","message":"http_request_completed","requestId":"ee8f28ee-c1ba-4801-aa06-a3b0cb3df8ee","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":56,"contentLength":"26","template":"unknown","session":"ee8f28ee-c1ba-4801-aa06-a3b0cb3df8ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ee8f28ee-c1ba-4801-aa06-a3b0cb3df8ee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.679Z","level":"info","message":"http_request_received","requestId":"a2f76881-fc7b-4ef0-b902-afc88adab560","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"a2f76881-fc7b-4ef0-b902-afc88adab560","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2f76881-fc7b-4ef0-b902-afc88adab560","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.680Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.681Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.682Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.683Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.684Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.689Z","level":"info","message":"http_request_completed","requestId":"a2f76881-fc7b-4ef0-b902-afc88adab560","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","statusCode":200,"durationMs":10,"contentLength":"106285","template":"unknown","session":"a2f76881-fc7b-4ef0-b902-afc88adab560","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2f76881-fc7b-4ef0-b902-afc88adab560","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.690Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.694Z","level":"info","message":"http_request_received","requestId":"2507b3a0-485c-495e-8c71-5e7cf7138f32","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","template":"unknown","session":"2507b3a0-485c-495e-8c71-5e7cf7138f32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2507b3a0-485c-495e-8c71-5e7cf7138f32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.695Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.698Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.699Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.702Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.703Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.723Z","level":"info","message":"http_request_completed","requestId":"2507b3a0-485c-495e-8c71-5e7cf7138f32","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","statusCode":200,"durationMs":29,"contentLength":"106285","template":"unknown","session":"2507b3a0-485c-495e-8c71-5e7cf7138f32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2507b3a0-485c-495e-8c71-5e7cf7138f32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.724Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.729Z","level":"info","message":"http_request_received","requestId":"b45df287-1ec8-45f2-a65f-ecbeb3af3bd2","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","template":"unknown","session":"b45df287-1ec8-45f2-a65f-ecbeb3af3bd2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b45df287-1ec8-45f2-a65f-ecbeb3af3bd2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.730Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.731Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.732Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.733Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.734Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.738Z","level":"info","message":"http_request_completed","requestId":"b45df287-1ec8-45f2-a65f-ecbeb3af3bd2","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","statusCode":200,"durationMs":9,"contentLength":"106285","template":"unknown","session":"b45df287-1ec8-45f2-a65f-ecbeb3af3bd2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b45df287-1ec8-45f2-a65f-ecbeb3af3bd2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.739Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.742Z","level":"info","message":"http_request_received","requestId":"b69541b3-a71d-40da-8842-c14d660a8315","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"b69541b3-a71d-40da-8842-c14d660a8315","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b69541b3-a71d-40da-8842-c14d660a8315","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.744Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.745Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.746Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.747Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.748Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      DEBUG: serveClientDistAsset ENOENT /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css

      at serveClientDistAsset (server.js:1052:15)

    console.log
      DEBUG: serveClientDistAsset ENOENT /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-123.css

      at serveClientDistAsset (server.js:1052:15)

    console.log
      {"timestamp":"2025-12-03T13:17:58.757Z","level":"info","message":"client_asset_alias_proxy_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-123.css","path":"assets/index-123.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-123.css","s3Key":"assets/index-123.css","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.757Z","level":"info","message":"http_request_completed","requestId":"b69541b3-a71d-40da-8842-c14d660a8315","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","statusCode":200,"durationMs":15,"contentLength":"32","template":"unknown","session":"b69541b3-a71d-40da-8842-c14d660a8315","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b69541b3-a71d-40da-8842-c14d660a8315","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.761Z","level":"info","message":"http_request_received","requestId":"6933eb42-f34d-425a-870f-d0183eafe926","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-123.css","template":"unknown","session":"6933eb42-f34d-425a-870f-d0183eafe926","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6933eb42-f34d-425a-870f-d0183eafe926","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.763Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-123.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.763Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.764Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.765Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.766Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      DEBUG: serveClientDistAsset ENOENT /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-123.css

      at serveClientDistAsset (server.js:1052:15)

    console.warn
      {"timestamp":"2025-12-03T13:17:58.768Z","level":"warn","message":"client_asset_proxy_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-123.css","path":"/assets/index-123.css","method":"GET","proxy":true,"error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:734:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7758:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7761:16)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1122:32)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19097:30"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at serveHashedIndexAssetFromS3 (server.js:1141:5)
      at server.js:19097:24

    console.log
      {"timestamp":"2025-12-03T13:17:58.771Z","level":"info","message":"http_request_completed","requestId":"6933eb42-f34d-425a-870f-d0183eafe926","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-123.css","statusCode":200,"durationMs":9,"contentLength":"106285","template":"unknown","session":"6933eb42-f34d-425a-870f-d0183eafe926","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6933eb42-f34d-425a-870f-d0183eafe926","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.771Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","path":"/assets/index-123.css","proxy":true,"degradedFrom":"/assets/index-123.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:17:58.771Z","level":"warn","message":"client_asset_proxy_degraded_to_alias","path":"/assets/index-123.css","method":"GET","proxy":true,"aliasPath":"/assets/index-latest.css","degradedFrom":"/assets/index-123.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:19149:9

    console.log
      {"timestamp":"2025-12-03T13:17:58.775Z","level":"info","message":"http_request_received","requestId":"5b2ffe9e-95d4-4e00-b26c-9a9326683c70","method":"GET","path":"/assets/index-123.css","template":"unknown","session":"5b2ffe9e-95d4-4e00-b26c-9a9326683c70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5b2ffe9e-95d4-4e00-b26c-9a9326683c70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.776Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-123.css","reqUrl":"/assets/index-123.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.777Z","level":"info","message":"request_received","path":"/assets/index-123.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.777Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-123.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.778Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-123.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.780Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-123.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      DEBUG: serveClientDistAsset ENOENT /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-123.css

      at serveClientDistAsset (server.js:1052:15)

    console.warn
      {"timestamp":"2025-12-03T13:17:58.782Z","level":"warn","message":"client_asset_s3_fallback_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-123.css","path":"/assets/index-123.css","method":"GET","error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:780:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7758:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7761:16)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1122:32)\n    at tryServeHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1179:24)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at serveHashedIndexAssetFromS3 (server.js:1141:5)
      at tryServeHashedIndexAssetFromS3 (server.js:1179:18)

    console.warn
      {"timestamp":"2025-12-03T13:17:58.790Z","level":"warn","message":"client_asset_alias_local_failed","aliasPath":"/assets/index-latest.css","method":"GET","hashedPath":"/assets/index-123.css","error":{"code":"ERR_STREAM_PREMATURE_CLOSE"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at serveClientDistAsset (server.js:1047:7)
      at handleIndexAssetAliasRequest (server.js:1270:5)
      at tryServeHashedIndexAssetFromS3 (server.js:1211:25)

    console.warn
      {"timestamp":"2025-12-03T13:17:58.791Z","level":"warn","message":"client_asset_manifest_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/manifest.json","error":{"name":"Error","message":"Static asset manifest was empty.","stack":"Error: Static asset manifest was empty.\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:867:15\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at loadStaticAssetManifestFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:942:12)\n    at loadHashedIndexAssetManifest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:722:20)\n    at handleIndexAssetAliasRequest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1284:20)\n    at tryServeHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1211:25)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:927:7
      at loadStaticAssetManifestFromS3 (server.js:942:12)
      at loadHashedIndexAssetManifest (server.js:722:20)
      at handleIndexAssetAliasRequest (server.js:1284:20)
      at tryServeHashedIndexAssetFromS3 (server.js:1211:25)

    console.log
      {"timestamp":"2025-12-03T13:17:58.792Z","level":"info","message":"http_request_received","requestId":"c46f78a9-7142-47d4-9800-132668fdb559","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","template":"unknown","session":"c46f78a9-7142-47d4-9800-132668fdb559","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c46f78a9-7142-47d4-9800-132668fdb559","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.792Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=..%2Fsecrets.txt","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.793Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.794Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.795Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.796Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:17:58.802Z","level":"warn","message":"api_error_response","requestId":"c46f78a9-7142-47d4-9800-132668fdb559","status":400,"error":{"code":"INVALID_STATIC_ASSET_PATH","message":"Provide a valid static asset path to proxy.","details":{},"requestId":"c46f78a9-7142-47d4-9800-132668fdb559"},"template":"unknown","session":"c46f78a9-7142-47d4-9800-132668fdb559","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c46f78a9-7142-47d4-9800-132668fdb559","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at sendError (server.js:3925:3)
      at server.js:19030:12
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at SendStream.error (node_modules/serve-static/index.js:121:7)
      at SendStream.error (node_modules/send/index.js:270:17)
      at SendStream.onStatError (node_modules/send/index.js:417:12)
      at next (node_modules/send/index.js:730:16)
      at onstat (node_modules/send/index.js:719:14)

    console.log
      {"timestamp":"2025-12-03T13:17:58.805Z","level":"info","message":"http_request_completed","requestId":"c46f78a9-7142-47d4-9800-132668fdb559","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","statusCode":400,"durationMs":13,"contentLength":"182","template":"unknown","session":"c46f78a9-7142-47d4-9800-132668fdb559","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c46f78a9-7142-47d4-9800-132668fdb559","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      DEBUG: serveClientDistAsset ENOENT /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-123.css

      at serveClientDistAsset (server.js:1052:15)

    console.warn
      {"timestamp":"2025-12-03T13:17:58.806Z","level":"warn","message":"client_asset_alias_direct_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-123.css","path":"/assets/index-123.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-123.css","s3Key":"/assets/index-123.css","hashedPath":"/assets/index-123.css","error":{"code":"ERR_HTTP_HEADERS_SENT"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at serveHashedIndexAssetFromS3 (server.js:1141:5)
      at handleIndexAssetAliasRequest (server.js:1386:24)
      at tryServeHashedIndexAssetFromS3 (server.js:1211:25)

    console.warn
      {"timestamp":"2025-12-03T13:17:58.807Z","level":"warn","message":"client_asset_manifest_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/manifest.json","error":{"name":"Error","message":"Static asset manifest was empty.","stack":"Error: Static asset manifest was empty.\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:867:15\n    at loadStaticAssetManifestFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:942:12)\n    at resolveFallbackHashedAssetPaths (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:963:20)\n    at handleIndexAssetAliasRequest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1402:7)\n    at tryServeHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1211:25)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:927:7
      at loadStaticAssetManifestFromS3 (server.js:942:12)
      at resolveFallbackHashedAssetPaths (server.js:963:20)
      at handleIndexAssetAliasRequest (server.js:1402:7)
      at tryServeHashedIndexAssetFromS3 (server.js:1211:25)

    console.error
      {"timestamp":"2025-12-03T13:17:58.807Z","level":"error","message":"client_asset_alias_direct_unavailable","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-123.css","s3Key":"/assets/index-123.css","method":"GET","hashedPath":"/assets/index-123.css","fallbackCandidates":[],"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at onUnavailable (server.js:1219:9)
      at handleIndexAssetAliasRequest (server.js:1463:27)
      at tryServeHashedIndexAssetFromS3 (server.js:1211:25)

    console.warn
      {"timestamp":"2025-12-03T13:17:58.808Z","level":"warn","message":"hashed_index_asset_degraded_to_alias","hashedPath":"/assets/index-123.css","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at tryServeHashedIndexAssetFromS3 (server.js:1231:7)

    console.log
      {"timestamp":"2025-12-03T13:17:58.823Z","level":"info","message":"http_request_received","requestId":"2e0c114c-c785-4031-b1a0-ce4e6c7a4683","method":"GET","path":"/api/static-manifest","template":"unknown","session":"2e0c114c-c785-4031-b1a0-ce4e6c7a4683","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e0c114c-c785-4031-b1a0-ce4e6c7a4683","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.824Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.824Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.825Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.826Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.827Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.838Z","level":"info","message":"http_request_completed","requestId":"2e0c114c-c785-4031-b1a0-ce4e6c7a4683","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":15,"contentLength":"301","template":"unknown","session":"2e0c114c-c785-4031-b1a0-ce4e6c7a4683","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e0c114c-c785-4031-b1a0-ce4e6c7a4683","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.849Z","level":"info","message":"http_request_received","requestId":"90169142-ebe6-46a6-88a8-e00edc99057d","method":"GET","path":"/api/static-manifest","template":"unknown","session":"90169142-ebe6-46a6-88a8-e00edc99057d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90169142-ebe6-46a6-88a8-e00edc99057d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.849Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.850Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.851Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.852Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.855Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.867Z","level":"info","message":"http_request_completed","requestId":"90169142-ebe6-46a6-88a8-e00edc99057d","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":18,"contentLength":"195","template":"unknown","session":"90169142-ebe6-46a6-88a8-e00edc99057d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90169142-ebe6-46a6-88a8-e00edc99057d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.869Z","level":"info","message":"http_request_received","requestId":"c3fee6ed-5145-46c8-a261-47852906dc56","method":"GET","path":"/api/static-manifest?refresh=1","template":"unknown","session":"c3fee6ed-5145-46c8-a261-47852906dc56","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c3fee6ed-5145-46c8-a261-47852906dc56","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.873Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest?refresh=1","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.873Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.874Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.875Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.877Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.886Z","level":"info","message":"http_request_completed","requestId":"c3fee6ed-5145-46c8-a261-47852906dc56","method":"GET","path":"/api/static-manifest?refresh=1","statusCode":200,"durationMs":17,"contentLength":"195","template":"unknown","session":"c3fee6ed-5145-46c8-a261-47852906dc56","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c3fee6ed-5145-46c8-a261-47852906dc56","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.889Z","level":"info","message":"http_request_received","requestId":"a55c0b28-aeaf-4bdf-900d-483942acb48e","method":"GET","path":"/api/static-manifest","template":"unknown","session":"a55c0b28-aeaf-4bdf-900d-483942acb48e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a55c0b28-aeaf-4bdf-900d-483942acb48e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.889Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.890Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.891Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.892Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.901Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:17:58.919Z","level":"warn","message":"client_asset_manifest_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/manifest.json","error":{"name":"Error","message":"manifest not found","stack":"Error: manifest not found\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:878:22)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7758:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7761:16)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:852:30\n    at loadStaticAssetManifestFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:935:5)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19169:28\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/serve-static/index.js:121:7)\n    at SendStream.emit (node:events:513:28)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:270:17)\n    at SendStream.onStatError (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:417:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:730:16)\n    at onstat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:719:14)\n    at FSReqCallback.oncomplete (node:fs:206:21)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:927:7
      at loadStaticAssetManifestFromS3 (server.js:942:12)
      at server.js:19169:22

    console.error
      {"timestamp":"2025-12-03T13:17:58.933Z","level":"error","message":"api_error_response","requestId":"a55c0b28-aeaf-4bdf-900d-483942acb48e","status":503,"error":{"code":"STATIC_MANIFEST_UNAVAILABLE","message":"Static asset manifest is not currently available. Please try again shortly.","details":{},"requestId":"a55c0b28-aeaf-4bdf-900d-483942acb48e"},"template":"unknown","session":"a55c0b28-aeaf-4bdf-900d-483942acb48e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a55c0b28-aeaf-4bdf-900d-483942acb48e","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at sendError (server.js:3925:3)
      at server.js:19174:14

    console.log
      {"timestamp":"2025-12-03T13:17:58.945Z","level":"info","message":"http_request_completed","requestId":"a55c0b28-aeaf-4bdf-900d-483942acb48e","method":"GET","path":"/api/static-manifest","statusCode":503,"durationMs":56,"contentLength":"216","template":"unknown","session":"a55c0b28-aeaf-4bdf-900d-483942acb48e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a55c0b28-aeaf-4bdf-900d-483942acb48e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.959Z","level":"info","message":"http_request_received","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","method":"POST","path":"/api/process-cv","template":"unknown","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.961Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.963Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.964Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.966Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:58.967Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/6fb0e16a-4add-4035-b681-5435e35a45fb/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/6fb0e16a-4add-4035-b681-5435e35a45fb/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/6fb0e16a-4add-4035-b681-5435e35a45fb/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:17:59.006Z","level":"info","message":"process_cv_started","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","manualJobDescriptionProvided":true,"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.007Z","level":"info","message":"template_selection","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:17:59.009Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:17:59.010Z","level":"info","message":"initial_upload_completed","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","bucket":"test-bucket","key":"cv/candidate/6fb0e16a-4add-4035-b681-5435e35a45fb/incoming/original.pdf","template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.035Z","level":"info","message":"resume_text_extracted","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","characters":57,"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.036Z","level":"info","message":"resume_classified","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.039Z","level":"info","message":"raw_upload_relocated","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","bucket":"test-bucket","fromKey":"cv/candidate/6fb0e16a-4add-4035-b681-5435e35a45fb/incoming/original.pdf","toKey":"cv/professional_summary/6fb0e16a-4add-4035-b681-5435e35a45fb/original.pdf","template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.039Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","bucket":"test-bucket","key":"cv/professional_summary/6fb0e16a-4add-4035-b681-5435e35a45fb/original.pdf","template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.040Z","level":"info","message":"dynamo_initial_record_written","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","bucket":"test-bucket","key":"cv/professional_summary/6fb0e16a-4add-4035-b681-5435e35a45fb/original.pdf","template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.041Z","level":"info","message":"upload_metadata_written","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","bucket":"test-bucket","key":"cv/professional_summary/6fb0e16a-4add-4035-b681-5435e35a45fb/logs/log.json","template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.041Z","level":"info","message":"job_description_supplied_manually","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","characters":174,"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.043Z","level":"info","message":"job_description_analyzed","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","jobTitle":"","jobSkills":5,"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.050Z","level":"info","message":"resume_skills_analyzed","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.053Z","level":"info","message":"llm_call_metrics","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.062Z","level":"info","message":"process_cv_scoring_completed","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.110Z","level":"info","message":"llm_call_metrics","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.110Z","level":"info","message":"generation_section_rewrite_completed","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","generationRunId":"6fb0e16a-4add-4035-b681-5435e35a45fb","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.111Z","level":"info","message":"llm_call_metrics","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.118Z","level":"info","message":"generation_resume_verified","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","generationRunId":"6fb0e16a-4add-4035-b681-5435e35a45fb","template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:17:59.142Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","generationRunId":"6fb0e16a-4add-4035-b681-5435e35a45fb","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:17:59.151Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","generationRunId":"6fb0e16a-4add-4035-b681-5435e35a45fb","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:17:59.152Z","level":"info","message":"generation_cover_letters_completed","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","generationRunId":"6fb0e16a-4add-4035-b681-5435e35a45fb","variants":2,"fallbackApplied":true,"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.154Z","level":"info","message":"pdf_generation_attempt","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","generationRunId":"6fb0e16a-4add-4035-b681-5435e35a45fb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6fb0e16a-4add-4035-b681-5435e35a45fb/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6fb0e16a-4add-4035-b681-5435e35a45fb/enhanced_modern.pdf","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.155Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","generationRunId":"6fb0e16a-4add-4035-b681-5435e35a45fb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6fb0e16a-4add-4035-b681-5435e35a45fb/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.155Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","generationRunId":"6fb0e16a-4add-4035-b681-5435e35a45fb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6fb0e16a-4add-4035-b681-5435e35a45fb/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6fb0e16a-4add-4035-b681-5435e35a45fb/enhanced_modern.pdf","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.157Z","level":"info","message":"pdf_generation_attempt","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","generationRunId":"6fb0e16a-4add-4035-b681-5435e35a45fb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6fb0e16a-4add-4035-b681-5435e35a45fb/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6fb0e16a-4add-4035-b681-5435e35a45fb/enhanced_professional.pdf","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.157Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","generationRunId":"6fb0e16a-4add-4035-b681-5435e35a45fb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6fb0e16a-4add-4035-b681-5435e35a45fb/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.157Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","generationRunId":"6fb0e16a-4add-4035-b681-5435e35a45fb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6fb0e16a-4add-4035-b681-5435e35a45fb/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6fb0e16a-4add-4035-b681-5435e35a45fb/enhanced_professional.pdf","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.158Z","level":"info","message":"pdf_generation_attempt","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","generationRunId":"6fb0e16a-4add-4035-b681-5435e35a45fb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6fb0e16a-4add-4035-b681-5435e35a45fb/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6fb0e16a-4add-4035-b681-5435e35a45fb/cover_letter_cover_modern.pdf","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.158Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","generationRunId":"6fb0e16a-4add-4035-b681-5435e35a45fb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6fb0e16a-4add-4035-b681-5435e35a45fb/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.159Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","generationRunId":"6fb0e16a-4add-4035-b681-5435e35a45fb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6fb0e16a-4add-4035-b681-5435e35a45fb/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6fb0e16a-4add-4035-b681-5435e35a45fb/cover_letter_cover_modern.pdf","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.160Z","level":"info","message":"pdf_generation_attempt","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","generationRunId":"6fb0e16a-4add-4035-b681-5435e35a45fb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6fb0e16a-4add-4035-b681-5435e35a45fb/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6fb0e16a-4add-4035-b681-5435e35a45fb/cover_letter_cover_professional.pdf","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.161Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","generationRunId":"6fb0e16a-4add-4035-b681-5435e35a45fb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6fb0e16a-4add-4035-b681-5435e35a45fb/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.163Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","generationRunId":"6fb0e16a-4add-4035-b681-5435e35a45fb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6fb0e16a-4add-4035-b681-5435e35a45fb/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6fb0e16a-4add-4035-b681-5435e35a45fb/cover_letter_cover_professional.pdf","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.176Z","level":"info","message":"llm_call_metrics","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.178Z","level":"info","message":"generation_completed","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","generationRunId":"6fb0e16a-4add-4035-b681-5435e35a45fb","enhancedScore":80,"outputs":5,"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.180Z","level":"info","message":"placeholder_record_deleted","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","jobId":"e4439ace-3bd7-4638-9834-114e9132e92e","placeholderIdentifier":"6fb0e16a-4add-4035-b681-5435e35a45fb","template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e4439ace-3bd7-4638-9834-114e9132e92e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.182Z","level":"info","message":"http_request_completed","requestId":"6fb0e16a-4add-4035-b681-5435e35a45fb","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":223,"contentLength":"58133","template":"unknown","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fb0e16a-4add-4035-b681-5435e35a45fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.198Z","level":"info","message":"http_request_received","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","method":"POST","path":"/api/process-cv","template":"unknown","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.199Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.235Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.236Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.238Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.239Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/da19068f-9dc9-4d2f-acc0-84dee8e03182/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/da19068f-9dc9-4d2f-acc0-84dee8e03182/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/da19068f-9dc9-4d2f-acc0-84dee8e03182/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:17:59.263Z","level":"info","message":"process_cv_started","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","manualJobDescriptionProvided":true,"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.263Z","level":"info","message":"template_selection","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:17:59.264Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:17:59.264Z","level":"info","message":"initial_upload_completed","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","bucket":"test-bucket","key":"cv/candidate/da19068f-9dc9-4d2f-acc0-84dee8e03182/incoming/original.pdf","template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.324Z","level":"info","message":"resume_text_extracted","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","characters":57,"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.325Z","level":"info","message":"resume_classified","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.326Z","level":"info","message":"raw_upload_relocated","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","bucket":"test-bucket","fromKey":"cv/candidate/da19068f-9dc9-4d2f-acc0-84dee8e03182/incoming/original.pdf","toKey":"cv/professional_summary/da19068f-9dc9-4d2f-acc0-84dee8e03182/original.pdf","template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.326Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","bucket":"test-bucket","key":"cv/professional_summary/da19068f-9dc9-4d2f-acc0-84dee8e03182/original.pdf","template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.326Z","level":"info","message":"dynamo_initial_record_written","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","bucket":"test-bucket","key":"cv/professional_summary/da19068f-9dc9-4d2f-acc0-84dee8e03182/original.pdf","template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.327Z","level":"info","message":"upload_metadata_written","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","bucket":"test-bucket","key":"cv/professional_summary/da19068f-9dc9-4d2f-acc0-84dee8e03182/logs/log.json","template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.327Z","level":"info","message":"job_description_supplied_manually","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","characters":174,"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.328Z","level":"info","message":"job_description_analyzed","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","jobTitle":"","jobSkills":5,"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.329Z","level":"info","message":"resume_skills_analyzed","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.330Z","level":"info","message":"llm_call_metrics","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.332Z","level":"info","message":"process_cv_scoring_completed","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.361Z","level":"info","message":"llm_call_metrics","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.363Z","level":"info","message":"generation_section_rewrite_completed","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","generationRunId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.371Z","level":"info","message":"llm_call_metrics","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.390Z","level":"info","message":"generation_resume_verified","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","generationRunId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:17:59.399Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","generationRunId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:17:59.402Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","generationRunId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:17:59.407Z","level":"info","message":"generation_cover_letters_completed","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","generationRunId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","variants":2,"fallbackApplied":true,"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.410Z","level":"info","message":"pdf_generation_attempt","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","generationRunId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/da19068f-9dc9-4d2f-acc0-84dee8e03182/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/da19068f-9dc9-4d2f-acc0-84dee8e03182/enhanced_modern.pdf","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.411Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","generationRunId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/da19068f-9dc9-4d2f-acc0-84dee8e03182/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.412Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","generationRunId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/da19068f-9dc9-4d2f-acc0-84dee8e03182/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/da19068f-9dc9-4d2f-acc0-84dee8e03182/enhanced_modern.pdf","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.413Z","level":"info","message":"pdf_generation_attempt","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","generationRunId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/da19068f-9dc9-4d2f-acc0-84dee8e03182/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/da19068f-9dc9-4d2f-acc0-84dee8e03182/enhanced_professional.pdf","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.421Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","generationRunId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/da19068f-9dc9-4d2f-acc0-84dee8e03182/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.421Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","generationRunId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/da19068f-9dc9-4d2f-acc0-84dee8e03182/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/da19068f-9dc9-4d2f-acc0-84dee8e03182/enhanced_professional.pdf","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.422Z","level":"info","message":"pdf_generation_attempt","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","generationRunId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/da19068f-9dc9-4d2f-acc0-84dee8e03182/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/da19068f-9dc9-4d2f-acc0-84dee8e03182/cover_letter_cover_modern.pdf","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.423Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","generationRunId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/da19068f-9dc9-4d2f-acc0-84dee8e03182/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.424Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","generationRunId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/da19068f-9dc9-4d2f-acc0-84dee8e03182/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/da19068f-9dc9-4d2f-acc0-84dee8e03182/cover_letter_cover_modern.pdf","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.430Z","level":"info","message":"pdf_generation_attempt","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","generationRunId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/da19068f-9dc9-4d2f-acc0-84dee8e03182/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/da19068f-9dc9-4d2f-acc0-84dee8e03182/cover_letter_cover_professional.pdf","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.437Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","generationRunId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/da19068f-9dc9-4d2f-acc0-84dee8e03182/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.438Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","generationRunId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/da19068f-9dc9-4d2f-acc0-84dee8e03182/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/da19068f-9dc9-4d2f-acc0-84dee8e03182/cover_letter_cover_professional.pdf","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.446Z","level":"info","message":"llm_call_metrics","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.448Z","level":"info","message":"generation_completed","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","generationRunId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","enhancedScore":80,"outputs":5,"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.450Z","level":"info","message":"placeholder_record_deleted","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","jobId":"f04136e7-202e-4937-8a04-eb6854adcf89","placeholderIdentifier":"da19068f-9dc9-4d2f-acc0-84dee8e03182","template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f04136e7-202e-4937-8a04-eb6854adcf89","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.451Z","level":"info","message":"http_request_completed","requestId":"da19068f-9dc9-4d2f-acc0-84dee8e03182","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":253,"contentLength":"58133","template":"unknown","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"da19068f-9dc9-4d2f-acc0-84dee8e03182","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.484Z","level":"info","message":"http_request_received","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","method":"POST","path":"/api/process-cv","template":"unknown","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.485Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.486Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.487Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.488Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.489Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:17:59.492Z","level":"info","message":"process_cv_started","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","manualJobDescriptionProvided":true,"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.493Z","level":"info","message":"template_selection","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:17:59.493Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:17:59.494Z","level":"info","message":"initial_upload_completed","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","bucket":"test-bucket","key":"cv/candidate/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/incoming/original.pdf","template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.495Z","level":"info","message":"resume_text_extracted","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","characters":57,"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.495Z","level":"info","message":"resume_classified","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.496Z","level":"info","message":"raw_upload_relocated","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","bucket":"test-bucket","fromKey":"cv/candidate/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/incoming/original.pdf","toKey":"cv/professional_summary/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/original.pdf","template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.496Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","bucket":"test-bucket","key":"cv/professional_summary/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/original.pdf","template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.500Z","level":"info","message":"dynamo_initial_record_written","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","bucket":"test-bucket","key":"cv/professional_summary/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/original.pdf","template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.500Z","level":"info","message":"upload_metadata_written","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","bucket":"test-bucket","key":"cv/professional_summary/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/logs/log.json","template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.500Z","level":"info","message":"session_transition_change_log_removed","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","bucket":"test-bucket","removedKeys":["cv/candidate/session-old/logs/change-log.json","cv/candidate/session-old/artifacts/changelog.json"],"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.501Z","level":"info","message":"job_description_supplied_manually","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","characters":174,"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.501Z","level":"info","message":"job_description_analyzed","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","jobTitle":"","jobSkills":5,"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.508Z","level":"info","message":"resume_skills_analyzed","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.508Z","level":"info","message":"llm_call_metrics","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.509Z","level":"info","message":"process_cv_scoring_completed","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.513Z","level":"info","message":"llm_call_metrics","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.513Z","level":"info","message":"generation_section_rewrite_completed","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","generationRunId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.514Z","level":"info","message":"llm_call_metrics","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.526Z","level":"info","message":"generation_resume_verified","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","generationRunId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:17:59.534Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","generationRunId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:17:59.536Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","generationRunId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:17:59.536Z","level":"info","message":"generation_cover_letters_completed","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","generationRunId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","variants":2,"fallbackApplied":true,"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.537Z","level":"info","message":"pdf_generation_attempt","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","generationRunId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/enhanced_modern.pdf","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.541Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","generationRunId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.541Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","generationRunId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/enhanced_modern.pdf","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.542Z","level":"info","message":"pdf_generation_attempt","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","generationRunId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/enhanced_professional.pdf","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.542Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","generationRunId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.542Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","generationRunId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/enhanced_professional.pdf","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.543Z","level":"info","message":"pdf_generation_attempt","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","generationRunId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/cover_letter_cover_modern.pdf","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.543Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","generationRunId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.544Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","generationRunId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/cover_letter_cover_modern.pdf","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.545Z","level":"info","message":"pdf_generation_attempt","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","generationRunId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/cover_letter_cover_professional.pdf","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.545Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","generationRunId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.545Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","generationRunId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55/cover_letter_cover_professional.pdf","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.553Z","level":"info","message":"llm_call_metrics","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.554Z","level":"info","message":"generation_completed","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","generationRunId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","enhancedScore":80,"outputs":5,"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.555Z","level":"info","message":"placeholder_record_deleted","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","jobId":"35a33920-4763-4bb2-bfaa-e97df7e7f191","placeholderIdentifier":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35a33920-4763-4bb2-bfaa-e97df7e7f191","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.559Z","level":"info","message":"http_request_completed","requestId":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":75,"contentLength":"58133","template":"unknown","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aed6bf5a-59fa-43cc-ab3a-4ce98c3cec55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.578Z","level":"info","message":"http_request_received","requestId":"repeat","method":"POST","path":"/api/process-cv","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.580Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.581Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.586Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.587Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.588Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:17:59.592Z","level":"info","message":"process_cv_started","requestId":"repeat","jobId":"repeat","manualJobDescriptionProvided":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.592Z","level":"info","message":"template_selection","requestId":"repeat","jobId":"repeat","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:17:59.593Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"repeat","jobId":"repeat","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:17:59.593Z","level":"info","message":"initial_upload_completed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.593Z","level":"info","message":"resume_text_extracted","requestId":"repeat","jobId":"repeat","characters":57,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.594Z","level":"info","message":"resume_classified","requestId":"repeat","jobId":"repeat","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.594Z","level":"info","message":"raw_upload_relocated","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","fromKey":"cv/candidate/repeat/incoming/original.pdf","toKey":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.594Z","level":"info","message":"dynamo_initial_record_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.595Z","level":"info","message":"upload_metadata_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/logs/log.json","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.595Z","level":"info","message":"session_transition_change_log_removed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","removedKeys":["cv/candidate/repeat/logs/change-log.json","cv/candidate/repeat/artifacts/changelog.json"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.595Z","level":"info","message":"job_description_supplied_manually","requestId":"repeat","jobId":"repeat","characters":174,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.596Z","level":"info","message":"job_description_analyzed","requestId":"repeat","jobId":"repeat","jobTitle":"","jobSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.596Z","level":"info","message":"resume_skills_analyzed","requestId":"repeat","jobId":"repeat","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.597Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.597Z","level":"info","message":"process_cv_scoring_completed","requestId":"repeat","jobId":"repeat","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.601Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.601Z","level":"info","message":"generation_section_rewrite_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.601Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.612Z","level":"info","message":"generation_resume_verified","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:17:59.616Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:17:59.618Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:17:59.618Z","level":"info","message":"generation_cover_letters_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","variants":2,"fallbackApplied":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.619Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.619Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.622Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.622Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.631Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.632Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.639Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.640Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.640Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.647Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.647Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.647Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.656Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.657Z","level":"info","message":"generation_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","enhancedScore":80,"outputs":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.663Z","level":"info","message":"http_request_completed","requestId":"repeat","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":85,"contentLength":"57353","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.675Z","level":"info","message":"http_request_received","requestId":"e5afe34d-9844-4e5d-a1fd-e59b1d6b0e80","method":"POST","path":"/api/process-cv","template":"unknown","session":"e5afe34d-9844-4e5d-a1fd-e59b1d6b0e80","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5afe34d-9844-4e5d-a1fd-e59b1d6b0e80","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.675Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.676Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.677Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.678Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.680Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/e5afe34d-9844-4e5d-a1fd-e59b1d6b0e80/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/e5afe34d-9844-4e5d-a1fd-e59b1d6b0e80/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/e5afe34d-9844-4e5d-a1fd-e59b1d6b0e80/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:17:59.690Z","level":"info","message":"process_cv_started","requestId":"e5afe34d-9844-4e5d-a1fd-e59b1d6b0e80","jobId":"d6d17525-ef3b-414d-af29-9fcad815c989","manualJobDescriptionProvided":false,"template":"unknown","session":"d6d17525-ef3b-414d-af29-9fcad815c989","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6d17525-ef3b-414d-af29-9fcad815c989","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.691Z","level":"info","message":"template_selection","requestId":"e5afe34d-9844-4e5d-a1fd-e59b1d6b0e80","jobId":"d6d17525-ef3b-414d-af29-9fcad815c989","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"d6d17525-ef3b-414d-af29-9fcad815c989","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d6d17525-ef3b-414d-af29-9fcad815c989","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:17:59.691Z","level":"warn","message":"job_description_missing","requestId":"e5afe34d-9844-4e5d-a1fd-e59b1d6b0e80","jobId":"d6d17525-ef3b-414d-af29-9fcad815c989","template":"unknown","session":"d6d17525-ef3b-414d-af29-9fcad815c989","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6d17525-ef3b-414d-af29-9fcad815c989","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25043:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.warn
      {"timestamp":"2025-12-03T13:17:59.691Z","level":"warn","message":"api_error_response","requestId":"e5afe34d-9844-4e5d-a1fd-e59b1d6b0e80","jobId":"d6d17525-ef3b-414d-af29-9fcad815c989","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"e5afe34d-9844-4e5d-a1fd-e59b1d6b0e80","jobId":"d6d17525-ef3b-414d-af29-9fcad815c989"},"template":"unknown","session":"d6d17525-ef3b-414d-af29-9fcad815c989","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6d17525-ef3b-414d-af29-9fcad815c989","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at sendError (server.js:3925:3)
      at server.js:25044:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:17:59.692Z","level":"info","message":"http_request_completed","requestId":"e5afe34d-9844-4e5d-a1fd-e59b1d6b0e80","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":17,"contentLength":"244","template":"unknown","session":"e5afe34d-9844-4e5d-a1fd-e59b1d6b0e80","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5afe34d-9844-4e5d-a1fd-e59b1d6b0e80","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.699Z","level":"info","message":"http_request_received","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","method":"POST","path":"/api/process-cv","template":"unknown","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.700Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.700Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.701Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.702Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.704Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/a76b66a2-2ad6-4e29-9f31-48b164840127/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/a76b66a2-2ad6-4e29-9f31-48b164840127/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/a76b66a2-2ad6-4e29-9f31-48b164840127/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:17:59.707Z","level":"info","message":"process_cv_started","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","manualJobDescriptionProvided":true,"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.708Z","level":"info","message":"template_selection","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:17:59.708Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:17:59.709Z","level":"info","message":"initial_upload_completed","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","bucket":"test-bucket","key":"cv/candidate/a76b66a2-2ad6-4e29-9f31-48b164840127/incoming/original.pdf","template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.715Z","level":"info","message":"resume_text_extracted","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","characters":57,"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.715Z","level":"info","message":"resume_classified","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.715Z","level":"info","message":"raw_upload_relocated","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","bucket":"test-bucket","fromKey":"cv/candidate/a76b66a2-2ad6-4e29-9f31-48b164840127/incoming/original.pdf","toKey":"cv/professional_summary/a76b66a2-2ad6-4e29-9f31-48b164840127/original.pdf","template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.716Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","bucket":"test-bucket","key":"cv/professional_summary/a76b66a2-2ad6-4e29-9f31-48b164840127/original.pdf","template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.716Z","level":"info","message":"dynamo_initial_record_written","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","bucket":"test-bucket","key":"cv/professional_summary/a76b66a2-2ad6-4e29-9f31-48b164840127/original.pdf","template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.716Z","level":"info","message":"upload_metadata_written","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","bucket":"test-bucket","key":"cv/professional_summary/a76b66a2-2ad6-4e29-9f31-48b164840127/logs/log.json","template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.717Z","level":"info","message":"job_description_supplied_manually","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","characters":59,"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.717Z","level":"info","message":"job_description_analyzed","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","jobTitle":"","jobSkills":5,"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.718Z","level":"info","message":"resume_skills_analyzed","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.719Z","level":"info","message":"llm_call_metrics","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.725Z","level":"info","message":"process_cv_scoring_completed","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.731Z","level":"info","message":"llm_call_metrics","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"ea2430c235b24028819e3e632af324e68724bbc1d27bee61065e3e4452249d1c","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.731Z","level":"info","message":"generation_section_rewrite_completed","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","generationRunId":"a76b66a2-2ad6-4e29-9f31-48b164840127","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.732Z","level":"info","message":"llm_call_metrics","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"5ccfe9db3e82fa26357ec9c5a8fa36d7c5cf260bf775e906492a22db0355a609","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.738Z","level":"info","message":"generation_resume_verified","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","generationRunId":"a76b66a2-2ad6-4e29-9f31-48b164840127","template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:17:59.744Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","generationRunId":"a76b66a2-2ad6-4e29-9f31-48b164840127","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:17:59.745Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","generationRunId":"a76b66a2-2ad6-4e29-9f31-48b164840127","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:17:59.745Z","level":"info","message":"generation_cover_letters_completed","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","generationRunId":"a76b66a2-2ad6-4e29-9f31-48b164840127","variants":2,"fallbackApplied":true,"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.746Z","level":"info","message":"pdf_generation_attempt","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","generationRunId":"a76b66a2-2ad6-4e29-9f31-48b164840127","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a76b66a2-2ad6-4e29-9f31-48b164840127/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a76b66a2-2ad6-4e29-9f31-48b164840127/enhanced_modern.pdf","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.746Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","generationRunId":"a76b66a2-2ad6-4e29-9f31-48b164840127","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a76b66a2-2ad6-4e29-9f31-48b164840127/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.747Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","generationRunId":"a76b66a2-2ad6-4e29-9f31-48b164840127","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a76b66a2-2ad6-4e29-9f31-48b164840127/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a76b66a2-2ad6-4e29-9f31-48b164840127/enhanced_modern.pdf","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.747Z","level":"info","message":"pdf_generation_attempt","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","generationRunId":"a76b66a2-2ad6-4e29-9f31-48b164840127","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a76b66a2-2ad6-4e29-9f31-48b164840127/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a76b66a2-2ad6-4e29-9f31-48b164840127/enhanced_professional.pdf","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.748Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","generationRunId":"a76b66a2-2ad6-4e29-9f31-48b164840127","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a76b66a2-2ad6-4e29-9f31-48b164840127/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.748Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","generationRunId":"a76b66a2-2ad6-4e29-9f31-48b164840127","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a76b66a2-2ad6-4e29-9f31-48b164840127/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a76b66a2-2ad6-4e29-9f31-48b164840127/enhanced_professional.pdf","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.748Z","level":"info","message":"pdf_generation_attempt","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","generationRunId":"a76b66a2-2ad6-4e29-9f31-48b164840127","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a76b66a2-2ad6-4e29-9f31-48b164840127/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a76b66a2-2ad6-4e29-9f31-48b164840127/cover_letter_cover_modern.pdf","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.749Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","generationRunId":"a76b66a2-2ad6-4e29-9f31-48b164840127","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a76b66a2-2ad6-4e29-9f31-48b164840127/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.749Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","generationRunId":"a76b66a2-2ad6-4e29-9f31-48b164840127","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a76b66a2-2ad6-4e29-9f31-48b164840127/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a76b66a2-2ad6-4e29-9f31-48b164840127/cover_letter_cover_modern.pdf","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.750Z","level":"info","message":"pdf_generation_attempt","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","generationRunId":"a76b66a2-2ad6-4e29-9f31-48b164840127","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a76b66a2-2ad6-4e29-9f31-48b164840127/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a76b66a2-2ad6-4e29-9f31-48b164840127/cover_letter_cover_professional.pdf","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.750Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","generationRunId":"a76b66a2-2ad6-4e29-9f31-48b164840127","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a76b66a2-2ad6-4e29-9f31-48b164840127/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.751Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","generationRunId":"a76b66a2-2ad6-4e29-9f31-48b164840127","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a76b66a2-2ad6-4e29-9f31-48b164840127/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a76b66a2-2ad6-4e29-9f31-48b164840127/cover_letter_cover_professional.pdf","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.755Z","level":"info","message":"llm_call_metrics","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.756Z","level":"info","message":"generation_completed","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","generationRunId":"a76b66a2-2ad6-4e29-9f31-48b164840127","enhancedScore":80,"outputs":5,"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.757Z","level":"info","message":"placeholder_record_deleted","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","jobId":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","placeholderIdentifier":"a76b66a2-2ad6-4e29-9f31-48b164840127","template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a26168a5-d7bd-4762-8bb9-caadf7fdd055","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.759Z","level":"info","message":"http_request_completed","requestId":"a76b66a2-2ad6-4e29-9f31-48b164840127","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":60,"contentLength":"55048","template":"unknown","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a76b66a2-2ad6-4e29-9f31-48b164840127","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.766Z","level":"info","message":"http_request_received","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","method":"POST","path":"/api/process-cv","template":"unknown","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.770Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.770Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.771Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.773Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.775Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/f695b340-7c8d-4b72-90ca-1b720b02f251/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/f695b340-7c8d-4b72-90ca-1b720b02f251/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/f695b340-7c8d-4b72-90ca-1b720b02f251/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:17:59.777Z","level":"info","message":"process_cv_started","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","manualJobDescriptionProvided":true,"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.778Z","level":"info","message":"template_selection","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:17:59.778Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:17:59.778Z","level":"info","message":"initial_upload_completed","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","bucket":"test-bucket","key":"cv/candidate/f695b340-7c8d-4b72-90ca-1b720b02f251/incoming/original.pdf","template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.781Z","level":"info","message":"resume_text_extracted","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","characters":57,"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.781Z","level":"info","message":"resume_classified","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.782Z","level":"info","message":"raw_upload_relocated","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","bucket":"test-bucket","fromKey":"cv/candidate/f695b340-7c8d-4b72-90ca-1b720b02f251/incoming/original.pdf","toKey":"cv/professional_summary/f695b340-7c8d-4b72-90ca-1b720b02f251/original.pdf","template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.782Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","bucket":"test-bucket","key":"cv/professional_summary/f695b340-7c8d-4b72-90ca-1b720b02f251/original.pdf","template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.782Z","level":"info","message":"dynamo_initial_record_written","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","bucket":"test-bucket","key":"cv/professional_summary/f695b340-7c8d-4b72-90ca-1b720b02f251/original.pdf","template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.782Z","level":"info","message":"upload_metadata_written","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","bucket":"test-bucket","key":"cv/professional_summary/f695b340-7c8d-4b72-90ca-1b720b02f251/logs/log.json","template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.783Z","level":"info","message":"job_description_supplied_manually","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","characters":32,"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.786Z","level":"info","message":"job_description_analyzed","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","jobTitle":"","jobSkills":5,"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.788Z","level":"info","message":"resume_skills_analyzed","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.789Z","level":"info","message":"llm_call_metrics","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.790Z","level":"info","message":"process_cv_scoring_completed","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.793Z","level":"info","message":"llm_call_metrics","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"4ee429ea92424e8e19e4720211137d476a19f7274074e1702e9c42fe53b6fed7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.793Z","level":"info","message":"generation_section_rewrite_completed","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","generationRunId":"f695b340-7c8d-4b72-90ca-1b720b02f251","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.794Z","level":"info","message":"llm_call_metrics","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"b847d6e14d4cae3ee14cd5dbb7c4a4ca1658d965fe5c0b4564eb95e9b23995e3","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.799Z","level":"info","message":"generation_resume_verified","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","generationRunId":"f695b340-7c8d-4b72-90ca-1b720b02f251","template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:17:59.803Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","generationRunId":"f695b340-7c8d-4b72-90ca-1b720b02f251","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:17:59.804Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","generationRunId":"f695b340-7c8d-4b72-90ca-1b720b02f251","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:17:59.804Z","level":"info","message":"generation_cover_letters_completed","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","generationRunId":"f695b340-7c8d-4b72-90ca-1b720b02f251","variants":2,"fallbackApplied":true,"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.805Z","level":"info","message":"pdf_generation_attempt","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","generationRunId":"f695b340-7c8d-4b72-90ca-1b720b02f251","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f695b340-7c8d-4b72-90ca-1b720b02f251/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f695b340-7c8d-4b72-90ca-1b720b02f251/enhanced_modern.pdf","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.805Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","generationRunId":"f695b340-7c8d-4b72-90ca-1b720b02f251","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f695b340-7c8d-4b72-90ca-1b720b02f251/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.806Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","generationRunId":"f695b340-7c8d-4b72-90ca-1b720b02f251","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f695b340-7c8d-4b72-90ca-1b720b02f251/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f695b340-7c8d-4b72-90ca-1b720b02f251/enhanced_modern.pdf","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.806Z","level":"info","message":"pdf_generation_attempt","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","generationRunId":"f695b340-7c8d-4b72-90ca-1b720b02f251","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f695b340-7c8d-4b72-90ca-1b720b02f251/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f695b340-7c8d-4b72-90ca-1b720b02f251/enhanced_professional.pdf","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.806Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","generationRunId":"f695b340-7c8d-4b72-90ca-1b720b02f251","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f695b340-7c8d-4b72-90ca-1b720b02f251/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.807Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","generationRunId":"f695b340-7c8d-4b72-90ca-1b720b02f251","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f695b340-7c8d-4b72-90ca-1b720b02f251/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f695b340-7c8d-4b72-90ca-1b720b02f251/enhanced_professional.pdf","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.807Z","level":"info","message":"pdf_generation_attempt","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","generationRunId":"f695b340-7c8d-4b72-90ca-1b720b02f251","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f695b340-7c8d-4b72-90ca-1b720b02f251/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f695b340-7c8d-4b72-90ca-1b720b02f251/cover_letter_cover_modern.pdf","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.807Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","generationRunId":"f695b340-7c8d-4b72-90ca-1b720b02f251","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f695b340-7c8d-4b72-90ca-1b720b02f251/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.808Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","generationRunId":"f695b340-7c8d-4b72-90ca-1b720b02f251","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f695b340-7c8d-4b72-90ca-1b720b02f251/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f695b340-7c8d-4b72-90ca-1b720b02f251/cover_letter_cover_modern.pdf","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.808Z","level":"info","message":"pdf_generation_attempt","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","generationRunId":"f695b340-7c8d-4b72-90ca-1b720b02f251","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f695b340-7c8d-4b72-90ca-1b720b02f251/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f695b340-7c8d-4b72-90ca-1b720b02f251/cover_letter_cover_professional.pdf","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.809Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","generationRunId":"f695b340-7c8d-4b72-90ca-1b720b02f251","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f695b340-7c8d-4b72-90ca-1b720b02f251/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.817Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","generationRunId":"f695b340-7c8d-4b72-90ca-1b720b02f251","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f695b340-7c8d-4b72-90ca-1b720b02f251/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f695b340-7c8d-4b72-90ca-1b720b02f251/cover_letter_cover_professional.pdf","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.826Z","level":"info","message":"llm_call_metrics","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.828Z","level":"info","message":"generation_completed","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","generationRunId":"f695b340-7c8d-4b72-90ca-1b720b02f251","enhancedScore":80,"outputs":5,"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.829Z","level":"info","message":"placeholder_record_deleted","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","jobId":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","placeholderIdentifier":"f695b340-7c8d-4b72-90ca-1b720b02f251","template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3c7735c5-d750-4baa-9eb7-ab2d4f9cd5fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.831Z","level":"info","message":"http_request_completed","requestId":"f695b340-7c8d-4b72-90ca-1b720b02f251","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":65,"contentLength":"53771","template":"unknown","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f695b340-7c8d-4b72-90ca-1b720b02f251","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.845Z","level":"info","message":"http_request_received","requestId":"d40e6594-b7ea-430d-abe1-994d2e636824","method":"POST","path":"/api/process-cv","template":"unknown","session":"d40e6594-b7ea-430d-abe1-994d2e636824","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d40e6594-b7ea-430d-abe1-994d2e636824","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.846Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.846Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.847Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.848Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.850Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/d40e6594-b7ea-430d-abe1-994d2e636824/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/d40e6594-b7ea-430d-abe1-994d2e636824/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/d40e6594-b7ea-430d-abe1-994d2e636824/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.warn
      {"timestamp":"2025-12-03T13:17:59.853Z","level":"warn","message":"job_description_prohibited_html_detected","requestId":"d40e6594-b7ea-430d-abe1-994d2e636824","jobId":"afafa025-0ad3-4d85-a691-73c59b3d1f0e","template":"unknown","session":"afafa025-0ad3-4d85-a691-73c59b3d1f0e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afafa025-0ad3-4d85-a691-73c59b3d1f0e","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:24936:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.warn
      {"timestamp":"2025-12-03T13:17:59.853Z","level":"warn","message":"api_error_response","requestId":"d40e6594-b7ea-430d-abe1-994d2e636824","jobId":"afafa025-0ad3-4d85-a691-73c59b3d1f0e","status":400,"error":{"code":"JOB_DESCRIPTION_PROHIBITED_TAGS","message":"Remove HTML tags like <script> before continuing.","details":{"field":"manualJobDescription"},"requestId":"d40e6594-b7ea-430d-abe1-994d2e636824","jobId":"afafa025-0ad3-4d85-a691-73c59b3d1f0e"},"template":"unknown","session":"afafa025-0ad3-4d85-a691-73c59b3d1f0e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afafa025-0ad3-4d85-a691-73c59b3d1f0e","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at sendError (server.js:3925:3)
      at server.js:24937:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:17:59.854Z","level":"info","message":"http_request_completed","requestId":"d40e6594-b7ea-430d-abe1-994d2e636824","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":9,"contentLength":"271","template":"unknown","session":"d40e6594-b7ea-430d-abe1-994d2e636824","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d40e6594-b7ea-430d-abe1-994d2e636824","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.860Z","level":"info","message":"http_request_received","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","method":"POST","path":"/api/process-cv","template":"unknown","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.861Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.862Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.863Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.864Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.905Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:17:59.908Z","level":"info","message":"process_cv_started","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","manualJobDescriptionProvided":true,"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.909Z","level":"info","message":"template_selection","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:17:59.909Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:17:59.911Z","level":"info","message":"initial_upload_completed","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","bucket":"test-bucket","key":"cv/candidate/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/incoming/original.pdf","template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.912Z","level":"info","message":"resume_text_extracted","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","characters":57,"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.912Z","level":"info","message":"resume_classified","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.913Z","level":"info","message":"raw_upload_relocated","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","bucket":"test-bucket","fromKey":"cv/candidate/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/incoming/original.pdf","toKey":"cv/professional_summary/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/original.pdf","template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.913Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","bucket":"test-bucket","key":"cv/professional_summary/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/original.pdf","template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.914Z","level":"info","message":"dynamo_initial_record_written","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","bucket":"test-bucket","key":"cv/professional_summary/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/original.pdf","template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.914Z","level":"info","message":"upload_metadata_written","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","bucket":"test-bucket","key":"cv/professional_summary/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/logs/log.json","template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.915Z","level":"info","message":"job_description_supplied_manually","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","characters":31,"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.917Z","level":"info","message":"job_description_analyzed","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","jobTitle":"","jobSkills":5,"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.918Z","level":"info","message":"resume_skills_analyzed","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.918Z","level":"info","message":"llm_call_metrics","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.922Z","level":"info","message":"process_cv_scoring_completed","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.928Z","level":"info","message":"llm_call_metrics","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"3b6fa31427cfe80be95734691ddba88dda63de26496df29477f91bd398cefbfa","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.929Z","level":"info","message":"generation_section_rewrite_completed","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","generationRunId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.929Z","level":"info","message":"llm_call_metrics","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"eedd7612e0b87e24dbfb4e165754c9448ec3573f7db56a3242654c71c3ca223b","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.933Z","level":"info","message":"generation_resume_verified","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","generationRunId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:17:59.937Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","generationRunId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:17:59.944Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","generationRunId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:17:59.944Z","level":"info","message":"generation_cover_letters_completed","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","generationRunId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","variants":2,"fallbackApplied":true,"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.945Z","level":"info","message":"pdf_generation_attempt","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","generationRunId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/enhanced_modern.pdf","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.945Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","generationRunId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.946Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","generationRunId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/enhanced_modern.pdf","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.946Z","level":"info","message":"pdf_generation_attempt","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","generationRunId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/enhanced_professional.pdf","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.947Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","generationRunId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.947Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","generationRunId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/enhanced_professional.pdf","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.948Z","level":"info","message":"pdf_generation_attempt","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","generationRunId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/cover_letter_cover_modern.pdf","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.948Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","generationRunId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.948Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","generationRunId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/cover_letter_cover_modern.pdf","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.949Z","level":"info","message":"pdf_generation_attempt","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","generationRunId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/cover_letter_cover_professional.pdf","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.949Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","generationRunId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.950Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","generationRunId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7/cover_letter_cover_professional.pdf","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.956Z","level":"info","message":"llm_call_metrics","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.960Z","level":"info","message":"generation_completed","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","generationRunId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","enhancedScore":80,"outputs":5,"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.962Z","level":"info","message":"placeholder_record_deleted","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","jobId":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","placeholderIdentifier":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb0499c2-1fe8-42e9-b140-541cd7458b7f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.971Z","level":"info","message":"http_request_completed","requestId":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":111,"contentLength":"53718","template":"unknown","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ae54d880-2e7d-4d9a-9a2d-d9bc522e05e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.983Z","level":"info","message":"http_request_received","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","method":"POST","path":"/api/process-cv","template":"unknown","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.984Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.984Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.985Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.987Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:17:59.998Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/6adc4cce-626a-42b7-8309-739d21b48555/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/6adc4cce-626a-42b7-8309-739d21b48555/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/6adc4cce-626a-42b7-8309-739d21b48555/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:18:00.001Z","level":"info","message":"process_cv_started","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","manualJobDescriptionProvided":true,"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.002Z","level":"info","message":"template_selection","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:00.002Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:18:00.002Z","level":"info","message":"initial_upload_completed","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","bucket":"test-bucket","key":"cv/candidate/6adc4cce-626a-42b7-8309-739d21b48555/incoming/original.pdf","template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.004Z","level":"info","message":"resume_text_extracted","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","characters":57,"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.004Z","level":"info","message":"resume_classified","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.004Z","level":"info","message":"raw_upload_relocated","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","bucket":"test-bucket","fromKey":"cv/candidate/6adc4cce-626a-42b7-8309-739d21b48555/incoming/original.pdf","toKey":"cv/professional_summary/6adc4cce-626a-42b7-8309-739d21b48555/original.pdf","template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.005Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","bucket":"test-bucket","key":"cv/professional_summary/6adc4cce-626a-42b7-8309-739d21b48555/original.pdf","template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.005Z","level":"info","message":"dynamo_initial_record_written","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","bucket":"test-bucket","key":"cv/professional_summary/6adc4cce-626a-42b7-8309-739d21b48555/original.pdf","template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.005Z","level":"info","message":"upload_metadata_written","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","bucket":"test-bucket","key":"cv/professional_summary/6adc4cce-626a-42b7-8309-739d21b48555/logs/log.json","template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.005Z","level":"info","message":"job_description_supplied_manually","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","characters":174,"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.006Z","level":"info","message":"job_description_analyzed","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","jobTitle":"","jobSkills":5,"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.006Z","level":"info","message":"resume_skills_analyzed","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.007Z","level":"info","message":"llm_call_metrics","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.009Z","level":"info","message":"process_cv_scoring_completed","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.033Z","level":"info","message":"llm_call_metrics","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.034Z","level":"info","message":"generation_section_rewrite_completed","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","generationRunId":"6adc4cce-626a-42b7-8309-739d21b48555","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.034Z","level":"info","message":"llm_call_metrics","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.046Z","level":"info","message":"generation_resume_verified","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","generationRunId":"6adc4cce-626a-42b7-8309-739d21b48555","template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:00.115Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","generationRunId":"6adc4cce-626a-42b7-8309-739d21b48555","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:00.127Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","generationRunId":"6adc4cce-626a-42b7-8309-739d21b48555","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:00.130Z","level":"info","message":"generation_cover_letters_completed","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","generationRunId":"6adc4cce-626a-42b7-8309-739d21b48555","variants":2,"fallbackApplied":true,"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.150Z","level":"info","message":"pdf_generation_attempt","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","generationRunId":"6adc4cce-626a-42b7-8309-739d21b48555","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6adc4cce-626a-42b7-8309-739d21b48555/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6adc4cce-626a-42b7-8309-739d21b48555/enhanced_modern.pdf","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.157Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","generationRunId":"6adc4cce-626a-42b7-8309-739d21b48555","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6adc4cce-626a-42b7-8309-739d21b48555/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.165Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","generationRunId":"6adc4cce-626a-42b7-8309-739d21b48555","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6adc4cce-626a-42b7-8309-739d21b48555/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6adc4cce-626a-42b7-8309-739d21b48555/enhanced_modern.pdf","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.166Z","level":"info","message":"pdf_generation_attempt","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","generationRunId":"6adc4cce-626a-42b7-8309-739d21b48555","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6adc4cce-626a-42b7-8309-739d21b48555/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6adc4cce-626a-42b7-8309-739d21b48555/enhanced_professional.pdf","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.166Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","generationRunId":"6adc4cce-626a-42b7-8309-739d21b48555","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6adc4cce-626a-42b7-8309-739d21b48555/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.183Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","generationRunId":"6adc4cce-626a-42b7-8309-739d21b48555","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6adc4cce-626a-42b7-8309-739d21b48555/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6adc4cce-626a-42b7-8309-739d21b48555/enhanced_professional.pdf","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.190Z","level":"info","message":"pdf_generation_attempt","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","generationRunId":"6adc4cce-626a-42b7-8309-739d21b48555","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6adc4cce-626a-42b7-8309-739d21b48555/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6adc4cce-626a-42b7-8309-739d21b48555/cover_letter_cover_modern.pdf","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.196Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","generationRunId":"6adc4cce-626a-42b7-8309-739d21b48555","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6adc4cce-626a-42b7-8309-739d21b48555/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.197Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","generationRunId":"6adc4cce-626a-42b7-8309-739d21b48555","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6adc4cce-626a-42b7-8309-739d21b48555/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6adc4cce-626a-42b7-8309-739d21b48555/cover_letter_cover_modern.pdf","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.198Z","level":"info","message":"pdf_generation_attempt","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","generationRunId":"6adc4cce-626a-42b7-8309-739d21b48555","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6adc4cce-626a-42b7-8309-739d21b48555/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6adc4cce-626a-42b7-8309-739d21b48555/cover_letter_cover_professional.pdf","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.199Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","generationRunId":"6adc4cce-626a-42b7-8309-739d21b48555","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6adc4cce-626a-42b7-8309-739d21b48555/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.199Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","generationRunId":"6adc4cce-626a-42b7-8309-739d21b48555","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6adc4cce-626a-42b7-8309-739d21b48555/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6adc4cce-626a-42b7-8309-739d21b48555/cover_letter_cover_professional.pdf","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.249Z","level":"info","message":"llm_call_metrics","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.253Z","level":"info","message":"generation_completed","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","generationRunId":"6adc4cce-626a-42b7-8309-739d21b48555","enhancedScore":80,"outputs":5,"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.268Z","level":"info","message":"placeholder_record_deleted","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","jobId":"0676ff10-f9fa-4540-b70a-a853b3247045","placeholderIdentifier":"6adc4cce-626a-42b7-8309-739d21b48555","template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0676ff10-f9fa-4540-b70a-a853b3247045","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.282Z","level":"info","message":"http_request_completed","requestId":"6adc4cce-626a-42b7-8309-739d21b48555","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":299,"contentLength":"58133","template":"unknown","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6adc4cce-626a-42b7-8309-739d21b48555","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.314Z","level":"info","message":"http_request_received","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","method":"POST","path":"/api/process-cv","template":"unknown","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.315Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.316Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.320Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.321Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.322Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/1f0d7aa5-6108-4010-8762-84bad92034c3/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/1f0d7aa5-6108-4010-8762-84bad92034c3/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/1f0d7aa5-6108-4010-8762-84bad92034c3/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:18:00.329Z","level":"info","message":"process_cv_started","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","manualJobDescriptionProvided":true,"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.330Z","level":"info","message":"template_selection","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:00.331Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:18:00.331Z","level":"info","message":"initial_upload_completed","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","bucket":"test-bucket","key":"cv/candidate/1f0d7aa5-6108-4010-8762-84bad92034c3/incoming/original.pdf","template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.332Z","level":"info","message":"resume_text_extracted","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","characters":57,"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.332Z","level":"info","message":"resume_classified","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.333Z","level":"info","message":"raw_upload_relocated","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","bucket":"test-bucket","fromKey":"cv/candidate/1f0d7aa5-6108-4010-8762-84bad92034c3/incoming/original.pdf","toKey":"cv/professional_summary/1f0d7aa5-6108-4010-8762-84bad92034c3/original.pdf","template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.334Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","bucket":"test-bucket","key":"cv/professional_summary/1f0d7aa5-6108-4010-8762-84bad92034c3/original.pdf","template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.334Z","level":"info","message":"dynamo_initial_record_written","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","bucket":"test-bucket","key":"cv/professional_summary/1f0d7aa5-6108-4010-8762-84bad92034c3/original.pdf","template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.336Z","level":"info","message":"upload_metadata_written","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","bucket":"test-bucket","key":"cv/professional_summary/1f0d7aa5-6108-4010-8762-84bad92034c3/logs/log.json","template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.336Z","level":"info","message":"job_description_supplied_manually","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","characters":174,"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.336Z","level":"info","message":"job_description_analyzed","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","jobTitle":"","jobSkills":5,"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.337Z","level":"info","message":"resume_skills_analyzed","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.338Z","level":"info","message":"llm_call_metrics","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.339Z","level":"info","message":"process_cv_scoring_completed","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:00.361Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","sample":"not json","template":"unknown","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at Object.error (server.js:3437:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8482:20)
      at generateEnhancedDocumentsResponse (server.js:20120:26)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:00.394Z","level":"info","message":"llm_call_metrics","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.405Z","level":"info","message":"llm_call_metrics","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.406Z","level":"info","message":"generation_section_rewrite_completed","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","generationRunId":"1f0d7aa5-6108-4010-8762-84bad92034c3","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.417Z","level":"info","message":"llm_call_metrics","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"89e63aad97eee35da336c4707bebe46001a38648f790cb26108fe67f8c6eef15","skillCount":5,"template":"project_summary","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:00.463Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","generationRunId":"1f0d7aa5-6108-4010-8762-84bad92034c3","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:00.465Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","generationRunId":"1f0d7aa5-6108-4010-8762-84bad92034c3","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:00.465Z","level":"info","message":"generation_cover_letters_completed","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","generationRunId":"1f0d7aa5-6108-4010-8762-84bad92034c3","variants":2,"fallbackApplied":true,"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.466Z","level":"info","message":"pdf_generation_attempt","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","generationRunId":"1f0d7aa5-6108-4010-8762-84bad92034c3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1f0d7aa5-6108-4010-8762-84bad92034c3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/1f0d7aa5-6108-4010-8762-84bad92034c3/enhanced_modern.pdf","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.467Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","generationRunId":"1f0d7aa5-6108-4010-8762-84bad92034c3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1f0d7aa5-6108-4010-8762-84bad92034c3/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.468Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","generationRunId":"1f0d7aa5-6108-4010-8762-84bad92034c3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1f0d7aa5-6108-4010-8762-84bad92034c3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/1f0d7aa5-6108-4010-8762-84bad92034c3/enhanced_modern.pdf","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.468Z","level":"info","message":"pdf_generation_attempt","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","generationRunId":"1f0d7aa5-6108-4010-8762-84bad92034c3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1f0d7aa5-6108-4010-8762-84bad92034c3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/1f0d7aa5-6108-4010-8762-84bad92034c3/enhanced_professional.pdf","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.469Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","generationRunId":"1f0d7aa5-6108-4010-8762-84bad92034c3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1f0d7aa5-6108-4010-8762-84bad92034c3/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.469Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","generationRunId":"1f0d7aa5-6108-4010-8762-84bad92034c3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1f0d7aa5-6108-4010-8762-84bad92034c3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/1f0d7aa5-6108-4010-8762-84bad92034c3/enhanced_professional.pdf","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.470Z","level":"info","message":"pdf_generation_attempt","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","generationRunId":"1f0d7aa5-6108-4010-8762-84bad92034c3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1f0d7aa5-6108-4010-8762-84bad92034c3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/1f0d7aa5-6108-4010-8762-84bad92034c3/cover_letter_cover_modern.pdf","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.470Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","generationRunId":"1f0d7aa5-6108-4010-8762-84bad92034c3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1f0d7aa5-6108-4010-8762-84bad92034c3/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.471Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","generationRunId":"1f0d7aa5-6108-4010-8762-84bad92034c3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1f0d7aa5-6108-4010-8762-84bad92034c3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/1f0d7aa5-6108-4010-8762-84bad92034c3/cover_letter_cover_modern.pdf","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.471Z","level":"info","message":"pdf_generation_attempt","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","generationRunId":"1f0d7aa5-6108-4010-8762-84bad92034c3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1f0d7aa5-6108-4010-8762-84bad92034c3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/1f0d7aa5-6108-4010-8762-84bad92034c3/cover_letter_cover_professional.pdf","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.472Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","generationRunId":"1f0d7aa5-6108-4010-8762-84bad92034c3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1f0d7aa5-6108-4010-8762-84bad92034c3/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.473Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","generationRunId":"1f0d7aa5-6108-4010-8762-84bad92034c3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1f0d7aa5-6108-4010-8762-84bad92034c3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/1f0d7aa5-6108-4010-8762-84bad92034c3/cover_letter_cover_professional.pdf","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.480Z","level":"info","message":"llm_call_metrics","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.481Z","level":"info","message":"generation_completed","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","generationRunId":"1f0d7aa5-6108-4010-8762-84bad92034c3","enhancedScore":80,"outputs":5,"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.494Z","level":"info","message":"placeholder_record_deleted","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","jobId":"8d603c35-221c-474e-a44e-db08f0f1ad6e","placeholderIdentifier":"1f0d7aa5-6108-4010-8762-84bad92034c3","template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d603c35-221c-474e-a44e-db08f0f1ad6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.534Z","level":"info","message":"http_request_completed","requestId":"1f0d7aa5-6108-4010-8762-84bad92034c3","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":220,"contentLength":"58091","template":"unknown","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1f0d7aa5-6108-4010-8762-84bad92034c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.539Z","level":"info","message":"http_request_received","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","method":"POST","path":"/api/process-cv","template":"unknown","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.540Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.546Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.547Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.554Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.556Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/4fd875ee-f898-4370-b968-21da09a66f8b/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/4fd875ee-f898-4370-b968-21da09a66f8b/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/4fd875ee-f898-4370-b968-21da09a66f8b/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:18:00.563Z","level":"info","message":"process_cv_started","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","manualJobDescriptionProvided":true,"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.564Z","level":"info","message":"template_selection","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:00.564Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:18:00.564Z","level":"info","message":"initial_upload_completed","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","bucket":"test-bucket","key":"cv/candidate/4fd875ee-f898-4370-b968-21da09a66f8b/incoming/original.pdf","template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.565Z","level":"info","message":"resume_text_extracted","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","characters":57,"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.565Z","level":"info","message":"resume_classified","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.566Z","level":"info","message":"raw_upload_relocated","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","bucket":"test-bucket","fromKey":"cv/candidate/4fd875ee-f898-4370-b968-21da09a66f8b/incoming/original.pdf","toKey":"cv/professional_summary/4fd875ee-f898-4370-b968-21da09a66f8b/original.pdf","template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.566Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","bucket":"test-bucket","key":"cv/professional_summary/4fd875ee-f898-4370-b968-21da09a66f8b/original.pdf","template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.566Z","level":"info","message":"dynamo_initial_record_written","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","bucket":"test-bucket","key":"cv/professional_summary/4fd875ee-f898-4370-b968-21da09a66f8b/original.pdf","template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.566Z","level":"info","message":"upload_metadata_written","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","bucket":"test-bucket","key":"cv/professional_summary/4fd875ee-f898-4370-b968-21da09a66f8b/logs/log.json","template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.567Z","level":"info","message":"job_description_supplied_manually","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","characters":174,"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.567Z","level":"info","message":"job_description_analyzed","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","jobTitle":"","jobSkills":5,"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.567Z","level":"info","message":"resume_skills_analyzed","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.568Z","level":"info","message":"llm_call_metrics","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.569Z","level":"info","message":"process_cv_scoring_completed","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.583Z","level":"info","message":"llm_call_metrics","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.583Z","level":"info","message":"generation_section_rewrite_completed","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","generationRunId":"4fd875ee-f898-4370-b968-21da09a66f8b","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.584Z","level":"info","message":"llm_call_metrics","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.584Z","level":"info","message":"llm_call_metrics","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.587Z","level":"info","message":"generation_resume_verified","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","generationRunId":"4fd875ee-f898-4370-b968-21da09a66f8b","template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:00.591Z","level":"error","message":"ai_response_missing_json","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","generationRunId":"4fd875ee-f898-4370-b968-21da09a66f8b","template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at Object.error (server.js:3437:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20402:26)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:00.592Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","generationRunId":"4fd875ee-f898-4370-b968-21da09a66f8b","attempt":1,"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20407:11)
      at server.js:26678:28

    console.error
      {"timestamp":"2025-12-03T13:18:00.593Z","level":"error","message":"ai_response_missing_json","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","generationRunId":"4fd875ee-f898-4370-b968-21da09a66f8b","template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at Object.error (server.js:3437:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20402:26)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:00.593Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","generationRunId":"4fd875ee-f898-4370-b968-21da09a66f8b","attempt":2,"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20407:11)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:00.595Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","generationRunId":"4fd875ee-f898-4370-b968-21da09a66f8b","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:00.595Z","level":"info","message":"generation_cover_letters_completed","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","generationRunId":"4fd875ee-f898-4370-b968-21da09a66f8b","variants":2,"fallbackApplied":true,"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.596Z","level":"info","message":"pdf_generation_attempt","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","generationRunId":"4fd875ee-f898-4370-b968-21da09a66f8b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4fd875ee-f898-4370-b968-21da09a66f8b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4fd875ee-f898-4370-b968-21da09a66f8b/enhanced_modern.pdf","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.597Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","generationRunId":"4fd875ee-f898-4370-b968-21da09a66f8b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4fd875ee-f898-4370-b968-21da09a66f8b/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.597Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","generationRunId":"4fd875ee-f898-4370-b968-21da09a66f8b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4fd875ee-f898-4370-b968-21da09a66f8b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4fd875ee-f898-4370-b968-21da09a66f8b/enhanced_modern.pdf","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.598Z","level":"info","message":"pdf_generation_attempt","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","generationRunId":"4fd875ee-f898-4370-b968-21da09a66f8b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4fd875ee-f898-4370-b968-21da09a66f8b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4fd875ee-f898-4370-b968-21da09a66f8b/enhanced_professional.pdf","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.598Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","generationRunId":"4fd875ee-f898-4370-b968-21da09a66f8b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4fd875ee-f898-4370-b968-21da09a66f8b/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.599Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","generationRunId":"4fd875ee-f898-4370-b968-21da09a66f8b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4fd875ee-f898-4370-b968-21da09a66f8b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4fd875ee-f898-4370-b968-21da09a66f8b/enhanced_professional.pdf","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.599Z","level":"info","message":"pdf_generation_attempt","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","generationRunId":"4fd875ee-f898-4370-b968-21da09a66f8b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4fd875ee-f898-4370-b968-21da09a66f8b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4fd875ee-f898-4370-b968-21da09a66f8b/cover_letter_cover_modern.pdf","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.600Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","generationRunId":"4fd875ee-f898-4370-b968-21da09a66f8b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4fd875ee-f898-4370-b968-21da09a66f8b/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.600Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","generationRunId":"4fd875ee-f898-4370-b968-21da09a66f8b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4fd875ee-f898-4370-b968-21da09a66f8b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4fd875ee-f898-4370-b968-21da09a66f8b/cover_letter_cover_modern.pdf","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.601Z","level":"info","message":"pdf_generation_attempt","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","generationRunId":"4fd875ee-f898-4370-b968-21da09a66f8b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4fd875ee-f898-4370-b968-21da09a66f8b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4fd875ee-f898-4370-b968-21da09a66f8b/cover_letter_cover_professional.pdf","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.601Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","generationRunId":"4fd875ee-f898-4370-b968-21da09a66f8b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4fd875ee-f898-4370-b968-21da09a66f8b/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.603Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","generationRunId":"4fd875ee-f898-4370-b968-21da09a66f8b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4fd875ee-f898-4370-b968-21da09a66f8b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4fd875ee-f898-4370-b968-21da09a66f8b/cover_letter_cover_professional.pdf","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.613Z","level":"info","message":"llm_call_metrics","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.614Z","level":"info","message":"generation_completed","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","generationRunId":"4fd875ee-f898-4370-b968-21da09a66f8b","enhancedScore":80,"outputs":5,"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.616Z","level":"info","message":"placeholder_record_deleted","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","jobId":"98362a7a-996f-41fe-8fc1-4b5155036fc1","placeholderIdentifier":"4fd875ee-f898-4370-b968-21da09a66f8b","template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98362a7a-996f-41fe-8fc1-4b5155036fc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.617Z","level":"info","message":"http_request_completed","requestId":"4fd875ee-f898-4370-b968-21da09a66f8b","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":78,"contentLength":"59498","template":"unknown","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4fd875ee-f898-4370-b968-21da09a66f8b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.627Z","level":"info","message":"http_request_received","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","method":"POST","path":"/api/process-cv","template":"unknown","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.628Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.630Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.631Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.632Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.633Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/faf7f3c2-f57d-4767-b477-d59a0f462f4f/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/faf7f3c2-f57d-4767-b477-d59a0f462f4f/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/faf7f3c2-f57d-4767-b477-d59a0f462f4f/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:18:00.637Z","level":"info","message":"process_cv_started","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","manualJobDescriptionProvided":true,"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.638Z","level":"info","message":"template_selection","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:00.638Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:18:00.638Z","level":"info","message":"initial_upload_completed","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","bucket":"test-bucket","key":"cv/candidate/faf7f3c2-f57d-4767-b477-d59a0f462f4f/incoming/original.pdf","template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.639Z","level":"info","message":"resume_text_extracted","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","characters":57,"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.639Z","level":"info","message":"resume_classified","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.639Z","level":"info","message":"raw_upload_relocated","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","bucket":"test-bucket","fromKey":"cv/candidate/faf7f3c2-f57d-4767-b477-d59a0f462f4f/incoming/original.pdf","toKey":"cv/professional_summary/faf7f3c2-f57d-4767-b477-d59a0f462f4f/original.pdf","template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.640Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","bucket":"test-bucket","key":"cv/professional_summary/faf7f3c2-f57d-4767-b477-d59a0f462f4f/original.pdf","template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.640Z","level":"info","message":"dynamo_initial_record_written","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","bucket":"test-bucket","key":"cv/professional_summary/faf7f3c2-f57d-4767-b477-d59a0f462f4f/original.pdf","template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.641Z","level":"info","message":"upload_metadata_written","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","bucket":"test-bucket","key":"cv/professional_summary/faf7f3c2-f57d-4767-b477-d59a0f462f4f/logs/log.json","template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.641Z","level":"info","message":"job_description_supplied_manually","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","characters":174,"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.641Z","level":"info","message":"job_description_analyzed","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","jobTitle":"","jobSkills":5,"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.642Z","level":"info","message":"resume_skills_analyzed","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.643Z","level":"info","message":"llm_call_metrics","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.643Z","level":"info","message":"process_cv_scoring_completed","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.652Z","level":"info","message":"llm_call_metrics","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":5,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.652Z","level":"info","message":"generation_section_rewrite_completed","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","generationRunId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.655Z","level":"info","message":"llm_call_metrics","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.666Z","level":"info","message":"llm_call_metrics","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.669Z","level":"info","message":"generation_resume_verified","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","generationRunId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:00.674Z","level":"error","message":"ai_response_missing_json","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","generationRunId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at Object.error (server.js:3437:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20402:26)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:00.674Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","generationRunId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","attempt":1,"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20407:11)
      at server.js:26678:28

    console.error
      {"timestamp":"2025-12-03T13:18:00.675Z","level":"error","message":"ai_response_missing_json","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","generationRunId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at Object.error (server.js:3437:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20402:26)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:00.675Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","generationRunId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","attempt":2,"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20407:11)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:00.677Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","generationRunId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:00.680Z","level":"info","message":"generation_cover_letters_completed","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","generationRunId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","variants":2,"fallbackApplied":true,"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.681Z","level":"info","message":"pdf_generation_attempt","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","generationRunId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/faf7f3c2-f57d-4767-b477-d59a0f462f4f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/faf7f3c2-f57d-4767-b477-d59a0f462f4f/enhanced_modern.pdf","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.682Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","generationRunId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/faf7f3c2-f57d-4767-b477-d59a0f462f4f/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.682Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","generationRunId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/faf7f3c2-f57d-4767-b477-d59a0f462f4f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/faf7f3c2-f57d-4767-b477-d59a0f462f4f/enhanced_modern.pdf","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.683Z","level":"info","message":"pdf_generation_attempt","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","generationRunId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/faf7f3c2-f57d-4767-b477-d59a0f462f4f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/faf7f3c2-f57d-4767-b477-d59a0f462f4f/enhanced_professional.pdf","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.683Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","generationRunId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/faf7f3c2-f57d-4767-b477-d59a0f462f4f/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.684Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","generationRunId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/faf7f3c2-f57d-4767-b477-d59a0f462f4f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/faf7f3c2-f57d-4767-b477-d59a0f462f4f/enhanced_professional.pdf","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.684Z","level":"info","message":"pdf_generation_attempt","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","generationRunId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/faf7f3c2-f57d-4767-b477-d59a0f462f4f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/faf7f3c2-f57d-4767-b477-d59a0f462f4f/cover_letter_cover_modern.pdf","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.685Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","generationRunId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/faf7f3c2-f57d-4767-b477-d59a0f462f4f/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.685Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","generationRunId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/faf7f3c2-f57d-4767-b477-d59a0f462f4f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/faf7f3c2-f57d-4767-b477-d59a0f462f4f/cover_letter_cover_modern.pdf","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.686Z","level":"info","message":"pdf_generation_attempt","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","generationRunId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/faf7f3c2-f57d-4767-b477-d59a0f462f4f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/faf7f3c2-f57d-4767-b477-d59a0f462f4f/cover_letter_cover_professional.pdf","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.688Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","generationRunId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/faf7f3c2-f57d-4767-b477-d59a0f462f4f/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.693Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","generationRunId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/faf7f3c2-f57d-4767-b477-d59a0f462f4f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/faf7f3c2-f57d-4767-b477-d59a0f462f4f/cover_letter_cover_professional.pdf","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.698Z","level":"info","message":"llm_call_metrics","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.699Z","level":"info","message":"generation_completed","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","generationRunId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","enhancedScore":80,"outputs":5,"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.701Z","level":"info","message":"placeholder_record_deleted","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","jobId":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","placeholderIdentifier":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9fb737ef-0b9a-4d59-97f2-f1901a54ab4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.702Z","level":"info","message":"http_request_completed","requestId":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":75,"contentLength":"59498","template":"unknown","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"faf7f3c2-f57d-4767-b477-d59a0f462f4f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.712Z","level":"info","message":"http_request_received","requestId":"b8c125f2-5656-421b-aa90-84d533926134","method":"POST","path":"/api/process-cv","template":"unknown","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.713Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.713Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.714Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.715Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.716Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/b8c125f2-5656-421b-aa90-84d533926134/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/b8c125f2-5656-421b-aa90-84d533926134/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/b8c125f2-5656-421b-aa90-84d533926134/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:18:00.721Z","level":"info","message":"process_cv_started","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","manualJobDescriptionProvided":true,"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.721Z","level":"info","message":"template_selection","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:00.722Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:18:00.722Z","level":"info","message":"initial_upload_completed","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","bucket":"test-bucket","key":"cv/candidate/b8c125f2-5656-421b-aa90-84d533926134/incoming/original.pdf","template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.724Z","level":"info","message":"resume_text_extracted","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","characters":57,"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.724Z","level":"info","message":"resume_classified","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.725Z","level":"info","message":"raw_upload_relocated","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","bucket":"test-bucket","fromKey":"cv/candidate/b8c125f2-5656-421b-aa90-84d533926134/incoming/original.pdf","toKey":"cv/professional_summary/b8c125f2-5656-421b-aa90-84d533926134/original.pdf","template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.725Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","bucket":"test-bucket","key":"cv/professional_summary/b8c125f2-5656-421b-aa90-84d533926134/original.pdf","template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.726Z","level":"info","message":"dynamo_initial_record_written","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","bucket":"test-bucket","key":"cv/professional_summary/b8c125f2-5656-421b-aa90-84d533926134/original.pdf","template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.726Z","level":"info","message":"upload_metadata_written","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","bucket":"test-bucket","key":"cv/professional_summary/b8c125f2-5656-421b-aa90-84d533926134/logs/log.json","template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.726Z","level":"info","message":"job_description_supplied_manually","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","characters":174,"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.727Z","level":"info","message":"job_description_analyzed","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","jobTitle":"","jobSkills":5,"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.727Z","level":"info","message":"resume_skills_analyzed","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.728Z","level":"info","message":"llm_call_metrics","requestId":"b8c125f2-5656-421b-aa90-84d533926134","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.728Z","level":"info","message":"process_cv_scoring_completed","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:00.732Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"b8c125f2-5656-421b-aa90-84d533926134","template":"unknown","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at Object.error (server.js:3437:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8482:20)
      at generateEnhancedDocumentsResponse (server.js:20120:26)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:00.732Z","level":"info","message":"llm_call_metrics","requestId":"b8c125f2-5656-421b-aa90-84d533926134","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.734Z","level":"info","message":"llm_call_metrics","requestId":"b8c125f2-5656-421b-aa90-84d533926134","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.734Z","level":"info","message":"generation_section_rewrite_completed","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","generationRunId":"b8c125f2-5656-421b-aa90-84d533926134","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.735Z","level":"info","message":"llm_call_metrics","requestId":"b8c125f2-5656-421b-aa90-84d533926134","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.735Z","level":"info","message":"llm_call_metrics","requestId":"b8c125f2-5656-421b-aa90-84d533926134","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:00.740Z","level":"error","message":"ai_response_missing_json","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","generationRunId":"b8c125f2-5656-421b-aa90-84d533926134","template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at Object.error (server.js:3437:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20402:26)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:00.741Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","generationRunId":"b8c125f2-5656-421b-aa90-84d533926134","attempt":1,"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20407:11)
      at server.js:26678:28

    console.error
      {"timestamp":"2025-12-03T13:18:00.742Z","level":"error","message":"ai_response_missing_json","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","generationRunId":"b8c125f2-5656-421b-aa90-84d533926134","template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at Object.error (server.js:3437:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20402:26)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:00.743Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","generationRunId":"b8c125f2-5656-421b-aa90-84d533926134","attempt":2,"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20407:11)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:00.744Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","generationRunId":"b8c125f2-5656-421b-aa90-84d533926134","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:00.744Z","level":"info","message":"generation_cover_letters_completed","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","generationRunId":"b8c125f2-5656-421b-aa90-84d533926134","variants":2,"fallbackApplied":true,"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.745Z","level":"info","message":"pdf_generation_attempt","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","generationRunId":"b8c125f2-5656-421b-aa90-84d533926134","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b8c125f2-5656-421b-aa90-84d533926134/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b8c125f2-5656-421b-aa90-84d533926134/enhanced_modern.pdf","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.746Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","generationRunId":"b8c125f2-5656-421b-aa90-84d533926134","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b8c125f2-5656-421b-aa90-84d533926134/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.746Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","generationRunId":"b8c125f2-5656-421b-aa90-84d533926134","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b8c125f2-5656-421b-aa90-84d533926134/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b8c125f2-5656-421b-aa90-84d533926134/enhanced_modern.pdf","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.747Z","level":"info","message":"pdf_generation_attempt","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","generationRunId":"b8c125f2-5656-421b-aa90-84d533926134","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b8c125f2-5656-421b-aa90-84d533926134/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b8c125f2-5656-421b-aa90-84d533926134/enhanced_professional.pdf","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.748Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","generationRunId":"b8c125f2-5656-421b-aa90-84d533926134","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b8c125f2-5656-421b-aa90-84d533926134/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.748Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","generationRunId":"b8c125f2-5656-421b-aa90-84d533926134","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b8c125f2-5656-421b-aa90-84d533926134/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b8c125f2-5656-421b-aa90-84d533926134/enhanced_professional.pdf","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.749Z","level":"info","message":"pdf_generation_attempt","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","generationRunId":"b8c125f2-5656-421b-aa90-84d533926134","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b8c125f2-5656-421b-aa90-84d533926134/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b8c125f2-5656-421b-aa90-84d533926134/cover_letter_cover_modern.pdf","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.774Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","generationRunId":"b8c125f2-5656-421b-aa90-84d533926134","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b8c125f2-5656-421b-aa90-84d533926134/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.775Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","generationRunId":"b8c125f2-5656-421b-aa90-84d533926134","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b8c125f2-5656-421b-aa90-84d533926134/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b8c125f2-5656-421b-aa90-84d533926134/cover_letter_cover_modern.pdf","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.779Z","level":"info","message":"pdf_generation_attempt","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","generationRunId":"b8c125f2-5656-421b-aa90-84d533926134","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b8c125f2-5656-421b-aa90-84d533926134/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b8c125f2-5656-421b-aa90-84d533926134/cover_letter_cover_professional.pdf","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.780Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","generationRunId":"b8c125f2-5656-421b-aa90-84d533926134","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b8c125f2-5656-421b-aa90-84d533926134/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.780Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","generationRunId":"b8c125f2-5656-421b-aa90-84d533926134","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b8c125f2-5656-421b-aa90-84d533926134/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b8c125f2-5656-421b-aa90-84d533926134/cover_letter_cover_professional.pdf","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.784Z","level":"info","message":"llm_call_metrics","requestId":"b8c125f2-5656-421b-aa90-84d533926134","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.785Z","level":"info","message":"generation_completed","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","generationRunId":"b8c125f2-5656-421b-aa90-84d533926134","enhancedScore":80,"outputs":5,"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.787Z","level":"info","message":"placeholder_record_deleted","requestId":"b8c125f2-5656-421b-aa90-84d533926134","jobId":"89eeaa8d-617f-4282-a528-129382585833","placeholderIdentifier":"b8c125f2-5656-421b-aa90-84d533926134","template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"89eeaa8d-617f-4282-a528-129382585833","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.792Z","level":"info","message":"http_request_completed","requestId":"b8c125f2-5656-421b-aa90-84d533926134","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":80,"contentLength":"58301","template":"unknown","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8c125f2-5656-421b-aa90-84d533926134","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.819Z","level":"info","message":"http_request_received","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","method":"POST","path":"/api/process-cv","template":"unknown","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.821Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.829Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.836Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.847Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.859Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/a003d797-e842-424a-bbd9-6f16e8094d79/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/a003d797-e842-424a-bbd9-6f16e8094d79/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/a003d797-e842-424a-bbd9-6f16e8094d79/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:18:00.866Z","level":"info","message":"process_cv_started","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","manualJobDescriptionProvided":true,"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.867Z","level":"info","message":"template_selection","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:00.867Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:18:00.867Z","level":"info","message":"initial_upload_completed","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","bucket":"test-bucket","key":"cv/candidate/a003d797-e842-424a-bbd9-6f16e8094d79/incoming/original.pdf","template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.868Z","level":"info","message":"resume_text_extracted","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","characters":57,"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.868Z","level":"info","message":"resume_classified","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.868Z","level":"info","message":"raw_upload_relocated","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","bucket":"test-bucket","fromKey":"cv/candidate/a003d797-e842-424a-bbd9-6f16e8094d79/incoming/original.pdf","toKey":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/original.pdf","template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.868Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","bucket":"test-bucket","key":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/original.pdf","template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.869Z","level":"info","message":"dynamo_initial_record_written","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","bucket":"test-bucket","key":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/original.pdf","template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.869Z","level":"info","message":"upload_metadata_written","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","bucket":"test-bucket","key":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/logs/log.json","template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.869Z","level":"info","message":"job_description_supplied_manually","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","characters":174,"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.870Z","level":"info","message":"job_description_analyzed","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","jobTitle":"","jobSkills":5,"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.870Z","level":"info","message":"resume_skills_analyzed","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.871Z","level":"info","message":"llm_call_metrics","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.872Z","level":"info","message":"process_cv_scoring_completed","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:00.876Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","template":"unknown","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at Object.error (server.js:3437:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8482:20)
      at generateEnhancedDocumentsResponse (server.js:20120:26)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:00.876Z","level":"info","message":"llm_call_metrics","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.877Z","level":"info","message":"llm_call_metrics","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.877Z","level":"info","message":"generation_section_rewrite_completed","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","generationRunId":"a003d797-e842-424a-bbd9-6f16e8094d79","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.877Z","level":"info","message":"llm_call_metrics","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.878Z","level":"info","message":"llm_call_metrics","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:00.882Z","level":"error","message":"ai_response_missing_json","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","generationRunId":"a003d797-e842-424a-bbd9-6f16e8094d79","template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at Object.error (server.js:3437:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20402:26)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:00.883Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","generationRunId":"a003d797-e842-424a-bbd9-6f16e8094d79","attempt":1,"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20407:11)
      at server.js:26678:28

    console.error
      {"timestamp":"2025-12-03T13:18:00.883Z","level":"error","message":"ai_response_missing_json","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","generationRunId":"a003d797-e842-424a-bbd9-6f16e8094d79","template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at Object.error (server.js:3437:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20402:26)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:00.884Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","generationRunId":"a003d797-e842-424a-bbd9-6f16e8094d79","attempt":2,"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20407:11)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:00.885Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","generationRunId":"a003d797-e842-424a-bbd9-6f16e8094d79","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:00.885Z","level":"info","message":"generation_cover_letters_completed","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","generationRunId":"a003d797-e842-424a-bbd9-6f16e8094d79","variants":2,"fallbackApplied":true,"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.886Z","level":"info","message":"pdf_generation_attempt","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","generationRunId":"a003d797-e842-424a-bbd9-6f16e8094d79","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/enhanced_modern.pdf","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.886Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","generationRunId":"a003d797-e842-424a-bbd9-6f16e8094d79","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.889Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","generationRunId":"a003d797-e842-424a-bbd9-6f16e8094d79","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/enhanced_modern.pdf","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.890Z","level":"info","message":"pdf_generation_attempt","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","generationRunId":"a003d797-e842-424a-bbd9-6f16e8094d79","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/enhanced_professional.pdf","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.890Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","generationRunId":"a003d797-e842-424a-bbd9-6f16e8094d79","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.890Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","generationRunId":"a003d797-e842-424a-bbd9-6f16e8094d79","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/enhanced_professional.pdf","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.894Z","level":"info","message":"pdf_generation_attempt","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","generationRunId":"a003d797-e842-424a-bbd9-6f16e8094d79","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/cover_letter_cover_modern.pdf","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.894Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","generationRunId":"a003d797-e842-424a-bbd9-6f16e8094d79","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.895Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","generationRunId":"a003d797-e842-424a-bbd9-6f16e8094d79","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/cover_letter_cover_modern.pdf","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.896Z","level":"info","message":"pdf_generation_attempt","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","generationRunId":"a003d797-e842-424a-bbd9-6f16e8094d79","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/cover_letter_cover_professional.pdf","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.896Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","generationRunId":"a003d797-e842-424a-bbd9-6f16e8094d79","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.897Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","generationRunId":"a003d797-e842-424a-bbd9-6f16e8094d79","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/cover_letter_cover_professional.pdf","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:00.898Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","generationRunId":"a003d797-e842-424a-bbd9-6f16e8094d79","artifactType":"original_upload","storageKey":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/original.pdf","template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","metadata":{"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"original_upload"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:21808:9)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:00.899Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","generationRunId":"a003d797-e842-424a-bbd9-6f16e8094d79","artifactType":"version1","storageKey":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/modern/version1.pdf","template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","metadata":{"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"version1"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:21808:9)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:00.899Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","generationRunId":"a003d797-e842-424a-bbd9-6f16e8094d79","artifactType":"version2","storageKey":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/professional/version2.pdf","template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","metadata":{"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"version2"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:21808:9)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:00.900Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","generationRunId":"a003d797-e842-424a-bbd9-6f16e8094d79","artifactType":"cover_letter1","storageKey":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/cover_modern/cover_letter1.pdf","template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","metadata":{"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"cover_letter1"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:21808:9)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:00.900Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","generationRunId":"a003d797-e842-424a-bbd9-6f16e8094d79","artifactType":"cover_letter2","storageKey":"cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/cover_professional/cover_letter2.pdf","template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","metadata":{"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"cover_letter2"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:21808:9)
      at server.js:26678:28

    console.error
      {"timestamp":"2025-12-03T13:18:00.909Z","level":"error","message":"generation_urls_missing","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","generationRunId":"a003d797-e842-424a-bbd9-6f16e8094d79","requestedUrlCount":0,"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:21909:7)
      at server.js:26678:28

    console.error
      {"timestamp":"2025-12-03T13:18:00.910Z","level":"error","message":"api_error_response","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","status":500,"error":{"code":"AI_RESPONSE_INVALID","message":"Unable to prepare download links for the generated documents.","details":{"logs":{"s3":{"bucket":"test-bucket","key":"logs/errors/2025-12-03/2025-12-03t13-18-00-910z-a003d797-e842-424a-bbd9-6f16e8094d79.json","status":"pending"}}},"requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be"},"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at sendError (server.js:3925:3)
      at generateEnhancedDocumentsResponse (server.js:21913:7)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:00.923Z","level":"warn","message":"generation_artifacts_cleaned_up","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","jobId":"f531fe1e-9e38-4471-b312-545535d193be","generationRunId":"a003d797-e842-424a-bbd9-6f16e8094d79","reason":"no_valid_urls","deletedKeys":["cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/modern/version1.pdf","cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/professional/version2.pdf","cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/cover_modern/cover_letter1.pdf","cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/cover_professional/cover_letter2.pdf","cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/artifacts/original.json","cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/artifacts/version1.json","cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/artifacts/version2.json","cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/artifacts/cover-letter1.json","cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/artifacts/cover-letter2.json","cv/professional_summary/a003d797-e842-424a-bbd9-6f16e8094d79/artifacts/changelog.json"],"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f531fe1e-9e38-4471-b312-545535d193be","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:19836:9
      at generateEnhancedDocumentsResponse (server.js:22441:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:00.924Z","level":"info","message":"http_request_completed","requestId":"a003d797-e842-424a-bbd9-6f16e8094d79","method":"POST","path":"/api/process-cv","statusCode":500,"durationMs":105,"contentLength":"396","template":"unknown","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a003d797-e842-424a-bbd9-6f16e8094d79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.947Z","level":"info","message":"http_request_received","requestId":"fd64283f-c9d9-416f-a5b6-b8a3df500a48","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"fd64283f-c9d9-416f-a5b6-b8a3df500a48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fd64283f-c9d9-416f-a5b6-b8a3df500a48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.948Z","level":"info","message":"path_restoration_debug","reqPath":"/api/refresh-download-link","reqUrl":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.949Z","level":"info","message":"request_received","path":"/api/refresh-download-link","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.950Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.960Z","level":"info","message":"client_app_routes_entered","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.961Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.963Z","level":"info","message":"http_request_completed","requestId":"fd64283f-c9d9-416f-a5b6-b8a3df500a48","method":"POST","path":"/api/refresh-download-link","statusCode":200,"durationMs":16,"contentLength":"232","template":"unknown","session":"fd64283f-c9d9-416f-a5b6-b8a3df500a48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fd64283f-c9d9-416f-a5b6-b8a3df500a48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.966Z","level":"info","message":"http_request_received","requestId":"9139bdd0-0a3c-4c93-ae99-f15c69ccd59a","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"9139bdd0-0a3c-4c93-ae99-f15c69ccd59a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9139bdd0-0a3c-4c93-ae99-f15c69ccd59a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.967Z","level":"info","message":"path_restoration_debug","reqPath":"/api/refresh-download-link","reqUrl":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.968Z","level":"info","message":"request_received","path":"/api/refresh-download-link","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.968Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.970Z","level":"info","message":"client_app_routes_entered","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.971Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:00.971Z","level":"warn","message":"api_error_response","requestId":"9139bdd0-0a3c-4c93-ae99-f15c69ccd59a","jobId":"job-123","status":404,"error":{"code":"DOWNLOAD_NOT_FOUND","message":"The requested download link is no longer available.","details":{},"requestId":"9139bdd0-0a3c-4c93-ae99-f15c69ccd59a","jobId":"job-123"},"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at sendError (server.js:3925:3)
      at server.js:24546:12

    console.log
      {"timestamp":"2025-12-03T13:18:00.972Z","level":"info","message":"http_request_completed","requestId":"9139bdd0-0a3c-4c93-ae99-f15c69ccd59a","method":"POST","path":"/api/refresh-download-link","statusCode":404,"durationMs":6,"contentLength":"201","template":"unknown","session":"9139bdd0-0a3c-4c93-ae99-f15c69ccd59a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9139bdd0-0a3c-4c93-ae99-f15c69ccd59a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.978Z","level":"info","message":"http_request_received","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","method":"POST","path":"/api/process-cv","template":"unknown","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.979Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.980Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.980Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.981Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.982Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/dd081416-1db3-4150-98f6-c041cb9bbf39/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/dd081416-1db3-4150-98f6-c041cb9bbf39/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/dd081416-1db3-4150-98f6-c041cb9bbf39/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:18:00.985Z","level":"info","message":"process_cv_started","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","manualJobDescriptionProvided":true,"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.986Z","level":"info","message":"template_selection","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:00.986Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:18:00.987Z","level":"info","message":"initial_upload_completed","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","bucket":"test-bucket","key":"cv/candidate/dd081416-1db3-4150-98f6-c041cb9bbf39/incoming/original.pdf","template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.987Z","level":"info","message":"resume_text_extracted","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","characters":57,"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.987Z","level":"info","message":"resume_classified","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.987Z","level":"info","message":"raw_upload_relocated","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","bucket":"test-bucket","fromKey":"cv/candidate/dd081416-1db3-4150-98f6-c041cb9bbf39/incoming/original.pdf","toKey":"cv/professional_summary/dd081416-1db3-4150-98f6-c041cb9bbf39/original.pdf","template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.988Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","bucket":"test-bucket","key":"cv/professional_summary/dd081416-1db3-4150-98f6-c041cb9bbf39/original.pdf","template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.988Z","level":"info","message":"dynamo_initial_record_written","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","bucket":"test-bucket","key":"cv/professional_summary/dd081416-1db3-4150-98f6-c041cb9bbf39/original.pdf","template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.988Z","level":"info","message":"upload_metadata_written","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","bucket":"test-bucket","key":"cv/professional_summary/dd081416-1db3-4150-98f6-c041cb9bbf39/logs/log.json","template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.988Z","level":"info","message":"job_description_supplied_manually","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","characters":174,"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.989Z","level":"info","message":"job_description_analyzed","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","jobTitle":"","jobSkills":5,"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.989Z","level":"info","message":"resume_skills_analyzed","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.990Z","level":"info","message":"llm_call_metrics","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.990Z","level":"info","message":"process_cv_scoring_completed","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:00.993Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","template":"unknown","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at Object.error (server.js:3437:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8482:20)
      at generateEnhancedDocumentsResponse (server.js:20120:26)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:00.993Z","level":"info","message":"llm_call_metrics","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.994Z","level":"info","message":"llm_call_metrics","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.994Z","level":"info","message":"generation_section_rewrite_completed","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","generationRunId":"dd081416-1db3-4150-98f6-c041cb9bbf39","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.995Z","level":"info","message":"llm_call_metrics","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:00.996Z","level":"info","message":"llm_call_metrics","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:01.001Z","level":"error","message":"ai_response_missing_json","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","generationRunId":"dd081416-1db3-4150-98f6-c041cb9bbf39","template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at Object.error (server.js:3437:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20402:26)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:01.003Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","generationRunId":"dd081416-1db3-4150-98f6-c041cb9bbf39","attempt":1,"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20407:11)
      at server.js:26678:28

    console.error
      {"timestamp":"2025-12-03T13:18:01.007Z","level":"error","message":"ai_response_missing_json","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","generationRunId":"dd081416-1db3-4150-98f6-c041cb9bbf39","template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at Object.error (server.js:3437:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20402:26)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:01.008Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","generationRunId":"dd081416-1db3-4150-98f6-c041cb9bbf39","attempt":2,"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20407:11)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:01.016Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","generationRunId":"dd081416-1db3-4150-98f6-c041cb9bbf39","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:01.016Z","level":"info","message":"generation_cover_letters_completed","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","generationRunId":"dd081416-1db3-4150-98f6-c041cb9bbf39","variants":2,"fallbackApplied":true,"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.018Z","level":"info","message":"pdf_generation_attempt","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","generationRunId":"dd081416-1db3-4150-98f6-c041cb9bbf39","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/dd081416-1db3-4150-98f6-c041cb9bbf39/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/dd081416-1db3-4150-98f6-c041cb9bbf39/enhanced_modern.pdf","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.019Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","generationRunId":"dd081416-1db3-4150-98f6-c041cb9bbf39","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/dd081416-1db3-4150-98f6-c041cb9bbf39/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.019Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","generationRunId":"dd081416-1db3-4150-98f6-c041cb9bbf39","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/dd081416-1db3-4150-98f6-c041cb9bbf39/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/dd081416-1db3-4150-98f6-c041cb9bbf39/enhanced_modern.pdf","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.027Z","level":"info","message":"pdf_generation_attempt","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","generationRunId":"dd081416-1db3-4150-98f6-c041cb9bbf39","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/dd081416-1db3-4150-98f6-c041cb9bbf39/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/dd081416-1db3-4150-98f6-c041cb9bbf39/enhanced_professional.pdf","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.028Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","generationRunId":"dd081416-1db3-4150-98f6-c041cb9bbf39","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/dd081416-1db3-4150-98f6-c041cb9bbf39/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.030Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","generationRunId":"dd081416-1db3-4150-98f6-c041cb9bbf39","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/dd081416-1db3-4150-98f6-c041cb9bbf39/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/dd081416-1db3-4150-98f6-c041cb9bbf39/enhanced_professional.pdf","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.031Z","level":"info","message":"pdf_generation_attempt","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","generationRunId":"dd081416-1db3-4150-98f6-c041cb9bbf39","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/dd081416-1db3-4150-98f6-c041cb9bbf39/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/dd081416-1db3-4150-98f6-c041cb9bbf39/cover_letter_cover_modern.pdf","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.031Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","generationRunId":"dd081416-1db3-4150-98f6-c041cb9bbf39","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/dd081416-1db3-4150-98f6-c041cb9bbf39/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.032Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","generationRunId":"dd081416-1db3-4150-98f6-c041cb9bbf39","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/dd081416-1db3-4150-98f6-c041cb9bbf39/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/dd081416-1db3-4150-98f6-c041cb9bbf39/cover_letter_cover_modern.pdf","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.033Z","level":"info","message":"pdf_generation_attempt","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","generationRunId":"dd081416-1db3-4150-98f6-c041cb9bbf39","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/dd081416-1db3-4150-98f6-c041cb9bbf39/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/dd081416-1db3-4150-98f6-c041cb9bbf39/cover_letter_cover_professional.pdf","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.033Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","generationRunId":"dd081416-1db3-4150-98f6-c041cb9bbf39","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/dd081416-1db3-4150-98f6-c041cb9bbf39/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.033Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","generationRunId":"dd081416-1db3-4150-98f6-c041cb9bbf39","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/dd081416-1db3-4150-98f6-c041cb9bbf39/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/dd081416-1db3-4150-98f6-c041cb9bbf39/cover_letter_cover_professional.pdf","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.036Z","level":"info","message":"llm_call_metrics","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.037Z","level":"info","message":"generation_completed","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","generationRunId":"dd081416-1db3-4150-98f6-c041cb9bbf39","enhancedScore":80,"outputs":5,"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.038Z","level":"info","message":"placeholder_record_deleted","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","jobId":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","placeholderIdentifier":"dd081416-1db3-4150-98f6-c041cb9bbf39","template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c89aa6c-18ea-4ca1-a316-6d2bbb070148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.040Z","level":"info","message":"http_request_completed","requestId":"dd081416-1db3-4150-98f6-c041cb9bbf39","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":62,"contentLength":"58301","template":"unknown","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dd081416-1db3-4150-98f6-c041cb9bbf39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.055Z","level":"info","message":"http_request_received","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","method":"POST","path":"/api/process-cv","template":"unknown","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.056Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.057Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.058Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.060Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.061Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:18:01.066Z","level":"info","message":"process_cv_started","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","manualJobDescriptionProvided":true,"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.067Z","level":"info","message":"template_selection","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:01.068Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:18:01.068Z","level":"info","message":"initial_upload_completed","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","bucket":"test-bucket","key":"cv/candidate/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/incoming/original.pdf","template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.068Z","level":"info","message":"resume_text_extracted","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","characters":57,"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.069Z","level":"info","message":"resume_classified","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.070Z","level":"info","message":"raw_upload_relocated","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","bucket":"test-bucket","fromKey":"cv/candidate/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/incoming/original.pdf","toKey":"cv/professional_summary/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/original.pdf","template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.070Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","bucket":"test-bucket","key":"cv/professional_summary/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/original.pdf","template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.070Z","level":"info","message":"dynamo_initial_record_written","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","bucket":"test-bucket","key":"cv/professional_summary/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/original.pdf","template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.071Z","level":"info","message":"upload_metadata_written","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","bucket":"test-bucket","key":"cv/professional_summary/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/logs/log.json","template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.071Z","level":"info","message":"job_description_supplied_manually","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","characters":174,"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.071Z","level":"info","message":"job_description_analyzed","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","jobTitle":"","jobSkills":5,"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.072Z","level":"info","message":"resume_skills_analyzed","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.072Z","level":"info","message":"llm_call_metrics","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.073Z","level":"info","message":"process_cv_scoring_completed","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.098Z","level":"info","message":"llm_call_metrics","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.099Z","level":"info","message":"generation_section_rewrite_completed","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","generationRunId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.102Z","level":"info","message":"llm_call_metrics","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.172Z","level":"info","message":"generation_resume_verified","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","generationRunId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:01.177Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","generationRunId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:01.191Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","generationRunId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:01.194Z","level":"info","message":"generation_cover_letters_completed","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","generationRunId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","variants":2,"fallbackApplied":true,"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.196Z","level":"info","message":"pdf_generation_attempt","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","generationRunId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/enhanced_modern.pdf","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.203Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","generationRunId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.204Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","generationRunId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/enhanced_modern.pdf","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.207Z","level":"info","message":"pdf_generation_attempt","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","generationRunId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/enhanced_professional.pdf","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.207Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","generationRunId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.208Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","generationRunId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/enhanced_professional.pdf","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.208Z","level":"info","message":"pdf_generation_attempt","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","generationRunId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/cover_letter_cover_modern.pdf","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.209Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","generationRunId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.210Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","generationRunId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/cover_letter_cover_modern.pdf","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.218Z","level":"info","message":"pdf_generation_attempt","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","generationRunId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/cover_letter_cover_professional.pdf","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.218Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","generationRunId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.219Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","generationRunId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f8d9a7c9-8c39-426e-b5a0-8f5be06038a0/cover_letter_cover_professional.pdf","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.223Z","level":"info","message":"llm_call_metrics","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.225Z","level":"info","message":"generation_completed","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","generationRunId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","enhancedScore":80,"outputs":5,"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.226Z","level":"info","message":"placeholder_record_deleted","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","jobId":"d79bb36f-3594-4521-a42f-177987e8b11f","placeholderIdentifier":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d79bb36f-3594-4521-a42f-177987e8b11f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.228Z","level":"info","message":"http_request_completed","requestId":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":173,"contentLength":"58133","template":"unknown","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f8d9a7c9-8c39-426e-b5a0-8f5be06038a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.239Z","level":"info","message":"http_request_received","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","method":"POST","path":"/api/process-cv","template":"unknown","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.240Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.242Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.243Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.245Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.247Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/b000e308-e19e-4316-9efa-aa9c66e8552f/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/b000e308-e19e-4316-9efa-aa9c66e8552f/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/b000e308-e19e-4316-9efa-aa9c66e8552f/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:18:01.253Z","level":"info","message":"process_cv_started","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","manualJobDescriptionProvided":true,"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.253Z","level":"info","message":"template_selection","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","template1":"classic","template2":"ats","coverTemplate1":"cover_classic","coverTemplate2":"cover_ats","availableCvTemplates":["classic","ats","modern","professional","2025"],"availableCoverTemplates":["cover_classic","cover_ats","cover_modern","cover_professional","cover_2025"],"template":"classic","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:01.254Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:18:01.255Z","level":"info","message":"initial_upload_completed","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","bucket":"test-bucket","key":"cv/candidate/b000e308-e19e-4316-9efa-aa9c66e8552f/incoming/original.pdf","template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.255Z","level":"info","message":"resume_text_extracted","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","characters":57,"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.255Z","level":"info","message":"resume_classified","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.256Z","level":"info","message":"raw_upload_relocated","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","bucket":"test-bucket","fromKey":"cv/candidate/b000e308-e19e-4316-9efa-aa9c66e8552f/incoming/original.pdf","toKey":"cv/professional_summary/b000e308-e19e-4316-9efa-aa9c66e8552f/original.pdf","template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.256Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","bucket":"test-bucket","key":"cv/professional_summary/b000e308-e19e-4316-9efa-aa9c66e8552f/original.pdf","template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.264Z","level":"info","message":"dynamo_initial_record_written","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","bucket":"test-bucket","key":"cv/professional_summary/b000e308-e19e-4316-9efa-aa9c66e8552f/original.pdf","template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.265Z","level":"info","message":"upload_metadata_written","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","bucket":"test-bucket","key":"cv/professional_summary/b000e308-e19e-4316-9efa-aa9c66e8552f/logs/log.json","template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.267Z","level":"info","message":"job_description_supplied_manually","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","characters":174,"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.267Z","level":"info","message":"job_description_analyzed","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","jobTitle":"","jobSkills":5,"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.268Z","level":"info","message":"resume_skills_analyzed","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.269Z","level":"info","message":"llm_call_metrics","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.273Z","level":"info","message":"process_cv_scoring_completed","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.280Z","level":"info","message":"llm_call_metrics","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.281Z","level":"info","message":"generation_section_rewrite_completed","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","generationRunId":"b000e308-e19e-4316-9efa-aa9c66e8552f","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.281Z","level":"info","message":"llm_call_metrics","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.295Z","level":"info","message":"generation_resume_verified","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","generationRunId":"b000e308-e19e-4316-9efa-aa9c66e8552f","template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:01.303Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","generationRunId":"b000e308-e19e-4316-9efa-aa9c66e8552f","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:01.307Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","generationRunId":"b000e308-e19e-4316-9efa-aa9c66e8552f","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:01.308Z","level":"info","message":"generation_cover_letters_completed","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","generationRunId":"b000e308-e19e-4316-9efa-aa9c66e8552f","variants":2,"fallbackApplied":true,"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.309Z","level":"info","message":"pdf_generation_attempt","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","generationRunId":"b000e308-e19e-4316-9efa-aa9c66e8552f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b000e308-e19e-4316-9efa-aa9c66e8552f/","sessionId":"[REDACTED]","template":"classic","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/b000e308-e19e-4316-9efa-aa9c66e8552f/enhanced_classic.pdf","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.310Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","generationRunId":"b000e308-e19e-4316-9efa-aa9c66e8552f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b000e308-e19e-4316-9efa-aa9c66e8552f/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.311Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","generationRunId":"b000e308-e19e-4316-9efa-aa9c66e8552f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b000e308-e19e-4316-9efa-aa9c66e8552f/","sessionId":"[REDACTED]","template":"classic","attempt":1,"bytes":3,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/b000e308-e19e-4316-9efa-aa9c66e8552f/enhanced_classic.pdf","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.312Z","level":"info","message":"pdf_generation_attempt","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","generationRunId":"b000e308-e19e-4316-9efa-aa9c66e8552f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b000e308-e19e-4316-9efa-aa9c66e8552f/","sessionId":"[REDACTED]","template":"ats","attempt":1,"totalAttempts":1,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/b000e308-e19e-4316-9efa-aa9c66e8552f/enhanced_ats.pdf","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.312Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","generationRunId":"b000e308-e19e-4316-9efa-aa9c66e8552f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b000e308-e19e-4316-9efa-aa9c66e8552f/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":["mode","atsMode"],"session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.313Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","generationRunId":"b000e308-e19e-4316-9efa-aa9c66e8552f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b000e308-e19e-4316-9efa-aa9c66e8552f/","sessionId":"[REDACTED]","template":"ats","attempt":1,"bytes":3,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/b000e308-e19e-4316-9efa-aa9c66e8552f/enhanced_ats.pdf","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.313Z","level":"info","message":"pdf_generation_attempt","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","generationRunId":"b000e308-e19e-4316-9efa-aa9c66e8552f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b000e308-e19e-4316-9efa-aa9c66e8552f/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/b000e308-e19e-4316-9efa-aa9c66e8552f/cover_letter_cover_classic.pdf","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.314Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","generationRunId":"b000e308-e19e-4316-9efa-aa9c66e8552f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b000e308-e19e-4316-9efa-aa9c66e8552f/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.372Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","generationRunId":"b000e308-e19e-4316-9efa-aa9c66e8552f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b000e308-e19e-4316-9efa-aa9c66e8552f/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/b000e308-e19e-4316-9efa-aa9c66e8552f/cover_letter_cover_classic.pdf","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.374Z","level":"info","message":"pdf_generation_attempt","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","generationRunId":"b000e308-e19e-4316-9efa-aa9c66e8552f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b000e308-e19e-4316-9efa-aa9c66e8552f/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/b000e308-e19e-4316-9efa-aa9c66e8552f/cover_letter_cover_ats.pdf","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.376Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","generationRunId":"b000e308-e19e-4316-9efa-aa9c66e8552f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b000e308-e19e-4316-9efa-aa9c66e8552f/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.377Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","generationRunId":"b000e308-e19e-4316-9efa-aa9c66e8552f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b000e308-e19e-4316-9efa-aa9c66e8552f/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/b000e308-e19e-4316-9efa-aa9c66e8552f/cover_letter_cover_ats.pdf","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.393Z","level":"info","message":"llm_call_metrics","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.398Z","level":"info","message":"generation_completed","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","generationRunId":"b000e308-e19e-4316-9efa-aa9c66e8552f","enhancedScore":80,"outputs":5,"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.401Z","level":"info","message":"placeholder_record_deleted","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","jobId":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","placeholderIdentifier":"b000e308-e19e-4316-9efa-aa9c66e8552f","template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"23858dfc-d0b0-44dc-aa73-3d50bebe41c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.403Z","level":"info","message":"http_request_completed","requestId":"b000e308-e19e-4316-9efa-aa9c66e8552f","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":164,"contentLength":"57992","template":"unknown","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b000e308-e19e-4316-9efa-aa9c66e8552f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.410Z","level":"info","message":"http_request_received","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","method":"POST","path":"/api/process-cv","template":"unknown","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.411Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.412Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.413Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.414Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.415Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/4e530abc-2c27-4f13-aa13-aa7961f381a7/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/4e530abc-2c27-4f13-aa13-aa7961f381a7/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/4e530abc-2c27-4f13-aa13-aa7961f381a7/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:18:01.418Z","level":"info","message":"process_cv_started","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","manualJobDescriptionProvided":true,"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.419Z","level":"info","message":"template_selection","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:01.419Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:18:01.420Z","level":"info","message":"initial_upload_completed","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","bucket":"test-bucket","key":"cv/candidate/4e530abc-2c27-4f13-aa13-aa7961f381a7/incoming/original.pdf","template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.420Z","level":"info","message":"resume_text_extracted","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","characters":57,"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.420Z","level":"info","message":"resume_classified","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.421Z","level":"info","message":"raw_upload_relocated","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","bucket":"test-bucket","fromKey":"cv/candidate/4e530abc-2c27-4f13-aa13-aa7961f381a7/incoming/original.pdf","toKey":"cv/professional_summary/4e530abc-2c27-4f13-aa13-aa7961f381a7/original.pdf","template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.421Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","bucket":"test-bucket","key":"cv/professional_summary/4e530abc-2c27-4f13-aa13-aa7961f381a7/original.pdf","template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.421Z","level":"info","message":"dynamo_initial_record_written","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","bucket":"test-bucket","key":"cv/professional_summary/4e530abc-2c27-4f13-aa13-aa7961f381a7/original.pdf","template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.423Z","level":"info","message":"upload_metadata_written","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","bucket":"test-bucket","key":"cv/professional_summary/4e530abc-2c27-4f13-aa13-aa7961f381a7/logs/log.json","template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.423Z","level":"info","message":"job_description_supplied_manually","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","characters":174,"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.423Z","level":"info","message":"job_description_analyzed","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","jobTitle":"","jobSkills":5,"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.424Z","level":"info","message":"resume_skills_analyzed","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.424Z","level":"info","message":"llm_call_metrics","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.425Z","level":"info","message":"process_cv_scoring_completed","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.432Z","level":"info","message":"llm_call_metrics","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"02d97c4de2dc6045a8d84c10e35b0b09be1fff3da32b47fa5d4c293317deef58","addedSkillCount":0,"template":"resume_rewrite","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.432Z","level":"info","message":"generation_section_rewrite_completed","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","generationRunId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.433Z","level":"info","message":"llm_call_metrics","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"3cb5bda2be537250e5bef0d91034f772d9c2c805c99b7e04ba145ecb904d5893","skillCount":5,"template":"project_summary","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.438Z","level":"info","message":"generation_resume_verified","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","generationRunId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:01.450Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","generationRunId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:01.457Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","generationRunId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:01.457Z","level":"info","message":"generation_cover_letters_completed","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","generationRunId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","variants":2,"fallbackApplied":true,"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.458Z","level":"info","message":"pdf_generation_attempt","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","generationRunId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4e530abc-2c27-4f13-aa13-aa7961f381a7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4e530abc-2c27-4f13-aa13-aa7961f381a7/enhanced_modern.pdf","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.461Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","generationRunId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4e530abc-2c27-4f13-aa13-aa7961f381a7/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.462Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","generationRunId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4e530abc-2c27-4f13-aa13-aa7961f381a7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4e530abc-2c27-4f13-aa13-aa7961f381a7/enhanced_modern.pdf","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.462Z","level":"info","message":"pdf_generation_attempt","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","generationRunId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4e530abc-2c27-4f13-aa13-aa7961f381a7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4e530abc-2c27-4f13-aa13-aa7961f381a7/enhanced_professional.pdf","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.463Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","generationRunId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4e530abc-2c27-4f13-aa13-aa7961f381a7/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.463Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","generationRunId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4e530abc-2c27-4f13-aa13-aa7961f381a7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4e530abc-2c27-4f13-aa13-aa7961f381a7/enhanced_professional.pdf","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.464Z","level":"info","message":"pdf_generation_attempt","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","generationRunId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4e530abc-2c27-4f13-aa13-aa7961f381a7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4e530abc-2c27-4f13-aa13-aa7961f381a7/cover_letter_cover_modern.pdf","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.466Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","generationRunId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4e530abc-2c27-4f13-aa13-aa7961f381a7/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.467Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","generationRunId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4e530abc-2c27-4f13-aa13-aa7961f381a7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4e530abc-2c27-4f13-aa13-aa7961f381a7/cover_letter_cover_modern.pdf","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.468Z","level":"info","message":"pdf_generation_attempt","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","generationRunId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4e530abc-2c27-4f13-aa13-aa7961f381a7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4e530abc-2c27-4f13-aa13-aa7961f381a7/cover_letter_cover_professional.pdf","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.468Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","generationRunId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4e530abc-2c27-4f13-aa13-aa7961f381a7/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.469Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","generationRunId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4e530abc-2c27-4f13-aa13-aa7961f381a7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4e530abc-2c27-4f13-aa13-aa7961f381a7/cover_letter_cover_professional.pdf","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.478Z","level":"info","message":"llm_call_metrics","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.479Z","level":"info","message":"generation_completed","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","generationRunId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","enhancedScore":80,"outputs":5,"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.481Z","level":"info","message":"placeholder_record_deleted","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","jobId":"e3a7a96d-95ce-4291-8537-2bbcea18f204","placeholderIdentifier":"4e530abc-2c27-4f13-aa13-aa7961f381a7","template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3a7a96d-95ce-4291-8537-2bbcea18f204","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.483Z","level":"info","message":"http_request_completed","requestId":"4e530abc-2c27-4f13-aa13-aa7961f381a7","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":73,"contentLength":"59354","template":"unknown","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4e530abc-2c27-4f13-aa13-aa7961f381a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.488Z","level":"info","message":"http_request_received","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","method":"POST","path":"/api/process-cv","template":"unknown","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.489Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.489Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.490Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.491Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.492Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:18:01.496Z","level":"info","message":"process_cv_started","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","manualJobDescriptionProvided":true,"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.496Z","level":"info","message":"template_selection","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:01.497Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:18:01.497Z","level":"info","message":"initial_upload_completed","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","bucket":"test-bucket","key":"cv/candidate/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/incoming/original.pdf","template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.497Z","level":"info","message":"resume_text_extracted","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","characters":57,"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.498Z","level":"info","message":"resume_classified","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.498Z","level":"info","message":"raw_upload_relocated","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","bucket":"test-bucket","fromKey":"cv/candidate/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/incoming/original.pdf","toKey":"cv/professional_summary/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/original.pdf","template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.498Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","bucket":"test-bucket","key":"cv/professional_summary/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/original.pdf","template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.499Z","level":"info","message":"dynamo_initial_record_written","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","bucket":"test-bucket","key":"cv/professional_summary/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/original.pdf","template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.499Z","level":"info","message":"upload_metadata_written","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","bucket":"test-bucket","key":"cv/professional_summary/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/logs/log.json","template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.499Z","level":"info","message":"job_description_supplied_manually","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","characters":174,"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.500Z","level":"info","message":"job_description_analyzed","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","jobTitle":"","jobSkills":5,"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.500Z","level":"info","message":"resume_skills_analyzed","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.501Z","level":"info","message":"llm_call_metrics","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.502Z","level":"info","message":"process_cv_scoring_completed","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.505Z","level":"info","message":"llm_call_metrics","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.505Z","level":"info","message":"generation_section_rewrite_completed","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","generationRunId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.506Z","level":"info","message":"llm_call_metrics","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"9f21e6c3bcbaef44e0e62da79c13bb8790b57affdb114dc9f59fc273f882540c","skillCount":5,"template":"project_summary","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.508Z","level":"info","message":"generation_resume_verified","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","generationRunId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:01.516Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","generationRunId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:01.517Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","generationRunId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:01.518Z","level":"info","message":"generation_cover_letters_completed","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","generationRunId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","variants":2,"fallbackApplied":true,"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.518Z","level":"info","message":"pdf_generation_attempt","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","generationRunId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/enhanced_modern.pdf","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.519Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","generationRunId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.520Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","generationRunId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/enhanced_modern.pdf","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.521Z","level":"info","message":"pdf_generation_attempt","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","generationRunId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/enhanced_professional.pdf","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.521Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","generationRunId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.522Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","generationRunId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/enhanced_professional.pdf","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.522Z","level":"info","message":"pdf_generation_attempt","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","generationRunId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/cover_letter_cover_modern.pdf","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.522Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","generationRunId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.523Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","generationRunId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/cover_letter_cover_modern.pdf","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.524Z","level":"info","message":"pdf_generation_attempt","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","generationRunId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/cover_letter_cover_professional.pdf","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.524Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","generationRunId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.524Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","generationRunId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/44b2c02c-9b5f-4f0f-85ab-dd5383619ddf/cover_letter_cover_professional.pdf","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.528Z","level":"info","message":"llm_call_metrics","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.528Z","level":"info","message":"generation_completed","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","generationRunId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","enhancedScore":80,"outputs":5,"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.530Z","level":"info","message":"placeholder_record_deleted","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","jobId":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","placeholderIdentifier":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c81c1048-d0e3-47a6-8ec9-1b87dc819dfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.537Z","level":"info","message":"http_request_completed","requestId":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":49,"contentLength":"57968","template":"unknown","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44b2c02c-9b5f-4f0f-85ab-dd5383619ddf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.561Z","level":"info","message":"http_request_received","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","method":"POST","path":"/api/process-cv","template":"unknown","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.562Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.563Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.564Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.565Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.566Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/1b8c6cab-ad39-4038-bdf8-509228429d24/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/1b8c6cab-ad39-4038-bdf8-509228429d24/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/1b8c6cab-ad39-4038-bdf8-509228429d24/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:18:01.585Z","level":"info","message":"process_cv_started","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","manualJobDescriptionProvided":true,"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.585Z","level":"info","message":"template_selection","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:01.591Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:18:01.596Z","level":"info","message":"initial_upload_completed","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","bucket":"test-bucket","key":"cv/candidate/1b8c6cab-ad39-4038-bdf8-509228429d24/incoming/original.pdf","template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.597Z","level":"info","message":"resume_text_extracted","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","characters":57,"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.598Z","level":"info","message":"resume_classified","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.598Z","level":"info","message":"raw_upload_relocated","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","bucket":"test-bucket","fromKey":"cv/candidate/1b8c6cab-ad39-4038-bdf8-509228429d24/incoming/original.pdf","toKey":"cv/professional_summary/1b8c6cab-ad39-4038-bdf8-509228429d24/original.pdf","template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.599Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","bucket":"test-bucket","key":"cv/professional_summary/1b8c6cab-ad39-4038-bdf8-509228429d24/original.pdf","template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.599Z","level":"info","message":"dynamo_initial_record_written","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","bucket":"test-bucket","key":"cv/professional_summary/1b8c6cab-ad39-4038-bdf8-509228429d24/original.pdf","template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.599Z","level":"info","message":"upload_metadata_written","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","bucket":"test-bucket","key":"cv/professional_summary/1b8c6cab-ad39-4038-bdf8-509228429d24/logs/log.json","template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.600Z","level":"info","message":"job_description_supplied_manually","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","characters":174,"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.600Z","level":"info","message":"job_description_analyzed","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","jobTitle":"","jobSkills":5,"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.601Z","level":"info","message":"resume_skills_analyzed","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.601Z","level":"info","message":"llm_call_metrics","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.602Z","level":"info","message":"process_cv_scoring_completed","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.612Z","level":"info","message":"llm_call_metrics","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.612Z","level":"info","message":"generation_section_rewrite_completed","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","generationRunId":"1b8c6cab-ad39-4038-bdf8-509228429d24","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.613Z","level":"info","message":"llm_call_metrics","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"78ddb280a2cb83c23c85b1035eed8b3d5fbcd26529ae4529d14b4e3768cf61d3","skillCount":5,"template":"project_summary","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.617Z","level":"info","message":"generation_resume_verified","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","generationRunId":"1b8c6cab-ad39-4038-bdf8-509228429d24","template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:01.630Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","generationRunId":"1b8c6cab-ad39-4038-bdf8-509228429d24","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:01.632Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","generationRunId":"1b8c6cab-ad39-4038-bdf8-509228429d24","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:01.632Z","level":"info","message":"generation_cover_letters_completed","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","generationRunId":"1b8c6cab-ad39-4038-bdf8-509228429d24","variants":2,"fallbackApplied":true,"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.633Z","level":"info","message":"pdf_generation_attempt","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","generationRunId":"1b8c6cab-ad39-4038-bdf8-509228429d24","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1b8c6cab-ad39-4038-bdf8-509228429d24/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/1b8c6cab-ad39-4038-bdf8-509228429d24/enhanced_modern.pdf","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.634Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","generationRunId":"1b8c6cab-ad39-4038-bdf8-509228429d24","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1b8c6cab-ad39-4038-bdf8-509228429d24/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.634Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","generationRunId":"1b8c6cab-ad39-4038-bdf8-509228429d24","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1b8c6cab-ad39-4038-bdf8-509228429d24/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/1b8c6cab-ad39-4038-bdf8-509228429d24/enhanced_modern.pdf","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.635Z","level":"info","message":"pdf_generation_attempt","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","generationRunId":"1b8c6cab-ad39-4038-bdf8-509228429d24","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1b8c6cab-ad39-4038-bdf8-509228429d24/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/1b8c6cab-ad39-4038-bdf8-509228429d24/enhanced_professional.pdf","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.635Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","generationRunId":"1b8c6cab-ad39-4038-bdf8-509228429d24","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1b8c6cab-ad39-4038-bdf8-509228429d24/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.636Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","generationRunId":"1b8c6cab-ad39-4038-bdf8-509228429d24","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1b8c6cab-ad39-4038-bdf8-509228429d24/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/1b8c6cab-ad39-4038-bdf8-509228429d24/enhanced_professional.pdf","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.636Z","level":"info","message":"pdf_generation_attempt","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","generationRunId":"1b8c6cab-ad39-4038-bdf8-509228429d24","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1b8c6cab-ad39-4038-bdf8-509228429d24/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/1b8c6cab-ad39-4038-bdf8-509228429d24/cover_letter_cover_modern.pdf","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.637Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","generationRunId":"1b8c6cab-ad39-4038-bdf8-509228429d24","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1b8c6cab-ad39-4038-bdf8-509228429d24/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.637Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","generationRunId":"1b8c6cab-ad39-4038-bdf8-509228429d24","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1b8c6cab-ad39-4038-bdf8-509228429d24/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/1b8c6cab-ad39-4038-bdf8-509228429d24/cover_letter_cover_modern.pdf","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.638Z","level":"info","message":"pdf_generation_attempt","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","generationRunId":"1b8c6cab-ad39-4038-bdf8-509228429d24","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1b8c6cab-ad39-4038-bdf8-509228429d24/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/1b8c6cab-ad39-4038-bdf8-509228429d24/cover_letter_cover_professional.pdf","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.639Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","generationRunId":"1b8c6cab-ad39-4038-bdf8-509228429d24","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1b8c6cab-ad39-4038-bdf8-509228429d24/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.639Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","generationRunId":"1b8c6cab-ad39-4038-bdf8-509228429d24","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1b8c6cab-ad39-4038-bdf8-509228429d24/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/1b8c6cab-ad39-4038-bdf8-509228429d24/cover_letter_cover_professional.pdf","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.645Z","level":"info","message":"llm_call_metrics","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.647Z","level":"info","message":"generation_completed","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","generationRunId":"1b8c6cab-ad39-4038-bdf8-509228429d24","enhancedScore":80,"outputs":5,"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.651Z","level":"info","message":"placeholder_record_deleted","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","jobId":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","placeholderIdentifier":"1b8c6cab-ad39-4038-bdf8-509228429d24","template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b12bdf5c-1b0f-49ff-b5ff-1a6ca5f04963","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.654Z","level":"info","message":"http_request_completed","requestId":"1b8c6cab-ad39-4038-bdf8-509228429d24","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":93,"contentLength":"59302","template":"unknown","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b8c6cab-ad39-4038-bdf8-509228429d24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.669Z","level":"info","message":"http_request_received","requestId":"52de0064-2d01-4547-848b-979005ba162c","method":"POST","path":"/api/process-cv","template":"unknown","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.671Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.672Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.672Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.673Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.674Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/52de0064-2d01-4547-848b-979005ba162c/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/52de0064-2d01-4547-848b-979005ba162c/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/52de0064-2d01-4547-848b-979005ba162c/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:18:01.677Z","level":"info","message":"process_cv_started","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","manualJobDescriptionProvided":true,"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.677Z","level":"info","message":"template_selection","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:01.680Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:18:01.681Z","level":"info","message":"initial_upload_completed","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","bucket":"test-bucket","key":"cv/candidate/52de0064-2d01-4547-848b-979005ba162c/incoming/original.pdf","template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.681Z","level":"info","message":"resume_text_extracted","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","characters":57,"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.685Z","level":"info","message":"resume_classified","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.685Z","level":"info","message":"raw_upload_relocated","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","bucket":"test-bucket","fromKey":"cv/candidate/52de0064-2d01-4547-848b-979005ba162c/incoming/original.pdf","toKey":"cv/professional_summary/52de0064-2d01-4547-848b-979005ba162c/original.pdf","template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.685Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","bucket":"test-bucket","key":"cv/professional_summary/52de0064-2d01-4547-848b-979005ba162c/original.pdf","template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.686Z","level":"info","message":"dynamo_initial_record_written","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","bucket":"test-bucket","key":"cv/professional_summary/52de0064-2d01-4547-848b-979005ba162c/original.pdf","template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.686Z","level":"info","message":"upload_metadata_written","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","bucket":"test-bucket","key":"cv/professional_summary/52de0064-2d01-4547-848b-979005ba162c/logs/log.json","template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.686Z","level":"info","message":"job_description_supplied_manually","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","characters":174,"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.687Z","level":"info","message":"job_description_analyzed","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","jobTitle":"","jobSkills":5,"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.687Z","level":"info","message":"resume_skills_analyzed","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.688Z","level":"info","message":"llm_call_metrics","requestId":"52de0064-2d01-4547-848b-979005ba162c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.689Z","level":"info","message":"process_cv_scoring_completed","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.692Z","level":"info","message":"llm_call_metrics","requestId":"52de0064-2d01-4547-848b-979005ba162c","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.692Z","level":"info","message":"generation_section_rewrite_completed","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","generationRunId":"52de0064-2d01-4547-848b-979005ba162c","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.693Z","level":"info","message":"llm_call_metrics","requestId":"52de0064-2d01-4547-848b-979005ba162c","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"968eb1ed4b9ef5f26cd87ba7e60f108acaf8c335efc2ef153d4aaa0b022ea8c8","skillCount":5,"template":"project_summary","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.698Z","level":"info","message":"generation_resume_verified","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","generationRunId":"52de0064-2d01-4547-848b-979005ba162c","template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:01.702Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","generationRunId":"52de0064-2d01-4547-848b-979005ba162c","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:01.703Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","generationRunId":"52de0064-2d01-4547-848b-979005ba162c","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:01.704Z","level":"info","message":"generation_cover_letters_completed","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","generationRunId":"52de0064-2d01-4547-848b-979005ba162c","variants":2,"fallbackApplied":true,"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.704Z","level":"info","message":"pdf_generation_attempt","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","generationRunId":"52de0064-2d01-4547-848b-979005ba162c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/52de0064-2d01-4547-848b-979005ba162c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/52de0064-2d01-4547-848b-979005ba162c/enhanced_modern.pdf","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.705Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","generationRunId":"52de0064-2d01-4547-848b-979005ba162c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/52de0064-2d01-4547-848b-979005ba162c/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.705Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","generationRunId":"52de0064-2d01-4547-848b-979005ba162c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/52de0064-2d01-4547-848b-979005ba162c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/52de0064-2d01-4547-848b-979005ba162c/enhanced_modern.pdf","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.705Z","level":"info","message":"pdf_generation_attempt","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","generationRunId":"52de0064-2d01-4547-848b-979005ba162c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/52de0064-2d01-4547-848b-979005ba162c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/52de0064-2d01-4547-848b-979005ba162c/enhanced_professional.pdf","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.706Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","generationRunId":"52de0064-2d01-4547-848b-979005ba162c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/52de0064-2d01-4547-848b-979005ba162c/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.706Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","generationRunId":"52de0064-2d01-4547-848b-979005ba162c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/52de0064-2d01-4547-848b-979005ba162c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/52de0064-2d01-4547-848b-979005ba162c/enhanced_professional.pdf","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.707Z","level":"info","message":"pdf_generation_attempt","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","generationRunId":"52de0064-2d01-4547-848b-979005ba162c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/52de0064-2d01-4547-848b-979005ba162c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/52de0064-2d01-4547-848b-979005ba162c/cover_letter_cover_modern.pdf","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.708Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","generationRunId":"52de0064-2d01-4547-848b-979005ba162c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/52de0064-2d01-4547-848b-979005ba162c/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.709Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","generationRunId":"52de0064-2d01-4547-848b-979005ba162c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/52de0064-2d01-4547-848b-979005ba162c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/52de0064-2d01-4547-848b-979005ba162c/cover_letter_cover_modern.pdf","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.710Z","level":"info","message":"pdf_generation_attempt","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","generationRunId":"52de0064-2d01-4547-848b-979005ba162c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/52de0064-2d01-4547-848b-979005ba162c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/52de0064-2d01-4547-848b-979005ba162c/cover_letter_cover_professional.pdf","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.711Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","generationRunId":"52de0064-2d01-4547-848b-979005ba162c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/52de0064-2d01-4547-848b-979005ba162c/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.715Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","generationRunId":"52de0064-2d01-4547-848b-979005ba162c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/52de0064-2d01-4547-848b-979005ba162c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/52de0064-2d01-4547-848b-979005ba162c/cover_letter_cover_professional.pdf","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.719Z","level":"info","message":"llm_call_metrics","requestId":"52de0064-2d01-4547-848b-979005ba162c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.719Z","level":"info","message":"generation_completed","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","generationRunId":"52de0064-2d01-4547-848b-979005ba162c","enhancedScore":80,"outputs":5,"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.721Z","level":"info","message":"placeholder_record_deleted","requestId":"52de0064-2d01-4547-848b-979005ba162c","jobId":"63563f30-fc72-4adf-a540-52043a29b392","placeholderIdentifier":"52de0064-2d01-4547-848b-979005ba162c","template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63563f30-fc72-4adf-a540-52043a29b392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.744Z","level":"info","message":"http_request_completed","requestId":"52de0064-2d01-4547-848b-979005ba162c","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":75,"contentLength":"59835","template":"unknown","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"52de0064-2d01-4547-848b-979005ba162c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.778Z","level":"info","message":"http_request_received","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","method":"POST","path":"/api/process-cv","template":"unknown","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.786Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.788Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.796Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.797Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.799Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:18:01.835Z","level":"info","message":"process_cv_started","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","manualJobDescriptionProvided":true,"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.836Z","level":"info","message":"template_selection","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:01.923Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:18:01.924Z","level":"info","message":"initial_upload_completed","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","bucket":"test-bucket","key":"cv/candidate/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/incoming/original.pdf","template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.925Z","level":"info","message":"resume_text_extracted","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","characters":57,"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.926Z","level":"info","message":"resume_classified","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.926Z","level":"info","message":"raw_upload_relocated","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","bucket":"test-bucket","fromKey":"cv/candidate/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/incoming/original.pdf","toKey":"cv/professional_summary/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/original.pdf","template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.927Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","bucket":"test-bucket","key":"cv/professional_summary/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/original.pdf","template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.927Z","level":"info","message":"dynamo_initial_record_written","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","bucket":"test-bucket","key":"cv/professional_summary/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/original.pdf","template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.927Z","level":"info","message":"upload_metadata_written","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","bucket":"test-bucket","key":"cv/professional_summary/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/logs/log.json","template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.928Z","level":"info","message":"job_description_supplied_manually","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","characters":174,"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.929Z","level":"info","message":"job_description_analyzed","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","jobTitle":"","jobSkills":5,"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.931Z","level":"info","message":"resume_skills_analyzed","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.932Z","level":"info","message":"llm_call_metrics","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.934Z","level":"info","message":"process_cv_scoring_completed","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.948Z","level":"info","message":"llm_call_metrics","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:01.966Z","level":"info","message":"generation_section_rewrite_completed","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","generationRunId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.077Z","level":"info","message":"llm_call_metrics","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.097Z","level":"info","message":"generation_resume_verified","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","generationRunId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:02.109Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","generationRunId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:02.113Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","generationRunId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:02.119Z","level":"info","message":"generation_cover_letters_completed","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","generationRunId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","variants":2,"fallbackApplied":true,"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.131Z","level":"info","message":"pdf_generation_attempt","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","generationRunId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/enhanced_modern.pdf","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.132Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","generationRunId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.137Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","generationRunId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/enhanced_modern.pdf","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.152Z","level":"info","message":"pdf_generation_attempt","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","generationRunId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/enhanced_professional.pdf","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.166Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","generationRunId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.169Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","generationRunId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/enhanced_professional.pdf","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.176Z","level":"info","message":"pdf_generation_attempt","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","generationRunId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/cover_letter_cover_modern.pdf","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.182Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","generationRunId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.185Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","generationRunId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/cover_letter_cover_modern.pdf","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.186Z","level":"info","message":"pdf_generation_attempt","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","generationRunId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/cover_letter_cover_professional.pdf","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.187Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","generationRunId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.193Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","generationRunId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3/cover_letter_cover_professional.pdf","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.198Z","level":"info","message":"llm_call_metrics","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.198Z","level":"info","message":"generation_completed","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","generationRunId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","enhancedScore":80,"outputs":5,"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.200Z","level":"info","message":"placeholder_record_deleted","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","jobId":"298bfc06-a450-4e23-83cf-19470e4e84e8","placeholderIdentifier":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"298bfc06-a450-4e23-83cf-19470e4e84e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.209Z","level":"info","message":"http_request_completed","requestId":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":431,"contentLength":"58133","template":"unknown","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9e77218d-0ff3-403d-9bd2-6a85b1b3d6d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.235Z","level":"info","message":"http_request_received","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","method":"POST","path":"/api/process-cv","template":"unknown","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.239Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.247Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.248Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.249Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.251Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/01049e47-d0da-4804-a7ee-0b87ee3e7bae/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/01049e47-d0da-4804-a7ee-0b87ee3e7bae/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/01049e47-d0da-4804-a7ee-0b87ee3e7bae/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:18:02.260Z","level":"info","message":"process_cv_started","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","manualJobDescriptionProvided":true,"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.260Z","level":"info","message":"template_selection","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:02.269Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:18:02.275Z","level":"info","message":"initial_upload_completed","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","bucket":"test-bucket","key":"cv/candidate/01049e47-d0da-4804-a7ee-0b87ee3e7bae/incoming/original.pdf","template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.275Z","level":"info","message":"resume_text_extracted","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","characters":57,"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.277Z","level":"info","message":"resume_classified","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.277Z","level":"info","message":"raw_upload_relocated","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","bucket":"test-bucket","fromKey":"cv/candidate/01049e47-d0da-4804-a7ee-0b87ee3e7bae/incoming/original.pdf","toKey":"cv/professional_summary/01049e47-d0da-4804-a7ee-0b87ee3e7bae/original.pdf","template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.278Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","bucket":"test-bucket","key":"cv/professional_summary/01049e47-d0da-4804-a7ee-0b87ee3e7bae/original.pdf","template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.279Z","level":"info","message":"dynamo_initial_record_written","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","bucket":"test-bucket","key":"cv/professional_summary/01049e47-d0da-4804-a7ee-0b87ee3e7bae/original.pdf","template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.281Z","level":"info","message":"upload_metadata_written","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","bucket":"test-bucket","key":"cv/professional_summary/01049e47-d0da-4804-a7ee-0b87ee3e7bae/logs/log.json","template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.281Z","level":"info","message":"job_description_supplied_manually","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","characters":174,"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.282Z","level":"info","message":"job_description_analyzed","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","jobTitle":"","jobSkills":5,"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.283Z","level":"info","message":"resume_skills_analyzed","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.283Z","level":"info","message":"llm_call_metrics","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.288Z","level":"info","message":"process_cv_scoring_completed","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.304Z","level":"info","message":"llm_call_metrics","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"9a6d2d1a9ce924151b6a4db0f761d85550b399b0c2990ac5bc2d2ac9b952bd0d","addedSkillCount":0,"template":"resume_rewrite","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.304Z","level":"info","message":"generation_section_rewrite_completed","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","generationRunId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.309Z","level":"info","message":"generation_resume_verified","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","generationRunId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.425Z","level":"info","message":"generation_cover_letters_normalized","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","generationRunId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","variants":["cover_letter1","cover_letter2"],"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:02.427Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","generationRunId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:02.429Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","generationRunId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","variants":["cover_letter1"],"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.430Z","level":"info","message":"generation_cover_letters_completed","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","generationRunId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","variants":2,"fallbackApplied":true,"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.431Z","level":"info","message":"pdf_generation_attempt","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","generationRunId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/01049e47-d0da-4804-a7ee-0b87ee3e7bae/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/01049e47-d0da-4804-a7ee-0b87ee3e7bae/enhanced_modern.pdf","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.433Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","generationRunId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/01049e47-d0da-4804-a7ee-0b87ee3e7bae/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.433Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","generationRunId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/01049e47-d0da-4804-a7ee-0b87ee3e7bae/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/01049e47-d0da-4804-a7ee-0b87ee3e7bae/enhanced_modern.pdf","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.434Z","level":"info","message":"pdf_generation_attempt","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","generationRunId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/01049e47-d0da-4804-a7ee-0b87ee3e7bae/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/01049e47-d0da-4804-a7ee-0b87ee3e7bae/enhanced_professional.pdf","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.435Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","generationRunId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/01049e47-d0da-4804-a7ee-0b87ee3e7bae/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.435Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","generationRunId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/01049e47-d0da-4804-a7ee-0b87ee3e7bae/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/01049e47-d0da-4804-a7ee-0b87ee3e7bae/enhanced_professional.pdf","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.436Z","level":"info","message":"pdf_generation_attempt","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","generationRunId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/01049e47-d0da-4804-a7ee-0b87ee3e7bae/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/01049e47-d0da-4804-a7ee-0b87ee3e7bae/cover_letter_cover_modern.pdf","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.443Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","generationRunId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/01049e47-d0da-4804-a7ee-0b87ee3e7bae/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.443Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","generationRunId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/01049e47-d0da-4804-a7ee-0b87ee3e7bae/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/01049e47-d0da-4804-a7ee-0b87ee3e7bae/cover_letter_cover_modern.pdf","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.444Z","level":"info","message":"pdf_generation_attempt","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","generationRunId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/01049e47-d0da-4804-a7ee-0b87ee3e7bae/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/01049e47-d0da-4804-a7ee-0b87ee3e7bae/cover_letter_cover_professional.pdf","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.445Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","generationRunId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/01049e47-d0da-4804-a7ee-0b87ee3e7bae/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.446Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","generationRunId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/01049e47-d0da-4804-a7ee-0b87ee3e7bae/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/01049e47-d0da-4804-a7ee-0b87ee3e7bae/cover_letter_cover_professional.pdf","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.449Z","level":"info","message":"llm_call_metrics","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.450Z","level":"info","message":"generation_completed","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","generationRunId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","enhancedScore":80,"outputs":5,"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.451Z","level":"info","message":"placeholder_record_deleted","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","jobId":"d67eebca-479d-42cf-af14-019933b3ff6c","placeholderIdentifier":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d67eebca-479d-42cf-af14-019933b3ff6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.456Z","level":"info","message":"http_request_completed","requestId":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":221,"contentLength":"46262","template":"unknown","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"01049e47-d0da-4804-a7ee-0b87ee3e7bae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.463Z","level":"info","message":"http_request_received","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","method":"POST","path":"/api/process-cv","template":"unknown","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.463Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.464Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.465Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.466Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.467Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/27cf6984-1882-4f63-998d-6c98c5e99680/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/27cf6984-1882-4f63-998d-6c98c5e99680/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/27cf6984-1882-4f63-998d-6c98c5e99680/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:18:02.470Z","level":"info","message":"process_cv_started","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","manualJobDescriptionProvided":true,"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.470Z","level":"info","message":"template_selection","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:02.471Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:18:02.471Z","level":"info","message":"initial_upload_completed","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","bucket":"test-bucket","key":"cv/candidate/27cf6984-1882-4f63-998d-6c98c5e99680/incoming/original.pdf","template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.472Z","level":"info","message":"resume_text_extracted","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","characters":57,"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.472Z","level":"info","message":"resume_classified","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.472Z","level":"info","message":"raw_upload_relocated","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","bucket":"test-bucket","fromKey":"cv/candidate/27cf6984-1882-4f63-998d-6c98c5e99680/incoming/original.pdf","toKey":"cv/professional_summary/27cf6984-1882-4f63-998d-6c98c5e99680/original.pdf","template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.473Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","bucket":"test-bucket","key":"cv/professional_summary/27cf6984-1882-4f63-998d-6c98c5e99680/original.pdf","template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.473Z","level":"info","message":"dynamo_initial_record_written","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","bucket":"test-bucket","key":"cv/professional_summary/27cf6984-1882-4f63-998d-6c98c5e99680/original.pdf","template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.473Z","level":"info","message":"upload_metadata_written","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","bucket":"test-bucket","key":"cv/professional_summary/27cf6984-1882-4f63-998d-6c98c5e99680/logs/log.json","template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.474Z","level":"info","message":"job_description_supplied_manually","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","characters":174,"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.474Z","level":"info","message":"job_description_analyzed","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","jobTitle":"","jobSkills":5,"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.475Z","level":"info","message":"resume_skills_analyzed","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.475Z","level":"info","message":"llm_call_metrics","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.476Z","level":"info","message":"process_cv_scoring_completed","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:02.480Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","sample":"Here is your revised resume text without JSON formatting.","template":"unknown","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at Object.error (server.js:3437:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8482:20)
      at generateEnhancedDocumentsResponse (server.js:20120:26)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:02.481Z","level":"info","message":"llm_call_metrics","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.481Z","level":"info","message":"llm_call_metrics","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.481Z","level":"info","message":"generation_section_rewrite_completed","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","generationRunId":"27cf6984-1882-4f63-998d-6c98c5e99680","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.482Z","level":"info","message":"llm_call_metrics","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"d230fd9d3c6f4e6f7bb7c385f22b3a147a5c937619c1919bfb6f5e09096df674","skillCount":5,"template":"project_summary","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:02.487Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","generationRunId":"27cf6984-1882-4f63-998d-6c98c5e99680","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:02.489Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","generationRunId":"27cf6984-1882-4f63-998d-6c98c5e99680","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:02.489Z","level":"info","message":"generation_cover_letters_completed","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","generationRunId":"27cf6984-1882-4f63-998d-6c98c5e99680","variants":2,"fallbackApplied":true,"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.489Z","level":"info","message":"pdf_generation_attempt","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","generationRunId":"27cf6984-1882-4f63-998d-6c98c5e99680","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/27cf6984-1882-4f63-998d-6c98c5e99680/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/27cf6984-1882-4f63-998d-6c98c5e99680/enhanced_modern.pdf","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.490Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","generationRunId":"27cf6984-1882-4f63-998d-6c98c5e99680","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/27cf6984-1882-4f63-998d-6c98c5e99680/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.490Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","generationRunId":"27cf6984-1882-4f63-998d-6c98c5e99680","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/27cf6984-1882-4f63-998d-6c98c5e99680/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/27cf6984-1882-4f63-998d-6c98c5e99680/enhanced_modern.pdf","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.491Z","level":"info","message":"pdf_generation_attempt","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","generationRunId":"27cf6984-1882-4f63-998d-6c98c5e99680","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/27cf6984-1882-4f63-998d-6c98c5e99680/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/27cf6984-1882-4f63-998d-6c98c5e99680/enhanced_professional.pdf","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.491Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","generationRunId":"27cf6984-1882-4f63-998d-6c98c5e99680","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/27cf6984-1882-4f63-998d-6c98c5e99680/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.492Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","generationRunId":"27cf6984-1882-4f63-998d-6c98c5e99680","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/27cf6984-1882-4f63-998d-6c98c5e99680/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/27cf6984-1882-4f63-998d-6c98c5e99680/enhanced_professional.pdf","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.498Z","level":"info","message":"pdf_generation_attempt","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","generationRunId":"27cf6984-1882-4f63-998d-6c98c5e99680","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/27cf6984-1882-4f63-998d-6c98c5e99680/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/27cf6984-1882-4f63-998d-6c98c5e99680/cover_letter_cover_modern.pdf","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.498Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","generationRunId":"27cf6984-1882-4f63-998d-6c98c5e99680","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/27cf6984-1882-4f63-998d-6c98c5e99680/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.499Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","generationRunId":"27cf6984-1882-4f63-998d-6c98c5e99680","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/27cf6984-1882-4f63-998d-6c98c5e99680/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/27cf6984-1882-4f63-998d-6c98c5e99680/cover_letter_cover_modern.pdf","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.499Z","level":"info","message":"pdf_generation_attempt","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","generationRunId":"27cf6984-1882-4f63-998d-6c98c5e99680","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/27cf6984-1882-4f63-998d-6c98c5e99680/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/27cf6984-1882-4f63-998d-6c98c5e99680/cover_letter_cover_professional.pdf","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.500Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","generationRunId":"27cf6984-1882-4f63-998d-6c98c5e99680","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/27cf6984-1882-4f63-998d-6c98c5e99680/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.500Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","generationRunId":"27cf6984-1882-4f63-998d-6c98c5e99680","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/27cf6984-1882-4f63-998d-6c98c5e99680/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/27cf6984-1882-4f63-998d-6c98c5e99680/cover_letter_cover_professional.pdf","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.506Z","level":"info","message":"llm_call_metrics","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.507Z","level":"info","message":"generation_completed","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","generationRunId":"27cf6984-1882-4f63-998d-6c98c5e99680","enhancedScore":80,"outputs":5,"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.508Z","level":"info","message":"placeholder_record_deleted","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","jobId":"0231c631-7801-4984-b599-7867dad0ee45","placeholderIdentifier":"27cf6984-1882-4f63-998d-6c98c5e99680","template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0231c631-7801-4984-b599-7867dad0ee45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.509Z","level":"info","message":"http_request_completed","requestId":"27cf6984-1882-4f63-998d-6c98c5e99680","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":46,"contentLength":"57871","template":"unknown","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27cf6984-1882-4f63-998d-6c98c5e99680","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.534Z","level":"info","message":"http_request_received","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","method":"POST","path":"/api/process-cv","template":"unknown","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.535Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.536Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.537Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.539Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.540Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/7db6738a-6cdd-4f58-bf5e-65e92aca7089/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/7db6738a-6cdd-4f58-bf5e-65e92aca7089/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/7db6738a-6cdd-4f58-bf5e-65e92aca7089/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:18:02.547Z","level":"info","message":"process_cv_started","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","manualJobDescriptionProvided":true,"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.548Z","level":"info","message":"template_selection","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:02.548Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:18:02.549Z","level":"info","message":"initial_upload_completed","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","bucket":"test-bucket","key":"cv/candidate/7db6738a-6cdd-4f58-bf5e-65e92aca7089/incoming/original.pdf","template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.549Z","level":"info","message":"resume_text_extracted","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","characters":57,"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.549Z","level":"info","message":"resume_classified","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.549Z","level":"info","message":"raw_upload_relocated","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","bucket":"test-bucket","fromKey":"cv/candidate/7db6738a-6cdd-4f58-bf5e-65e92aca7089/incoming/original.pdf","toKey":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/original.pdf","template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.550Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","bucket":"test-bucket","key":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/original.pdf","template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.550Z","level":"info","message":"dynamo_initial_record_written","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","bucket":"test-bucket","key":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/original.pdf","template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.550Z","level":"info","message":"upload_metadata_written","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","bucket":"test-bucket","key":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/logs/log.json","template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.551Z","level":"info","message":"job_description_supplied_manually","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","characters":174,"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.551Z","level":"info","message":"job_description_analyzed","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","jobTitle":"","jobSkills":5,"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.552Z","level":"info","message":"resume_skills_analyzed","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.552Z","level":"info","message":"llm_call_metrics","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.553Z","level":"info","message":"process_cv_scoring_completed","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.562Z","level":"info","message":"llm_call_metrics","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.563Z","level":"info","message":"generation_section_rewrite_completed","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.563Z","level":"info","message":"llm_call_metrics","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.567Z","level":"info","message":"generation_resume_verified","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:02.572Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:02.581Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:02.582Z","level":"info","message":"generation_cover_letters_completed","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","variants":2,"fallbackApplied":true,"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.582Z","level":"info","message":"pdf_generation_attempt","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/enhanced_modern.pdf","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.583Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:02.584Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:10958:7)
      at generateEnhancedDocumentsResponse (server.js:21249:17)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:02.585Z","level":"info","message":"pdf_generation_attempt","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/enhanced_professional.pdf","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.586Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:02.586Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:10958:7)
      at generateEnhancedDocumentsResponse (server.js:21249:17)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:02.587Z","level":"info","message":"pdf_generation_attempt","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"classic","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/enhanced_classic.pdf","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.587Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:02.587Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:10958:7)
      at generateEnhancedDocumentsResponse (server.js:21249:17)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:02.588Z","level":"info","message":"pdf_generation_attempt","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"ats","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/enhanced_ats.pdf","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.588Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:02.589Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:10958:7)
      at generateEnhancedDocumentsResponse (server.js:21249:17)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:02.589Z","level":"info","message":"pdf_generation_attempt","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"2025","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/enhanced_2025.pdf","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.590Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:02.590Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:10958:7)
      at generateEnhancedDocumentsResponse (server.js:21249:17)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:02.597Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/enhanced_2025.pdf","forcedFallback":true,"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:11102:7)
      at generateEnhancedDocumentsResponse (server.js:21249:17)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:02.602Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/enhanced_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"2025","requestedTemplateId":"2025","engine":"pdf-lib","bytes":9,"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.605Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/enhanced_2025.pdf","bytes":9,"forcedFallback":true,"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.607Z","level":"info","message":"pdf_generation_attempt","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/enhanced_professional.pdf","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.609Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:02.610Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:10958:7)
      at generateEnhancedDocumentsResponse (server.js:21249:17)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:02.611Z","level":"info","message":"pdf_generation_attempt","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"modern","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/enhanced_modern.pdf","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.611Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:02.611Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:10958:7)
      at generateEnhancedDocumentsResponse (server.js:21249:17)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:02.625Z","level":"info","message":"pdf_generation_attempt","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"2025","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/enhanced_2025.pdf","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.628Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:02.630Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:10958:7)
      at generateEnhancedDocumentsResponse (server.js:21249:17)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:02.631Z","level":"info","message":"pdf_generation_attempt","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"classic","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/enhanced_classic.pdf","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.631Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:02.632Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:10958:7)
      at generateEnhancedDocumentsResponse (server.js:21249:17)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:02.633Z","level":"info","message":"pdf_generation_attempt","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"ats","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/enhanced_ats.pdf","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.633Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:02.633Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:10958:7)
      at generateEnhancedDocumentsResponse (server.js:21249:17)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:02.634Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/enhanced_ats.pdf","forcedFallback":true,"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:11102:7)
      at generateEnhancedDocumentsResponse (server.js:21249:17)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:02.642Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/enhanced_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"ats","requestedTemplateId":"ats","engine":"pdf-lib","bytes":9,"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.643Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/enhanced_ats.pdf","bytes":9,"forcedFallback":true,"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.643Z","level":"info","message":"pdf_generation_attempt","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/cover_letter_cover_modern.pdf","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.644Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:02.644Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:10958:7)
      at generateEnhancedDocumentsResponse (server.js:21249:17)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:02.646Z","level":"info","message":"pdf_generation_attempt","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/cover_letter_cover_professional.pdf","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.647Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:02.647Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:10958:7)
      at generateEnhancedDocumentsResponse (server.js:21249:17)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:02.648Z","level":"info","message":"pdf_generation_attempt","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/cover_letter_cover_classic.pdf","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.648Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:02.649Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:10958:7)
      at generateEnhancedDocumentsResponse (server.js:21249:17)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:02.650Z","level":"info","message":"pdf_generation_attempt","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/cover_letter_cover_ats.pdf","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.650Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:02.651Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:10958:7)
      at generateEnhancedDocumentsResponse (server.js:21249:17)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:02.651Z","level":"info","message":"pdf_generation_attempt","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/cover_letter_cover_2025.pdf","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.652Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:02.652Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:10958:7)
      at generateEnhancedDocumentsResponse (server.js:21249:17)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:02.660Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/cover_letter_cover_2025.pdf","forcedFallback":true,"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:11102:7)
      at generateEnhancedDocumentsResponse (server.js:21249:17)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:02.663Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/cover_letter_cover_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_2025","requestedTemplateId":"cover_2025","engine":"pdf-lib","bytes":9,"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.664Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/cover_letter_cover_2025.pdf","bytes":9,"forcedFallback":true,"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.666Z","level":"info","message":"pdf_generation_attempt","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/cover_letter_cover_professional.pdf","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.666Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:02.667Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:10958:7)
      at generateEnhancedDocumentsResponse (server.js:21249:17)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:02.667Z","level":"info","message":"pdf_generation_attempt","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/cover_letter_cover_modern.pdf","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.668Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:02.668Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:10958:7)
      at generateEnhancedDocumentsResponse (server.js:21249:17)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:02.674Z","level":"info","message":"pdf_generation_attempt","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/cover_letter_cover_2025.pdf","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.674Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:02.675Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:10958:7)
      at generateEnhancedDocumentsResponse (server.js:21249:17)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:02.675Z","level":"info","message":"pdf_generation_attempt","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/cover_letter_cover_classic.pdf","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.676Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:02.676Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:10958:7)
      at generateEnhancedDocumentsResponse (server.js:21249:17)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:02.677Z","level":"info","message":"pdf_generation_attempt","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/cover_letter_cover_ats.pdf","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.677Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.error
      {"timestamp":"2025-12-03T13:18:02.693Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:10958:7)
      at generateEnhancedDocumentsResponse (server.js:21249:17)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:02.694Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/cover_letter_cover_ats.pdf","forcedFallback":true,"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:11102:7)
      at generateEnhancedDocumentsResponse (server.js:21249:17)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:02.695Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/cover_letter_cover_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_ats","requestedTemplateId":"cover_ats","engine":"pdf-lib","bytes":9,"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.696Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/7db6738a-6cdd-4f58-bf5e-65e92aca7089/cover_letter_cover_ats.pdf","bytes":9,"forcedFallback":true,"session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.711Z","level":"info","message":"llm_call_metrics","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.713Z","level":"info","message":"generation_completed","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","generationRunId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","enhancedScore":80,"outputs":5,"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.720Z","level":"info","message":"placeholder_record_deleted","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","jobId":"21a02a29-5589-48f5-b478-64a2bf9fbac9","placeholderIdentifier":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21a02a29-5589-48f5-b478-64a2bf9fbac9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.737Z","level":"info","message":"http_request_completed","requestId":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":203,"contentLength":"60620","template":"unknown","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7db6738a-6cdd-4f58-bf5e-65e92aca7089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.755Z","level":"info","message":"http_request_received","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","method":"POST","path":"/api/process-cv","template":"unknown","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.755Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.756Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.757Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.758Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.759Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/c50a5328-0936-4a4a-900a-3b06a0127163/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/c50a5328-0936-4a4a-900a-3b06a0127163/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/c50a5328-0936-4a4a-900a-3b06a0127163/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:18:02.765Z","level":"info","message":"process_cv_started","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","manualJobDescriptionProvided":true,"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.765Z","level":"info","message":"template_selection","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:02.765Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:18:02.766Z","level":"info","message":"initial_upload_completed","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","bucket":"test-bucket","key":"cv/candidate/c50a5328-0936-4a4a-900a-3b06a0127163/incoming/original.pdf","template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.766Z","level":"info","message":"resume_text_extracted","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","characters":57,"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.766Z","level":"info","message":"resume_classified","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.767Z","level":"info","message":"raw_upload_relocated","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","bucket":"test-bucket","fromKey":"cv/candidate/c50a5328-0936-4a4a-900a-3b06a0127163/incoming/original.pdf","toKey":"cv/professional_summary/c50a5328-0936-4a4a-900a-3b06a0127163/original.pdf","template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.768Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","bucket":"test-bucket","key":"cv/professional_summary/c50a5328-0936-4a4a-900a-3b06a0127163/original.pdf","template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.768Z","level":"info","message":"dynamo_initial_record_written","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","bucket":"test-bucket","key":"cv/professional_summary/c50a5328-0936-4a4a-900a-3b06a0127163/original.pdf","template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.769Z","level":"info","message":"upload_metadata_written","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","bucket":"test-bucket","key":"cv/professional_summary/c50a5328-0936-4a4a-900a-3b06a0127163/logs/log.json","template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.769Z","level":"info","message":"job_description_supplied_manually","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","characters":174,"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.769Z","level":"info","message":"job_description_analyzed","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","jobTitle":"","jobSkills":5,"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.770Z","level":"info","message":"resume_skills_analyzed","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.771Z","level":"info","message":"llm_call_metrics","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.772Z","level":"info","message":"process_cv_scoring_completed","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.776Z","level":"info","message":"llm_call_metrics","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"083bf06ffdad2254495e6ab02d51602dd213ec7860f8066358ba6750acc9f49a","addedSkillCount":1,"template":"resume_rewrite","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.776Z","level":"info","message":"generation_section_rewrite_completed","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","generationRunId":"c50a5328-0936-4a4a-900a-3b06a0127163","modifiedTitle":"Revised Title","addedSkills":1,"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.781Z","level":"info","message":"generation_resume_verified","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","generationRunId":"c50a5328-0936-4a4a-900a-3b06a0127163","template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:02.789Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","generationRunId":"c50a5328-0936-4a4a-900a-3b06a0127163","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:02.791Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","generationRunId":"c50a5328-0936-4a4a-900a-3b06a0127163","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:02.791Z","level":"info","message":"generation_cover_letters_completed","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","generationRunId":"c50a5328-0936-4a4a-900a-3b06a0127163","variants":2,"fallbackApplied":true,"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.792Z","level":"info","message":"pdf_generation_attempt","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","generationRunId":"c50a5328-0936-4a4a-900a-3b06a0127163","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c50a5328-0936-4a4a-900a-3b06a0127163/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c50a5328-0936-4a4a-900a-3b06a0127163/enhanced_modern.pdf","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.794Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","generationRunId":"c50a5328-0936-4a4a-900a-3b06a0127163","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c50a5328-0936-4a4a-900a-3b06a0127163/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.794Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","generationRunId":"c50a5328-0936-4a4a-900a-3b06a0127163","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c50a5328-0936-4a4a-900a-3b06a0127163/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c50a5328-0936-4a4a-900a-3b06a0127163/enhanced_modern.pdf","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.795Z","level":"info","message":"pdf_generation_attempt","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","generationRunId":"c50a5328-0936-4a4a-900a-3b06a0127163","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c50a5328-0936-4a4a-900a-3b06a0127163/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c50a5328-0936-4a4a-900a-3b06a0127163/enhanced_professional.pdf","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.795Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","generationRunId":"c50a5328-0936-4a4a-900a-3b06a0127163","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c50a5328-0936-4a4a-900a-3b06a0127163/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.796Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","generationRunId":"c50a5328-0936-4a4a-900a-3b06a0127163","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c50a5328-0936-4a4a-900a-3b06a0127163/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c50a5328-0936-4a4a-900a-3b06a0127163/enhanced_professional.pdf","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.797Z","level":"info","message":"pdf_generation_attempt","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","generationRunId":"c50a5328-0936-4a4a-900a-3b06a0127163","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c50a5328-0936-4a4a-900a-3b06a0127163/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c50a5328-0936-4a4a-900a-3b06a0127163/cover_letter_cover_modern.pdf","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.797Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","generationRunId":"c50a5328-0936-4a4a-900a-3b06a0127163","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c50a5328-0936-4a4a-900a-3b06a0127163/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.797Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","generationRunId":"c50a5328-0936-4a4a-900a-3b06a0127163","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c50a5328-0936-4a4a-900a-3b06a0127163/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c50a5328-0936-4a4a-900a-3b06a0127163/cover_letter_cover_modern.pdf","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.798Z","level":"info","message":"pdf_generation_attempt","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","generationRunId":"c50a5328-0936-4a4a-900a-3b06a0127163","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c50a5328-0936-4a4a-900a-3b06a0127163/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c50a5328-0936-4a4a-900a-3b06a0127163/cover_letter_cover_professional.pdf","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.798Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","generationRunId":"c50a5328-0936-4a4a-900a-3b06a0127163","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c50a5328-0936-4a4a-900a-3b06a0127163/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.799Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","generationRunId":"c50a5328-0936-4a4a-900a-3b06a0127163","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c50a5328-0936-4a4a-900a-3b06a0127163/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c50a5328-0936-4a4a-900a-3b06a0127163/cover_letter_cover_professional.pdf","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.803Z","level":"info","message":"llm_call_metrics","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"1075df15bec8b8fc718989e1c7ca31af0c39036b671cabbdfc22628f8e2e250f","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.804Z","level":"info","message":"generation_completed","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","generationRunId":"c50a5328-0936-4a4a-900a-3b06a0127163","enhancedScore":80,"outputs":5,"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.806Z","level":"info","message":"placeholder_record_deleted","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","jobId":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","placeholderIdentifier":"c50a5328-0936-4a4a-900a-3b06a0127163","template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0a7e183a-37b9-4f5c-92d7-52e90a77dde5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.807Z","level":"info","message":"http_request_completed","requestId":"c50a5328-0936-4a4a-900a-3b06a0127163","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":52,"contentLength":"59251","template":"unknown","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c50a5328-0936-4a4a-900a-3b06a0127163","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.818Z","level":"info","message":"http_request_received","requestId":"c4dc1e98-f465-4ca9-ac69-c1aa7cebfae4","method":"POST","path":"/api/process-cv","template":"unknown","session":"c4dc1e98-f465-4ca9-ac69-c1aa7cebfae4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4dc1e98-f465-4ca9-ac69-c1aa7cebfae4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.819Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.820Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.821Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.822Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.830Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.832Z","level":"info","message":"process_cv_started","requestId":"c4dc1e98-f465-4ca9-ac69-c1aa7cebfae4","jobId":"8aca94c2-d429-46ee-ba2a-6a78e984752a","manualJobDescriptionProvided":true,"template":"unknown","session":"8aca94c2-d429-46ee-ba2a-6a78e984752a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8aca94c2-d429-46ee-ba2a-6a78e984752a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.832Z","level":"info","message":"template_selection","requestId":"c4dc1e98-f465-4ca9-ac69-c1aa7cebfae4","jobId":"8aca94c2-d429-46ee-ba2a-6a78e984752a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8aca94c2-d429-46ee-ba2a-6a78e984752a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8aca94c2-d429-46ee-ba2a-6a78e984752a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:02.833Z","level":"warn","message":"resume_missing","requestId":"c4dc1e98-f465-4ca9-ac69-c1aa7cebfae4","jobId":"8aca94c2-d429-46ee-ba2a-6a78e984752a","template":"unknown","session":"8aca94c2-d429-46ee-ba2a-6a78e984752a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8aca94c2-d429-46ee-ba2a-6a78e984752a","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25033:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.warn
      {"timestamp":"2025-12-03T13:18:02.833Z","level":"warn","message":"api_error_response","requestId":"c4dc1e98-f465-4ca9-ac69-c1aa7cebfae4","jobId":"8aca94c2-d429-46ee-ba2a-6a78e984752a","status":400,"error":{"code":"RESUME_FILE_REQUIRED","message":"resume file required","details":{"field":"resume"},"requestId":"c4dc1e98-f465-4ca9-ac69-c1aa7cebfae4","jobId":"8aca94c2-d429-46ee-ba2a-6a78e984752a"},"template":"unknown","session":"8aca94c2-d429-46ee-ba2a-6a78e984752a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8aca94c2-d429-46ee-ba2a-6a78e984752a","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at sendError (server.js:3925:3)
      at server.js:25034:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:18:02.834Z","level":"info","message":"http_request_completed","requestId":"c4dc1e98-f465-4ca9-ac69-c1aa7cebfae4","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":16,"contentLength":"217","template":"unknown","session":"c4dc1e98-f465-4ca9-ac69-c1aa7cebfae4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4dc1e98-f465-4ca9-ac69-c1aa7cebfae4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.837Z","level":"info","message":"http_request_received","requestId":"0369d7b1-fb99-4bd5-9adb-bd60af9009a1","method":"POST","path":"/api/process-cv","template":"unknown","session":"0369d7b1-fb99-4bd5-9adb-bd60af9009a1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0369d7b1-fb99-4bd5-9adb-bd60af9009a1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.838Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.839Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.840Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.840Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.841Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:02.845Z","level":"warn","message":"resume_upload_failed","requestId":"0369d7b1-fb99-4bd5-9adb-bd60af9009a1","jobId":"d5fa7261-00f8-48cf-af60-7e1e3a97cbdf","storageError":false,"error":{"name":"Error","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","stack":"Error: Unsupported resume format. Please upload a PDF, DOC, or DOCX file.\n    at fileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4936:9)\n    at wrappedFileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/index.js:44:7)\n    at Multipart.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:109:7)\n    at Multipart.emit (node:events:513:28)\n    at HeaderParser.cb (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:358:14)\n    at HeaderParser.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:394:37)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at IncomingMessage.Readable.read (node:internal/streams/readable:527:10)\n    at flow (node:internal/streams/readable:1011:34)\n    at resume_ (node:internal/streams/readable:992:3)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)"},"template":"unknown","session":"d5fa7261-00f8-48cf-af60-7e1e3a97cbdf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d5fa7261-00f8-48cf-af60-7e1e3a97cbdf","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:24727:7
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at fileFilter (server.js:4935:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

    console.warn
      {"timestamp":"2025-12-03T13:18:02.846Z","level":"warn","message":"api_error_response","requestId":"0369d7b1-fb99-4bd5-9adb-bd60af9009a1","jobId":"d5fa7261-00f8-48cf-af60-7e1e3a97cbdf","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","details":{"field":"resume"},"requestId":"0369d7b1-fb99-4bd5-9adb-bd60af9009a1","jobId":"d5fa7261-00f8-48cf-af60-7e1e3a97cbdf"},"template":"unknown","session":"d5fa7261-00f8-48cf-af60-7e1e3a97cbdf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d5fa7261-00f8-48cf-af60-7e1e3a97cbdf","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at sendError (server.js:3925:3)
      at respond (server.js:24735:9)
      at server.js:24739:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at fileFilter (server.js:4935:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

    console.log
      {"timestamp":"2025-12-03T13:18:02.849Z","level":"info","message":"http_request_completed","requestId":"0369d7b1-fb99-4bd5-9adb-bd60af9009a1","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":12,"contentLength":"267","template":"unknown","session":"0369d7b1-fb99-4bd5-9adb-bd60af9009a1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0369d7b1-fb99-4bd5-9adb-bd60af9009a1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.871Z","level":"info","message":"http_request_received","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","method":"POST","path":"/api/process-cv","template":"unknown","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.872Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.873Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.873Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.874Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.875Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/3e0fa22c-9096-4bb7-b219-0315b823acd1/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":32768}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":32768,"newSize":32768}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/3e0fa22c-9096-4bb7-b219-0315b823acd1/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/3e0fa22c-9096-4bb7-b219-0315b823acd1/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:18:02.881Z","level":"info","message":"process_cv_started","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","manualJobDescriptionProvided":true,"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.882Z","level":"info","message":"template_selection","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:02.883Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:18:02.883Z","level":"info","message":"initial_upload_completed","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","bucket":"test-bucket","key":"cv/candidate/3e0fa22c-9096-4bb7-b219-0315b823acd1/incoming/original.pdf","template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.883Z","level":"info","message":"resume_text_extracted","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","characters":57,"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.885Z","level":"info","message":"resume_classified","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.888Z","level":"info","message":"raw_upload_relocated","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","bucket":"test-bucket","fromKey":"cv/candidate/3e0fa22c-9096-4bb7-b219-0315b823acd1/incoming/original.pdf","toKey":"cv/professional_summary/3e0fa22c-9096-4bb7-b219-0315b823acd1/original.pdf","template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.890Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","bucket":"test-bucket","key":"cv/professional_summary/3e0fa22c-9096-4bb7-b219-0315b823acd1/original.pdf","template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.891Z","level":"info","message":"dynamo_initial_record_written","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","bucket":"test-bucket","key":"cv/professional_summary/3e0fa22c-9096-4bb7-b219-0315b823acd1/original.pdf","template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.928Z","level":"info","message":"upload_metadata_written","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","bucket":"test-bucket","key":"cv/professional_summary/3e0fa22c-9096-4bb7-b219-0315b823acd1/logs/log.json","template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.929Z","level":"info","message":"job_description_supplied_manually","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","characters":174,"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.930Z","level":"info","message":"job_description_analyzed","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","jobTitle":"","jobSkills":5,"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.947Z","level":"info","message":"resume_skills_analyzed","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.952Z","level":"info","message":"llm_call_metrics","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.956Z","level":"info","message":"process_cv_scoring_completed","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.963Z","level":"info","message":"llm_call_metrics","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.964Z","level":"info","message":"generation_section_rewrite_completed","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","generationRunId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.965Z","level":"info","message":"llm_call_metrics","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.969Z","level":"info","message":"generation_resume_verified","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","generationRunId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:02.974Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","generationRunId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:02.976Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","generationRunId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:02.977Z","level":"info","message":"generation_cover_letters_completed","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","generationRunId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","variants":2,"fallbackApplied":true,"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.978Z","level":"info","message":"pdf_generation_attempt","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","generationRunId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/3e0fa22c-9096-4bb7-b219-0315b823acd1/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/3e0fa22c-9096-4bb7-b219-0315b823acd1/enhanced_modern.pdf","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.979Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","generationRunId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/3e0fa22c-9096-4bb7-b219-0315b823acd1/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.980Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","generationRunId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/3e0fa22c-9096-4bb7-b219-0315b823acd1/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/3e0fa22c-9096-4bb7-b219-0315b823acd1/enhanced_modern.pdf","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.980Z","level":"info","message":"pdf_generation_attempt","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","generationRunId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/3e0fa22c-9096-4bb7-b219-0315b823acd1/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/3e0fa22c-9096-4bb7-b219-0315b823acd1/enhanced_professional.pdf","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.981Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","generationRunId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/3e0fa22c-9096-4bb7-b219-0315b823acd1/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.981Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","generationRunId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/3e0fa22c-9096-4bb7-b219-0315b823acd1/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/3e0fa22c-9096-4bb7-b219-0315b823acd1/enhanced_professional.pdf","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.982Z","level":"info","message":"pdf_generation_attempt","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","generationRunId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/3e0fa22c-9096-4bb7-b219-0315b823acd1/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/3e0fa22c-9096-4bb7-b219-0315b823acd1/cover_letter_cover_modern.pdf","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.983Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","generationRunId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/3e0fa22c-9096-4bb7-b219-0315b823acd1/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.984Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","generationRunId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/3e0fa22c-9096-4bb7-b219-0315b823acd1/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/3e0fa22c-9096-4bb7-b219-0315b823acd1/cover_letter_cover_modern.pdf","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.984Z","level":"info","message":"pdf_generation_attempt","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","generationRunId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/3e0fa22c-9096-4bb7-b219-0315b823acd1/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/3e0fa22c-9096-4bb7-b219-0315b823acd1/cover_letter_cover_professional.pdf","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.985Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","generationRunId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/3e0fa22c-9096-4bb7-b219-0315b823acd1/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:02.985Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","generationRunId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/3e0fa22c-9096-4bb7-b219-0315b823acd1/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/3e0fa22c-9096-4bb7-b219-0315b823acd1/cover_letter_cover_professional.pdf","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.001Z","level":"info","message":"llm_call_metrics","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.003Z","level":"info","message":"generation_completed","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","generationRunId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","enhancedScore":80,"outputs":5,"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.004Z","level":"info","message":"placeholder_record_deleted","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","jobId":"2c8c8509-d815-4538-bdb4-a584c34ef82e","placeholderIdentifier":"3e0fa22c-9096-4bb7-b219-0315b823acd1","template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c8c8509-d815-4538-bdb4-a584c34ef82e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.005Z","level":"info","message":"http_request_completed","requestId":"3e0fa22c-9096-4bb7-b219-0315b823acd1","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":134,"contentLength":"58133","template":"unknown","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3e0fa22c-9096-4bb7-b219-0315b823acd1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.011Z","level":"info","message":"http_request_received","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","method":"POST","path":"/api/process-cv","template":"unknown","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.011Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.013Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.014Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.025Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.045Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/incoming/original.pdf","chunks":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":262144}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":262144,"newSize":262144}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:18:03.069Z","level":"info","message":"process_cv_started","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","manualJobDescriptionProvided":true,"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.070Z","level":"info","message":"template_selection","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.071Z","level":"info","message":"initial_upload_completed","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","bucket":"test-bucket","key":"cv/candidate/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/incoming/original.pdf","template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.071Z","level":"info","message":"resume_text_extracted","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","characters":9,"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.072Z","level":"info","message":"document_classification_ai_metrics","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.135Z","level":"info","message":"resume_classified","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.143Z","level":"info","message":"raw_upload_relocated","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","bucket":"test-bucket","fromKey":"cv/candidate/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/incoming/original.pdf","toKey":"cv/docx_text/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/original.docx","template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.143Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","bucket":"test-bucket","key":"cv/docx_text/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/original.docx","template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.144Z","level":"info","message":"dynamo_initial_record_written","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","bucket":"test-bucket","key":"cv/docx_text/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/original.docx","template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.144Z","level":"info","message":"upload_metadata_written","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","bucket":"test-bucket","key":"cv/docx_text/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/logs/log.json","template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.145Z","level":"info","message":"job_description_supplied_manually","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","characters":174,"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.146Z","level":"info","message":"job_description_analyzed","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","jobTitle":"","jobSkills":5,"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.151Z","level":"info","message":"resume_skills_analyzed","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.152Z","level":"info","message":"llm_call_metrics","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.153Z","level":"info","message":"process_cv_scoring_completed","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.157Z","level":"info","message":"llm_call_metrics","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.157Z","level":"info","message":"generation_section_rewrite_completed","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","generationRunId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.158Z","level":"info","message":"llm_call_metrics","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.184Z","level":"info","message":"generation_resume_verified","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","generationRunId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:03.189Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","generationRunId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:03.191Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","generationRunId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:03.191Z","level":"info","message":"generation_cover_letters_completed","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","generationRunId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","variants":2,"fallbackApplied":true,"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.192Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","generationRunId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/","originalUploadKey":"cv/docx_text/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.193Z","level":"info","message":"original_upload_pdf_generated","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","generationRunId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","storageKey":"cv/docx_text/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/original/original_upload.pdf","originalUploadKey":"cv/docx_text/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/original.docx","originalUploadExtension":".docx","template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.202Z","level":"info","message":"pdf_generation_attempt","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","generationRunId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/enhanced_modern.pdf","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.203Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","generationRunId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.204Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","generationRunId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/enhanced_modern.pdf","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.208Z","level":"info","message":"pdf_generation_attempt","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","generationRunId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/enhanced_professional.pdf","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.218Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","generationRunId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.229Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","generationRunId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/enhanced_professional.pdf","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.290Z","level":"info","message":"pdf_generation_attempt","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","generationRunId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/cover_letter_cover_modern.pdf","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.291Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","generationRunId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.311Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","generationRunId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/cover_letter_cover_modern.pdf","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.317Z","level":"info","message":"pdf_generation_attempt","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","generationRunId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/cover_letter_cover_professional.pdf","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.321Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","generationRunId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.322Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","generationRunId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/6fd71be9-72d6-4c2c-a1c8-14d279a3c22f/cover_letter_cover_professional.pdf","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.327Z","level":"info","message":"llm_call_metrics","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.329Z","level":"info","message":"generation_completed","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","generationRunId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","enhancedScore":80,"outputs":6,"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.341Z","level":"info","message":"placeholder_record_deleted","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","jobId":"bce051fd-10c3-4292-97e2-4a5e3c876da5","placeholderIdentifier":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bce051fd-10c3-4292-97e2-4a5e3c876da5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.375Z","level":"info","message":"http_request_completed","requestId":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":365,"contentLength":"58696","template":"unknown","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fd71be9-72d6-4c2c-a1c8-14d279a3c22f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.483Z","level":"info","message":"http_request_received","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","method":"POST","path":"/api/process-cv","template":"unknown","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.485Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.487Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.490Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.494Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.550Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/incoming/original.pdf","chunks":33}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":2097152}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":2097152,"newSize":2097152}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

    console.log
      {"timestamp":"2025-12-03T13:18:03.614Z","level":"info","message":"process_cv_started","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","manualJobDescriptionProvided":true,"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.615Z","level":"info","message":"template_selection","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:03.615Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:18:03.619Z","level":"info","message":"initial_upload_completed","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","bucket":"test-bucket","key":"cv/candidate/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/incoming/original.pdf","template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.620Z","level":"info","message":"resume_text_extracted","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","characters":57,"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.626Z","level":"info","message":"resume_classified","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.630Z","level":"info","message":"raw_upload_relocated","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","bucket":"test-bucket","fromKey":"cv/candidate/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/incoming/original.pdf","toKey":"cv/professional_summary/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/original.pdf","template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.631Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","bucket":"test-bucket","key":"cv/professional_summary/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/original.pdf","template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.631Z","level":"info","message":"dynamo_initial_record_written","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","bucket":"test-bucket","key":"cv/professional_summary/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/original.pdf","template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.632Z","level":"info","message":"upload_metadata_written","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","bucket":"test-bucket","key":"cv/professional_summary/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/logs/log.json","template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.635Z","level":"info","message":"job_description_supplied_manually","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","characters":174,"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.640Z","level":"info","message":"job_description_analyzed","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","jobTitle":"","jobSkills":5,"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.641Z","level":"info","message":"resume_skills_analyzed","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.641Z","level":"info","message":"llm_call_metrics","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.642Z","level":"info","message":"process_cv_scoring_completed","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.670Z","level":"info","message":"llm_call_metrics","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.672Z","level":"info","message":"generation_section_rewrite_completed","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","generationRunId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.674Z","level":"info","message":"llm_call_metrics","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.768Z","level":"info","message":"generation_resume_verified","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","generationRunId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:03.794Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","generationRunId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:03.797Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","generationRunId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:03.797Z","level":"info","message":"generation_cover_letters_completed","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","generationRunId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","variants":2,"fallbackApplied":true,"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.799Z","level":"info","message":"pdf_generation_attempt","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","generationRunId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/enhanced_modern.pdf","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.801Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","generationRunId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.810Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","generationRunId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/enhanced_modern.pdf","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.815Z","level":"info","message":"pdf_generation_attempt","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","generationRunId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/enhanced_professional.pdf","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.817Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","generationRunId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.818Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","generationRunId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/enhanced_professional.pdf","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.818Z","level":"info","message":"pdf_generation_attempt","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","generationRunId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/cover_letter_cover_modern.pdf","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.819Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","generationRunId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.819Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","generationRunId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/cover_letter_cover_modern.pdf","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.822Z","level":"info","message":"pdf_generation_attempt","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","generationRunId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/cover_letter_cover_professional.pdf","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.823Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","generationRunId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.824Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","generationRunId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6dba64d5-eec9-4214-a98b-bd3e5e8e8518/cover_letter_cover_professional.pdf","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.829Z","level":"info","message":"llm_call_metrics","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.834Z","level":"info","message":"generation_completed","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","generationRunId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","enhancedScore":80,"outputs":5,"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.848Z","level":"info","message":"placeholder_record_deleted","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","jobId":"31583606-69dd-4ab9-b428-8d219132dd5e","placeholderIdentifier":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31583606-69dd-4ab9-b428-8d219132dd5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.884Z","level":"info","message":"http_request_completed","requestId":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":401,"contentLength":"58133","template":"unknown","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6dba64d5-eec9-4214-a98b-bd3e5e8e8518","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.934Z","level":"info","message":"http_request_received","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","method":"POST","path":"/api/process-cv","template":"unknown","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.936Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.937Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.938Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.939Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:03.940Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/288a1da9-8803-446e-8107-d68c239b9f02/incoming/original.pdf","chunks":82}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":5241856}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":5241856,"newSize":5241856}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)
          at runMicrotasks (<anonymous>)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/288a1da9-8803-446e-8107-d68c239b9f02/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)
          at runMicrotasks (<anonymous>)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/288a1da9-8803-446e-8107-d68c239b9f02/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.682Z","level":"info","message":"process_cv_started","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","manualJobDescriptionProvided":true,"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:04.683Z","level":"info","message":"template_selection","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:04.685Z","level":"info","message":"initial_upload_completed","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","bucket":"test-bucket","key":"cv/candidate/288a1da9-8803-446e-8107-d68c239b9f02/incoming/original.pdf","template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.685Z","level":"info","message":"resume_text_extracted","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","characters":9,"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.686Z","level":"info","message":"document_classification_ai_metrics","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.688Z","level":"info","message":"resume_classified","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.691Z","level":"info","message":"raw_upload_relocated","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","bucket":"test-bucket","fromKey":"cv/candidate/288a1da9-8803-446e-8107-d68c239b9f02/incoming/original.pdf","toKey":"cv/docx_text/288a1da9-8803-446e-8107-d68c239b9f02/original.docx","template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.700Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","bucket":"test-bucket","key":"cv/docx_text/288a1da9-8803-446e-8107-d68c239b9f02/original.docx","template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.703Z","level":"info","message":"dynamo_initial_record_written","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","bucket":"test-bucket","key":"cv/docx_text/288a1da9-8803-446e-8107-d68c239b9f02/original.docx","template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.704Z","level":"info","message":"upload_metadata_written","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","bucket":"test-bucket","key":"cv/docx_text/288a1da9-8803-446e-8107-d68c239b9f02/logs/log.json","template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.706Z","level":"info","message":"job_description_supplied_manually","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","characters":174,"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.707Z","level":"info","message":"job_description_analyzed","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","jobTitle":"","jobSkills":5,"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.708Z","level":"info","message":"resume_skills_analyzed","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.709Z","level":"info","message":"llm_call_metrics","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.710Z","level":"info","message":"process_cv_scoring_completed","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.715Z","level":"info","message":"llm_call_metrics","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.716Z","level":"info","message":"generation_section_rewrite_completed","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","generationRunId":"288a1da9-8803-446e-8107-d68c239b9f02","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.716Z","level":"info","message":"llm_call_metrics","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.725Z","level":"info","message":"generation_resume_verified","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","generationRunId":"288a1da9-8803-446e-8107-d68c239b9f02","template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.warn
      {"timestamp":"2025-12-03T13:18:04.742Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","generationRunId":"288a1da9-8803-446e-8107-d68c239b9f02","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
          at runMicrotasks (<anonymous>)
      at server.js:26678:28

    console.warn
      {"timestamp":"2025-12-03T13:18:04.744Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","generationRunId":"288a1da9-8803-446e-8107-d68c239b9f02","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
          at runMicrotasks (<anonymous>)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:04.744Z","level":"info","message":"generation_cover_letters_completed","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","generationRunId":"288a1da9-8803-446e-8107-d68c239b9f02","variants":2,"fallbackApplied":true,"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.747Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","generationRunId":"288a1da9-8803-446e-8107-d68c239b9f02","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/288a1da9-8803-446e-8107-d68c239b9f02/","originalUploadKey":"cv/docx_text/288a1da9-8803-446e-8107-d68c239b9f02/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.748Z","level":"info","message":"original_upload_pdf_generated","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","generationRunId":"288a1da9-8803-446e-8107-d68c239b9f02","storageKey":"cv/docx_text/288a1da9-8803-446e-8107-d68c239b9f02/original/original_upload.pdf","originalUploadKey":"cv/docx_text/288a1da9-8803-446e-8107-d68c239b9f02/original.docx","originalUploadExtension":".docx","template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.748Z","level":"info","message":"pdf_generation_attempt","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","generationRunId":"288a1da9-8803-446e-8107-d68c239b9f02","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/288a1da9-8803-446e-8107-d68c239b9f02/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/288a1da9-8803-446e-8107-d68c239b9f02/enhanced_modern.pdf","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.755Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","generationRunId":"288a1da9-8803-446e-8107-d68c239b9f02","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/288a1da9-8803-446e-8107-d68c239b9f02/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.756Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","generationRunId":"288a1da9-8803-446e-8107-d68c239b9f02","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/288a1da9-8803-446e-8107-d68c239b9f02/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/288a1da9-8803-446e-8107-d68c239b9f02/enhanced_modern.pdf","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.756Z","level":"info","message":"pdf_generation_attempt","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","generationRunId":"288a1da9-8803-446e-8107-d68c239b9f02","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/288a1da9-8803-446e-8107-d68c239b9f02/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/288a1da9-8803-446e-8107-d68c239b9f02/enhanced_professional.pdf","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.757Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","generationRunId":"288a1da9-8803-446e-8107-d68c239b9f02","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/288a1da9-8803-446e-8107-d68c239b9f02/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.757Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","generationRunId":"288a1da9-8803-446e-8107-d68c239b9f02","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/288a1da9-8803-446e-8107-d68c239b9f02/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/288a1da9-8803-446e-8107-d68c239b9f02/enhanced_professional.pdf","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.758Z","level":"info","message":"pdf_generation_attempt","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","generationRunId":"288a1da9-8803-446e-8107-d68c239b9f02","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/288a1da9-8803-446e-8107-d68c239b9f02/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/288a1da9-8803-446e-8107-d68c239b9f02/cover_letter_cover_modern.pdf","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.758Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","generationRunId":"288a1da9-8803-446e-8107-d68c239b9f02","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/288a1da9-8803-446e-8107-d68c239b9f02/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.763Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","generationRunId":"288a1da9-8803-446e-8107-d68c239b9f02","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/288a1da9-8803-446e-8107-d68c239b9f02/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/288a1da9-8803-446e-8107-d68c239b9f02/cover_letter_cover_modern.pdf","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.764Z","level":"info","message":"pdf_generation_attempt","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","generationRunId":"288a1da9-8803-446e-8107-d68c239b9f02","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/288a1da9-8803-446e-8107-d68c239b9f02/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/288a1da9-8803-446e-8107-d68c239b9f02/cover_letter_cover_professional.pdf","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.818Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","generationRunId":"288a1da9-8803-446e-8107-d68c239b9f02","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/288a1da9-8803-446e-8107-d68c239b9f02/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.826Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","generationRunId":"288a1da9-8803-446e-8107-d68c239b9f02","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/288a1da9-8803-446e-8107-d68c239b9f02/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/288a1da9-8803-446e-8107-d68c239b9f02/cover_letter_cover_professional.pdf","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.835Z","level":"info","message":"llm_call_metrics","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.840Z","level":"info","message":"generation_completed","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","generationRunId":"288a1da9-8803-446e-8107-d68c239b9f02","enhancedScore":80,"outputs":6,"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.854Z","level":"info","message":"placeholder_record_deleted","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","jobId":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","placeholderIdentifier":"288a1da9-8803-446e-8107-d68c239b9f02","template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3360c1-6478-4ca5-b2b4-aec203761a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:04.856Z","level":"info","message":"http_request_completed","requestId":"288a1da9-8803-446e-8107-d68c239b9f02","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":922,"contentLength":"58696","template":"unknown","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"288a1da9-8803-446e-8107-d68c239b9f02","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:04.958Z","level":"info","message":"http_request_received","requestId":"5bee8bb0-e5b9-44ed-9014-3e8e24c1ba35","method":"POST","path":"/api/process-cv","template":"unknown","session":"5bee8bb0-e5b9-44ed-9014-3e8e24c1ba35","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bee8bb0-e5b9-44ed-9014-3e8e24c1ba35","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:04.960Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:04.962Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:04.964Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:04.966Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:04.968Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/5bee8bb0-e5b9-44ed-9014-3e8e24c1ba35/incoming/original.pdf","chunks":82}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":5242880}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":5242880,"newSize":5242880}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)
          at runMicrotasks (<anonymous>)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/5bee8bb0-e5b9-44ed-9014-3e8e24c1ba35/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)
          at runMicrotasks (<anonymous>)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/5bee8bb0-e5b9-44ed-9014-3e8e24c1ba35/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)
          at runMicrotasks (<anonymous>)

    console.warn
      {"timestamp":"2025-12-03T13:18:05.057Z","level":"warn","message":"resume_upload_failed","requestId":"5bee8bb0-e5b9-44ed-9014-3e8e24c1ba35","jobId":"279108c7-5d4b-4613-bbc8-6fb980d53c33","storageError":false,"error":{"name":"MulterError","message":"File too large","code":"LIMIT_FILE_SIZE","stack":"MulterError: File too large\n    at abortWithCode (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:73:22)\n    at FileStream.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:136:11)\n    at FileStream.emit (node:events:513:28)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:479:32)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:248:10)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at addChunk (node:internal/streams/readable:315:12)\n    at readableAddChunk (node:internal/streams/readable:289:9)\n    at IncomingMessage.Readable.push (node:internal/streams/readable:228:10)\n    at HTTPParser.parserOnBody (node:_http_common:140:24)"},"template":"unknown","session":"279108c7-5d4b-4613-bbc8-6fb980d53c33","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"279108c7-5d4b-4613-bbc8-6fb980d53c33","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:24727:7
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:160:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:143:11)
          at runMicrotasks (<anonymous>)

    console.warn
      {"timestamp":"2025-12-03T13:18:05.067Z","level":"warn","message":"api_error_response","requestId":"5bee8bb0-e5b9-44ed-9014-3e8e24c1ba35","jobId":"279108c7-5d4b-4613-bbc8-6fb980d53c33","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"File too large","details":{"field":"resume"},"requestId":"5bee8bb0-e5b9-44ed-9014-3e8e24c1ba35","jobId":"279108c7-5d4b-4613-bbc8-6fb980d53c33"},"template":"unknown","session":"279108c7-5d4b-4613-bbc8-6fb980d53c33","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"279108c7-5d4b-4613-bbc8-6fb980d53c33","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at sendError (server.js:3925:3)
      at respond (server.js:24735:9)
      at server.js:24739:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:160:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:143:11)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:05.410Z","level":"info","message":"http_request_completed","requestId":"5bee8bb0-e5b9-44ed-9014-3e8e24c1ba35","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":452,"contentLength":"215","template":"unknown","session":"5bee8bb0-e5b9-44ed-9014-3e8e24c1ba35","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bee8bb0-e5b9-44ed-9014-3e8e24c1ba35","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:05.419Z","level":"info","message":"http_request_received","requestId":"d58213ef-d36f-4df4-ba63-17b3b6bb1c4a","method":"POST","path":"/api/process-cv","template":"unknown","session":"d58213ef-d36f-4df4-ba63-17b3b6bb1c4a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d58213ef-d36f-4df4-ba63-17b3b6bb1c4a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:05.421Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:05.422Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:05.554Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:05.555Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:05.567Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/d58213ef-d36f-4df4-ba63-17b3b6bb1c4a/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)
          at runMicrotasks (<anonymous>)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/d58213ef-d36f-4df4-ba63-17b3b6bb1c4a/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)
          at runMicrotasks (<anonymous>)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/d58213ef-d36f-4df4-ba63-17b3b6bb1c4a/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:05.672Z","level":"info","message":"process_cv_started","requestId":"d58213ef-d36f-4df4-ba63-17b3b6bb1c4a","jobId":"650e8338-e841-4dd6-bfec-e92f58966258","manualJobDescriptionProvided":true,"template":"unknown","session":"650e8338-e841-4dd6-bfec-e92f58966258","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"650e8338-e841-4dd6-bfec-e92f58966258","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:05.679Z","level":"info","message":"template_selection","requestId":"d58213ef-d36f-4df4-ba63-17b3b6bb1c4a","jobId":"650e8338-e841-4dd6-bfec-e92f58966258","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"650e8338-e841-4dd6-bfec-e92f58966258","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"650e8338-e841-4dd6-bfec-e92f58966258","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:05.684Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"d58213ef-d36f-4df4-ba63-17b3b6bb1c4a","jobId":"650e8338-e841-4dd6-bfec-e92f58966258","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"650e8338-e841-4dd6-bfec-e92f58966258","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"650e8338-e841-4dd6-bfec-e92f58966258","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:18:05.685Z","level":"info","message":"initial_upload_completed","requestId":"d58213ef-d36f-4df4-ba63-17b3b6bb1c4a","jobId":"650e8338-e841-4dd6-bfec-e92f58966258","bucket":"test-bucket","key":"cv/candidate/d58213ef-d36f-4df4-ba63-17b3b6bb1c4a/incoming/original.pdf","template":"unknown","session":"650e8338-e841-4dd6-bfec-e92f58966258","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"650e8338-e841-4dd6-bfec-e92f58966258","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:05.686Z","level":"info","message":"resume_text_extracted","requestId":"d58213ef-d36f-4df4-ba63-17b3b6bb1c4a","jobId":"650e8338-e841-4dd6-bfec-e92f58966258","characters":70,"template":"unknown","session":"650e8338-e841-4dd6-bfec-e92f58966258","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"650e8338-e841-4dd6-bfec-e92f58966258","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:05.687Z","level":"info","message":"document_classification_ai_metrics","requestId":"d58213ef-d36f-4df4-ba63-17b3b6bb1c4a","jobId":"650e8338-e841-4dd6-bfec-e92f58966258","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"6e7cfda39efd36ecdd0998d74c5dc8668e761fe838cd589d1b8e87517f67efbf","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"650e8338-e841-4dd6-bfec-e92f58966258","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"650e8338-e841-4dd6-bfec-e92f58966258","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:05.688Z","level":"info","message":"resume_classified","requestId":"d58213ef-d36f-4df4-ba63-17b3b6bb1c4a","jobId":"650e8338-e841-4dd6-bfec-e92f58966258","isResume":false,"description":"an invoice document","confidence":0.4,"accepted":false,"overridden":false,"template":"unknown","session":"650e8338-e841-4dd6-bfec-e92f58966258","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"650e8338-e841-4dd6-bfec-e92f58966258","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.warn
      {"timestamp":"2025-12-03T13:18:05.689Z","level":"warn","message":"resume_validation_failed","requestId":"d58213ef-d36f-4df4-ba63-17b3b6bb1c4a","jobId":"650e8338-e841-4dd6-bfec-e92f58966258","reason":"not_identified_as_resume","description":"an invoice document","confidence":0.4,"wordCount":12,"invalidKey":"invalid/candidate/2025-12-03/d58213ef-d36f-4df4-ba63-17b3b6bb1c4a/an-invoice-bcbcf2be-7bdc-4a8c-92c5-d1ff4bc0ad68.pdf","classification":"an invoice","template":"unknown","session":"650e8338-e841-4dd6-bfec-e92f58966258","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"650e8338-e841-4dd6-bfec-e92f58966258","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25614:9
          at runMicrotasks (<anonymous>)

    console.warn
      {"timestamp":"2025-12-03T13:18:05.692Z","level":"warn","message":"api_error_response","requestId":"d58213ef-d36f-4df4-ba63-17b3b6bb1c4a","jobId":"650e8338-e841-4dd6-bfec-e92f58966258","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded an invoice document (classified as \"invoice\"). Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\". Please upload a correct CV or resume to continue.","details":{"description":"an invoice document","confidence":0.4,"reason":"Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\".","classification":"an invoice","className":"invoice","storageKey":"invalid/candidate/2025-12-03/d58213ef-d36f-4df4-ba63-17b3b6bb1c4a/an-invoice-bcbcf2be-7bdc-4a8c-92c5-d1ff4bc0ad68.pdf","invalidStorageKey":"invalid/candidate/2025-12-03/d58213ef-d36f-4df4-ba63-17b3b6bb1c4a/an-invoice-bcbcf2be-7bdc-4a8c-92c5-d1ff4bc0ad68.pdf"},"requestId":"d58213ef-d36f-4df4-ba63-17b3b6bb1c4a","jobId":"650e8338-e841-4dd6-bfec-e92f58966258"},"template":"unknown","session":"650e8338-e841-4dd6-bfec-e92f58966258","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"650e8338-e841-4dd6-bfec-e92f58966258","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at sendError (server.js:3925:3)
      at server.js:25689:14
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:05.694Z","level":"info","message":"http_request_completed","requestId":"d58213ef-d36f-4df4-ba63-17b3b6bb1c4a","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":275,"contentLength":"871","template":"unknown","session":"d58213ef-d36f-4df4-ba63-17b3b6bb1c4a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d58213ef-d36f-4df4-ba63-17b3b6bb1c4a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:05.709Z","level":"info","message":"http_request_received","requestId":"32ae554a-580e-483e-acd1-0da106c60f04","method":"POST","path":"/api/process-cv","template":"unknown","session":"32ae554a-580e-483e-acd1-0da106c60f04","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32ae554a-580e-483e-acd1-0da106c60f04","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:05.710Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:05.713Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:05.714Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:05.716Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:05.717Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/32ae554a-580e-483e-acd1-0da106c60f04/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)
          at runMicrotasks (<anonymous>)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/32ae554a-580e-483e-acd1-0da106c60f04/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)
          at runMicrotasks (<anonymous>)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/32ae554a-580e-483e-acd1-0da106c60f04/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:05.799Z","level":"info","message":"process_cv_started","requestId":"32ae554a-580e-483e-acd1-0da106c60f04","jobId":"0e182048-9b3b-4c39-988a-bf8b43580e42","manualJobDescriptionProvided":true,"template":"unknown","session":"0e182048-9b3b-4c39-988a-bf8b43580e42","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e182048-9b3b-4c39-988a-bf8b43580e42","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:05.800Z","level":"info","message":"template_selection","requestId":"32ae554a-580e-483e-acd1-0da106c60f04","jobId":"0e182048-9b3b-4c39-988a-bf8b43580e42","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"0e182048-9b3b-4c39-988a-bf8b43580e42","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0e182048-9b3b-4c39-988a-bf8b43580e42","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:05.800Z","level":"info","message":"initial_upload_completed","requestId":"32ae554a-580e-483e-acd1-0da106c60f04","jobId":"0e182048-9b3b-4c39-988a-bf8b43580e42","bucket":"test-bucket","key":"cv/candidate/32ae554a-580e-483e-acd1-0da106c60f04/incoming/original.pdf","template":"unknown","session":"0e182048-9b3b-4c39-988a-bf8b43580e42","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e182048-9b3b-4c39-988a-bf8b43580e42","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:05.801Z","level":"info","message":"resume_text_extracted","requestId":"32ae554a-580e-483e-acd1-0da106c60f04","jobId":"0e182048-9b3b-4c39-988a-bf8b43580e42","characters":52,"template":"unknown","session":"0e182048-9b3b-4c39-988a-bf8b43580e42","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e182048-9b3b-4c39-988a-bf8b43580e42","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:05.805Z","level":"info","message":"document_classification_ai_metrics","requestId":"32ae554a-580e-483e-acd1-0da106c60f04","jobId":"0e182048-9b3b-4c39-988a-bf8b43580e42","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"b660b3e8ecbc83aad9e6543dcb4a0d862627f82012d98cdb58b183fb5f0cc539","outputDigest":"ce4b8bd954f55aa4d760051876705884299536b3f182fa6f09cbd2aaee0a6b16","latencyMs":0,"isResume":false,"confidence":0.2,"template":"document_classification","session":"0e182048-9b3b-4c39-988a-bf8b43580e42","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"0e182048-9b3b-4c39-988a-bf8b43580e42","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:05.807Z","level":"info","message":"resume_classified","requestId":"32ae554a-580e-483e-acd1-0da106c60f04","jobId":"0e182048-9b3b-4c39-988a-bf8b43580e42","isResume":false,"description":"a short memo","confidence":0.2,"accepted":false,"overridden":false,"template":"unknown","session":"0e182048-9b3b-4c39-988a-bf8b43580e42","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e182048-9b3b-4c39-988a-bf8b43580e42","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.warn
      {"timestamp":"2025-12-03T13:18:05.808Z","level":"warn","message":"resume_validation_failed","requestId":"32ae554a-580e-483e-acd1-0da106c60f04","jobId":"0e182048-9b3b-4c39-988a-bf8b43580e42","reason":"not_identified_as_resume","description":"a short memo","confidence":0.2,"wordCount":9,"invalidKey":"invalid/candidate/2025-12-03/32ae554a-580e-483e-acd1-0da106c60f04/a-short-memo-cbdd528e-b5cb-4c42-962c-225f3dcbd4b1.docx","classification":"a short memo","template":"unknown","session":"0e182048-9b3b-4c39-988a-bf8b43580e42","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e182048-9b3b-4c39-988a-bf8b43580e42","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25614:9
          at runMicrotasks (<anonymous>)

    console.warn
      {"timestamp":"2025-12-03T13:18:05.810Z","level":"warn","message":"api_error_response","requestId":"32ae554a-580e-483e-acd1-0da106c60f04","jobId":"0e182048-9b3b-4c39-988a-bf8b43580e42","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded a short memo document (classified as \"short_memo\"). Missing resume structure. Please upload a correct CV or resume to continue.","details":{"description":"a short memo","confidence":0.2,"reason":"Missing resume structure.","classification":"a short memo","className":"short_memo","storageKey":"invalid/candidate/2025-12-03/32ae554a-580e-483e-acd1-0da106c60f04/a-short-memo-cbdd528e-b5cb-4c42-962c-225f3dcbd4b1.docx","invalidStorageKey":"invalid/candidate/2025-12-03/32ae554a-580e-483e-acd1-0da106c60f04/a-short-memo-cbdd528e-b5cb-4c42-962c-225f3dcbd4b1.docx"},"requestId":"32ae554a-580e-483e-acd1-0da106c60f04","jobId":"0e182048-9b3b-4c39-988a-bf8b43580e42"},"template":"unknown","session":"0e182048-9b3b-4c39-988a-bf8b43580e42","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e182048-9b3b-4c39-988a-bf8b43580e42","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at sendError (server.js:3925:3)
      at server.js:25689:14
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:05.811Z","level":"info","message":"http_request_completed","requestId":"32ae554a-580e-483e-acd1-0da106c60f04","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":102,"contentLength":"748","template":"unknown","session":"32ae554a-580e-483e-acd1-0da106c60f04","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32ae554a-580e-483e-acd1-0da106c60f04","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:05.851Z","level":"info","message":"http_request_received","requestId":"0dc0d998-9845-44cb-907a-6ce725a79127","method":"POST","path":"/api/process-cv","template":"unknown","session":"0dc0d998-9845-44cb-907a-6ce725a79127","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0dc0d998-9845-44cb-907a-6ce725a79127","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:05.926Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:05.946Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:05.971Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:05.981Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.000Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/0dc0d998-9845-44cb-907a-6ce725a79127/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)
          at runMicrotasks (<anonymous>)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/0dc0d998-9845-44cb-907a-6ce725a79127/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)
          at runMicrotasks (<anonymous>)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/0dc0d998-9845-44cb-907a-6ce725a79127/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.017Z","level":"info","message":"process_cv_started","requestId":"0dc0d998-9845-44cb-907a-6ce725a79127","jobId":"29de1f92-30ab-47a4-aae5-9ea0f5d33766","manualJobDescriptionProvided":false,"template":"unknown","session":"29de1f92-30ab-47a4-aae5-9ea0f5d33766","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29de1f92-30ab-47a4-aae5-9ea0f5d33766","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.018Z","level":"info","message":"template_selection","requestId":"0dc0d998-9845-44cb-907a-6ce725a79127","jobId":"29de1f92-30ab-47a4-aae5-9ea0f5d33766","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"29de1f92-30ab-47a4-aae5-9ea0f5d33766","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"29de1f92-30ab-47a4-aae5-9ea0f5d33766","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:06.019Z","level":"warn","message":"job_description_missing","requestId":"0dc0d998-9845-44cb-907a-6ce725a79127","jobId":"29de1f92-30ab-47a4-aae5-9ea0f5d33766","template":"unknown","session":"29de1f92-30ab-47a4-aae5-9ea0f5d33766","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29de1f92-30ab-47a4-aae5-9ea0f5d33766","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25043:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.warn
      {"timestamp":"2025-12-03T13:18:06.019Z","level":"warn","message":"api_error_response","requestId":"0dc0d998-9845-44cb-907a-6ce725a79127","jobId":"29de1f92-30ab-47a4-aae5-9ea0f5d33766","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"0dc0d998-9845-44cb-907a-6ce725a79127","jobId":"29de1f92-30ab-47a4-aae5-9ea0f5d33766"},"template":"unknown","session":"29de1f92-30ab-47a4-aae5-9ea0f5d33766","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29de1f92-30ab-47a4-aae5-9ea0f5d33766","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at sendError (server.js:3925:3)
      at server.js:25044:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:18:06.063Z","level":"info","message":"http_request_completed","requestId":"0dc0d998-9845-44cb-907a-6ce725a79127","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":212,"contentLength":"244","template":"unknown","session":"0dc0d998-9845-44cb-907a-6ce725a79127","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0dc0d998-9845-44cb-907a-6ce725a79127","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.075Z","level":"info","message":"http_request_received","requestId":"ee739249-713c-48ce-9078-36515bc3ec46","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"ee739249-713c-48ce-9078-36515bc3ec46","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ee739249-713c-48ce-9078-36515bc3ec46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.076Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.077Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.080Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.083Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.083Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:06.087Z","level":"warn","message":"api_error_response","requestId":"ee739249-713c-48ce-9078-36515bc3ec46","jobId":"2d472e49-7c89-4fef-a4fb-96b075d2baf1","status":400,"error":{"code":"JOB_ID_REQUIRED","message":"jobId is required to generate enhanced documents.","details":{},"requestId":"ee739249-713c-48ce-9078-36515bc3ec46","jobId":"2d472e49-7c89-4fef-a4fb-96b075d2baf1"},"template":"unknown","session":"2d472e49-7c89-4fef-a4fb-96b075d2baf1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d472e49-7c89-4fef-a4fb-96b075d2baf1","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at sendError (server.js:3925:3)
      at server.js:22453:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at assignJobContext (server.js:16367:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveStatic (node_modules/serve-static/index.js:75:16)
      at server.js:4902:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at tryServeHashedIndexAssetFromS3 (server.js:1153:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveIndexAssetAlias (server.js:1488:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4884:5
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4878:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at urlencodedParser (node_modules/body-parser/lib/types/urlencoded.js:85:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

    console.log
      {"timestamp":"2025-12-03T13:18:06.089Z","level":"info","message":"http_request_completed","requestId":"ee739249-713c-48ce-9078-36515bc3ec46","method":"POST","path":"/api/generate-enhanced-docs","statusCode":400,"durationMs":14,"contentLength":"225","template":"unknown","session":"ee739249-713c-48ce-9078-36515bc3ec46","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ee739249-713c-48ce-9078-36515bc3ec46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.096Z","level":"info","message":"http_request_received","requestId":"2357fcda-ceea-476a-9dad-7b147c05ee91","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.097Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.103Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.105Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.107Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.108Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:06.112Z","level":"warn","message":"generation_job_context_missing","requestId":"2357fcda-ceea-476a-9dad-7b147c05ee91","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:22645:11
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.155Z","level":"info","message":"llm_call_metrics","requestId":"2357fcda-ceea-476a-9dad-7b147c05ee91","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"7ff1a2fe49f8d71808c8d1fdb99db5320bf5a75739ee80e7efed665ea9588077","outputDigest":"5af248b63fed3c73350376c1d32988fbeb95f6a40181a19b7e450c5651a56ea6","addedSkillCount":0,"template":"resume_rewrite","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.155Z","level":"info","message":"generation_section_rewrite_completed","requestId":"2357fcda-ceea-476a-9dad-7b147c05ee91","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2357fcda-ceea-476a-9dad-7b147c05ee91","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.178Z","level":"info","message":"generation_resume_verified","requestId":"2357fcda-ceea-476a-9dad-7b147c05ee91","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2357fcda-ceea-476a-9dad-7b147c05ee91","template":"unknown","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.warn
      {"timestamp":"2025-12-03T13:18:06.209Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"2357fcda-ceea-476a-9dad-7b147c05ee91","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2357fcda-ceea-476a-9dad-7b147c05ee91","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
          at runMicrotasks (<anonymous>)
      at server.js:22948:28

    console.log
      {"timestamp":"2025-12-03T13:18:06.210Z","level":"info","message":"generation_cover_letters_completed","requestId":"2357fcda-ceea-476a-9dad-7b147c05ee91","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2357fcda-ceea-476a-9dad-7b147c05ee91","variants":2,"fallbackApplied":true,"template":"unknown","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.211Z","level":"info","message":"pdf_generation_attempt","requestId":"2357fcda-ceea-476a-9dad-7b147c05ee91","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2357fcda-ceea-476a-9dad-7b147c05ee91","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/2357fcda-ceea-476a-9dad-7b147c05ee91/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/2357fcda-ceea-476a-9dad-7b147c05ee91/enhanced_modern.pdf","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.212Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2357fcda-ceea-476a-9dad-7b147c05ee91","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2357fcda-ceea-476a-9dad-7b147c05ee91","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/2357fcda-ceea-476a-9dad-7b147c05ee91/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.214Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2357fcda-ceea-476a-9dad-7b147c05ee91","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2357fcda-ceea-476a-9dad-7b147c05ee91","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/2357fcda-ceea-476a-9dad-7b147c05ee91/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/2357fcda-ceea-476a-9dad-7b147c05ee91/enhanced_modern.pdf","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.215Z","level":"info","message":"pdf_generation_attempt","requestId":"2357fcda-ceea-476a-9dad-7b147c05ee91","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2357fcda-ceea-476a-9dad-7b147c05ee91","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/2357fcda-ceea-476a-9dad-7b147c05ee91/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/2357fcda-ceea-476a-9dad-7b147c05ee91/enhanced_professional.pdf","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.221Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2357fcda-ceea-476a-9dad-7b147c05ee91","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2357fcda-ceea-476a-9dad-7b147c05ee91","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/2357fcda-ceea-476a-9dad-7b147c05ee91/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.221Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2357fcda-ceea-476a-9dad-7b147c05ee91","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2357fcda-ceea-476a-9dad-7b147c05ee91","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/2357fcda-ceea-476a-9dad-7b147c05ee91/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/2357fcda-ceea-476a-9dad-7b147c05ee91/enhanced_professional.pdf","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.222Z","level":"info","message":"pdf_generation_attempt","requestId":"2357fcda-ceea-476a-9dad-7b147c05ee91","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2357fcda-ceea-476a-9dad-7b147c05ee91","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/2357fcda-ceea-476a-9dad-7b147c05ee91/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/2357fcda-ceea-476a-9dad-7b147c05ee91/cover_letter_cover_modern.pdf","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.223Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2357fcda-ceea-476a-9dad-7b147c05ee91","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2357fcda-ceea-476a-9dad-7b147c05ee91","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/2357fcda-ceea-476a-9dad-7b147c05ee91/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.238Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2357fcda-ceea-476a-9dad-7b147c05ee91","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2357fcda-ceea-476a-9dad-7b147c05ee91","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/2357fcda-ceea-476a-9dad-7b147c05ee91/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/2357fcda-ceea-476a-9dad-7b147c05ee91/cover_letter_cover_modern.pdf","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.239Z","level":"info","message":"pdf_generation_attempt","requestId":"2357fcda-ceea-476a-9dad-7b147c05ee91","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2357fcda-ceea-476a-9dad-7b147c05ee91","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/2357fcda-ceea-476a-9dad-7b147c05ee91/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/2357fcda-ceea-476a-9dad-7b147c05ee91/cover_letter_cover_professional.pdf","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.246Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2357fcda-ceea-476a-9dad-7b147c05ee91","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2357fcda-ceea-476a-9dad-7b147c05ee91","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/2357fcda-ceea-476a-9dad-7b147c05ee91/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.247Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2357fcda-ceea-476a-9dad-7b147c05ee91","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2357fcda-ceea-476a-9dad-7b147c05ee91","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/2357fcda-ceea-476a-9dad-7b147c05ee91/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/2357fcda-ceea-476a-9dad-7b147c05ee91/cover_letter_cover_professional.pdf","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.257Z","level":"info","message":"llm_call_metrics","requestId":"2357fcda-ceea-476a-9dad-7b147c05ee91","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.259Z","level":"info","message":"generation_completed","requestId":"2357fcda-ceea-476a-9dad-7b147c05ee91","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2357fcda-ceea-476a-9dad-7b147c05ee91","enhancedScore":0,"outputs":4,"template":"unknown","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.262Z","level":"info","message":"http_request_completed","requestId":"2357fcda-ceea-476a-9dad-7b147c05ee91","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":166,"contentLength":"55422","template":"unknown","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2357fcda-ceea-476a-9dad-7b147c05ee91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.277Z","level":"info","message":"http_request_received","requestId":"2ab445f3-5000-4649-83b2-b9705afb556a","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.278Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.278Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.280Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.281Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.282Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:06.283Z","level":"warn","message":"generation_job_context_missing","requestId":"2ab445f3-5000-4649-83b2-b9705afb556a","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:22645:11
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.302Z","level":"info","message":"llm_call_metrics","requestId":"2ab445f3-5000-4649-83b2-b9705afb556a","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.302Z","level":"info","message":"generation_section_rewrite_completed","requestId":"2ab445f3-5000-4649-83b2-b9705afb556a","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2ab445f3-5000-4649-83b2-b9705afb556a","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.311Z","level":"info","message":"generation_resume_verified","requestId":"2ab445f3-5000-4649-83b2-b9705afb556a","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2ab445f3-5000-4649-83b2-b9705afb556a","template":"unknown","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.warn
      {"timestamp":"2025-12-03T13:18:06.355Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"2ab445f3-5000-4649-83b2-b9705afb556a","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2ab445f3-5000-4649-83b2-b9705afb556a","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
          at runMicrotasks (<anonymous>)
      at server.js:22948:28

    console.log
      {"timestamp":"2025-12-03T13:18:06.356Z","level":"info","message":"generation_cover_letters_completed","requestId":"2ab445f3-5000-4649-83b2-b9705afb556a","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2ab445f3-5000-4649-83b2-b9705afb556a","variants":2,"fallbackApplied":true,"template":"unknown","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.357Z","level":"info","message":"pdf_generation_attempt","requestId":"2ab445f3-5000-4649-83b2-b9705afb556a","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2ab445f3-5000-4649-83b2-b9705afb556a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/2ab445f3-5000-4649-83b2-b9705afb556a/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/2ab445f3-5000-4649-83b2-b9705afb556a/enhanced_modern.pdf","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.357Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2ab445f3-5000-4649-83b2-b9705afb556a","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2ab445f3-5000-4649-83b2-b9705afb556a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/2ab445f3-5000-4649-83b2-b9705afb556a/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.358Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2ab445f3-5000-4649-83b2-b9705afb556a","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2ab445f3-5000-4649-83b2-b9705afb556a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/2ab445f3-5000-4649-83b2-b9705afb556a/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/2ab445f3-5000-4649-83b2-b9705afb556a/enhanced_modern.pdf","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.359Z","level":"info","message":"pdf_generation_attempt","requestId":"2ab445f3-5000-4649-83b2-b9705afb556a","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2ab445f3-5000-4649-83b2-b9705afb556a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/2ab445f3-5000-4649-83b2-b9705afb556a/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/2ab445f3-5000-4649-83b2-b9705afb556a/enhanced_professional.pdf","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.359Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2ab445f3-5000-4649-83b2-b9705afb556a","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2ab445f3-5000-4649-83b2-b9705afb556a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/2ab445f3-5000-4649-83b2-b9705afb556a/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.360Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2ab445f3-5000-4649-83b2-b9705afb556a","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2ab445f3-5000-4649-83b2-b9705afb556a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/2ab445f3-5000-4649-83b2-b9705afb556a/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/2ab445f3-5000-4649-83b2-b9705afb556a/enhanced_professional.pdf","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.366Z","level":"info","message":"pdf_generation_attempt","requestId":"2ab445f3-5000-4649-83b2-b9705afb556a","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2ab445f3-5000-4649-83b2-b9705afb556a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/2ab445f3-5000-4649-83b2-b9705afb556a/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/2ab445f3-5000-4649-83b2-b9705afb556a/cover_letter_cover_modern.pdf","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.378Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2ab445f3-5000-4649-83b2-b9705afb556a","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2ab445f3-5000-4649-83b2-b9705afb556a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/2ab445f3-5000-4649-83b2-b9705afb556a/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.410Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2ab445f3-5000-4649-83b2-b9705afb556a","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2ab445f3-5000-4649-83b2-b9705afb556a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/2ab445f3-5000-4649-83b2-b9705afb556a/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/2ab445f3-5000-4649-83b2-b9705afb556a/cover_letter_cover_modern.pdf","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.411Z","level":"info","message":"pdf_generation_attempt","requestId":"2ab445f3-5000-4649-83b2-b9705afb556a","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2ab445f3-5000-4649-83b2-b9705afb556a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/2ab445f3-5000-4649-83b2-b9705afb556a/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/2ab445f3-5000-4649-83b2-b9705afb556a/cover_letter_cover_professional.pdf","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.412Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2ab445f3-5000-4649-83b2-b9705afb556a","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2ab445f3-5000-4649-83b2-b9705afb556a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/2ab445f3-5000-4649-83b2-b9705afb556a/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.413Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2ab445f3-5000-4649-83b2-b9705afb556a","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2ab445f3-5000-4649-83b2-b9705afb556a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/2ab445f3-5000-4649-83b2-b9705afb556a/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/2ab445f3-5000-4649-83b2-b9705afb556a/cover_letter_cover_professional.pdf","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.468Z","level":"info","message":"llm_call_metrics","requestId":"2ab445f3-5000-4649-83b2-b9705afb556a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.481Z","level":"info","message":"generation_completed","requestId":"2ab445f3-5000-4649-83b2-b9705afb556a","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2ab445f3-5000-4649-83b2-b9705afb556a","enhancedScore":0,"outputs":4,"template":"unknown","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.484Z","level":"info","message":"http_request_completed","requestId":"2ab445f3-5000-4649-83b2-b9705afb556a","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":207,"contentLength":"60025","template":"unknown","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ab445f3-5000-4649-83b2-b9705afb556a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.496Z","level":"info","message":"http_request_received","requestId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.497Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.498Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.499Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.540Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:06.568Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:06.599Z","level":"warn","message":"generation_job_context_missing","requestId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:22645:11
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.676Z","level":"info","message":"llm_call_metrics","requestId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.677Z","level":"info","message":"generation_section_rewrite_completed","requestId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.692Z","level":"info","message":"generation_resume_verified","requestId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","template":"unknown","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.warn
      {"timestamp":"2025-12-03T13:18:06.718Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","invalidLetters":[{"key":"cover_letter1","issues":["placeholder_detected","weak_closing","section_heading_without_content"]}],"template":"unknown","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
          at runMicrotasks (<anonymous>)
      at server.js:22948:28

    console.warn
      {"timestamp":"2025-12-03T13:18:06.726Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","missing":["cover_letter1"],"template":"unknown","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
          at runMicrotasks (<anonymous>)
      at server.js:22948:28

    console.log
      {"timestamp":"2025-12-03T13:18:06.731Z","level":"info","message":"generation_cover_letters_completed","requestId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","variants":2,"fallbackApplied":true,"template":"unknown","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.732Z","level":"info","message":"pdf_generation_attempt","requestId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/80df15f9-396d-42d2-8e6d-8dc440cc7065/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/80df15f9-396d-42d2-8e6d-8dc440cc7065/enhanced_modern.pdf","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.733Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/80df15f9-396d-42d2-8e6d-8dc440cc7065/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.734Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/80df15f9-396d-42d2-8e6d-8dc440cc7065/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/80df15f9-396d-42d2-8e6d-8dc440cc7065/enhanced_modern.pdf","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.734Z","level":"info","message":"pdf_generation_attempt","requestId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/80df15f9-396d-42d2-8e6d-8dc440cc7065/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/80df15f9-396d-42d2-8e6d-8dc440cc7065/enhanced_professional.pdf","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.735Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/80df15f9-396d-42d2-8e6d-8dc440cc7065/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.735Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/80df15f9-396d-42d2-8e6d-8dc440cc7065/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/80df15f9-396d-42d2-8e6d-8dc440cc7065/enhanced_professional.pdf","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.736Z","level":"info","message":"pdf_generation_attempt","requestId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/80df15f9-396d-42d2-8e6d-8dc440cc7065/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/80df15f9-396d-42d2-8e6d-8dc440cc7065/cover_letter_cover_modern.pdf","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.746Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/80df15f9-396d-42d2-8e6d-8dc440cc7065/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.747Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/80df15f9-396d-42d2-8e6d-8dc440cc7065/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/80df15f9-396d-42d2-8e6d-8dc440cc7065/cover_letter_cover_modern.pdf","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.760Z","level":"info","message":"pdf_generation_attempt","requestId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/80df15f9-396d-42d2-8e6d-8dc440cc7065/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/80df15f9-396d-42d2-8e6d-8dc440cc7065/cover_letter_cover_professional.pdf","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.766Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/80df15f9-396d-42d2-8e6d-8dc440cc7065/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.767Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/80df15f9-396d-42d2-8e6d-8dc440cc7065/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/80df15f9-396d-42d2-8e6d-8dc440cc7065/cover_letter_cover_professional.pdf","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.797Z","level":"info","message":"llm_call_metrics","requestId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.858Z","level":"info","message":"generation_completed","requestId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","enhancedScore":0,"outputs":4,"template":"unknown","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:06.901Z","level":"info","message":"http_request_completed","requestId":"80df15f9-396d-42d2-8e6d-8dc440cc7065","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":405,"contentLength":"52626","template":"unknown","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80df15f9-396d-42d2-8e6d-8dc440cc7065","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.574Z","level":"info","message":"http_request_received","requestId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.579Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.582Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.591Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.596Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.600Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:07.663Z","level":"warn","message":"generation_job_context_missing","requestId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:22645:11
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:07.718Z","level":"info","message":"llm_call_metrics","requestId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:07.718Z","level":"info","message":"generation_section_rewrite_completed","requestId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:07.739Z","level":"info","message":"generation_resume_verified","requestId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","template":"unknown","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.warn
      {"timestamp":"2025-12-03T13:18:07.774Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
          at runMicrotasks (<anonymous>)
      at server.js:22948:28

    console.log
      {"timestamp":"2025-12-03T13:18:07.776Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","variants":["cover_letter1"],"template":"unknown","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:07.786Z","level":"info","message":"generation_cover_letters_completed","requestId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","variants":2,"fallbackApplied":true,"template":"unknown","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:07.790Z","level":"info","message":"pdf_generation_attempt","requestId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/8df7ed32-49ac-4ecd-81aa-054fe0155a1e/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/8df7ed32-49ac-4ecd-81aa-054fe0155a1e/enhanced_modern.pdf","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:07.791Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/8df7ed32-49ac-4ecd-81aa-054fe0155a1e/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:07.792Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/8df7ed32-49ac-4ecd-81aa-054fe0155a1e/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/8df7ed32-49ac-4ecd-81aa-054fe0155a1e/enhanced_modern.pdf","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:07.793Z","level":"info","message":"pdf_generation_attempt","requestId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/8df7ed32-49ac-4ecd-81aa-054fe0155a1e/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/8df7ed32-49ac-4ecd-81aa-054fe0155a1e/enhanced_professional.pdf","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:07.794Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/8df7ed32-49ac-4ecd-81aa-054fe0155a1e/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:07.799Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/8df7ed32-49ac-4ecd-81aa-054fe0155a1e/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/8df7ed32-49ac-4ecd-81aa-054fe0155a1e/enhanced_professional.pdf","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:07.801Z","level":"info","message":"pdf_generation_attempt","requestId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/8df7ed32-49ac-4ecd-81aa-054fe0155a1e/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/8df7ed32-49ac-4ecd-81aa-054fe0155a1e/cover_letter_cover_modern.pdf","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:07.802Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/8df7ed32-49ac-4ecd-81aa-054fe0155a1e/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:07.806Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/8df7ed32-49ac-4ecd-81aa-054fe0155a1e/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/8df7ed32-49ac-4ecd-81aa-054fe0155a1e/cover_letter_cover_modern.pdf","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:07.809Z","level":"info","message":"pdf_generation_attempt","requestId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/8df7ed32-49ac-4ecd-81aa-054fe0155a1e/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/8df7ed32-49ac-4ecd-81aa-054fe0155a1e/cover_letter_cover_professional.pdf","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:07.810Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/8df7ed32-49ac-4ecd-81aa-054fe0155a1e/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:07.811Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/8df7ed32-49ac-4ecd-81aa-054fe0155a1e/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/8df7ed32-49ac-4ecd-81aa-054fe0155a1e/cover_letter_cover_professional.pdf","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:07.821Z","level":"info","message":"llm_call_metrics","requestId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:07.834Z","level":"info","message":"generation_completed","requestId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","enhancedScore":0,"outputs":4,"template":"unknown","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:07.839Z","level":"info","message":"http_request_completed","requestId":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":265,"contentLength":"48347","template":"unknown","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8df7ed32-49ac-4ecd-81aa-054fe0155a1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.856Z","level":"info","message":"http_request_received","requestId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.868Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.873Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.875Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.899Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:07.900Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:07.901Z","level":"warn","message":"generation_job_context_missing","requestId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:22645:11
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:07.951Z","level":"info","message":"llm_call_metrics","requestId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:07.956Z","level":"info","message":"generation_section_rewrite_completed","requestId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:07.976Z","level":"info","message":"generation_resume_verified","requestId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","template":"unknown","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.warn
      {"timestamp":"2025-12-03T13:18:08.142Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","invalidLetters":[{"key":"cover_letter1","issues":["exceeds_word_limit"]},{"key":"cover_letter2","issues":["exceeds_word_limit"]}],"template":"unknown","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
          at runMicrotasks (<anonymous>)
      at server.js:22948:28

    console.warn
      {"timestamp":"2025-12-03T13:18:08.144Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
          at runMicrotasks (<anonymous>)
      at server.js:22948:28

    console.log
      {"timestamp":"2025-12-03T13:18:08.144Z","level":"info","message":"generation_cover_letters_completed","requestId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","variants":2,"fallbackApplied":true,"template":"unknown","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.145Z","level":"info","message":"pdf_generation_attempt","requestId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/eb167014-ec81-4c56-b559-f81cd9e7cae8/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/eb167014-ec81-4c56-b559-f81cd9e7cae8/enhanced_modern.pdf","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.146Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/eb167014-ec81-4c56-b559-f81cd9e7cae8/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.147Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/eb167014-ec81-4c56-b559-f81cd9e7cae8/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/eb167014-ec81-4c56-b559-f81cd9e7cae8/enhanced_modern.pdf","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.147Z","level":"info","message":"pdf_generation_attempt","requestId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/eb167014-ec81-4c56-b559-f81cd9e7cae8/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/eb167014-ec81-4c56-b559-f81cd9e7cae8/enhanced_professional.pdf","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.148Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/eb167014-ec81-4c56-b559-f81cd9e7cae8/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.149Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/eb167014-ec81-4c56-b559-f81cd9e7cae8/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/eb167014-ec81-4c56-b559-f81cd9e7cae8/enhanced_professional.pdf","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.149Z","level":"info","message":"pdf_generation_attempt","requestId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/eb167014-ec81-4c56-b559-f81cd9e7cae8/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/eb167014-ec81-4c56-b559-f81cd9e7cae8/cover_letter_cover_modern.pdf","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.149Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/eb167014-ec81-4c56-b559-f81cd9e7cae8/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.150Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/eb167014-ec81-4c56-b559-f81cd9e7cae8/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/eb167014-ec81-4c56-b559-f81cd9e7cae8/cover_letter_cover_modern.pdf","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.150Z","level":"info","message":"pdf_generation_attempt","requestId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/eb167014-ec81-4c56-b559-f81cd9e7cae8/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/eb167014-ec81-4c56-b559-f81cd9e7cae8/cover_letter_cover_professional.pdf","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.151Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/eb167014-ec81-4c56-b559-f81cd9e7cae8/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.151Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/eb167014-ec81-4c56-b559-f81cd9e7cae8/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/eb167014-ec81-4c56-b559-f81cd9e7cae8/cover_letter_cover_professional.pdf","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.164Z","level":"info","message":"llm_call_metrics","requestId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.174Z","level":"info","message":"generation_completed","requestId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","enhancedScore":0,"outputs":4,"template":"unknown","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.177Z","level":"info","message":"http_request_completed","requestId":"eb167014-ec81-4c56-b559-f81cd9e7cae8","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":321,"contentLength":"60025","template":"unknown","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb167014-ec81-4c56-b559-f81cd9e7cae8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:08.283Z","level":"info","message":"http_request_received","requestId":"51eeed17-3126-4839-9178-9ba907973738","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:08.284Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:08.333Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:08.357Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:08.366Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:08.367Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:08.377Z","level":"warn","message":"generation_job_context_missing","requestId":"51eeed17-3126-4839-9178-9ba907973738","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:22645:11
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.385Z","level":"info","message":"llm_call_metrics","requestId":"51eeed17-3126-4839-9178-9ba907973738","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d49fc3c9f3e6b68c516d8ed2277f352be0cdf73d24dc9159a6ddd8d2156f86c9","outputDigest":"df45602e27dd18441258611754779b1df94aaddbe2a7ac6965c12432f6053bc4","addedSkillCount":0,"template":"resume_rewrite","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.455Z","level":"info","message":"generation_section_rewrite_completed","requestId":"51eeed17-3126-4839-9178-9ba907973738","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"51eeed17-3126-4839-9178-9ba907973738","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.630Z","level":"info","message":"generation_resume_verified","requestId":"51eeed17-3126-4839-9178-9ba907973738","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"51eeed17-3126-4839-9178-9ba907973738","template":"unknown","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.warn
      {"timestamp":"2025-12-03T13:18:08.648Z","level":"warn","message":"generation_cover_letters_unavailable","requestId":"51eeed17-3126-4839-9178-9ba907973738","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"51eeed17-3126-4839-9178-9ba907973738","unavailable":["cover_letter1","cover_letter2"],"template":"unknown","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20688:7)
          at runMicrotasks (<anonymous>)
      at server.js:22948:28

    console.log
      {"timestamp":"2025-12-03T13:18:08.649Z","level":"info","message":"generation_cover_letters_completed","requestId":"51eeed17-3126-4839-9178-9ba907973738","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"51eeed17-3126-4839-9178-9ba907973738","variants":0,"fallbackApplied":false,"template":"unknown","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.655Z","level":"info","message":"pdf_generation_attempt","requestId":"51eeed17-3126-4839-9178-9ba907973738","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"51eeed17-3126-4839-9178-9ba907973738","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/51eeed17-3126-4839-9178-9ba907973738/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/51eeed17-3126-4839-9178-9ba907973738/enhanced_modern.pdf","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.656Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"51eeed17-3126-4839-9178-9ba907973738","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"51eeed17-3126-4839-9178-9ba907973738","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/51eeed17-3126-4839-9178-9ba907973738/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.657Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"51eeed17-3126-4839-9178-9ba907973738","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"51eeed17-3126-4839-9178-9ba907973738","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/51eeed17-3126-4839-9178-9ba907973738/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/51eeed17-3126-4839-9178-9ba907973738/enhanced_modern.pdf","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.675Z","level":"info","message":"pdf_generation_attempt","requestId":"51eeed17-3126-4839-9178-9ba907973738","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"51eeed17-3126-4839-9178-9ba907973738","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/51eeed17-3126-4839-9178-9ba907973738/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/51eeed17-3126-4839-9178-9ba907973738/enhanced_professional.pdf","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.676Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"51eeed17-3126-4839-9178-9ba907973738","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"51eeed17-3126-4839-9178-9ba907973738","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/51eeed17-3126-4839-9178-9ba907973738/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.690Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"51eeed17-3126-4839-9178-9ba907973738","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"51eeed17-3126-4839-9178-9ba907973738","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/51eeed17-3126-4839-9178-9ba907973738/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/51eeed17-3126-4839-9178-9ba907973738/enhanced_professional.pdf","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.710Z","level":"info","message":"llm_call_metrics","requestId":"51eeed17-3126-4839-9178-9ba907973738","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.711Z","level":"info","message":"generation_completed","requestId":"51eeed17-3126-4839-9178-9ba907973738","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"51eeed17-3126-4839-9178-9ba907973738","enhancedScore":0,"outputs":2,"template":"unknown","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.718Z","level":"info","message":"http_request_completed","requestId":"51eeed17-3126-4839-9178-9ba907973738","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":435,"contentLength":"32129","template":"unknown","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51eeed17-3126-4839-9178-9ba907973738","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:08.781Z","level":"info","message":"http_request_received","requestId":"d343fc86-91d0-4be0-b77f-3171e091da4c","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:08.782Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:08.783Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:08.789Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:08.791Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:08.792Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:08.802Z","level":"warn","message":"generation_change_log_load_failed","requestId":"d343fc86-91d0-4be0-b77f-3171e091da4c","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22711:34\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:22713:13
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.803Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"d343fc86-91d0-4be0-b77f-3171e091da4c","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.815Z","level":"info","message":"llm_call_metrics","requestId":"d343fc86-91d0-4be0-b77f-3171e091da4c","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"acf1b9378acb575b229122bd0509d239fb40292b5a2de638f8974b10630dddf9","outputDigest":"d38deb915a9824cbd24a0a21322f3421cffa08850deba8b630d4c012e36accc6","addedSkillCount":0,"template":"resume_rewrite","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.816Z","level":"info","message":"generation_section_rewrite_completed","requestId":"d343fc86-91d0-4be0-b77f-3171e091da4c","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d343fc86-91d0-4be0-b77f-3171e091da4c","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.816Z","level":"info","message":"llm_call_metrics","requestId":"d343fc86-91d0-4be0-b77f-3171e091da4c","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"a89c45c951abfe25af2671eb78aaf142165e3f6bd78d4b83089b4f9a78e64f20","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.828Z","level":"info","message":"generation_resume_verified","requestId":"d343fc86-91d0-4be0-b77f-3171e091da4c","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d343fc86-91d0-4be0-b77f-3171e091da4c","template":"unknown","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.warn
      {"timestamp":"2025-12-03T13:18:08.866Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"d343fc86-91d0-4be0-b77f-3171e091da4c","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d343fc86-91d0-4be0-b77f-3171e091da4c","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
          at runMicrotasks (<anonymous>)
      at server.js:22948:28

    console.warn
      {"timestamp":"2025-12-03T13:18:08.867Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"d343fc86-91d0-4be0-b77f-3171e091da4c","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d343fc86-91d0-4be0-b77f-3171e091da4c","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
          at runMicrotasks (<anonymous>)
      at server.js:22948:28

    console.log
      {"timestamp":"2025-12-03T13:18:08.871Z","level":"info","message":"generation_cover_letters_completed","requestId":"d343fc86-91d0-4be0-b77f-3171e091da4c","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d343fc86-91d0-4be0-b77f-3171e091da4c","variants":2,"fallbackApplied":true,"template":"unknown","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.872Z","level":"info","message":"pdf_generation_attempt","requestId":"d343fc86-91d0-4be0-b77f-3171e091da4c","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d343fc86-91d0-4be0-b77f-3171e091da4c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.875Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d343fc86-91d0-4be0-b77f-3171e091da4c","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d343fc86-91d0-4be0-b77f-3171e091da4c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.875Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d343fc86-91d0-4be0-b77f-3171e091da4c","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d343fc86-91d0-4be0-b77f-3171e091da4c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.877Z","level":"info","message":"pdf_generation_attempt","requestId":"d343fc86-91d0-4be0-b77f-3171e091da4c","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d343fc86-91d0-4be0-b77f-3171e091da4c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.879Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d343fc86-91d0-4be0-b77f-3171e091da4c","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d343fc86-91d0-4be0-b77f-3171e091da4c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.881Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d343fc86-91d0-4be0-b77f-3171e091da4c","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d343fc86-91d0-4be0-b77f-3171e091da4c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.881Z","level":"info","message":"pdf_generation_attempt","requestId":"d343fc86-91d0-4be0-b77f-3171e091da4c","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d343fc86-91d0-4be0-b77f-3171e091da4c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.882Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d343fc86-91d0-4be0-b77f-3171e091da4c","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d343fc86-91d0-4be0-b77f-3171e091da4c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.882Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d343fc86-91d0-4be0-b77f-3171e091da4c","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d343fc86-91d0-4be0-b77f-3171e091da4c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.883Z","level":"info","message":"pdf_generation_attempt","requestId":"d343fc86-91d0-4be0-b77f-3171e091da4c","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d343fc86-91d0-4be0-b77f-3171e091da4c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.884Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d343fc86-91d0-4be0-b77f-3171e091da4c","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d343fc86-91d0-4be0-b77f-3171e091da4c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.884Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d343fc86-91d0-4be0-b77f-3171e091da4c","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d343fc86-91d0-4be0-b77f-3171e091da4c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.903Z","level":"info","message":"llm_call_metrics","requestId":"d343fc86-91d0-4be0-b77f-3171e091da4c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"6daad81d53ca29e2440dbdfd5e7ac149ac9bc677f5bd5a926b958a85793be6c1","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.904Z","level":"info","message":"generation_completed","requestId":"d343fc86-91d0-4be0-b77f-3171e091da4c","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d343fc86-91d0-4be0-b77f-3171e091da4c","enhancedScore":0,"outputs":5,"template":"unknown","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.907Z","level":"info","message":"http_request_completed","requestId":"d343fc86-91d0-4be0-b77f-3171e091da4c","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":126,"contentLength":"52667","template":"unknown","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d343fc86-91d0-4be0-b77f-3171e091da4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:08.941Z","level":"info","message":"http_request_received","requestId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:08.942Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:08.943Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:08.944Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:08.948Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:08.949Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:08.951Z","level":"warn","message":"generation_change_log_load_failed","requestId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22711:34\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:22713:13
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.951Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.955Z","level":"info","message":"llm_call_metrics","requestId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"fc71d2d7420045c9674c39d1bc893139670e4554452723b0b8930f14ae74efd1","outputDigest":"994365ee088ebf4da994d91479825476737b8633f45dc9441cf82f317f739457","addedSkillCount":0,"template":"resume_rewrite","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.955Z","level":"info","message":"generation_section_rewrite_completed","requestId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.956Z","level":"info","message":"llm_call_metrics","requestId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"2941229673895ce87f4eb2dd47c041b77270273e0250170302676d5a10351fbf","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.963Z","level":"info","message":"generation_resume_verified","requestId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","template":"unknown","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.warn
      {"timestamp":"2025-12-03T13:18:08.968Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20482:7)
          at runMicrotasks (<anonymous>)
      at server.js:22948:28

    console.warn
      {"timestamp":"2025-12-03T13:18:08.972Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
          at runMicrotasks (<anonymous>)
      at server.js:22948:28

    console.log
      {"timestamp":"2025-12-03T13:18:08.974Z","level":"info","message":"generation_cover_letters_completed","requestId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","variants":2,"fallbackApplied":true,"template":"unknown","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.976Z","level":"info","message":"pdf_generation_attempt","requestId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.976Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.977Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.984Z","level":"info","message":"pdf_generation_attempt","requestId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.985Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.986Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.991Z","level":"info","message":"pdf_generation_attempt","requestId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.991Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.992Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.998Z","level":"info","message":"pdf_generation_attempt","requestId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.999Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:08.999Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.012Z","level":"info","message":"llm_call_metrics","requestId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"bb70bada40357e7ad85703e98908783ac38c79f83207e1ee038136c2f4863594","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.025Z","level":"info","message":"generation_completed","requestId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","enhancedScore":0,"outputs":5,"template":"unknown","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.035Z","level":"info","message":"http_request_completed","requestId":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":94,"contentLength":"50998","template":"unknown","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9900e838-1fc3-4504-b7c3-a60c0bebb78e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.107Z","level":"info","message":"http_request_received","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","method":"POST","path":"/api/process-cv","template":"unknown","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.108Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.113Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.114Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.115Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.116Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/23bac336-e5f7-4596-9f36-00979a1bb420/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)
          at runMicrotasks (<anonymous>)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/23bac336-e5f7-4596-9f36-00979a1bb420/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)
          at runMicrotasks (<anonymous>)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/23bac336-e5f7-4596-9f36-00979a1bb420/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.132Z","level":"info","message":"process_cv_started","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","manualJobDescriptionProvided":true,"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.133Z","level":"info","message":"template_selection","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:09.133Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at server.js:25079:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24719:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

    console.log
      {"timestamp":"2025-12-03T13:18:09.134Z","level":"info","message":"initial_upload_completed","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","bucket":"test-bucket","key":"cv/candidate/23bac336-e5f7-4596-9f36-00979a1bb420/incoming/original.pdf","template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.134Z","level":"info","message":"resume_text_extracted","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","characters":57,"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.135Z","level":"info","message":"resume_classified","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.136Z","level":"info","message":"raw_upload_relocated","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","bucket":"test-bucket","fromKey":"cv/candidate/23bac336-e5f7-4596-9f36-00979a1bb420/incoming/original.pdf","toKey":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/original.pdf","template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.136Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","bucket":"test-bucket","key":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/original.pdf","template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.137Z","level":"info","message":"dynamo_initial_record_written","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","bucket":"test-bucket","key":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/original.pdf","template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.137Z","level":"info","message":"upload_metadata_written","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","bucket":"test-bucket","key":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/logs/log.json","template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.137Z","level":"info","message":"job_description_supplied_manually","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","characters":174,"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.138Z","level":"info","message":"job_description_analyzed","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","jobTitle":"","jobSkills":5,"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.141Z","level":"info","message":"resume_skills_analyzed","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.142Z","level":"info","message":"llm_call_metrics","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.143Z","level":"info","message":"process_cv_scoring_completed","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.152Z","level":"info","message":"llm_call_metrics","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"e0b0f289a004a53fc90e2f086b7a8368b36f3cb57e330732da1cad386d479cd5","addedSkillCount":0,"template":"resume_rewrite","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.153Z","level":"info","message":"generation_section_rewrite_completed","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","generationRunId":"23bac336-e5f7-4596-9f36-00979a1bb420","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.180Z","level":"info","message":"generation_resume_verified","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","generationRunId":"23bac336-e5f7-4596-9f36-00979a1bb420","template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.warn
      {"timestamp":"2025-12-03T13:18:09.246Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","generationRunId":"23bac336-e5f7-4596-9f36-00979a1bb420","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generateEnhancedDocumentsResponse (server.js:20671:7)
          at runMicrotasks (<anonymous>)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:09.247Z","level":"info","message":"generation_cover_letters_completed","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","generationRunId":"23bac336-e5f7-4596-9f36-00979a1bb420","variants":2,"fallbackApplied":true,"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.248Z","level":"info","message":"pdf_generation_attempt","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","generationRunId":"23bac336-e5f7-4596-9f36-00979a1bb420","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/enhanced_modern.pdf","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.249Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","generationRunId":"23bac336-e5f7-4596-9f36-00979a1bb420","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.error
      {"timestamp":"2025-12-03T13:18:09.254Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","generationRunId":"23bac336-e5f7-4596-9f36-00979a1bb420","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3336:27)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/enhanced_modern.pdf","environment":{"nodeEnv":"development","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:10958:7)
          at runMicrotasks (<anonymous>)
      at generateEnhancedDocumentsResponse (server.js:21249:11)
      at server.js:26678:28

    console.log
      {"timestamp":"2025-12-03T13:18:09.259Z","level":"info","message":"pdf_generation_attempt","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","generationRunId":"23bac336-e5f7-4596-9f36-00979a1bb420","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/enhanced_professional.pdf","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.259Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","generationRunId":"23bac336-e5f7-4596-9f36-00979a1bb420","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.260Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","generationRunId":"23bac336-e5f7-4596-9f36-00979a1bb420","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/","sessionId":"[REDACTED]","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/enhanced_professional.pdf","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.263Z","level":"info","message":"pdf_generation_attempt","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","generationRunId":"23bac336-e5f7-4596-9f36-00979a1bb420","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/enhanced_professional.pdf","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.264Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","generationRunId":"23bac336-e5f7-4596-9f36-00979a1bb420","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.264Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","generationRunId":"23bac336-e5f7-4596-9f36-00979a1bb420","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/enhanced_professional.pdf","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.268Z","level":"info","message":"pdf_generation_attempt","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","generationRunId":"23bac336-e5f7-4596-9f36-00979a1bb420","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/cover_letter_cover_modern.pdf","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.272Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","generationRunId":"23bac336-e5f7-4596-9f36-00979a1bb420","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.273Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","generationRunId":"23bac336-e5f7-4596-9f36-00979a1bb420","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":16,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/cover_letter_cover_modern.pdf","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.275Z","level":"info","message":"pdf_generation_attempt","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","generationRunId":"23bac336-e5f7-4596-9f36-00979a1bb420","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/cover_letter_cover_professional.pdf","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.275Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","generationRunId":"23bac336-e5f7-4596-9f36-00979a1bb420","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.276Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","generationRunId":"23bac336-e5f7-4596-9f36-00979a1bb420","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":22,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/23bac336-e5f7-4596-9f36-00979a1bb420/cover_letter_cover_professional.pdf","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.282Z","level":"info","message":"llm_call_metrics","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"b81624598eca82514b81f4fd0ef858c4f8eda9605bf4a3b33ed31144fa2daed3","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.286Z","level":"info","message":"generation_completed","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","generationRunId":"23bac336-e5f7-4596-9f36-00979a1bb420","enhancedScore":80,"outputs":5,"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.288Z","level":"info","message":"placeholder_record_deleted","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","jobId":"849b67cd-0a31-4b78-873b-e2b283134fe9","placeholderIdentifier":"23bac336-e5f7-4596-9f36-00979a1bb420","template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"849b67cd-0a31-4b78-873b-e2b283134fe9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.293Z","level":"info","message":"http_request_completed","requestId":"23bac336-e5f7-4596-9f36-00979a1bb420","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":186,"contentLength":"59519","template":"unknown","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"23bac336-e5f7-4596-9f36-00979a1bb420","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.307Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":2,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.309Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.error
      {"timestamp":"2025-12-03T13:18:09.310Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3441:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:10958:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3455:20)

    console.log
      {"timestamp":"2025-12-03T13:18:09.311Z","level":"info","message":"pdf_generation_backstop_succeeded","documentType":"resume","template":"2025","templatesBackstopped":["2025"],"backstopResults":[{"templateId":"2025","bytes":1024}],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.311Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":2,"totalAttempts":2,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.312Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.312Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"modern","attempt":2,"bytes":10,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.329Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.330Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.error
      {"timestamp":"2025-12-03T13:18:09.331Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"modern","attempt":1,"error":{"name":"Error","message":"Modern renderer unavailable","stack":"Error: Modern renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3480:30)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:10958:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3484:20)

    console.log
      {"timestamp":"2025-12-03T13:18:09.331Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.331Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.331Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.332Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.333Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.error
      {"timestamp":"2025-12-03T13:18:09.333Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3502:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:10958:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3515:20)

    console.log
      {"timestamp":"2025-12-03T13:18:09.334Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.334Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.334Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.336Z","level":"info","message":"pdf_generation_attempt","documentType":"cover_letter","template":"cover_modern","attempt":1,"totalAttempts":1,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.336Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"cover_letter","template":"cover_modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.error
      {"timestamp":"2025-12-03T13:18:09.337Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"cover_letter","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"Primary renderer offline","stack":"Error: Primary renderer offline\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3533:48)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:10958:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3570:5)

    console.warn
      {"timestamp":"2025-12-03T13:18:09.338Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:11102:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3570:5)

    console.error
      {"timestamp":"2025-12-03T13:18:09.339Z","level":"error","message":"pdf_generation_plain_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","error":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3535:13\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9738:12)\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11106:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3570:5)"},"forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:11151:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3570:5)

    console.error
      {"timestamp":"2025-12-03T13:18:09.339Z","level":"error","message":"pdf_generation_minimal_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3538:13\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11172:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3570:5)"},"previousError":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3535:13\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9738:12)\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11106:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3570:5)"},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:11195:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3570:5)

    console.error
      {"timestamp":"2025-12-03T13:18:09.340Z","level":"error","message":"pdf_generation_all_attempts_failed","documentType":"cover_letter","templates":["cover_modern"],"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3538:13\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11172:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3570:5)"},"targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"summary":"Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable","messages":["Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable"],"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3414 |     const safePayload = sanitizeLogPayload(payload);
      3415 |     const serialised = JSON.stringify(safePayload);
    > 3416 |     logFn(serialised);
           |     ^
      3417 |     if (level === 'error') {
      3418 |       scheduleErrorLog(safePayload);
      3419 |     }

      at logStructured (server.js:3416:5)
      at generatePdfWithFallback (server.js:11217:3)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3570:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.512Z","level":"info","message":"http_request_received","requestId":"17bc6b3d-48e9-46f1-be35-d779f6b9ce0f","method":"POST","path":"/api/change-log","template":"unknown","session":"17bc6b3d-48e9-46f1-be35-d779f6b9ce0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"17bc6b3d-48e9-46f1-be35-d779f6b9ce0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.513Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.514Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.515Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.516Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.517Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.521Z","level":"info","message":"change_log_updated","requestId":"17bc6b3d-48e9-46f1-be35-d779f6b9ce0f","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.522Z","level":"info","message":"http_request_completed","requestId":"17bc6b3d-48e9-46f1-be35-d779f6b9ce0f","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":10,"contentLength":"48197","template":"unknown","session":"17bc6b3d-48e9-46f1-be35-d779f6b9ce0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"17bc6b3d-48e9-46f1-be35-d779f6b9ce0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.527Z","level":"info","message":"http_request_received","requestId":"3862506f-15b5-4042-9b29-0faa9949d992","method":"POST","path":"/api/change-log","template":"unknown","session":"3862506f-15b5-4042-9b29-0faa9949d992","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3862506f-15b5-4042-9b29-0faa9949d992","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.528Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.529Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.534Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.536Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.537Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.540Z","level":"info","message":"change_log_updated","requestId":"3862506f-15b5-4042-9b29-0faa9949d992","jobId":"job-321","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-321","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-321","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.541Z","level":"info","message":"http_request_completed","requestId":"3862506f-15b5-4042-9b29-0faa9949d992","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":14,"contentLength":"1958","template":"unknown","session":"3862506f-15b5-4042-9b29-0faa9949d992","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3862506f-15b5-4042-9b29-0faa9949d992","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.561Z","level":"info","message":"http_request_received","requestId":"4d253ef4-cf07-4171-8e92-49661fd30323","method":"POST","path":"/api/change-log","template":"unknown","session":"4d253ef4-cf07-4171-8e92-49661fd30323","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4d253ef4-cf07-4171-8e92-49661fd30323","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.571Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.572Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.573Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.574Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.576Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.582Z","level":"info","message":"change_log_updated","requestId":"4d253ef4-cf07-4171-8e92-49661fd30323","jobId":"job-789","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-789","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-789","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.583Z","level":"info","message":"http_request_completed","requestId":"4d253ef4-cf07-4171-8e92-49661fd30323","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":22,"contentLength":"6061","template":"unknown","session":"4d253ef4-cf07-4171-8e92-49661fd30323","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4d253ef4-cf07-4171-8e92-49661fd30323","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.605Z","level":"info","message":"http_request_received","requestId":"ea88ce55-e5c5-4791-b538-d6e2ec928aee","method":"POST","path":"/api/change-log","template":"unknown","session":"ea88ce55-e5c5-4791-b538-d6e2ec928aee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea88ce55-e5c5-4791-b538-d6e2ec928aee","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.605Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.607Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.609Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.610Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.611Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.614Z","level":"info","message":"change_log_updated","requestId":"ea88ce55-e5c5-4791-b538-d6e2ec928aee","jobId":"job-session","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-session","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-session","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.615Z","level":"info","message":"http_request_completed","requestId":"ea88ce55-e5c5-4791-b538-d6e2ec928aee","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":10,"contentLength":"1213","template":"unknown","session":"ea88ce55-e5c5-4791-b538-d6e2ec928aee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea88ce55-e5c5-4791-b538-d6e2ec928aee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.619Z","level":"info","message":"http_request_received","requestId":"2d75099c-01c6-40f1-b016-b30f47f1aee7","method":"POST","path":"/api/change-log","template":"unknown","session":"2d75099c-01c6-40f1-b016-b30f47f1aee7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d75099c-01c6-40f1-b016-b30f47f1aee7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.620Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.621Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.622Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.624Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.624Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.626Z","level":"info","message":"change_log_updated","requestId":"2d75099c-01c6-40f1-b016-b30f47f1aee7","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.627Z","level":"info","message":"http_request_completed","requestId":"2d75099c-01c6-40f1-b016-b30f47f1aee7","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":8,"contentLength":"789","template":"unknown","session":"2d75099c-01c6-40f1-b016-b30f47f1aee7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d75099c-01c6-40f1-b016-b30f47f1aee7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.637Z","level":"info","message":"http_request_received","requestId":"2003f3fb-2a7f-4985-a1e6-e19795ea7d66","method":"POST","path":"/api/change-log","template":"unknown","session":"2003f3fb-2a7f-4985-a1e6-e19795ea7d66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2003f3fb-2a7f-4985-a1e6-e19795ea7d66","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.638Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.639Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.640Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.641Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.642Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.643Z","level":"info","message":"change_log_updated","requestId":"2003f3fb-2a7f-4985-a1e6-e19795ea7d66","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.644Z","level":"info","message":"http_request_completed","requestId":"2003f3fb-2a7f-4985-a1e6-e19795ea7d66","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"350","template":"unknown","session":"2003f3fb-2a7f-4985-a1e6-e19795ea7d66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2003f3fb-2a7f-4985-a1e6-e19795ea7d66","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.678Z","level":"info","message":"http_request_received","requestId":"b2adf0bc-4a44-4799-a926-c8107213037e","method":"POST","path":"/api/change-log","template":"unknown","session":"b2adf0bc-4a44-4799-a926-c8107213037e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b2adf0bc-4a44-4799-a926-c8107213037e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.680Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.734Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.736Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.739Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.740Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.752Z","level":"info","message":"change_log_updated","requestId":"b2adf0bc-4a44-4799-a926-c8107213037e","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.753Z","level":"info","message":"http_request_completed","requestId":"b2adf0bc-4a44-4799-a926-c8107213037e","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":75,"contentLength":"1151","template":"unknown","session":"b2adf0bc-4a44-4799-a926-c8107213037e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b2adf0bc-4a44-4799-a926-c8107213037e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.837Z","level":"info","message":"http_request_received","requestId":"9fb31887-c83e-4215-a883-b36562359f04","method":"POST","path":"/api/change-log","template":"unknown","session":"9fb31887-c83e-4215-a883-b36562359f04","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9fb31887-c83e-4215-a883-b36562359f04","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.838Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.839Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.871Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.955Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.956Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:09.984Z","level":"info","message":"change_log_updated","requestId":"9fb31887-c83e-4215-a883-b36562359f04","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:09.985Z","level":"info","message":"http_request_completed","requestId":"9fb31887-c83e-4215-a883-b36562359f04","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":148,"contentLength":"596","template":"unknown","session":"9fb31887-c83e-4215-a883-b36562359f04","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9fb31887-c83e-4215-a883-b36562359f04","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:10.059Z","level":"info","message":"http_request_received","requestId":"1dfee81a-8556-4ea2-907b-c96e9fec257b","method":"POST","path":"/api/change-log","template":"unknown","session":"1dfee81a-8556-4ea2-907b-c96e9fec257b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dfee81a-8556-4ea2-907b-c96e9fec257b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:10.118Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:10.118Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:10.123Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:10.137Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:10.155Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

    console.log
      {"timestamp":"2025-12-03T13:18:10.205Z","level":"info","message":"change_log_updated","requestId":"1dfee81a-8556-4ea2-907b-c96e9fec257b","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)
          at runMicrotasks (<anonymous>)

    console.log
      {"timestamp":"2025-12-03T13:18:10.206Z","level":"info","message":"http_request_completed","requestId":"1dfee81a-8556-4ea2-907b-c96e9fec257b","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":147,"contentLength":"2337","template":"unknown","session":"1dfee81a-8556-4ea2-907b-c96e9fec257b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dfee81a-8556-4ea2-907b-c96e9fec257b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3416:5)

  ● static asset proxy endpoint › rejects invalid asset paths

    expect(jest.fn()).not.toHaveBeenCalled()

    Expected number of calls: 0
    Received number of calls: 3

    1: {"__type": "GetObjectCommand", "input": {"Bucket": "test-bucket", "Key": "static/client/test/latest/manifest.json"}}
    2: {"__type": "GetObjectCommand", "input": {"Bucket": "test-bucket", "Key": "static/client/test/latest/assets/index-123.css"}}
    3: {"__type": "GetObjectCommand", "input": {"Bucket": "test-bucket", "Key": "static/client/test/latest/manifest.json"}}

      813 |     });
      814 |     expect(res.body.error.details).toMatchObject({});
    > 815 |     expect(mockS3Send).not.toHaveBeenCalled();
          |                            ^
      816 |   });
      817 | });
      818 |

      at Object.<anonymous> (tests/server.test.mjs:815:28)

Summary of all failing tests
FAIL tests/lambdas/documentGenerationLambda.test.js
  ● Test suite failed to run

    A jest worker process (pid=79279) was terminated by another process: signal=SIGSEGV, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)

FAIL tests/server.test.mjs (14.478 s)
  ● static asset proxy endpoint › rejects invalid asset paths

    expect(jest.fn()).not.toHaveBeenCalled()

    Expected number of calls: 0
    Received number of calls: 3

    1: {"__type": "GetObjectCommand", "input": {"Bucket": "test-bucket", "Key": "static/client/test/latest/manifest.json"}}
    2: {"__type": "GetObjectCommand", "input": {"Bucket": "test-bucket", "Key": "static/client/test/latest/assets/index-123.css"}}
    3: {"__type": "GetObjectCommand", "input": {"Bucket": "test-bucket", "Key": "static/client/test/latest/manifest.json"}}

      813 |     });
      814 |     expect(res.body.error.details).toMatchObject({});
    > 815 |     expect(mockS3Send).not.toHaveBeenCalled();
          |                            ^
      816 |   });
      817 | });
      818 |

      at Object.<anonymous> (tests/server.test.mjs:815:28)


Test Suites: 2 failed, 1 skipped, 30 passed, 32 of 93 total
Tests:       1 failed, 2 skipped, 266 passed, 269 total
Snapshots:   0 total
Time:        24.991 s
Ran all test suites.
