[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
(node:79910) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
  console.log
    {"timestamp":"2025-12-03T13:31:00.518Z","level":"info","message":"http_request_received","requestId":"e6feb072-a226-4069-9da5-f8091894cefc","method":"GET","path":"/healthz","template":"unknown","session":"e6feb072-a226-4069-9da5-f8091894cefc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e6feb072-a226-4069-9da5-f8091894cefc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.540Z","level":"info","message":"path_restoration_debug","reqPath":"/healthz","reqUrl":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.542Z","level":"info","message":"request_received","path":"/healthz","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.545Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.547Z","level":"info","message":"client_app_routes_entered","path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.550Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.555Z","level":"info","message":"http_request_completed","requestId":"e6feb072-a226-4069-9da5-f8091894cefc","method":"GET","path":"/healthz","statusCode":200,"durationMs":37,"contentLength":"15","template":"unknown","session":"e6feb072-a226-4069-9da5-f8091894cefc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e6feb072-a226-4069-9da5-f8091894cefc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.565Z","level":"info","message":"http_request_received","requestId":"0d9d0526-fb50-4121-82fc-853e16d1aacf","method":"GET","path":"/favicon.ico","template":"unknown","session":"0d9d0526-fb50-4121-82fc-853e16d1aacf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0d9d0526-fb50-4121-82fc-853e16d1aacf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.567Z","level":"info","message":"path_restoration_debug","reqPath":"/favicon.ico","reqUrl":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.569Z","level":"info","message":"request_received","path":"/favicon.ico","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.570Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.572Z","level":"info","message":"client_app_routes_entered","path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.574Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.577Z","level":"info","message":"http_request_completed","requestId":"0d9d0526-fb50-4121-82fc-853e16d1aacf","method":"GET","path":"/favicon.ico","statusCode":204,"durationMs":12,"template":"unknown","session":"0d9d0526-fb50-4121-82fc-853e16d1aacf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0d9d0526-fb50-4121-82fc-853e16d1aacf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.580Z","level":"info","message":"http_request_received","requestId":"911a07ad-15c0-4775-9ddb-b7b18a1317cf","method":"GET","path":"/assets/index-missing.css","template":"unknown","session":"911a07ad-15c0-4775-9ddb-b7b18a1317cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"911a07ad-15c0-4775-9ddb-b7b18a1317cf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.581Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-missing.css","reqUrl":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.583Z","level":"info","message":"request_received","path":"/assets/index-missing.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.585Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.586Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.588Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.595Z","level":"info","message":"client_asset_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-missing.css","path":"/assets/index-missing.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.596Z","level":"info","message":"http_request_completed","requestId":"911a07ad-15c0-4775-9ddb-b7b18a1317cf","method":"GET","path":"/assets/index-missing.css","statusCode":200,"durationMs":16,"contentLength":"18","template":"unknown","session":"911a07ad-15c0-4775-9ddb-b7b18a1317cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"911a07ad-15c0-4775-9ddb-b7b18a1317cf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.601Z","level":"info","message":"http_request_received","requestId":"5bfc5f5c-e856-418e-87a1-3f0bbd1627c1","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"5bfc5f5c-e856-418e-87a1-3f0bbd1627c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bfc5f5c-e856-418e-87a1-3f0bbd1627c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.602Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.603Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.605Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.606Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.611Z","level":"info","message":"http_request_completed","requestId":"5bfc5f5c-e856-418e-87a1-3f0bbd1627c1","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":10,"contentLength":"106285","template":"unknown","session":"5bfc5f5c-e856-418e-87a1-3f0bbd1627c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bfc5f5c-e856-418e-87a1-3f0bbd1627c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.612Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.615Z","level":"info","message":"http_request_received","requestId":"21bc70ee-e7af-4214-8410-0587d09e5c1b","method":"GET","path":"/prod/assets/index-latest.css","template":"unknown","session":"21bc70ee-e7af-4214-8410-0587d09e5c1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21bc70ee-e7af-4214-8410-0587d09e5c1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.616Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.617Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.618Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.620Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.623Z","level":"info","message":"http_request_completed","requestId":"21bc70ee-e7af-4214-8410-0587d09e5c1b","method":"GET","path":"/prod/assets/index-latest.css","statusCode":200,"durationMs":8,"contentLength":"106285","template":"unknown","session":"21bc70ee-e7af-4214-8410-0587d09e5c1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21bc70ee-e7af-4214-8410-0587d09e5c1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.624Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.628Z","level":"info","message":"http_request_received","requestId":"c2d53172-f931-4cf4-9e31-cc2d39ac344c","method":"HEAD","path":"/assets/index-meta.js","template":"unknown","session":"c2d53172-f931-4cf4-9e31-cc2d39ac344c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c2d53172-f931-4cf4-9e31-cc2d39ac344c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.629Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-meta.js","reqUrl":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.631Z","level":"info","message":"request_received","path":"/assets/index-meta.js","method":"HEAD","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.632Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.634Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.636Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.639Z","level":"info","message":"client_asset_s3_head_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-meta.js","path":"/assets/index-meta.js","method":"HEAD","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.639Z","level":"info","message":"http_request_completed","requestId":"c2d53172-f931-4cf4-9e31-cc2d39ac344c","method":"HEAD","path":"/assets/index-meta.js","statusCode":200,"durationMs":11,"contentLength":"1234","template":"unknown","session":"c2d53172-f931-4cf4-9e31-cc2d39ac344c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c2d53172-f931-4cf4-9e31-cc2d39ac344c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.642Z","level":"info","message":"http_request_received","requestId":"e25a2e6f-b73a-4456-8464-744c21c7477b","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"e25a2e6f-b73a-4456-8464-744c21c7477b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e25a2e6f-b73a-4456-8464-744c21c7477b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.643Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.645Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.646Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.647Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.651Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-test-alias.css","path":"assets/index-test-alias.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-test-alias.css","s3Key":"assets/index-test-alias.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.652Z","level":"info","message":"http_request_completed","requestId":"e25a2e6f-b73a-4456-8464-744c21c7477b","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":10,"contentLength":"23","template":"unknown","session":"e25a2e6f-b73a-4456-8464-744c21c7477b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e25a2e6f-b73a-4456-8464-744c21c7477b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.656Z","level":"info","message":"http_request_received","requestId":"2dcc7d94-87b8-48a8-a17a-dc0baf8a3ae7","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"2dcc7d94-87b8-48a8-a17a-dc0baf8a3ae7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2dcc7d94-87b8-48a8-a17a-dc0baf8a3ae7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.657Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.658Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.660Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.661Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.664Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-manifest-only.css","path":"assets/index-manifest-only.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-manifest-only.css","s3Key":"assets/index-manifest-only.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.665Z","level":"info","message":"http_request_completed","requestId":"2dcc7d94-87b8-48a8-a17a-dc0baf8a3ae7","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":9,"contentLength":"31","template":"unknown","session":"2dcc7d94-87b8-48a8-a17a-dc0baf8a3ae7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2dcc7d94-87b8-48a8-a17a-dc0baf8a3ae7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.668Z","level":"info","message":"http_request_received","requestId":"0699589b-2bf9-42aa-bd08-dd0bb5168134","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"0699589b-2bf9-42aa-bd08-dd0bb5168134","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0699589b-2bf9-42aa-bd08-dd0bb5168134","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.669Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.670Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.671Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.672Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.676Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/prod/latest/assets/index-prefixed.css","path":"static/client/prod/latest/assets/index-prefixed.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-prefixed.css","s3Key":"static/client/prod/latest/assets/index-prefixed.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.676Z","level":"info","message":"http_request_completed","requestId":"0699589b-2bf9-42aa-bd08-dd0bb5168134","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":8,"contentLength":"26","template":"unknown","session":"0699589b-2bf9-42aa-bd08-dd0bb5168134","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0699589b-2bf9-42aa-bd08-dd0bb5168134","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.679Z","level":"info","message":"http_request_received","requestId":"8b6c172d-0521-4ad9-b0c3-f1188dc1afe4","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"8b6c172d-0521-4ad9-b0c3-f1188dc1afe4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b6c172d-0521-4ad9-b0c3-f1188dc1afe4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.683Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.684Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.686Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.688Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:00.703Z","level":"warn","message":"client_asset_alias_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-missing.css","path":"assets/index-missing.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-missing.css","s3Key":"assets/index-missing.css","error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:554:23)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7764:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7767:16)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1125:32)\n    at handleIndexAssetAliasRequest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1392:30)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at serveIndexAssetAlias (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1503:3)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at serveHashedIndexAssetFromS3 (server.js:1144:5)
      at handleIndexAssetAliasRequest (server.js:1392:24)
      at serveIndexAssetAlias (server.js:1503:3)

  console.log
    {"timestamp":"2025-12-03T13:31:00.710Z","level":"info","message":"client_asset_alias_fallback_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-existing.css","path":"assets/index-existing.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-existing.css","s3Key":"assets/index-existing.css","manifestFallback":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.711Z","level":"info","message":"http_request_completed","requestId":"8b6c172d-0521-4ad9-b0c3-f1188dc1afe4","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":32,"contentLength":"26","template":"unknown","session":"8b6c172d-0521-4ad9-b0c3-f1188dc1afe4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b6c172d-0521-4ad9-b0c3-f1188dc1afe4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.715Z","level":"info","message":"http_request_received","requestId":"4c094fdf-caab-46dd-a62c-eba7ead87a13","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"4c094fdf-caab-46dd-a62c-eba7ead87a13","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c094fdf-caab-46dd-a62c-eba7ead87a13","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.716Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.717Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.718Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.720Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.721Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.725Z","level":"info","message":"http_request_completed","requestId":"4c094fdf-caab-46dd-a62c-eba7ead87a13","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","statusCode":200,"durationMs":10,"contentLength":"106285","template":"unknown","session":"4c094fdf-caab-46dd-a62c-eba7ead87a13","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c094fdf-caab-46dd-a62c-eba7ead87a13","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.726Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.731Z","level":"info","message":"http_request_received","requestId":"f85cbbb9-a41d-48b5-b1d6-361f938ceb9d","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","template":"unknown","session":"f85cbbb9-a41d-48b5-b1d6-361f938ceb9d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f85cbbb9-a41d-48b5-b1d6-361f938ceb9d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.732Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.733Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.735Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.737Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.740Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.743Z","level":"info","message":"http_request_completed","requestId":"f85cbbb9-a41d-48b5-b1d6-361f938ceb9d","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","statusCode":200,"durationMs":12,"contentLength":"106285","template":"unknown","session":"f85cbbb9-a41d-48b5-b1d6-361f938ceb9d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f85cbbb9-a41d-48b5-b1d6-361f938ceb9d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.743Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.746Z","level":"info","message":"http_request_received","requestId":"ad684053-1fb3-49c5-be8f-9f5fdb679907","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","template":"unknown","session":"ad684053-1fb3-49c5-be8f-9f5fdb679907","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ad684053-1fb3-49c5-be8f-9f5fdb679907","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.747Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.749Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.750Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.752Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.754Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.757Z","level":"info","message":"http_request_completed","requestId":"ad684053-1fb3-49c5-be8f-9f5fdb679907","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","statusCode":200,"durationMs":11,"contentLength":"106285","template":"unknown","session":"ad684053-1fb3-49c5-be8f-9f5fdb679907","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ad684053-1fb3-49c5-be8f-9f5fdb679907","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.758Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.762Z","level":"info","message":"http_request_received","requestId":"09a9ceda-a7f1-4f7b-a723-2686b1e18be8","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"09a9ceda-a7f1-4f7b-a723-2686b1e18be8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"09a9ceda-a7f1-4f7b-a723-2686b1e18be8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.763Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.765Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.766Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.770Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.776Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.782Z","level":"info","message":"client_asset_alias_proxy_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-123.css","path":"assets/index-123.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-123.css","s3Key":"assets/index-123.css","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.783Z","level":"info","message":"http_request_completed","requestId":"09a9ceda-a7f1-4f7b-a723-2686b1e18be8","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","statusCode":200,"durationMs":21,"contentLength":"32","template":"unknown","session":"09a9ceda-a7f1-4f7b-a723-2686b1e18be8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"09a9ceda-a7f1-4f7b-a723-2686b1e18be8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.785Z","level":"info","message":"http_request_received","requestId":"defc681a-bc05-48e9-9520-50e2303816b1","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-123.css","template":"unknown","session":"defc681a-bc05-48e9-9520-50e2303816b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"defc681a-bc05-48e9-9520-50e2303816b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.787Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-123.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.794Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.799Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.800Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.802Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:00.804Z","level":"warn","message":"client_asset_proxy_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-123.css","path":"/assets/index-123.css","method":"GET","proxy":true,"error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:734:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7764:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7767:16)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1125:32)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19103:30"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at serveHashedIndexAssetFromS3 (server.js:1144:5)
      at server.js:19103:24

  console.log
    {"timestamp":"2025-12-03T13:31:00.813Z","level":"info","message":"http_request_completed","requestId":"defc681a-bc05-48e9-9520-50e2303816b1","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-123.css","statusCode":200,"durationMs":28,"contentLength":"106285","template":"unknown","session":"defc681a-bc05-48e9-9520-50e2303816b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"defc681a-bc05-48e9-9520-50e2303816b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.813Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","path":"/assets/index-123.css","proxy":true,"degradedFrom":"/assets/index-123.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:00.814Z","level":"warn","message":"client_asset_proxy_degraded_to_alias","path":"/assets/index-123.css","method":"GET","proxy":true,"aliasPath":"/assets/index-latest.css","degradedFrom":"/assets/index-123.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:19155:9

  console.log
    {"timestamp":"2025-12-03T13:31:00.820Z","level":"info","message":"http_request_received","requestId":"076d910f-8e76-4e5c-8cf6-a32ea481b115","method":"GET","path":"/assets/index-123.css","template":"unknown","session":"076d910f-8e76-4e5c-8cf6-a32ea481b115","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"076d910f-8e76-4e5c-8cf6-a32ea481b115","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.821Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-123.css","reqUrl":"/assets/index-123.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.822Z","level":"info","message":"request_received","path":"/assets/index-123.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.824Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-123.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.825Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-123.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.827Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-123.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:00.829Z","level":"warn","message":"client_asset_s3_fallback_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-123.css","path":"/assets/index-123.css","method":"GET","error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:780:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7764:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7767:16)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1125:32)\n    at tryServeHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1185:24)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at serveHashedIndexAssetFromS3 (server.js:1144:5)
      at tryServeHashedIndexAssetFromS3 (server.js:1185:18)

  console.log
    {"timestamp":"2025-12-03T13:31:00.835Z","level":"info","message":"http_request_completed","requestId":"076d910f-8e76-4e5c-8cf6-a32ea481b115","method":"GET","path":"/assets/index-123.css","statusCode":200,"durationMs":15,"contentLength":"106285","template":"unknown","session":"076d910f-8e76-4e5c-8cf6-a32ea481b115","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"076d910f-8e76-4e5c-8cf6-a32ea481b115","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.835Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","hashedPath":"/assets/index-123.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:00.836Z","level":"warn","message":"hashed_index_asset_degraded_to_alias","hashedPath":"/assets/index-123.css","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at tryServeHashedIndexAssetFromS3 (server.js:1237:7)

  console.log
    {"timestamp":"2025-12-03T13:31:00.842Z","level":"info","message":"http_request_received","requestId":"e63bf6cd-ec07-4b3e-9c79-f73427508284","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","template":"unknown","session":"e63bf6cd-ec07-4b3e-9c79-f73427508284","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e63bf6cd-ec07-4b3e-9c79-f73427508284","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.843Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=..%2Fsecrets.txt","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.844Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.846Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.847Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.849Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:00.852Z","level":"warn","message":"api_error_response","requestId":"e63bf6cd-ec07-4b3e-9c79-f73427508284","status":400,"error":{"code":"INVALID_STATIC_ASSET_PATH","message":"Provide a valid static asset path to proxy.","details":{},"requestId":"e63bf6cd-ec07-4b3e-9c79-f73427508284"},"template":"unknown","session":"e63bf6cd-ec07-4b3e-9c79-f73427508284","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e63bf6cd-ec07-4b3e-9c79-f73427508284","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at sendError (server.js:3931:3)
      at server.js:19036:12
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at SendStream.error (node_modules/serve-static/index.js:121:7)
      at SendStream.error (node_modules/send/index.js:270:17)
      at SendStream.onStatError (node_modules/send/index.js:417:12)
      at next (node_modules/send/index.js:730:16)
      at onstat (node_modules/send/index.js:719:14)

  console.log
    {"timestamp":"2025-12-03T13:31:00.863Z","level":"info","message":"http_request_completed","requestId":"e63bf6cd-ec07-4b3e-9c79-f73427508284","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","statusCode":400,"durationMs":21,"contentLength":"182","template":"unknown","session":"e63bf6cd-ec07-4b3e-9c79-f73427508284","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e63bf6cd-ec07-4b3e-9c79-f73427508284","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.865Z","level":"info","message":"http_request_received","requestId":"2fee79cc-48f7-47ec-8a41-755d892e2a53","method":"GET","path":"/api/static-manifest","template":"unknown","session":"2fee79cc-48f7-47ec-8a41-755d892e2a53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2fee79cc-48f7-47ec-8a41-755d892e2a53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.866Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.868Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.869Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.870Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.872Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.874Z","level":"info","message":"http_request_completed","requestId":"2fee79cc-48f7-47ec-8a41-755d892e2a53","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":9,"contentLength":"301","template":"unknown","session":"2fee79cc-48f7-47ec-8a41-755d892e2a53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2fee79cc-48f7-47ec-8a41-755d892e2a53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.876Z","level":"info","message":"http_request_received","requestId":"c84235bd-2fa0-4456-acfb-dc7f8c1a4ffe","method":"GET","path":"/api/static-manifest","template":"unknown","session":"c84235bd-2fa0-4456-acfb-dc7f8c1a4ffe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c84235bd-2fa0-4456-acfb-dc7f8c1a4ffe","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.877Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.879Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.880Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.881Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.883Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.885Z","level":"info","message":"http_request_completed","requestId":"c84235bd-2fa0-4456-acfb-dc7f8c1a4ffe","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":9,"contentLength":"195","template":"unknown","session":"c84235bd-2fa0-4456-acfb-dc7f8c1a4ffe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c84235bd-2fa0-4456-acfb-dc7f8c1a4ffe","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.887Z","level":"info","message":"http_request_received","requestId":"a5912bdd-519f-4c8e-b009-cd6132adbe6d","method":"GET","path":"/api/static-manifest?refresh=1","template":"unknown","session":"a5912bdd-519f-4c8e-b009-cd6132adbe6d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a5912bdd-519f-4c8e-b009-cd6132adbe6d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.888Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest?refresh=1","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.889Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.890Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.891Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.893Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.896Z","level":"info","message":"http_request_completed","requestId":"a5912bdd-519f-4c8e-b009-cd6132adbe6d","method":"GET","path":"/api/static-manifest?refresh=1","statusCode":200,"durationMs":9,"contentLength":"195","template":"unknown","session":"a5912bdd-519f-4c8e-b009-cd6132adbe6d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a5912bdd-519f-4c8e-b009-cd6132adbe6d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.897Z","level":"info","message":"http_request_received","requestId":"822e69e9-3e92-401d-8af5-210e866d5273","method":"GET","path":"/api/static-manifest","template":"unknown","session":"822e69e9-3e92-401d-8af5-210e866d5273","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"822e69e9-3e92-401d-8af5-210e866d5273","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.898Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.899Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.900Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.902Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.903Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:00.906Z","level":"warn","message":"client_asset_manifest_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/manifest.json","error":{"name":"Error","message":"manifest not found","stack":"Error: manifest not found\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:878:22)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7764:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7767:16)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:857:30\n    at loadStaticAssetManifestFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:940:5)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19175:28\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/serve-static/index.js:121:7)\n    at SendStream.emit (node:events:513:28)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:270:17)\n    at SendStream.onStatError (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:417:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:730:16)\n    at onstat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:719:14)\n    at FSReqCallback.oncomplete (node:fs:206:21)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:932:7
      at loadStaticAssetManifestFromS3 (server.js:947:12)
      at server.js:19175:22

  console.error
    {"timestamp":"2025-12-03T13:31:00.912Z","level":"error","message":"api_error_response","requestId":"822e69e9-3e92-401d-8af5-210e866d5273","status":503,"error":{"code":"STATIC_MANIFEST_UNAVAILABLE","message":"Static asset manifest is not currently available. Please try again shortly.","details":{},"requestId":"822e69e9-3e92-401d-8af5-210e866d5273"},"template":"unknown","session":"822e69e9-3e92-401d-8af5-210e866d5273","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"822e69e9-3e92-401d-8af5-210e866d5273","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at sendError (server.js:3931:3)
      at server.js:19180:14

  console.log
    {"timestamp":"2025-12-03T13:31:00.918Z","level":"info","message":"http_request_completed","requestId":"822e69e9-3e92-401d-8af5-210e866d5273","method":"GET","path":"/api/static-manifest","statusCode":503,"durationMs":21,"contentLength":"216","template":"unknown","session":"822e69e9-3e92-401d-8af5-210e866d5273","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"822e69e9-3e92-401d-8af5-210e866d5273","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.922Z","level":"info","message":"http_request_received","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","method":"POST","path":"/api/process-cv","template":"unknown","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.923Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.924Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.925Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.927Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.929Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

  console.log
    {"timestamp":"2025-12-03T13:31:00.950Z","level":"info","message":"process_cv_started","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","manualJobDescriptionProvided":true,"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.951Z","level":"info","message":"template_selection","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:00.952Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:00.959Z","level":"info","message":"initial_upload_completed","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","bucket":"test-bucket","key":"cv/candidate/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/incoming/original.pdf","template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.973Z","level":"info","message":"resume_text_extracted","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","characters":57,"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.974Z","level":"info","message":"resume_classified","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.976Z","level":"info","message":"raw_upload_relocated","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","bucket":"test-bucket","fromKey":"cv/candidate/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/incoming/original.pdf","toKey":"cv/professional_summary/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/original.pdf","template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.977Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","bucket":"test-bucket","key":"cv/professional_summary/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/original.pdf","template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.977Z","level":"info","message":"dynamo_initial_record_written","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","bucket":"test-bucket","key":"cv/professional_summary/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/original.pdf","template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.978Z","level":"info","message":"upload_metadata_written","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","bucket":"test-bucket","key":"cv/professional_summary/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/logs/log.json","template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.978Z","level":"info","message":"job_description_supplied_manually","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","characters":174,"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.979Z","level":"info","message":"job_description_analyzed","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","jobTitle":"","jobSkills":5,"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.984Z","level":"info","message":"resume_skills_analyzed","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.986Z","level":"info","message":"llm_call_metrics","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:00.989Z","level":"info","message":"process_cv_scoring_completed","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.007Z","level":"info","message":"llm_call_metrics","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.007Z","level":"info","message":"generation_section_rewrite_completed","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","generationRunId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.008Z","level":"info","message":"llm_call_metrics","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.013Z","level":"info","message":"generation_resume_verified","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","generationRunId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:01.026Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","generationRunId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:01.034Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","generationRunId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:01.041Z","level":"info","message":"generation_cover_letters_completed","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","generationRunId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","variants":2,"fallbackApplied":true,"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.043Z","level":"info","message":"pdf_generation_attempt","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","generationRunId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/enhanced_modern.pdf","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.043Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","generationRunId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.044Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","generationRunId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/enhanced_modern.pdf","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.045Z","level":"info","message":"pdf_generation_attempt","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","generationRunId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/enhanced_professional.pdf","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.046Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","generationRunId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.046Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","generationRunId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/enhanced_professional.pdf","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.047Z","level":"info","message":"pdf_generation_attempt","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","generationRunId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/cover_letter_cover_modern.pdf","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.047Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","generationRunId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.047Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","generationRunId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/cover_letter_cover_modern.pdf","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.048Z","level":"info","message":"pdf_generation_attempt","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","generationRunId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/cover_letter_cover_professional.pdf","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.049Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","generationRunId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.049Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","generationRunId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/0e47797c-cfbc-42b5-b597-cbb27c9d15c7/cover_letter_cover_professional.pdf","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.055Z","level":"info","message":"llm_call_metrics","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.056Z","level":"info","message":"generation_completed","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","generationRunId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","enhancedScore":80,"outputs":5,"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.058Z","level":"info","message":"placeholder_record_deleted","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","jobId":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","placeholderIdentifier":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e8e3d63-8d07-495b-abb0-3a5eb100b30d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.059Z","level":"info","message":"http_request_completed","requestId":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":137,"contentLength":"58133","template":"unknown","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e47797c-cfbc-42b5-b597-cbb27c9d15c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.062Z","level":"info","message":"http_request_received","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","method":"POST","path":"/api/process-cv","template":"unknown","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.063Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.064Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.066Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.067Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.069Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

  console.log
    {"timestamp":"2025-12-03T13:31:01.081Z","level":"info","message":"process_cv_started","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","manualJobDescriptionProvided":true,"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.082Z","level":"info","message":"template_selection","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:01.082Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:01.088Z","level":"info","message":"initial_upload_completed","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","bucket":"test-bucket","key":"cv/candidate/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/incoming/original.pdf","template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.094Z","level":"info","message":"resume_text_extracted","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","characters":57,"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.094Z","level":"info","message":"resume_classified","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.095Z","level":"info","message":"raw_upload_relocated","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","bucket":"test-bucket","fromKey":"cv/candidate/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/incoming/original.pdf","toKey":"cv/professional_summary/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/original.pdf","template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.095Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","bucket":"test-bucket","key":"cv/professional_summary/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/original.pdf","template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.095Z","level":"info","message":"dynamo_initial_record_written","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","bucket":"test-bucket","key":"cv/professional_summary/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/original.pdf","template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.096Z","level":"info","message":"upload_metadata_written","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","bucket":"test-bucket","key":"cv/professional_summary/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/logs/log.json","template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.096Z","level":"info","message":"job_description_supplied_manually","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","characters":174,"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.096Z","level":"info","message":"job_description_analyzed","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","jobTitle":"","jobSkills":5,"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.097Z","level":"info","message":"resume_skills_analyzed","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.099Z","level":"info","message":"llm_call_metrics","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.100Z","level":"info","message":"process_cv_scoring_completed","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.103Z","level":"info","message":"llm_call_metrics","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.103Z","level":"info","message":"generation_section_rewrite_completed","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","generationRunId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.104Z","level":"info","message":"llm_call_metrics","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.108Z","level":"info","message":"generation_resume_verified","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","generationRunId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:01.112Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","generationRunId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:01.118Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","generationRunId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:01.134Z","level":"info","message":"generation_cover_letters_completed","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","generationRunId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","variants":2,"fallbackApplied":true,"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.135Z","level":"info","message":"pdf_generation_attempt","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","generationRunId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/enhanced_modern.pdf","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.136Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","generationRunId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.136Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","generationRunId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/enhanced_modern.pdf","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.137Z","level":"info","message":"pdf_generation_attempt","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","generationRunId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/enhanced_professional.pdf","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.139Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","generationRunId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.140Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","generationRunId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/enhanced_professional.pdf","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.141Z","level":"info","message":"pdf_generation_attempt","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","generationRunId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/cover_letter_cover_modern.pdf","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.141Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","generationRunId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.142Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","generationRunId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/cover_letter_cover_modern.pdf","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.144Z","level":"info","message":"pdf_generation_attempt","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","generationRunId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/cover_letter_cover_professional.pdf","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.145Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","generationRunId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.146Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","generationRunId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/94b3b5bb-e2b6-4644-9b3d-3b77005009fa/cover_letter_cover_professional.pdf","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.152Z","level":"info","message":"llm_call_metrics","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.156Z","level":"info","message":"generation_completed","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","generationRunId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","enhancedScore":80,"outputs":5,"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.159Z","level":"info","message":"placeholder_record_deleted","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","jobId":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","placeholderIdentifier":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"495e64e0-c4ac-41fa-8aba-6b92bb839a8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.162Z","level":"info","message":"http_request_completed","requestId":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":100,"contentLength":"58133","template":"unknown","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"94b3b5bb-e2b6-4644-9b3d-3b77005009fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.209Z","level":"info","message":"http_request_received","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","method":"POST","path":"/api/process-cv","template":"unknown","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.211Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.213Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.215Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.216Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.219Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/b47a8ee3-3741-4bfe-9441-4de233f6b781/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/b47a8ee3-3741-4bfe-9441-4de233f6b781/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/b47a8ee3-3741-4bfe-9441-4de233f6b781/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

  console.log
    {"timestamp":"2025-12-03T13:31:01.232Z","level":"info","message":"process_cv_started","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","manualJobDescriptionProvided":true,"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.232Z","level":"info","message":"template_selection","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:01.233Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:01.240Z","level":"info","message":"initial_upload_completed","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","bucket":"test-bucket","key":"cv/candidate/b47a8ee3-3741-4bfe-9441-4de233f6b781/incoming/original.pdf","template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.240Z","level":"info","message":"resume_text_extracted","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","characters":57,"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.242Z","level":"info","message":"resume_classified","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.243Z","level":"info","message":"raw_upload_relocated","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","bucket":"test-bucket","fromKey":"cv/candidate/b47a8ee3-3741-4bfe-9441-4de233f6b781/incoming/original.pdf","toKey":"cv/professional_summary/b47a8ee3-3741-4bfe-9441-4de233f6b781/original.pdf","template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.243Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","bucket":"test-bucket","key":"cv/professional_summary/b47a8ee3-3741-4bfe-9441-4de233f6b781/original.pdf","template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.244Z","level":"info","message":"dynamo_initial_record_written","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","bucket":"test-bucket","key":"cv/professional_summary/b47a8ee3-3741-4bfe-9441-4de233f6b781/original.pdf","template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.244Z","level":"info","message":"upload_metadata_written","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","bucket":"test-bucket","key":"cv/professional_summary/b47a8ee3-3741-4bfe-9441-4de233f6b781/logs/log.json","template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.244Z","level":"info","message":"session_transition_change_log_removed","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","bucket":"test-bucket","removedKeys":["cv/candidate/session-old/logs/change-log.json","cv/candidate/session-old/artifacts/changelog.json"],"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.245Z","level":"info","message":"job_description_supplied_manually","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","characters":174,"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.246Z","level":"info","message":"job_description_analyzed","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","jobTitle":"","jobSkills":5,"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.248Z","level":"info","message":"resume_skills_analyzed","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.249Z","level":"info","message":"llm_call_metrics","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.250Z","level":"info","message":"process_cv_scoring_completed","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.254Z","level":"info","message":"llm_call_metrics","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.255Z","level":"info","message":"generation_section_rewrite_completed","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","generationRunId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.256Z","level":"info","message":"llm_call_metrics","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.258Z","level":"info","message":"generation_resume_verified","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","generationRunId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:01.264Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","generationRunId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:01.273Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","generationRunId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:01.278Z","level":"info","message":"generation_cover_letters_completed","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","generationRunId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","variants":2,"fallbackApplied":true,"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.279Z","level":"info","message":"pdf_generation_attempt","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","generationRunId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b47a8ee3-3741-4bfe-9441-4de233f6b781/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b47a8ee3-3741-4bfe-9441-4de233f6b781/enhanced_modern.pdf","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.280Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","generationRunId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b47a8ee3-3741-4bfe-9441-4de233f6b781/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.280Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","generationRunId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b47a8ee3-3741-4bfe-9441-4de233f6b781/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b47a8ee3-3741-4bfe-9441-4de233f6b781/enhanced_modern.pdf","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.281Z","level":"info","message":"pdf_generation_attempt","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","generationRunId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b47a8ee3-3741-4bfe-9441-4de233f6b781/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b47a8ee3-3741-4bfe-9441-4de233f6b781/enhanced_professional.pdf","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.281Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","generationRunId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b47a8ee3-3741-4bfe-9441-4de233f6b781/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.282Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","generationRunId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b47a8ee3-3741-4bfe-9441-4de233f6b781/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b47a8ee3-3741-4bfe-9441-4de233f6b781/enhanced_professional.pdf","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.282Z","level":"info","message":"pdf_generation_attempt","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","generationRunId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b47a8ee3-3741-4bfe-9441-4de233f6b781/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b47a8ee3-3741-4bfe-9441-4de233f6b781/cover_letter_cover_modern.pdf","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.283Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","generationRunId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b47a8ee3-3741-4bfe-9441-4de233f6b781/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.284Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","generationRunId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b47a8ee3-3741-4bfe-9441-4de233f6b781/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b47a8ee3-3741-4bfe-9441-4de233f6b781/cover_letter_cover_modern.pdf","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.285Z","level":"info","message":"pdf_generation_attempt","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","generationRunId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b47a8ee3-3741-4bfe-9441-4de233f6b781/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b47a8ee3-3741-4bfe-9441-4de233f6b781/cover_letter_cover_professional.pdf","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.285Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","generationRunId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b47a8ee3-3741-4bfe-9441-4de233f6b781/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.286Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","generationRunId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b47a8ee3-3741-4bfe-9441-4de233f6b781/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b47a8ee3-3741-4bfe-9441-4de233f6b781/cover_letter_cover_professional.pdf","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.290Z","level":"info","message":"llm_call_metrics","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.291Z","level":"info","message":"generation_completed","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","generationRunId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","enhancedScore":80,"outputs":5,"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.292Z","level":"info","message":"placeholder_record_deleted","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","jobId":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","placeholderIdentifier":"b47a8ee3-3741-4bfe-9441-4de233f6b781","template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82c5b3cb-a0e5-4b77-948c-56526aedbdfb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.293Z","level":"info","message":"http_request_completed","requestId":"b47a8ee3-3741-4bfe-9441-4de233f6b781","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":84,"contentLength":"58133","template":"unknown","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b47a8ee3-3741-4bfe-9441-4de233f6b781","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.297Z","level":"info","message":"http_request_received","requestId":"repeat","method":"POST","path":"/api/process-cv","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.298Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.303Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.304Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.306Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.308Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

  console.log
    {"timestamp":"2025-12-03T13:31:01.320Z","level":"info","message":"process_cv_started","requestId":"repeat","jobId":"repeat","manualJobDescriptionProvided":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.320Z","level":"info","message":"template_selection","requestId":"repeat","jobId":"repeat","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:01.321Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"repeat","jobId":"repeat","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:01.329Z","level":"info","message":"initial_upload_completed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.329Z","level":"info","message":"resume_text_extracted","requestId":"repeat","jobId":"repeat","characters":57,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.330Z","level":"info","message":"resume_classified","requestId":"repeat","jobId":"repeat","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.330Z","level":"info","message":"raw_upload_relocated","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","fromKey":"cv/candidate/repeat/incoming/original.pdf","toKey":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.331Z","level":"info","message":"dynamo_initial_record_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.331Z","level":"info","message":"upload_metadata_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/logs/log.json","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.331Z","level":"info","message":"session_transition_change_log_removed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","removedKeys":["cv/candidate/repeat/logs/change-log.json","cv/candidate/repeat/artifacts/changelog.json"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.332Z","level":"info","message":"job_description_supplied_manually","requestId":"repeat","jobId":"repeat","characters":174,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.332Z","level":"info","message":"job_description_analyzed","requestId":"repeat","jobId":"repeat","jobTitle":"","jobSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.333Z","level":"info","message":"resume_skills_analyzed","requestId":"repeat","jobId":"repeat","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.333Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.334Z","level":"info","message":"process_cv_scoring_completed","requestId":"repeat","jobId":"repeat","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.336Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.337Z","level":"info","message":"generation_section_rewrite_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.337Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.339Z","level":"info","message":"generation_resume_verified","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:01.342Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:01.348Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:01.354Z","level":"info","message":"generation_cover_letters_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","variants":2,"fallbackApplied":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.354Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.354Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.355Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.355Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.356Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.356Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.356Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.357Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.357Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.358Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.358Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.359Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.361Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.363Z","level":"info","message":"generation_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","enhancedScore":80,"outputs":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.365Z","level":"info","message":"http_request_completed","requestId":"repeat","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":68,"contentLength":"57353","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.368Z","level":"info","message":"http_request_received","requestId":"9da3c646-ed37-4316-ba18-0669fcd0b5b5","method":"POST","path":"/api/process-cv","template":"unknown","session":"9da3c646-ed37-4316-ba18-0669fcd0b5b5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9da3c646-ed37-4316-ba18-0669fcd0b5b5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.369Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.370Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.371Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.373Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.374Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/9da3c646-ed37-4316-ba18-0669fcd0b5b5/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/9da3c646-ed37-4316-ba18-0669fcd0b5b5/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/9da3c646-ed37-4316-ba18-0669fcd0b5b5/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

  console.log
    {"timestamp":"2025-12-03T13:31:01.378Z","level":"info","message":"process_cv_started","requestId":"9da3c646-ed37-4316-ba18-0669fcd0b5b5","jobId":"44c9af6b-b262-4c93-959a-7335195412e0","manualJobDescriptionProvided":false,"template":"unknown","session":"44c9af6b-b262-4c93-959a-7335195412e0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44c9af6b-b262-4c93-959a-7335195412e0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.379Z","level":"info","message":"template_selection","requestId":"9da3c646-ed37-4316-ba18-0669fcd0b5b5","jobId":"44c9af6b-b262-4c93-959a-7335195412e0","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"44c9af6b-b262-4c93-959a-7335195412e0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"44c9af6b-b262-4c93-959a-7335195412e0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:01.379Z","level":"warn","message":"job_description_missing","requestId":"9da3c646-ed37-4316-ba18-0669fcd0b5b5","jobId":"44c9af6b-b262-4c93-959a-7335195412e0","template":"unknown","session":"44c9af6b-b262-4c93-959a-7335195412e0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44c9af6b-b262-4c93-959a-7335195412e0","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25049:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-03T13:31:01.385Z","level":"warn","message":"api_error_response","requestId":"9da3c646-ed37-4316-ba18-0669fcd0b5b5","jobId":"44c9af6b-b262-4c93-959a-7335195412e0","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"9da3c646-ed37-4316-ba18-0669fcd0b5b5","jobId":"44c9af6b-b262-4c93-959a-7335195412e0"},"template":"unknown","session":"44c9af6b-b262-4c93-959a-7335195412e0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44c9af6b-b262-4c93-959a-7335195412e0","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at sendError (server.js:3931:3)
      at server.js:25050:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:01.391Z","level":"info","message":"http_request_completed","requestId":"9da3c646-ed37-4316-ba18-0669fcd0b5b5","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":23,"contentLength":"244","template":"unknown","session":"9da3c646-ed37-4316-ba18-0669fcd0b5b5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9da3c646-ed37-4316-ba18-0669fcd0b5b5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.392Z","level":"info","message":"http_request_received","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","method":"POST","path":"/api/process-cv","template":"unknown","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.393Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.395Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.396Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.397Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.399Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/c9263635-d0ca-4024-8654-b524806f9a48/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/c9263635-d0ca-4024-8654-b524806f9a48/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/c9263635-d0ca-4024-8654-b524806f9a48/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

  console.log
    {"timestamp":"2025-12-03T13:31:01.404Z","level":"info","message":"process_cv_started","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","manualJobDescriptionProvided":true,"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.404Z","level":"info","message":"template_selection","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:01.405Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:01.410Z","level":"info","message":"initial_upload_completed","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","bucket":"test-bucket","key":"cv/candidate/c9263635-d0ca-4024-8654-b524806f9a48/incoming/original.pdf","template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.412Z","level":"info","message":"resume_text_extracted","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","characters":57,"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.412Z","level":"info","message":"resume_classified","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.413Z","level":"info","message":"raw_upload_relocated","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","bucket":"test-bucket","fromKey":"cv/candidate/c9263635-d0ca-4024-8654-b524806f9a48/incoming/original.pdf","toKey":"cv/professional_summary/c9263635-d0ca-4024-8654-b524806f9a48/original.pdf","template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.413Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","bucket":"test-bucket","key":"cv/professional_summary/c9263635-d0ca-4024-8654-b524806f9a48/original.pdf","template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.413Z","level":"info","message":"dynamo_initial_record_written","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","bucket":"test-bucket","key":"cv/professional_summary/c9263635-d0ca-4024-8654-b524806f9a48/original.pdf","template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.414Z","level":"info","message":"upload_metadata_written","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","bucket":"test-bucket","key":"cv/professional_summary/c9263635-d0ca-4024-8654-b524806f9a48/logs/log.json","template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.414Z","level":"info","message":"job_description_supplied_manually","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","characters":59,"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.414Z","level":"info","message":"job_description_analyzed","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","jobTitle":"","jobSkills":5,"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.415Z","level":"info","message":"resume_skills_analyzed","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.415Z","level":"info","message":"llm_call_metrics","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.416Z","level":"info","message":"process_cv_scoring_completed","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.418Z","level":"info","message":"llm_call_metrics","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"ea2430c235b24028819e3e632af324e68724bbc1d27bee61065e3e4452249d1c","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.419Z","level":"info","message":"generation_section_rewrite_completed","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","generationRunId":"c9263635-d0ca-4024-8654-b524806f9a48","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.419Z","level":"info","message":"llm_call_metrics","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"5ccfe9db3e82fa26357ec9c5a8fa36d7c5cf260bf775e906492a22db0355a609","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.421Z","level":"info","message":"generation_resume_verified","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","generationRunId":"c9263635-d0ca-4024-8654-b524806f9a48","template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:01.423Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","generationRunId":"c9263635-d0ca-4024-8654-b524806f9a48","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:01.429Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","generationRunId":"c9263635-d0ca-4024-8654-b524806f9a48","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:01.434Z","level":"info","message":"generation_cover_letters_completed","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","generationRunId":"c9263635-d0ca-4024-8654-b524806f9a48","variants":2,"fallbackApplied":true,"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.435Z","level":"info","message":"pdf_generation_attempt","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","generationRunId":"c9263635-d0ca-4024-8654-b524806f9a48","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c9263635-d0ca-4024-8654-b524806f9a48/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c9263635-d0ca-4024-8654-b524806f9a48/enhanced_modern.pdf","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.435Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","generationRunId":"c9263635-d0ca-4024-8654-b524806f9a48","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c9263635-d0ca-4024-8654-b524806f9a48/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.435Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","generationRunId":"c9263635-d0ca-4024-8654-b524806f9a48","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c9263635-d0ca-4024-8654-b524806f9a48/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c9263635-d0ca-4024-8654-b524806f9a48/enhanced_modern.pdf","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.436Z","level":"info","message":"pdf_generation_attempt","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","generationRunId":"c9263635-d0ca-4024-8654-b524806f9a48","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c9263635-d0ca-4024-8654-b524806f9a48/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c9263635-d0ca-4024-8654-b524806f9a48/enhanced_professional.pdf","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.436Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","generationRunId":"c9263635-d0ca-4024-8654-b524806f9a48","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c9263635-d0ca-4024-8654-b524806f9a48/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.437Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","generationRunId":"c9263635-d0ca-4024-8654-b524806f9a48","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c9263635-d0ca-4024-8654-b524806f9a48/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c9263635-d0ca-4024-8654-b524806f9a48/enhanced_professional.pdf","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.437Z","level":"info","message":"pdf_generation_attempt","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","generationRunId":"c9263635-d0ca-4024-8654-b524806f9a48","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c9263635-d0ca-4024-8654-b524806f9a48/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c9263635-d0ca-4024-8654-b524806f9a48/cover_letter_cover_modern.pdf","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.437Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","generationRunId":"c9263635-d0ca-4024-8654-b524806f9a48","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c9263635-d0ca-4024-8654-b524806f9a48/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.438Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","generationRunId":"c9263635-d0ca-4024-8654-b524806f9a48","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c9263635-d0ca-4024-8654-b524806f9a48/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c9263635-d0ca-4024-8654-b524806f9a48/cover_letter_cover_modern.pdf","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.438Z","level":"info","message":"pdf_generation_attempt","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","generationRunId":"c9263635-d0ca-4024-8654-b524806f9a48","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c9263635-d0ca-4024-8654-b524806f9a48/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c9263635-d0ca-4024-8654-b524806f9a48/cover_letter_cover_professional.pdf","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.439Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","generationRunId":"c9263635-d0ca-4024-8654-b524806f9a48","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c9263635-d0ca-4024-8654-b524806f9a48/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.439Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","generationRunId":"c9263635-d0ca-4024-8654-b524806f9a48","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c9263635-d0ca-4024-8654-b524806f9a48/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c9263635-d0ca-4024-8654-b524806f9a48/cover_letter_cover_professional.pdf","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.442Z","level":"info","message":"llm_call_metrics","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.442Z","level":"info","message":"generation_completed","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","generationRunId":"c9263635-d0ca-4024-8654-b524806f9a48","enhancedScore":80,"outputs":5,"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.443Z","level":"info","message":"placeholder_record_deleted","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","jobId":"515a660d-67bb-42bd-9991-918bf17ca1ce","placeholderIdentifier":"c9263635-d0ca-4024-8654-b524806f9a48","template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"515a660d-67bb-42bd-9991-918bf17ca1ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.444Z","level":"info","message":"http_request_completed","requestId":"c9263635-d0ca-4024-8654-b524806f9a48","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":52,"contentLength":"55048","template":"unknown","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c9263635-d0ca-4024-8654-b524806f9a48","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.448Z","level":"info","message":"http_request_received","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","method":"POST","path":"/api/process-cv","template":"unknown","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.449Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.450Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.451Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.452Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.454Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/4ac0afe1-3548-4350-8a8e-d18f03e86def/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/4ac0afe1-3548-4350-8a8e-d18f03e86def/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/4ac0afe1-3548-4350-8a8e-d18f03e86def/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

  console.log
    {"timestamp":"2025-12-03T13:31:01.457Z","level":"info","message":"process_cv_started","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","manualJobDescriptionProvided":true,"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.458Z","level":"info","message":"template_selection","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:01.458Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:01.464Z","level":"info","message":"initial_upload_completed","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","bucket":"test-bucket","key":"cv/candidate/4ac0afe1-3548-4350-8a8e-d18f03e86def/incoming/original.pdf","template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.466Z","level":"info","message":"resume_text_extracted","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","characters":57,"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.466Z","level":"info","message":"resume_classified","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.466Z","level":"info","message":"raw_upload_relocated","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","bucket":"test-bucket","fromKey":"cv/candidate/4ac0afe1-3548-4350-8a8e-d18f03e86def/incoming/original.pdf","toKey":"cv/professional_summary/4ac0afe1-3548-4350-8a8e-d18f03e86def/original.pdf","template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.466Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","bucket":"test-bucket","key":"cv/professional_summary/4ac0afe1-3548-4350-8a8e-d18f03e86def/original.pdf","template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.467Z","level":"info","message":"dynamo_initial_record_written","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","bucket":"test-bucket","key":"cv/professional_summary/4ac0afe1-3548-4350-8a8e-d18f03e86def/original.pdf","template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.467Z","level":"info","message":"upload_metadata_written","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","bucket":"test-bucket","key":"cv/professional_summary/4ac0afe1-3548-4350-8a8e-d18f03e86def/logs/log.json","template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.467Z","level":"info","message":"job_description_supplied_manually","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","characters":32,"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.468Z","level":"info","message":"job_description_analyzed","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","jobTitle":"","jobSkills":5,"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.468Z","level":"info","message":"resume_skills_analyzed","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.468Z","level":"info","message":"llm_call_metrics","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.469Z","level":"info","message":"process_cv_scoring_completed","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.471Z","level":"info","message":"llm_call_metrics","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"4ee429ea92424e8e19e4720211137d476a19f7274074e1702e9c42fe53b6fed7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.471Z","level":"info","message":"generation_section_rewrite_completed","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","generationRunId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.472Z","level":"info","message":"llm_call_metrics","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"b847d6e14d4cae3ee14cd5dbb7c4a4ca1658d965fe5c0b4564eb95e9b23995e3","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.474Z","level":"info","message":"generation_resume_verified","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","generationRunId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:01.476Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","generationRunId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:01.482Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","generationRunId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:01.488Z","level":"info","message":"generation_cover_letters_completed","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","generationRunId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","variants":2,"fallbackApplied":true,"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.488Z","level":"info","message":"pdf_generation_attempt","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","generationRunId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4ac0afe1-3548-4350-8a8e-d18f03e86def/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4ac0afe1-3548-4350-8a8e-d18f03e86def/enhanced_modern.pdf","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.489Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","generationRunId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4ac0afe1-3548-4350-8a8e-d18f03e86def/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.489Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","generationRunId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4ac0afe1-3548-4350-8a8e-d18f03e86def/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4ac0afe1-3548-4350-8a8e-d18f03e86def/enhanced_modern.pdf","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.490Z","level":"info","message":"pdf_generation_attempt","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","generationRunId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4ac0afe1-3548-4350-8a8e-d18f03e86def/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4ac0afe1-3548-4350-8a8e-d18f03e86def/enhanced_professional.pdf","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.490Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","generationRunId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4ac0afe1-3548-4350-8a8e-d18f03e86def/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.490Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","generationRunId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4ac0afe1-3548-4350-8a8e-d18f03e86def/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4ac0afe1-3548-4350-8a8e-d18f03e86def/enhanced_professional.pdf","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.491Z","level":"info","message":"pdf_generation_attempt","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","generationRunId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4ac0afe1-3548-4350-8a8e-d18f03e86def/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4ac0afe1-3548-4350-8a8e-d18f03e86def/cover_letter_cover_modern.pdf","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.491Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","generationRunId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4ac0afe1-3548-4350-8a8e-d18f03e86def/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.491Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","generationRunId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4ac0afe1-3548-4350-8a8e-d18f03e86def/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4ac0afe1-3548-4350-8a8e-d18f03e86def/cover_letter_cover_modern.pdf","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.492Z","level":"info","message":"pdf_generation_attempt","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","generationRunId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4ac0afe1-3548-4350-8a8e-d18f03e86def/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4ac0afe1-3548-4350-8a8e-d18f03e86def/cover_letter_cover_professional.pdf","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.492Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","generationRunId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4ac0afe1-3548-4350-8a8e-d18f03e86def/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.493Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","generationRunId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4ac0afe1-3548-4350-8a8e-d18f03e86def/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4ac0afe1-3548-4350-8a8e-d18f03e86def/cover_letter_cover_professional.pdf","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.494Z","level":"info","message":"llm_call_metrics","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.496Z","level":"info","message":"generation_completed","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","generationRunId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","enhancedScore":80,"outputs":5,"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.497Z","level":"info","message":"placeholder_record_deleted","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","jobId":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","placeholderIdentifier":"4ac0afe1-3548-4350-8a8e-d18f03e86def","template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7d4637d4-dd2e-4e9a-89ef-33eb814d6e53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.498Z","level":"info","message":"http_request_completed","requestId":"4ac0afe1-3548-4350-8a8e-d18f03e86def","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":50,"contentLength":"53771","template":"unknown","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4ac0afe1-3548-4350-8a8e-d18f03e86def","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.500Z","level":"info","message":"http_request_received","requestId":"ef3a1029-4ebb-4fcf-8da6-b19949a7853a","method":"POST","path":"/api/process-cv","template":"unknown","session":"ef3a1029-4ebb-4fcf-8da6-b19949a7853a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ef3a1029-4ebb-4fcf-8da6-b19949a7853a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.501Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.503Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.504Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.506Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.507Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/ef3a1029-4ebb-4fcf-8da6-b19949a7853a/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/ef3a1029-4ebb-4fcf-8da6-b19949a7853a/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/ef3a1029-4ebb-4fcf-8da6-b19949a7853a/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

  console.warn
    {"timestamp":"2025-12-03T13:31:01.511Z","level":"warn","message":"job_description_prohibited_html_detected","requestId":"ef3a1029-4ebb-4fcf-8da6-b19949a7853a","jobId":"a1027830-b563-446f-a689-b49ae3aa36b6","template":"unknown","session":"a1027830-b563-446f-a689-b49ae3aa36b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a1027830-b563-446f-a689-b49ae3aa36b6","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:24942:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-03T13:31:01.516Z","level":"warn","message":"api_error_response","requestId":"ef3a1029-4ebb-4fcf-8da6-b19949a7853a","jobId":"a1027830-b563-446f-a689-b49ae3aa36b6","status":400,"error":{"code":"JOB_DESCRIPTION_PROHIBITED_TAGS","message":"Remove HTML tags like <script> before continuing.","details":{"field":"manualJobDescription"},"requestId":"ef3a1029-4ebb-4fcf-8da6-b19949a7853a","jobId":"a1027830-b563-446f-a689-b49ae3aa36b6"},"template":"unknown","session":"a1027830-b563-446f-a689-b49ae3aa36b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a1027830-b563-446f-a689-b49ae3aa36b6","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at sendError (server.js:3931:3)
      at server.js:24943:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:01.522Z","level":"info","message":"http_request_completed","requestId":"ef3a1029-4ebb-4fcf-8da6-b19949a7853a","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":22,"contentLength":"271","template":"unknown","session":"ef3a1029-4ebb-4fcf-8da6-b19949a7853a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ef3a1029-4ebb-4fcf-8da6-b19949a7853a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.525Z","level":"info","message":"http_request_received","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","method":"POST","path":"/api/process-cv","template":"unknown","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.526Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.527Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.528Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.530Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.531Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/4bb05869-cb7e-48e8-9e38-be82b1df519d/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/4bb05869-cb7e-48e8-9e38-be82b1df519d/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/4bb05869-cb7e-48e8-9e38-be82b1df519d/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

  console.log
    {"timestamp":"2025-12-03T13:31:01.535Z","level":"info","message":"process_cv_started","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","manualJobDescriptionProvided":true,"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.536Z","level":"info","message":"template_selection","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:01.536Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:01.542Z","level":"info","message":"initial_upload_completed","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","bucket":"test-bucket","key":"cv/candidate/4bb05869-cb7e-48e8-9e38-be82b1df519d/incoming/original.pdf","template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.542Z","level":"info","message":"resume_text_extracted","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","characters":57,"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.543Z","level":"info","message":"resume_classified","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.543Z","level":"info","message":"raw_upload_relocated","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","bucket":"test-bucket","fromKey":"cv/candidate/4bb05869-cb7e-48e8-9e38-be82b1df519d/incoming/original.pdf","toKey":"cv/professional_summary/4bb05869-cb7e-48e8-9e38-be82b1df519d/original.pdf","template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.543Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","bucket":"test-bucket","key":"cv/professional_summary/4bb05869-cb7e-48e8-9e38-be82b1df519d/original.pdf","template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.544Z","level":"info","message":"dynamo_initial_record_written","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","bucket":"test-bucket","key":"cv/professional_summary/4bb05869-cb7e-48e8-9e38-be82b1df519d/original.pdf","template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.544Z","level":"info","message":"upload_metadata_written","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","bucket":"test-bucket","key":"cv/professional_summary/4bb05869-cb7e-48e8-9e38-be82b1df519d/logs/log.json","template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.544Z","level":"info","message":"job_description_supplied_manually","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","characters":31,"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.544Z","level":"info","message":"job_description_analyzed","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","jobTitle":"","jobSkills":5,"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.545Z","level":"info","message":"resume_skills_analyzed","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.545Z","level":"info","message":"llm_call_metrics","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.546Z","level":"info","message":"process_cv_scoring_completed","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.548Z","level":"info","message":"llm_call_metrics","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"3b6fa31427cfe80be95734691ddba88dda63de26496df29477f91bd398cefbfa","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.549Z","level":"info","message":"generation_section_rewrite_completed","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","generationRunId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.549Z","level":"info","message":"llm_call_metrics","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"eedd7612e0b87e24dbfb4e165754c9448ec3573f7db56a3242654c71c3ca223b","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.551Z","level":"info","message":"generation_resume_verified","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","generationRunId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:01.553Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","generationRunId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:01.559Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","generationRunId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:01.565Z","level":"info","message":"generation_cover_letters_completed","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","generationRunId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","variants":2,"fallbackApplied":true,"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.565Z","level":"info","message":"pdf_generation_attempt","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","generationRunId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4bb05869-cb7e-48e8-9e38-be82b1df519d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4bb05869-cb7e-48e8-9e38-be82b1df519d/enhanced_modern.pdf","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.566Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","generationRunId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4bb05869-cb7e-48e8-9e38-be82b1df519d/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.566Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","generationRunId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4bb05869-cb7e-48e8-9e38-be82b1df519d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4bb05869-cb7e-48e8-9e38-be82b1df519d/enhanced_modern.pdf","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.567Z","level":"info","message":"pdf_generation_attempt","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","generationRunId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4bb05869-cb7e-48e8-9e38-be82b1df519d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4bb05869-cb7e-48e8-9e38-be82b1df519d/enhanced_professional.pdf","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.567Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","generationRunId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4bb05869-cb7e-48e8-9e38-be82b1df519d/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.567Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","generationRunId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4bb05869-cb7e-48e8-9e38-be82b1df519d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4bb05869-cb7e-48e8-9e38-be82b1df519d/enhanced_professional.pdf","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.568Z","level":"info","message":"pdf_generation_attempt","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","generationRunId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4bb05869-cb7e-48e8-9e38-be82b1df519d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4bb05869-cb7e-48e8-9e38-be82b1df519d/cover_letter_cover_modern.pdf","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.568Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","generationRunId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4bb05869-cb7e-48e8-9e38-be82b1df519d/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.568Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","generationRunId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4bb05869-cb7e-48e8-9e38-be82b1df519d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4bb05869-cb7e-48e8-9e38-be82b1df519d/cover_letter_cover_modern.pdf","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.569Z","level":"info","message":"pdf_generation_attempt","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","generationRunId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4bb05869-cb7e-48e8-9e38-be82b1df519d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4bb05869-cb7e-48e8-9e38-be82b1df519d/cover_letter_cover_professional.pdf","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.569Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","generationRunId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4bb05869-cb7e-48e8-9e38-be82b1df519d/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.570Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","generationRunId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4bb05869-cb7e-48e8-9e38-be82b1df519d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4bb05869-cb7e-48e8-9e38-be82b1df519d/cover_letter_cover_professional.pdf","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.571Z","level":"info","message":"llm_call_metrics","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.574Z","level":"info","message":"generation_completed","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","generationRunId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","enhancedScore":80,"outputs":5,"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.575Z","level":"info","message":"placeholder_record_deleted","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","jobId":"a04a16da-0bc3-498f-b983-7405a41dc0c5","placeholderIdentifier":"4bb05869-cb7e-48e8-9e38-be82b1df519d","template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a04a16da-0bc3-498f-b983-7405a41dc0c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.576Z","level":"info","message":"http_request_completed","requestId":"4bb05869-cb7e-48e8-9e38-be82b1df519d","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":51,"contentLength":"53718","template":"unknown","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4bb05869-cb7e-48e8-9e38-be82b1df519d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.579Z","level":"info","message":"http_request_received","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","method":"POST","path":"/api/process-cv","template":"unknown","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.580Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.581Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.582Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.584Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.585Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/18b33152-a2bb-4a7f-aa7a-da952d429e4d/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/18b33152-a2bb-4a7f-aa7a-da952d429e4d/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/18b33152-a2bb-4a7f-aa7a-da952d429e4d/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

  console.log
    {"timestamp":"2025-12-03T13:31:01.589Z","level":"info","message":"process_cv_started","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","manualJobDescriptionProvided":true,"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.589Z","level":"info","message":"template_selection","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:01.590Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:01.595Z","level":"info","message":"initial_upload_completed","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","bucket":"test-bucket","key":"cv/candidate/18b33152-a2bb-4a7f-aa7a-da952d429e4d/incoming/original.pdf","template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.596Z","level":"info","message":"resume_text_extracted","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","characters":57,"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.596Z","level":"info","message":"resume_classified","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.596Z","level":"info","message":"raw_upload_relocated","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","bucket":"test-bucket","fromKey":"cv/candidate/18b33152-a2bb-4a7f-aa7a-da952d429e4d/incoming/original.pdf","toKey":"cv/professional_summary/18b33152-a2bb-4a7f-aa7a-da952d429e4d/original.pdf","template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.597Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","bucket":"test-bucket","key":"cv/professional_summary/18b33152-a2bb-4a7f-aa7a-da952d429e4d/original.pdf","template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.597Z","level":"info","message":"dynamo_initial_record_written","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","bucket":"test-bucket","key":"cv/professional_summary/18b33152-a2bb-4a7f-aa7a-da952d429e4d/original.pdf","template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.597Z","level":"info","message":"upload_metadata_written","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","bucket":"test-bucket","key":"cv/professional_summary/18b33152-a2bb-4a7f-aa7a-da952d429e4d/logs/log.json","template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.597Z","level":"info","message":"job_description_supplied_manually","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","characters":174,"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.598Z","level":"info","message":"job_description_analyzed","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","jobTitle":"","jobSkills":5,"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.598Z","level":"info","message":"resume_skills_analyzed","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.598Z","level":"info","message":"llm_call_metrics","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.599Z","level":"info","message":"process_cv_scoring_completed","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.601Z","level":"info","message":"llm_call_metrics","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.601Z","level":"info","message":"generation_section_rewrite_completed","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","generationRunId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.602Z","level":"info","message":"llm_call_metrics","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.605Z","level":"info","message":"generation_resume_verified","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","generationRunId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:01.607Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","generationRunId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:01.613Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","generationRunId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:01.618Z","level":"info","message":"generation_cover_letters_completed","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","generationRunId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","variants":2,"fallbackApplied":true,"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.619Z","level":"info","message":"pdf_generation_attempt","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","generationRunId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/18b33152-a2bb-4a7f-aa7a-da952d429e4d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/18b33152-a2bb-4a7f-aa7a-da952d429e4d/enhanced_modern.pdf","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.619Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","generationRunId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/18b33152-a2bb-4a7f-aa7a-da952d429e4d/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.620Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","generationRunId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/18b33152-a2bb-4a7f-aa7a-da952d429e4d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/18b33152-a2bb-4a7f-aa7a-da952d429e4d/enhanced_modern.pdf","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.621Z","level":"info","message":"pdf_generation_attempt","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","generationRunId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/18b33152-a2bb-4a7f-aa7a-da952d429e4d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/18b33152-a2bb-4a7f-aa7a-da952d429e4d/enhanced_professional.pdf","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.622Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","generationRunId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/18b33152-a2bb-4a7f-aa7a-da952d429e4d/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.622Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","generationRunId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/18b33152-a2bb-4a7f-aa7a-da952d429e4d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/18b33152-a2bb-4a7f-aa7a-da952d429e4d/enhanced_professional.pdf","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.623Z","level":"info","message":"pdf_generation_attempt","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","generationRunId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/18b33152-a2bb-4a7f-aa7a-da952d429e4d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/18b33152-a2bb-4a7f-aa7a-da952d429e4d/cover_letter_cover_modern.pdf","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.623Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","generationRunId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/18b33152-a2bb-4a7f-aa7a-da952d429e4d/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.624Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","generationRunId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/18b33152-a2bb-4a7f-aa7a-da952d429e4d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/18b33152-a2bb-4a7f-aa7a-da952d429e4d/cover_letter_cover_modern.pdf","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.624Z","level":"info","message":"pdf_generation_attempt","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","generationRunId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/18b33152-a2bb-4a7f-aa7a-da952d429e4d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/18b33152-a2bb-4a7f-aa7a-da952d429e4d/cover_letter_cover_professional.pdf","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.624Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","generationRunId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/18b33152-a2bb-4a7f-aa7a-da952d429e4d/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.625Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","generationRunId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/18b33152-a2bb-4a7f-aa7a-da952d429e4d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/18b33152-a2bb-4a7f-aa7a-da952d429e4d/cover_letter_cover_professional.pdf","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.627Z","level":"info","message":"llm_call_metrics","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.628Z","level":"info","message":"generation_completed","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","generationRunId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","enhancedScore":80,"outputs":5,"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.629Z","level":"info","message":"placeholder_record_deleted","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","jobId":"4fc9caf2-8143-4d66-a37b-c0181d40df70","placeholderIdentifier":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4fc9caf2-8143-4d66-a37b-c0181d40df70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.630Z","level":"info","message":"http_request_completed","requestId":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":51,"contentLength":"58133","template":"unknown","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18b33152-a2bb-4a7f-aa7a-da952d429e4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.632Z","level":"info","message":"http_request_received","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","method":"POST","path":"/api/process-cv","template":"unknown","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.633Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.634Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.635Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.637Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.638Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

  console.log
    {"timestamp":"2025-12-03T13:31:01.641Z","level":"info","message":"process_cv_started","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","manualJobDescriptionProvided":true,"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.642Z","level":"info","message":"template_selection","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:01.643Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:01.649Z","level":"info","message":"initial_upload_completed","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","bucket":"test-bucket","key":"cv/candidate/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/incoming/original.pdf","template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.649Z","level":"info","message":"resume_text_extracted","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","characters":57,"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.649Z","level":"info","message":"resume_classified","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.650Z","level":"info","message":"raw_upload_relocated","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","bucket":"test-bucket","fromKey":"cv/candidate/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/incoming/original.pdf","toKey":"cv/professional_summary/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/original.pdf","template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.650Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","bucket":"test-bucket","key":"cv/professional_summary/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/original.pdf","template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.650Z","level":"info","message":"dynamo_initial_record_written","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","bucket":"test-bucket","key":"cv/professional_summary/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/original.pdf","template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.651Z","level":"info","message":"upload_metadata_written","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","bucket":"test-bucket","key":"cv/professional_summary/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/logs/log.json","template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.651Z","level":"info","message":"job_description_supplied_manually","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","characters":174,"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.651Z","level":"info","message":"job_description_analyzed","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","jobTitle":"","jobSkills":5,"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.652Z","level":"info","message":"resume_skills_analyzed","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.652Z","level":"info","message":"llm_call_metrics","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.653Z","level":"info","message":"process_cv_scoring_completed","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.error
    {"timestamp":"2025-12-03T13:31:01.654Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","sample":"not json","template":"unknown","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at Object.error (server.js:3443:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8488:20)
      at generateEnhancedDocumentsResponse (server.js:20126:26)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:01.664Z","level":"info","message":"llm_call_metrics","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.665Z","level":"info","message":"llm_call_metrics","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.665Z","level":"info","message":"generation_section_rewrite_completed","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","generationRunId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.665Z","level":"info","message":"llm_call_metrics","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"89e63aad97eee35da336c4707bebe46001a38648f790cb26108fe67f8c6eef15","skillCount":5,"template":"project_summary","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:01.669Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","generationRunId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:01.674Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","generationRunId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:01.680Z","level":"info","message":"generation_cover_letters_completed","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","generationRunId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","variants":2,"fallbackApplied":true,"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.680Z","level":"info","message":"pdf_generation_attempt","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","generationRunId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/enhanced_modern.pdf","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.681Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","generationRunId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.681Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","generationRunId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/enhanced_modern.pdf","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.682Z","level":"info","message":"pdf_generation_attempt","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","generationRunId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/enhanced_professional.pdf","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.682Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","generationRunId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.682Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","generationRunId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/enhanced_professional.pdf","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.683Z","level":"info","message":"pdf_generation_attempt","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","generationRunId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/cover_letter_cover_modern.pdf","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.683Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","generationRunId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.684Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","generationRunId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/cover_letter_cover_modern.pdf","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.684Z","level":"info","message":"pdf_generation_attempt","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","generationRunId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/cover_letter_cover_professional.pdf","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.685Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","generationRunId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.685Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","generationRunId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094/cover_letter_cover_professional.pdf","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.687Z","level":"info","message":"llm_call_metrics","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.688Z","level":"info","message":"generation_completed","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","generationRunId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","enhancedScore":80,"outputs":5,"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.690Z","level":"info","message":"placeholder_record_deleted","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","jobId":"a8d39a0e-daa8-4074-b25c-25c78fea0346","placeholderIdentifier":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a8d39a0e-daa8-4074-b25c-25c78fea0346","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.691Z","level":"info","message":"http_request_completed","requestId":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":59,"contentLength":"58091","template":"unknown","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1fe791d8-dff2-43d6-9ac7-5c3a5d3cd094","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.695Z","level":"info","message":"http_request_received","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","method":"POST","path":"/api/process-cv","template":"unknown","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.696Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.697Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.698Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.699Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.701Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/ec81b448-e51a-4ce2-9104-fe6022851f47/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/ec81b448-e51a-4ce2-9104-fe6022851f47/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/ec81b448-e51a-4ce2-9104-fe6022851f47/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

  console.log
    {"timestamp":"2025-12-03T13:31:01.706Z","level":"info","message":"process_cv_started","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","manualJobDescriptionProvided":true,"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.707Z","level":"info","message":"template_selection","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:01.707Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:01.713Z","level":"info","message":"initial_upload_completed","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","bucket":"test-bucket","key":"cv/candidate/ec81b448-e51a-4ce2-9104-fe6022851f47/incoming/original.pdf","template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.713Z","level":"info","message":"resume_text_extracted","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","characters":57,"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.714Z","level":"info","message":"resume_classified","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.714Z","level":"info","message":"raw_upload_relocated","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","bucket":"test-bucket","fromKey":"cv/candidate/ec81b448-e51a-4ce2-9104-fe6022851f47/incoming/original.pdf","toKey":"cv/professional_summary/ec81b448-e51a-4ce2-9104-fe6022851f47/original.pdf","template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.715Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","bucket":"test-bucket","key":"cv/professional_summary/ec81b448-e51a-4ce2-9104-fe6022851f47/original.pdf","template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.715Z","level":"info","message":"dynamo_initial_record_written","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","bucket":"test-bucket","key":"cv/professional_summary/ec81b448-e51a-4ce2-9104-fe6022851f47/original.pdf","template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.715Z","level":"info","message":"upload_metadata_written","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","bucket":"test-bucket","key":"cv/professional_summary/ec81b448-e51a-4ce2-9104-fe6022851f47/logs/log.json","template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.716Z","level":"info","message":"job_description_supplied_manually","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","characters":174,"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.716Z","level":"info","message":"job_description_analyzed","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","jobTitle":"","jobSkills":5,"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.717Z","level":"info","message":"resume_skills_analyzed","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.717Z","level":"info","message":"llm_call_metrics","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.718Z","level":"info","message":"process_cv_scoring_completed","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.720Z","level":"info","message":"llm_call_metrics","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.720Z","level":"info","message":"generation_section_rewrite_completed","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","generationRunId":"ec81b448-e51a-4ce2-9104-fe6022851f47","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.721Z","level":"info","message":"llm_call_metrics","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.721Z","level":"info","message":"llm_call_metrics","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.723Z","level":"info","message":"generation_resume_verified","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","generationRunId":"ec81b448-e51a-4ce2-9104-fe6022851f47","template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.error
    {"timestamp":"2025-12-03T13:31:01.726Z","level":"error","message":"ai_response_missing_json","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","generationRunId":"ec81b448-e51a-4ce2-9104-fe6022851f47","template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at Object.error (server.js:3443:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20408:26)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:01.732Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","generationRunId":"ec81b448-e51a-4ce2-9104-fe6022851f47","attempt":1,"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20413:11)
      at server.js:26684:28

  console.error
    {"timestamp":"2025-12-03T13:31:01.739Z","level":"error","message":"ai_response_missing_json","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","generationRunId":"ec81b448-e51a-4ce2-9104-fe6022851f47","template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at Object.error (server.js:3443:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20408:26)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:01.744Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","generationRunId":"ec81b448-e51a-4ce2-9104-fe6022851f47","attempt":2,"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20413:11)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:01.750Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","generationRunId":"ec81b448-e51a-4ce2-9104-fe6022851f47","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:01.756Z","level":"info","message":"generation_cover_letters_completed","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","generationRunId":"ec81b448-e51a-4ce2-9104-fe6022851f47","variants":2,"fallbackApplied":true,"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.757Z","level":"info","message":"pdf_generation_attempt","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","generationRunId":"ec81b448-e51a-4ce2-9104-fe6022851f47","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ec81b448-e51a-4ce2-9104-fe6022851f47/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/ec81b448-e51a-4ce2-9104-fe6022851f47/enhanced_modern.pdf","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.757Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","generationRunId":"ec81b448-e51a-4ce2-9104-fe6022851f47","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ec81b448-e51a-4ce2-9104-fe6022851f47/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.758Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","generationRunId":"ec81b448-e51a-4ce2-9104-fe6022851f47","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ec81b448-e51a-4ce2-9104-fe6022851f47/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/ec81b448-e51a-4ce2-9104-fe6022851f47/enhanced_modern.pdf","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.758Z","level":"info","message":"pdf_generation_attempt","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","generationRunId":"ec81b448-e51a-4ce2-9104-fe6022851f47","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ec81b448-e51a-4ce2-9104-fe6022851f47/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/ec81b448-e51a-4ce2-9104-fe6022851f47/enhanced_professional.pdf","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.759Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","generationRunId":"ec81b448-e51a-4ce2-9104-fe6022851f47","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ec81b448-e51a-4ce2-9104-fe6022851f47/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.759Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","generationRunId":"ec81b448-e51a-4ce2-9104-fe6022851f47","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ec81b448-e51a-4ce2-9104-fe6022851f47/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/ec81b448-e51a-4ce2-9104-fe6022851f47/enhanced_professional.pdf","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.760Z","level":"info","message":"pdf_generation_attempt","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","generationRunId":"ec81b448-e51a-4ce2-9104-fe6022851f47","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ec81b448-e51a-4ce2-9104-fe6022851f47/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/ec81b448-e51a-4ce2-9104-fe6022851f47/cover_letter_cover_modern.pdf","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.760Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","generationRunId":"ec81b448-e51a-4ce2-9104-fe6022851f47","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ec81b448-e51a-4ce2-9104-fe6022851f47/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.761Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","generationRunId":"ec81b448-e51a-4ce2-9104-fe6022851f47","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ec81b448-e51a-4ce2-9104-fe6022851f47/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/ec81b448-e51a-4ce2-9104-fe6022851f47/cover_letter_cover_modern.pdf","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.761Z","level":"info","message":"pdf_generation_attempt","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","generationRunId":"ec81b448-e51a-4ce2-9104-fe6022851f47","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ec81b448-e51a-4ce2-9104-fe6022851f47/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/ec81b448-e51a-4ce2-9104-fe6022851f47/cover_letter_cover_professional.pdf","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.762Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","generationRunId":"ec81b448-e51a-4ce2-9104-fe6022851f47","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ec81b448-e51a-4ce2-9104-fe6022851f47/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.762Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","generationRunId":"ec81b448-e51a-4ce2-9104-fe6022851f47","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ec81b448-e51a-4ce2-9104-fe6022851f47/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/ec81b448-e51a-4ce2-9104-fe6022851f47/cover_letter_cover_professional.pdf","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.765Z","level":"info","message":"llm_call_metrics","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.765Z","level":"info","message":"generation_completed","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","generationRunId":"ec81b448-e51a-4ce2-9104-fe6022851f47","enhancedScore":80,"outputs":5,"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.767Z","level":"info","message":"placeholder_record_deleted","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","jobId":"85825743-067e-49d9-928e-30718c37379d","placeholderIdentifier":"ec81b448-e51a-4ce2-9104-fe6022851f47","template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85825743-067e-49d9-928e-30718c37379d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.768Z","level":"info","message":"http_request_completed","requestId":"ec81b448-e51a-4ce2-9104-fe6022851f47","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":73,"contentLength":"59498","template":"unknown","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ec81b448-e51a-4ce2-9104-fe6022851f47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.772Z","level":"info","message":"http_request_received","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","method":"POST","path":"/api/process-cv","template":"unknown","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.773Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.774Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.776Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.777Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.779Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/418e21d3-f8a8-436e-a279-0ff3493a4a5c/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/418e21d3-f8a8-436e-a279-0ff3493a4a5c/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/418e21d3-f8a8-436e-a279-0ff3493a4a5c/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

  console.log
    {"timestamp":"2025-12-03T13:31:01.783Z","level":"info","message":"process_cv_started","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","manualJobDescriptionProvided":true,"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.784Z","level":"info","message":"template_selection","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:01.784Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:01.790Z","level":"info","message":"initial_upload_completed","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","bucket":"test-bucket","key":"cv/candidate/418e21d3-f8a8-436e-a279-0ff3493a4a5c/incoming/original.pdf","template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.791Z","level":"info","message":"resume_text_extracted","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","characters":57,"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.791Z","level":"info","message":"resume_classified","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.791Z","level":"info","message":"raw_upload_relocated","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","bucket":"test-bucket","fromKey":"cv/candidate/418e21d3-f8a8-436e-a279-0ff3493a4a5c/incoming/original.pdf","toKey":"cv/professional_summary/418e21d3-f8a8-436e-a279-0ff3493a4a5c/original.pdf","template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.792Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","bucket":"test-bucket","key":"cv/professional_summary/418e21d3-f8a8-436e-a279-0ff3493a4a5c/original.pdf","template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.792Z","level":"info","message":"dynamo_initial_record_written","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","bucket":"test-bucket","key":"cv/professional_summary/418e21d3-f8a8-436e-a279-0ff3493a4a5c/original.pdf","template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.793Z","level":"info","message":"upload_metadata_written","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","bucket":"test-bucket","key":"cv/professional_summary/418e21d3-f8a8-436e-a279-0ff3493a4a5c/logs/log.json","template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.793Z","level":"info","message":"job_description_supplied_manually","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","characters":174,"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.793Z","level":"info","message":"job_description_analyzed","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","jobTitle":"","jobSkills":5,"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.794Z","level":"info","message":"resume_skills_analyzed","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.794Z","level":"info","message":"llm_call_metrics","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.795Z","level":"info","message":"process_cv_scoring_completed","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.797Z","level":"info","message":"llm_call_metrics","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.797Z","level":"info","message":"generation_section_rewrite_completed","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","generationRunId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.798Z","level":"info","message":"llm_call_metrics","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.798Z","level":"info","message":"llm_call_metrics","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.799Z","level":"info","message":"generation_resume_verified","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","generationRunId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.error
    {"timestamp":"2025-12-03T13:31:01.804Z","level":"error","message":"ai_response_missing_json","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","generationRunId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at Object.error (server.js:3443:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20408:26)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:01.809Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","generationRunId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","attempt":1,"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20413:11)
      at server.js:26684:28

  console.error
    {"timestamp":"2025-12-03T13:31:01.816Z","level":"error","message":"ai_response_missing_json","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","generationRunId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at Object.error (server.js:3443:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20408:26)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:01.822Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","generationRunId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","attempt":2,"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20413:11)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:01.827Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","generationRunId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:01.832Z","level":"info","message":"generation_cover_letters_completed","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","generationRunId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","variants":2,"fallbackApplied":true,"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.833Z","level":"info","message":"pdf_generation_attempt","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","generationRunId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/418e21d3-f8a8-436e-a279-0ff3493a4a5c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/418e21d3-f8a8-436e-a279-0ff3493a4a5c/enhanced_modern.pdf","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.833Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","generationRunId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/418e21d3-f8a8-436e-a279-0ff3493a4a5c/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.834Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","generationRunId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/418e21d3-f8a8-436e-a279-0ff3493a4a5c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/418e21d3-f8a8-436e-a279-0ff3493a4a5c/enhanced_modern.pdf","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.834Z","level":"info","message":"pdf_generation_attempt","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","generationRunId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/418e21d3-f8a8-436e-a279-0ff3493a4a5c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/418e21d3-f8a8-436e-a279-0ff3493a4a5c/enhanced_professional.pdf","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.835Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","generationRunId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/418e21d3-f8a8-436e-a279-0ff3493a4a5c/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.835Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","generationRunId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/418e21d3-f8a8-436e-a279-0ff3493a4a5c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/418e21d3-f8a8-436e-a279-0ff3493a4a5c/enhanced_professional.pdf","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.836Z","level":"info","message":"pdf_generation_attempt","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","generationRunId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/418e21d3-f8a8-436e-a279-0ff3493a4a5c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/418e21d3-f8a8-436e-a279-0ff3493a4a5c/cover_letter_cover_modern.pdf","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.836Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","generationRunId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/418e21d3-f8a8-436e-a279-0ff3493a4a5c/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.836Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","generationRunId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/418e21d3-f8a8-436e-a279-0ff3493a4a5c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/418e21d3-f8a8-436e-a279-0ff3493a4a5c/cover_letter_cover_modern.pdf","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.837Z","level":"info","message":"pdf_generation_attempt","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","generationRunId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/418e21d3-f8a8-436e-a279-0ff3493a4a5c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/418e21d3-f8a8-436e-a279-0ff3493a4a5c/cover_letter_cover_professional.pdf","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.837Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","generationRunId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/418e21d3-f8a8-436e-a279-0ff3493a4a5c/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.838Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","generationRunId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/418e21d3-f8a8-436e-a279-0ff3493a4a5c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/418e21d3-f8a8-436e-a279-0ff3493a4a5c/cover_letter_cover_professional.pdf","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.840Z","level":"info","message":"llm_call_metrics","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.841Z","level":"info","message":"generation_completed","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","generationRunId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","enhancedScore":80,"outputs":5,"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.842Z","level":"info","message":"placeholder_record_deleted","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","jobId":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","placeholderIdentifier":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"708d6ad4-6a2d-47b8-b105-5da5d02d545a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.843Z","level":"info","message":"http_request_completed","requestId":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":71,"contentLength":"59498","template":"unknown","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"418e21d3-f8a8-436e-a279-0ff3493a4a5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.847Z","level":"info","message":"http_request_received","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","method":"POST","path":"/api/process-cv","template":"unknown","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.848Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.849Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.850Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.852Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.853Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/253a0357-94b9-41bb-82a9-53a367b6f413/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/253a0357-94b9-41bb-82a9-53a367b6f413/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/253a0357-94b9-41bb-82a9-53a367b6f413/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

  console.log
    {"timestamp":"2025-12-03T13:31:01.857Z","level":"info","message":"process_cv_started","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","manualJobDescriptionProvided":true,"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.858Z","level":"info","message":"template_selection","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:01.858Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:01.863Z","level":"info","message":"initial_upload_completed","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","bucket":"test-bucket","key":"cv/candidate/253a0357-94b9-41bb-82a9-53a367b6f413/incoming/original.pdf","template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.864Z","level":"info","message":"resume_text_extracted","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","characters":57,"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.864Z","level":"info","message":"resume_classified","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.864Z","level":"info","message":"raw_upload_relocated","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","bucket":"test-bucket","fromKey":"cv/candidate/253a0357-94b9-41bb-82a9-53a367b6f413/incoming/original.pdf","toKey":"cv/professional_summary/253a0357-94b9-41bb-82a9-53a367b6f413/original.pdf","template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.865Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","bucket":"test-bucket","key":"cv/professional_summary/253a0357-94b9-41bb-82a9-53a367b6f413/original.pdf","template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.865Z","level":"info","message":"dynamo_initial_record_written","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","bucket":"test-bucket","key":"cv/professional_summary/253a0357-94b9-41bb-82a9-53a367b6f413/original.pdf","template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.865Z","level":"info","message":"upload_metadata_written","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","bucket":"test-bucket","key":"cv/professional_summary/253a0357-94b9-41bb-82a9-53a367b6f413/logs/log.json","template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.865Z","level":"info","message":"job_description_supplied_manually","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","characters":174,"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.866Z","level":"info","message":"job_description_analyzed","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","jobTitle":"","jobSkills":5,"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.866Z","level":"info","message":"resume_skills_analyzed","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.867Z","level":"info","message":"llm_call_metrics","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.867Z","level":"info","message":"process_cv_scoring_completed","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.error
    {"timestamp":"2025-12-03T13:31:01.869Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","template":"unknown","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at Object.error (server.js:3443:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8488:20)
      at generateEnhancedDocumentsResponse (server.js:20126:26)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:01.874Z","level":"info","message":"llm_call_metrics","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.874Z","level":"info","message":"llm_call_metrics","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.875Z","level":"info","message":"generation_section_rewrite_completed","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","generationRunId":"253a0357-94b9-41bb-82a9-53a367b6f413","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.875Z","level":"info","message":"llm_call_metrics","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.875Z","level":"info","message":"llm_call_metrics","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.error
    {"timestamp":"2025-12-03T13:31:01.878Z","level":"error","message":"ai_response_missing_json","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","generationRunId":"253a0357-94b9-41bb-82a9-53a367b6f413","template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at Object.error (server.js:3443:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20408:26)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:01.885Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","generationRunId":"253a0357-94b9-41bb-82a9-53a367b6f413","attempt":1,"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20413:11)
      at server.js:26684:28

  console.error
    {"timestamp":"2025-12-03T13:31:01.890Z","level":"error","message":"ai_response_missing_json","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","generationRunId":"253a0357-94b9-41bb-82a9-53a367b6f413","template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at Object.error (server.js:3443:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20408:26)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:01.895Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","generationRunId":"253a0357-94b9-41bb-82a9-53a367b6f413","attempt":2,"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20413:11)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:01.901Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","generationRunId":"253a0357-94b9-41bb-82a9-53a367b6f413","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:01.906Z","level":"info","message":"generation_cover_letters_completed","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","generationRunId":"253a0357-94b9-41bb-82a9-53a367b6f413","variants":2,"fallbackApplied":true,"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.906Z","level":"info","message":"pdf_generation_attempt","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","generationRunId":"253a0357-94b9-41bb-82a9-53a367b6f413","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/253a0357-94b9-41bb-82a9-53a367b6f413/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/253a0357-94b9-41bb-82a9-53a367b6f413/enhanced_modern.pdf","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.907Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","generationRunId":"253a0357-94b9-41bb-82a9-53a367b6f413","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/253a0357-94b9-41bb-82a9-53a367b6f413/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.907Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","generationRunId":"253a0357-94b9-41bb-82a9-53a367b6f413","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/253a0357-94b9-41bb-82a9-53a367b6f413/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/253a0357-94b9-41bb-82a9-53a367b6f413/enhanced_modern.pdf","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.908Z","level":"info","message":"pdf_generation_attempt","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","generationRunId":"253a0357-94b9-41bb-82a9-53a367b6f413","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/253a0357-94b9-41bb-82a9-53a367b6f413/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/253a0357-94b9-41bb-82a9-53a367b6f413/enhanced_professional.pdf","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.908Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","generationRunId":"253a0357-94b9-41bb-82a9-53a367b6f413","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/253a0357-94b9-41bb-82a9-53a367b6f413/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.909Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","generationRunId":"253a0357-94b9-41bb-82a9-53a367b6f413","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/253a0357-94b9-41bb-82a9-53a367b6f413/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/253a0357-94b9-41bb-82a9-53a367b6f413/enhanced_professional.pdf","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.909Z","level":"info","message":"pdf_generation_attempt","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","generationRunId":"253a0357-94b9-41bb-82a9-53a367b6f413","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/253a0357-94b9-41bb-82a9-53a367b6f413/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/253a0357-94b9-41bb-82a9-53a367b6f413/cover_letter_cover_modern.pdf","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.910Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","generationRunId":"253a0357-94b9-41bb-82a9-53a367b6f413","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/253a0357-94b9-41bb-82a9-53a367b6f413/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.910Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","generationRunId":"253a0357-94b9-41bb-82a9-53a367b6f413","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/253a0357-94b9-41bb-82a9-53a367b6f413/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/253a0357-94b9-41bb-82a9-53a367b6f413/cover_letter_cover_modern.pdf","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.911Z","level":"info","message":"pdf_generation_attempt","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","generationRunId":"253a0357-94b9-41bb-82a9-53a367b6f413","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/253a0357-94b9-41bb-82a9-53a367b6f413/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/253a0357-94b9-41bb-82a9-53a367b6f413/cover_letter_cover_professional.pdf","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.911Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","generationRunId":"253a0357-94b9-41bb-82a9-53a367b6f413","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/253a0357-94b9-41bb-82a9-53a367b6f413/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.911Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","generationRunId":"253a0357-94b9-41bb-82a9-53a367b6f413","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/253a0357-94b9-41bb-82a9-53a367b6f413/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/253a0357-94b9-41bb-82a9-53a367b6f413/cover_letter_cover_professional.pdf","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.913Z","level":"info","message":"llm_call_metrics","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.914Z","level":"info","message":"generation_completed","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","generationRunId":"253a0357-94b9-41bb-82a9-53a367b6f413","enhancedScore":80,"outputs":5,"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.915Z","level":"info","message":"placeholder_record_deleted","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","jobId":"0175ac96-669e-4926-a70b-55defc208502","placeholderIdentifier":"253a0357-94b9-41bb-82a9-53a367b6f413","template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0175ac96-669e-4926-a70b-55defc208502","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.917Z","level":"info","message":"http_request_completed","requestId":"253a0357-94b9-41bb-82a9-53a367b6f413","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":70,"contentLength":"58301","template":"unknown","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"253a0357-94b9-41bb-82a9-53a367b6f413","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.925Z","level":"info","message":"http_request_received","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","method":"POST","path":"/api/process-cv","template":"unknown","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.926Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.927Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.928Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.929Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.931Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)

  console.log
    {"timestamp":"2025-12-03T13:31:01.934Z","level":"info","message":"process_cv_started","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","manualJobDescriptionProvided":true,"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.935Z","level":"info","message":"template_selection","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:01.935Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:01.941Z","level":"info","message":"initial_upload_completed","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","bucket":"test-bucket","key":"cv/candidate/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/incoming/original.pdf","template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.942Z","level":"info","message":"resume_text_extracted","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","characters":57,"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.942Z","level":"info","message":"resume_classified","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.942Z","level":"info","message":"raw_upload_relocated","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","bucket":"test-bucket","fromKey":"cv/candidate/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/incoming/original.pdf","toKey":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/original.pdf","template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.943Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","bucket":"test-bucket","key":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/original.pdf","template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.943Z","level":"info","message":"dynamo_initial_record_written","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","bucket":"test-bucket","key":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/original.pdf","template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.943Z","level":"info","message":"upload_metadata_written","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","bucket":"test-bucket","key":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/logs/log.json","template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.943Z","level":"info","message":"job_description_supplied_manually","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","characters":174,"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.944Z","level":"info","message":"job_description_analyzed","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","jobTitle":"","jobSkills":5,"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.944Z","level":"info","message":"resume_skills_analyzed","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.945Z","level":"info","message":"llm_call_metrics","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.945Z","level":"info","message":"process_cv_scoring_completed","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.error
    {"timestamp":"2025-12-03T13:31:01.946Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","template":"unknown","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at Object.error (server.js:3443:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8488:20)
      at generateEnhancedDocumentsResponse (server.js:20126:26)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:01.952Z","level":"info","message":"llm_call_metrics","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.952Z","level":"info","message":"llm_call_metrics","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.953Z","level":"info","message":"generation_section_rewrite_completed","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","generationRunId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.953Z","level":"info","message":"llm_call_metrics","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.953Z","level":"info","message":"llm_call_metrics","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.error
    {"timestamp":"2025-12-03T13:31:01.956Z","level":"error","message":"ai_response_missing_json","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","generationRunId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at Object.error (server.js:3443:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20408:26)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:01.962Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","generationRunId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","attempt":1,"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20413:11)
      at server.js:26684:28

  console.error
    {"timestamp":"2025-12-03T13:31:01.967Z","level":"error","message":"ai_response_missing_json","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","generationRunId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at Object.error (server.js:3443:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20408:26)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:01.973Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","generationRunId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","attempt":2,"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20413:11)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:01.978Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","generationRunId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:01.983Z","level":"info","message":"generation_cover_letters_completed","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","generationRunId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","variants":2,"fallbackApplied":true,"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.984Z","level":"info","message":"pdf_generation_attempt","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","generationRunId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/enhanced_modern.pdf","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.984Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","generationRunId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.985Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","generationRunId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/enhanced_modern.pdf","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.985Z","level":"info","message":"pdf_generation_attempt","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","generationRunId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/enhanced_professional.pdf","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.986Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","generationRunId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.986Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","generationRunId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/enhanced_professional.pdf","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.987Z","level":"info","message":"pdf_generation_attempt","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","generationRunId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/cover_letter_cover_modern.pdf","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.987Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","generationRunId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.989Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","generationRunId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/cover_letter_cover_modern.pdf","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.990Z","level":"info","message":"pdf_generation_attempt","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","generationRunId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/cover_letter_cover_professional.pdf","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.990Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","generationRunId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:01.991Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","generationRunId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/cover_letter_cover_professional.pdf","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:01.992Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","generationRunId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","artifactType":"original_upload","storageKey":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/original.pdf","template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","metadata":{"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"original_upload"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:21814:9)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:01.999Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","generationRunId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","artifactType":"version1","storageKey":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/modern/version1.pdf","template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","metadata":{"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"version1"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:21814:9)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:02.004Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","generationRunId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","artifactType":"version2","storageKey":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/professional/version2.pdf","template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","metadata":{"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"version2"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:21814:9)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:02.009Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","generationRunId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","artifactType":"cover_letter1","storageKey":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/cover_modern/cover_letter1.pdf","template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","metadata":{"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"cover_letter1"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:21814:9)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:02.014Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","generationRunId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","artifactType":"cover_letter2","storageKey":"cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/cover_professional/cover_letter2.pdf","template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","metadata":{"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"cover_letter2"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:21814:9)
      at server.js:26684:28

  console.error
    {"timestamp":"2025-12-03T13:31:02.019Z","level":"error","message":"generation_urls_missing","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","generationRunId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","requestedUrlCount":0,"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:21915:7)
      at server.js:26684:28

  console.error
    {"timestamp":"2025-12-03T13:31:02.025Z","level":"error","message":"api_error_response","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","status":500,"error":{"code":"AI_RESPONSE_INVALID","message":"Unable to prepare download links for the generated documents.","details":{"logs":{"s3":{"bucket":"test-bucket","key":"logs/errors/2025-12-03/2025-12-03t13-31-02-024z-9a59b3a8-b27e-4a24-996e-5c2d97b336ba.json","status":"pending"}}},"requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b"},"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at sendError (server.js:3931:3)
      at generateEnhancedDocumentsResponse (server.js:21919:7)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:02.030Z","level":"warn","message":"generation_artifacts_cleaned_up","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","jobId":"fa94223c-6959-42fc-933e-ec5380bc0c2b","generationRunId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","reason":"no_valid_urls","deletedKeys":["cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/modern/version1.pdf","cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/professional/version2.pdf","cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/cover_modern/cover_letter1.pdf","cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/cover_professional/cover_letter2.pdf","cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/artifacts/original.json","cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/artifacts/version1.json","cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/artifacts/version2.json","cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/artifacts/cover-letter1.json","cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/artifacts/cover-letter2.json","cv/professional_summary/9a59b3a8-b27e-4a24-996e-5c2d97b336ba/artifacts/changelog.json"],"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fa94223c-6959-42fc-933e-ec5380bc0c2b","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:19842:9
      at generateEnhancedDocumentsResponse (server.js:22447:7)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.037Z","level":"info","message":"http_request_completed","requestId":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","method":"POST","path":"/api/process-cv","statusCode":500,"durationMs":112,"contentLength":"396","template":"unknown","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a59b3a8-b27e-4a24-996e-5c2d97b336ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.040Z","level":"info","message":"http_request_received","requestId":"1792533e-bd81-41c0-a9b2-3b87f6cf6624","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"1792533e-bd81-41c0-a9b2-3b87f6cf6624","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1792533e-bd81-41c0-a9b2-3b87f6cf6624","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.041Z","level":"info","message":"path_restoration_debug","reqPath":"/api/refresh-download-link","reqUrl":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.042Z","level":"info","message":"request_received","path":"/api/refresh-download-link","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.043Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.054Z","level":"info","message":"client_app_routes_entered","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.055Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.057Z","level":"info","message":"http_request_completed","requestId":"1792533e-bd81-41c0-a9b2-3b87f6cf6624","method":"POST","path":"/api/refresh-download-link","statusCode":200,"durationMs":17,"contentLength":"232","template":"unknown","session":"1792533e-bd81-41c0-a9b2-3b87f6cf6624","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1792533e-bd81-41c0-a9b2-3b87f6cf6624","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.059Z","level":"info","message":"http_request_received","requestId":"628b1522-3a86-4a62-a276-5283fdb5fe1a","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"628b1522-3a86-4a62-a276-5283fdb5fe1a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"628b1522-3a86-4a62-a276-5283fdb5fe1a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.060Z","level":"info","message":"path_restoration_debug","reqPath":"/api/refresh-download-link","reqUrl":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.061Z","level":"info","message":"request_received","path":"/api/refresh-download-link","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.062Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.063Z","level":"info","message":"client_app_routes_entered","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.064Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.065Z","level":"warn","message":"api_error_response","requestId":"628b1522-3a86-4a62-a276-5283fdb5fe1a","jobId":"job-123","status":404,"error":{"code":"DOWNLOAD_NOT_FOUND","message":"The requested download link is no longer available.","details":{},"requestId":"628b1522-3a86-4a62-a276-5283fdb5fe1a","jobId":"job-123"},"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at sendError (server.js:3931:3)
      at server.js:24552:12

  console.log
    {"timestamp":"2025-12-03T13:31:02.070Z","level":"info","message":"http_request_completed","requestId":"628b1522-3a86-4a62-a276-5283fdb5fe1a","method":"POST","path":"/api/refresh-download-link","statusCode":404,"durationMs":11,"contentLength":"201","template":"unknown","session":"628b1522-3a86-4a62-a276-5283fdb5fe1a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"628b1522-3a86-4a62-a276-5283fdb5fe1a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.073Z","level":"info","message":"http_request_received","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","method":"POST","path":"/api/process-cv","template":"unknown","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.074Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.075Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.076Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.077Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.079Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/2472d654-5231-4bd1-add7-5f5ca52643d0/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/2472d654-5231-4bd1-add7-5f5ca52643d0/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/2472d654-5231-4bd1-add7-5f5ca52643d0/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.083Z","level":"info","message":"process_cv_started","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","manualJobDescriptionProvided":true,"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.084Z","level":"info","message":"template_selection","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.084Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:02.090Z","level":"info","message":"initial_upload_completed","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","bucket":"test-bucket","key":"cv/candidate/2472d654-5231-4bd1-add7-5f5ca52643d0/incoming/original.pdf","template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.091Z","level":"info","message":"resume_text_extracted","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","characters":57,"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.091Z","level":"info","message":"resume_classified","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.091Z","level":"info","message":"raw_upload_relocated","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","bucket":"test-bucket","fromKey":"cv/candidate/2472d654-5231-4bd1-add7-5f5ca52643d0/incoming/original.pdf","toKey":"cv/professional_summary/2472d654-5231-4bd1-add7-5f5ca52643d0/original.pdf","template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.091Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","bucket":"test-bucket","key":"cv/professional_summary/2472d654-5231-4bd1-add7-5f5ca52643d0/original.pdf","template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.092Z","level":"info","message":"dynamo_initial_record_written","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","bucket":"test-bucket","key":"cv/professional_summary/2472d654-5231-4bd1-add7-5f5ca52643d0/original.pdf","template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.092Z","level":"info","message":"upload_metadata_written","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","bucket":"test-bucket","key":"cv/professional_summary/2472d654-5231-4bd1-add7-5f5ca52643d0/logs/log.json","template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.092Z","level":"info","message":"job_description_supplied_manually","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","characters":174,"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.093Z","level":"info","message":"job_description_analyzed","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","jobTitle":"","jobSkills":5,"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.093Z","level":"info","message":"resume_skills_analyzed","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.093Z","level":"info","message":"llm_call_metrics","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.094Z","level":"info","message":"process_cv_scoring_completed","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-03T13:31:02.096Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","template":"unknown","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at Object.error (server.js:3443:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8488:20)
          at runMicrotasks (<anonymous>)
      at generateEnhancedDocumentsResponse (server.js:20126:26)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.101Z","level":"info","message":"llm_call_metrics","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.102Z","level":"info","message":"llm_call_metrics","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.102Z","level":"info","message":"generation_section_rewrite_completed","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","generationRunId":"2472d654-5231-4bd1-add7-5f5ca52643d0","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.102Z","level":"info","message":"llm_call_metrics","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.103Z","level":"info","message":"llm_call_metrics","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-03T13:31:02.106Z","level":"error","message":"ai_response_missing_json","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","generationRunId":"2472d654-5231-4bd1-add7-5f5ca52643d0","template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at Object.error (server.js:3443:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20408:26)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:02.111Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","generationRunId":"2472d654-5231-4bd1-add7-5f5ca52643d0","attempt":1,"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20413:11)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.error
    {"timestamp":"2025-12-03T13:31:02.116Z","level":"error","message":"ai_response_missing_json","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","generationRunId":"2472d654-5231-4bd1-add7-5f5ca52643d0","template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at Object.error (server.js:3443:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20408:26)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:02.123Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","generationRunId":"2472d654-5231-4bd1-add7-5f5ca52643d0","attempt":2,"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20413:11)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:02.128Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","generationRunId":"2472d654-5231-4bd1-add7-5f5ca52643d0","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.135Z","level":"info","message":"generation_cover_letters_completed","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","generationRunId":"2472d654-5231-4bd1-add7-5f5ca52643d0","variants":2,"fallbackApplied":true,"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.135Z","level":"info","message":"pdf_generation_attempt","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","generationRunId":"2472d654-5231-4bd1-add7-5f5ca52643d0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2472d654-5231-4bd1-add7-5f5ca52643d0/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/2472d654-5231-4bd1-add7-5f5ca52643d0/enhanced_modern.pdf","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.136Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","generationRunId":"2472d654-5231-4bd1-add7-5f5ca52643d0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2472d654-5231-4bd1-add7-5f5ca52643d0/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.136Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","generationRunId":"2472d654-5231-4bd1-add7-5f5ca52643d0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2472d654-5231-4bd1-add7-5f5ca52643d0/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/2472d654-5231-4bd1-add7-5f5ca52643d0/enhanced_modern.pdf","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.137Z","level":"info","message":"pdf_generation_attempt","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","generationRunId":"2472d654-5231-4bd1-add7-5f5ca52643d0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2472d654-5231-4bd1-add7-5f5ca52643d0/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/2472d654-5231-4bd1-add7-5f5ca52643d0/enhanced_professional.pdf","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.137Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","generationRunId":"2472d654-5231-4bd1-add7-5f5ca52643d0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2472d654-5231-4bd1-add7-5f5ca52643d0/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.137Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","generationRunId":"2472d654-5231-4bd1-add7-5f5ca52643d0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2472d654-5231-4bd1-add7-5f5ca52643d0/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/2472d654-5231-4bd1-add7-5f5ca52643d0/enhanced_professional.pdf","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.138Z","level":"info","message":"pdf_generation_attempt","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","generationRunId":"2472d654-5231-4bd1-add7-5f5ca52643d0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2472d654-5231-4bd1-add7-5f5ca52643d0/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/2472d654-5231-4bd1-add7-5f5ca52643d0/cover_letter_cover_modern.pdf","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.138Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","generationRunId":"2472d654-5231-4bd1-add7-5f5ca52643d0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2472d654-5231-4bd1-add7-5f5ca52643d0/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.139Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","generationRunId":"2472d654-5231-4bd1-add7-5f5ca52643d0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2472d654-5231-4bd1-add7-5f5ca52643d0/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/2472d654-5231-4bd1-add7-5f5ca52643d0/cover_letter_cover_modern.pdf","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.139Z","level":"info","message":"pdf_generation_attempt","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","generationRunId":"2472d654-5231-4bd1-add7-5f5ca52643d0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2472d654-5231-4bd1-add7-5f5ca52643d0/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/2472d654-5231-4bd1-add7-5f5ca52643d0/cover_letter_cover_professional.pdf","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.140Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","generationRunId":"2472d654-5231-4bd1-add7-5f5ca52643d0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2472d654-5231-4bd1-add7-5f5ca52643d0/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.140Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","generationRunId":"2472d654-5231-4bd1-add7-5f5ca52643d0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2472d654-5231-4bd1-add7-5f5ca52643d0/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/2472d654-5231-4bd1-add7-5f5ca52643d0/cover_letter_cover_professional.pdf","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.142Z","level":"info","message":"llm_call_metrics","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.142Z","level":"info","message":"generation_completed","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","generationRunId":"2472d654-5231-4bd1-add7-5f5ca52643d0","enhancedScore":80,"outputs":5,"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.143Z","level":"info","message":"placeholder_record_deleted","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","jobId":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","placeholderIdentifier":"2472d654-5231-4bd1-add7-5f5ca52643d0","template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4efd9493-20f9-48bf-a545-3af7bd9c31c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.144Z","level":"info","message":"http_request_completed","requestId":"2472d654-5231-4bd1-add7-5f5ca52643d0","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":71,"contentLength":"58301","template":"unknown","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2472d654-5231-4bd1-add7-5f5ca52643d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.147Z","level":"info","message":"http_request_received","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","method":"POST","path":"/api/process-cv","template":"unknown","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.148Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.149Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.150Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.152Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.153Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/7e3c031c-9f8b-424b-ae23-995b10cfe419/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/7e3c031c-9f8b-424b-ae23-995b10cfe419/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/7e3c031c-9f8b-424b-ae23-995b10cfe419/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.157Z","level":"info","message":"process_cv_started","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","manualJobDescriptionProvided":true,"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.157Z","level":"info","message":"template_selection","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.158Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:02.163Z","level":"info","message":"initial_upload_completed","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","bucket":"test-bucket","key":"cv/candidate/7e3c031c-9f8b-424b-ae23-995b10cfe419/incoming/original.pdf","template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.163Z","level":"info","message":"resume_text_extracted","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","characters":57,"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.164Z","level":"info","message":"resume_classified","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.164Z","level":"info","message":"raw_upload_relocated","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","bucket":"test-bucket","fromKey":"cv/candidate/7e3c031c-9f8b-424b-ae23-995b10cfe419/incoming/original.pdf","toKey":"cv/professional_summary/7e3c031c-9f8b-424b-ae23-995b10cfe419/original.pdf","template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.164Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","bucket":"test-bucket","key":"cv/professional_summary/7e3c031c-9f8b-424b-ae23-995b10cfe419/original.pdf","template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.165Z","level":"info","message":"dynamo_initial_record_written","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","bucket":"test-bucket","key":"cv/professional_summary/7e3c031c-9f8b-424b-ae23-995b10cfe419/original.pdf","template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.165Z","level":"info","message":"upload_metadata_written","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","bucket":"test-bucket","key":"cv/professional_summary/7e3c031c-9f8b-424b-ae23-995b10cfe419/logs/log.json","template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.165Z","level":"info","message":"job_description_supplied_manually","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","characters":174,"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.165Z","level":"info","message":"job_description_analyzed","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","jobTitle":"","jobSkills":5,"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.166Z","level":"info","message":"resume_skills_analyzed","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.166Z","level":"info","message":"llm_call_metrics","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.167Z","level":"info","message":"process_cv_scoring_completed","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.169Z","level":"info","message":"llm_call_metrics","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.169Z","level":"info","message":"generation_section_rewrite_completed","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","generationRunId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.169Z","level":"info","message":"llm_call_metrics","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.174Z","level":"info","message":"generation_resume_verified","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","generationRunId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.176Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","generationRunId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:02.182Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","generationRunId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.187Z","level":"info","message":"generation_cover_letters_completed","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","generationRunId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","variants":2,"fallbackApplied":true,"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.188Z","level":"info","message":"pdf_generation_attempt","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","generationRunId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7e3c031c-9f8b-424b-ae23-995b10cfe419/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7e3c031c-9f8b-424b-ae23-995b10cfe419/enhanced_modern.pdf","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.188Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","generationRunId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7e3c031c-9f8b-424b-ae23-995b10cfe419/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.189Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","generationRunId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7e3c031c-9f8b-424b-ae23-995b10cfe419/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7e3c031c-9f8b-424b-ae23-995b10cfe419/enhanced_modern.pdf","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.189Z","level":"info","message":"pdf_generation_attempt","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","generationRunId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7e3c031c-9f8b-424b-ae23-995b10cfe419/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7e3c031c-9f8b-424b-ae23-995b10cfe419/enhanced_professional.pdf","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.190Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","generationRunId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7e3c031c-9f8b-424b-ae23-995b10cfe419/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.190Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","generationRunId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7e3c031c-9f8b-424b-ae23-995b10cfe419/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7e3c031c-9f8b-424b-ae23-995b10cfe419/enhanced_professional.pdf","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.190Z","level":"info","message":"pdf_generation_attempt","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","generationRunId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7e3c031c-9f8b-424b-ae23-995b10cfe419/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7e3c031c-9f8b-424b-ae23-995b10cfe419/cover_letter_cover_modern.pdf","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.191Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","generationRunId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7e3c031c-9f8b-424b-ae23-995b10cfe419/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.191Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","generationRunId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7e3c031c-9f8b-424b-ae23-995b10cfe419/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7e3c031c-9f8b-424b-ae23-995b10cfe419/cover_letter_cover_modern.pdf","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.192Z","level":"info","message":"pdf_generation_attempt","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","generationRunId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7e3c031c-9f8b-424b-ae23-995b10cfe419/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7e3c031c-9f8b-424b-ae23-995b10cfe419/cover_letter_cover_professional.pdf","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.192Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","generationRunId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7e3c031c-9f8b-424b-ae23-995b10cfe419/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.193Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","generationRunId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7e3c031c-9f8b-424b-ae23-995b10cfe419/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7e3c031c-9f8b-424b-ae23-995b10cfe419/cover_letter_cover_professional.pdf","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.195Z","level":"info","message":"llm_call_metrics","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.195Z","level":"info","message":"generation_completed","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","generationRunId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","enhancedScore":80,"outputs":5,"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.196Z","level":"info","message":"placeholder_record_deleted","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","jobId":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","placeholderIdentifier":"7e3c031c-9f8b-424b-ae23-995b10cfe419","template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ef965b5-6a26-4440-a5a5-4ed4ce928d62","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.197Z","level":"info","message":"http_request_completed","requestId":"7e3c031c-9f8b-424b-ae23-995b10cfe419","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":50,"contentLength":"58133","template":"unknown","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e3c031c-9f8b-424b-ae23-995b10cfe419","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.201Z","level":"info","message":"http_request_received","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","method":"POST","path":"/api/process-cv","template":"unknown","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.202Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.203Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.204Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.206Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.207Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/5d50d104-8c2e-4d67-99fe-26a064e54fb7/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/5d50d104-8c2e-4d67-99fe-26a064e54fb7/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/5d50d104-8c2e-4d67-99fe-26a064e54fb7/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.211Z","level":"info","message":"process_cv_started","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","manualJobDescriptionProvided":true,"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.211Z","level":"info","message":"template_selection","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","template1":"classic","template2":"ats","coverTemplate1":"cover_classic","coverTemplate2":"cover_ats","availableCvTemplates":["classic","ats","modern","professional","2025"],"availableCoverTemplates":["cover_classic","cover_ats","cover_modern","cover_professional","cover_2025"],"template":"classic","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.212Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:02.217Z","level":"info","message":"initial_upload_completed","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","bucket":"test-bucket","key":"cv/candidate/5d50d104-8c2e-4d67-99fe-26a064e54fb7/incoming/original.pdf","template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.217Z","level":"info","message":"resume_text_extracted","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","characters":57,"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.218Z","level":"info","message":"resume_classified","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.218Z","level":"info","message":"raw_upload_relocated","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","bucket":"test-bucket","fromKey":"cv/candidate/5d50d104-8c2e-4d67-99fe-26a064e54fb7/incoming/original.pdf","toKey":"cv/professional_summary/5d50d104-8c2e-4d67-99fe-26a064e54fb7/original.pdf","template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.218Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","bucket":"test-bucket","key":"cv/professional_summary/5d50d104-8c2e-4d67-99fe-26a064e54fb7/original.pdf","template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.220Z","level":"info","message":"dynamo_initial_record_written","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","bucket":"test-bucket","key":"cv/professional_summary/5d50d104-8c2e-4d67-99fe-26a064e54fb7/original.pdf","template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.221Z","level":"info","message":"upload_metadata_written","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","bucket":"test-bucket","key":"cv/professional_summary/5d50d104-8c2e-4d67-99fe-26a064e54fb7/logs/log.json","template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.221Z","level":"info","message":"job_description_supplied_manually","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","characters":174,"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.222Z","level":"info","message":"job_description_analyzed","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","jobTitle":"","jobSkills":5,"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.222Z","level":"info","message":"resume_skills_analyzed","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.223Z","level":"info","message":"llm_call_metrics","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.223Z","level":"info","message":"process_cv_scoring_completed","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.225Z","level":"info","message":"llm_call_metrics","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.226Z","level":"info","message":"generation_section_rewrite_completed","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","generationRunId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.226Z","level":"info","message":"llm_call_metrics","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.228Z","level":"info","message":"generation_resume_verified","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","generationRunId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.231Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","generationRunId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:02.236Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","generationRunId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.243Z","level":"info","message":"generation_cover_letters_completed","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","generationRunId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","variants":2,"fallbackApplied":true,"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.243Z","level":"info","message":"pdf_generation_attempt","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","generationRunId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5d50d104-8c2e-4d67-99fe-26a064e54fb7/","sessionId":"[REDACTED]","template":"classic","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/5d50d104-8c2e-4d67-99fe-26a064e54fb7/enhanced_classic.pdf","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.244Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","generationRunId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5d50d104-8c2e-4d67-99fe-26a064e54fb7/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.244Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","generationRunId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5d50d104-8c2e-4d67-99fe-26a064e54fb7/","sessionId":"[REDACTED]","template":"classic","attempt":1,"bytes":3,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/5d50d104-8c2e-4d67-99fe-26a064e54fb7/enhanced_classic.pdf","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.245Z","level":"info","message":"pdf_generation_attempt","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","generationRunId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5d50d104-8c2e-4d67-99fe-26a064e54fb7/","sessionId":"[REDACTED]","template":"ats","attempt":1,"totalAttempts":1,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/5d50d104-8c2e-4d67-99fe-26a064e54fb7/enhanced_ats.pdf","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.245Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","generationRunId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5d50d104-8c2e-4d67-99fe-26a064e54fb7/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":["mode","atsMode"],"session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.246Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","generationRunId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5d50d104-8c2e-4d67-99fe-26a064e54fb7/","sessionId":"[REDACTED]","template":"ats","attempt":1,"bytes":3,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/5d50d104-8c2e-4d67-99fe-26a064e54fb7/enhanced_ats.pdf","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.246Z","level":"info","message":"pdf_generation_attempt","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","generationRunId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5d50d104-8c2e-4d67-99fe-26a064e54fb7/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/5d50d104-8c2e-4d67-99fe-26a064e54fb7/cover_letter_cover_classic.pdf","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.247Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","generationRunId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5d50d104-8c2e-4d67-99fe-26a064e54fb7/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.247Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","generationRunId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5d50d104-8c2e-4d67-99fe-26a064e54fb7/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/5d50d104-8c2e-4d67-99fe-26a064e54fb7/cover_letter_cover_classic.pdf","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.248Z","level":"info","message":"pdf_generation_attempt","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","generationRunId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5d50d104-8c2e-4d67-99fe-26a064e54fb7/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/5d50d104-8c2e-4d67-99fe-26a064e54fb7/cover_letter_cover_ats.pdf","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.248Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","generationRunId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5d50d104-8c2e-4d67-99fe-26a064e54fb7/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.248Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","generationRunId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5d50d104-8c2e-4d67-99fe-26a064e54fb7/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/5d50d104-8c2e-4d67-99fe-26a064e54fb7/cover_letter_cover_ats.pdf","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.251Z","level":"info","message":"llm_call_metrics","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.251Z","level":"info","message":"generation_completed","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","generationRunId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","enhancedScore":80,"outputs":5,"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.252Z","level":"info","message":"placeholder_record_deleted","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","jobId":"d7220440-d556-4abd-ab3c-df9b318b1b6a","placeholderIdentifier":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d7220440-d556-4abd-ab3c-df9b318b1b6a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.253Z","level":"info","message":"http_request_completed","requestId":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":52,"contentLength":"57992","template":"unknown","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d50d104-8c2e-4d67-99fe-26a064e54fb7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.256Z","level":"info","message":"http_request_received","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","method":"POST","path":"/api/process-cv","template":"unknown","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.256Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.258Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.259Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.260Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.262Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.265Z","level":"info","message":"process_cv_started","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","manualJobDescriptionProvided":true,"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.266Z","level":"info","message":"template_selection","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.266Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:02.272Z","level":"info","message":"initial_upload_completed","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","bucket":"test-bucket","key":"cv/candidate/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/incoming/original.pdf","template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.272Z","level":"info","message":"resume_text_extracted","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","characters":57,"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.272Z","level":"info","message":"resume_classified","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.273Z","level":"info","message":"raw_upload_relocated","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","bucket":"test-bucket","fromKey":"cv/candidate/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/incoming/original.pdf","toKey":"cv/professional_summary/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/original.pdf","template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.273Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","bucket":"test-bucket","key":"cv/professional_summary/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/original.pdf","template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.273Z","level":"info","message":"dynamo_initial_record_written","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","bucket":"test-bucket","key":"cv/professional_summary/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/original.pdf","template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.274Z","level":"info","message":"upload_metadata_written","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","bucket":"test-bucket","key":"cv/professional_summary/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/logs/log.json","template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.274Z","level":"info","message":"job_description_supplied_manually","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","characters":174,"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.274Z","level":"info","message":"job_description_analyzed","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","jobTitle":"","jobSkills":5,"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.277Z","level":"info","message":"resume_skills_analyzed","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.277Z","level":"info","message":"llm_call_metrics","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.278Z","level":"info","message":"process_cv_scoring_completed","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.282Z","level":"info","message":"llm_call_metrics","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"02d97c4de2dc6045a8d84c10e35b0b09be1fff3da32b47fa5d4c293317deef58","addedSkillCount":0,"template":"resume_rewrite","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.282Z","level":"info","message":"generation_section_rewrite_completed","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","generationRunId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.283Z","level":"info","message":"llm_call_metrics","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"3cb5bda2be537250e5bef0d91034f772d9c2c805c99b7e04ba145ecb904d5893","skillCount":5,"template":"project_summary","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.285Z","level":"info","message":"generation_resume_verified","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","generationRunId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.288Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","generationRunId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:02.294Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","generationRunId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.299Z","level":"info","message":"generation_cover_letters_completed","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","generationRunId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","variants":2,"fallbackApplied":true,"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.300Z","level":"info","message":"pdf_generation_attempt","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","generationRunId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/enhanced_modern.pdf","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.301Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","generationRunId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.301Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","generationRunId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/enhanced_modern.pdf","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.302Z","level":"info","message":"pdf_generation_attempt","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","generationRunId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/enhanced_professional.pdf","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.302Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","generationRunId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.303Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","generationRunId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/enhanced_professional.pdf","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.303Z","level":"info","message":"pdf_generation_attempt","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","generationRunId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/cover_letter_cover_modern.pdf","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.303Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","generationRunId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.304Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","generationRunId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/cover_letter_cover_modern.pdf","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.304Z","level":"info","message":"pdf_generation_attempt","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","generationRunId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/cover_letter_cover_professional.pdf","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.305Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","generationRunId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.305Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","generationRunId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/813b2e6a-3bc0-4a97-bc22-08fa748a4e45/cover_letter_cover_professional.pdf","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.307Z","level":"info","message":"llm_call_metrics","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.308Z","level":"info","message":"generation_completed","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","generationRunId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","enhancedScore":80,"outputs":5,"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.309Z","level":"info","message":"placeholder_record_deleted","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","jobId":"c60d942f-4199-46f4-9b11-09ca1e0004aa","placeholderIdentifier":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c60d942f-4199-46f4-9b11-09ca1e0004aa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.310Z","level":"info","message":"http_request_completed","requestId":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":54,"contentLength":"59354","template":"unknown","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"813b2e6a-3bc0-4a97-bc22-08fa748a4e45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.314Z","level":"info","message":"http_request_received","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","method":"POST","path":"/api/process-cv","template":"unknown","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.315Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.316Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.317Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.319Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.320Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.324Z","level":"info","message":"process_cv_started","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","manualJobDescriptionProvided":true,"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.324Z","level":"info","message":"template_selection","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.325Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:02.330Z","level":"info","message":"initial_upload_completed","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","bucket":"test-bucket","key":"cv/candidate/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/incoming/original.pdf","template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.331Z","level":"info","message":"resume_text_extracted","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","characters":57,"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.331Z","level":"info","message":"resume_classified","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.331Z","level":"info","message":"raw_upload_relocated","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","bucket":"test-bucket","fromKey":"cv/candidate/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/incoming/original.pdf","toKey":"cv/professional_summary/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/original.pdf","template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.332Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","bucket":"test-bucket","key":"cv/professional_summary/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/original.pdf","template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.332Z","level":"info","message":"dynamo_initial_record_written","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","bucket":"test-bucket","key":"cv/professional_summary/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/original.pdf","template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.332Z","level":"info","message":"upload_metadata_written","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","bucket":"test-bucket","key":"cv/professional_summary/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/logs/log.json","template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.332Z","level":"info","message":"job_description_supplied_manually","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","characters":174,"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.333Z","level":"info","message":"job_description_analyzed","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","jobTitle":"","jobSkills":5,"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.333Z","level":"info","message":"resume_skills_analyzed","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.334Z","level":"info","message":"llm_call_metrics","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.334Z","level":"info","message":"process_cv_scoring_completed","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.337Z","level":"info","message":"llm_call_metrics","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.337Z","level":"info","message":"generation_section_rewrite_completed","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","generationRunId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.337Z","level":"info","message":"llm_call_metrics","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"9f21e6c3bcbaef44e0e62da79c13bb8790b57affdb114dc9f59fc273f882540c","skillCount":5,"template":"project_summary","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.339Z","level":"info","message":"generation_resume_verified","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","generationRunId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.342Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","generationRunId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:02.348Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","generationRunId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.354Z","level":"info","message":"generation_cover_letters_completed","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","generationRunId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","variants":2,"fallbackApplied":true,"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.354Z","level":"info","message":"pdf_generation_attempt","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","generationRunId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/enhanced_modern.pdf","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.355Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","generationRunId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.355Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","generationRunId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/enhanced_modern.pdf","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.356Z","level":"info","message":"pdf_generation_attempt","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","generationRunId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/enhanced_professional.pdf","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.356Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","generationRunId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.356Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","generationRunId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/enhanced_professional.pdf","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.357Z","level":"info","message":"pdf_generation_attempt","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","generationRunId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/cover_letter_cover_modern.pdf","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.357Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","generationRunId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.358Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","generationRunId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/cover_letter_cover_modern.pdf","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.358Z","level":"info","message":"pdf_generation_attempt","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","generationRunId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/cover_letter_cover_professional.pdf","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.359Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","generationRunId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.359Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","generationRunId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/d5d8a23c-359d-4cda-be4b-2ea44ffc3564/cover_letter_cover_professional.pdf","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.361Z","level":"info","message":"llm_call_metrics","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.362Z","level":"info","message":"generation_completed","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","generationRunId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","enhancedScore":80,"outputs":5,"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.363Z","level":"info","message":"placeholder_record_deleted","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","jobId":"2ed97d03-ca49-440d-8985-1c9337d666da","placeholderIdentifier":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed97d03-ca49-440d-8985-1c9337d666da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.364Z","level":"info","message":"http_request_completed","requestId":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":50,"contentLength":"57968","template":"unknown","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d5d8a23c-359d-4cda-be4b-2ea44ffc3564","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.366Z","level":"info","message":"http_request_received","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","method":"POST","path":"/api/process-cv","template":"unknown","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.367Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.368Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.369Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.370Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.372Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/ef27f17b-7384-485e-8c1e-25222a4b3392/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/ef27f17b-7384-485e-8c1e-25222a4b3392/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/ef27f17b-7384-485e-8c1e-25222a4b3392/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.375Z","level":"info","message":"process_cv_started","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","manualJobDescriptionProvided":true,"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.375Z","level":"info","message":"template_selection","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.376Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:02.381Z","level":"info","message":"initial_upload_completed","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","bucket":"test-bucket","key":"cv/candidate/ef27f17b-7384-485e-8c1e-25222a4b3392/incoming/original.pdf","template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.381Z","level":"info","message":"resume_text_extracted","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","characters":57,"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.382Z","level":"info","message":"resume_classified","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.382Z","level":"info","message":"raw_upload_relocated","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","bucket":"test-bucket","fromKey":"cv/candidate/ef27f17b-7384-485e-8c1e-25222a4b3392/incoming/original.pdf","toKey":"cv/professional_summary/ef27f17b-7384-485e-8c1e-25222a4b3392/original.pdf","template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.382Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","bucket":"test-bucket","key":"cv/professional_summary/ef27f17b-7384-485e-8c1e-25222a4b3392/original.pdf","template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.383Z","level":"info","message":"dynamo_initial_record_written","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","bucket":"test-bucket","key":"cv/professional_summary/ef27f17b-7384-485e-8c1e-25222a4b3392/original.pdf","template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.383Z","level":"info","message":"upload_metadata_written","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","bucket":"test-bucket","key":"cv/professional_summary/ef27f17b-7384-485e-8c1e-25222a4b3392/logs/log.json","template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.383Z","level":"info","message":"job_description_supplied_manually","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","characters":174,"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.384Z","level":"info","message":"job_description_analyzed","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","jobTitle":"","jobSkills":5,"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.384Z","level":"info","message":"resume_skills_analyzed","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.385Z","level":"info","message":"llm_call_metrics","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.385Z","level":"info","message":"process_cv_scoring_completed","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.387Z","level":"info","message":"llm_call_metrics","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.388Z","level":"info","message":"generation_section_rewrite_completed","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","generationRunId":"ef27f17b-7384-485e-8c1e-25222a4b3392","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.388Z","level":"info","message":"llm_call_metrics","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"78ddb280a2cb83c23c85b1035eed8b3d5fbcd26529ae4529d14b4e3768cf61d3","skillCount":5,"template":"project_summary","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.391Z","level":"info","message":"generation_resume_verified","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","generationRunId":"ef27f17b-7384-485e-8c1e-25222a4b3392","template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.394Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","generationRunId":"ef27f17b-7384-485e-8c1e-25222a4b3392","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:02.399Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","generationRunId":"ef27f17b-7384-485e-8c1e-25222a4b3392","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.404Z","level":"info","message":"generation_cover_letters_completed","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","generationRunId":"ef27f17b-7384-485e-8c1e-25222a4b3392","variants":2,"fallbackApplied":true,"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.405Z","level":"info","message":"pdf_generation_attempt","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","generationRunId":"ef27f17b-7384-485e-8c1e-25222a4b3392","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ef27f17b-7384-485e-8c1e-25222a4b3392/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/ef27f17b-7384-485e-8c1e-25222a4b3392/enhanced_modern.pdf","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.405Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","generationRunId":"ef27f17b-7384-485e-8c1e-25222a4b3392","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ef27f17b-7384-485e-8c1e-25222a4b3392/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.406Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","generationRunId":"ef27f17b-7384-485e-8c1e-25222a4b3392","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ef27f17b-7384-485e-8c1e-25222a4b3392/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/ef27f17b-7384-485e-8c1e-25222a4b3392/enhanced_modern.pdf","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.406Z","level":"info","message":"pdf_generation_attempt","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","generationRunId":"ef27f17b-7384-485e-8c1e-25222a4b3392","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ef27f17b-7384-485e-8c1e-25222a4b3392/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/ef27f17b-7384-485e-8c1e-25222a4b3392/enhanced_professional.pdf","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.407Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","generationRunId":"ef27f17b-7384-485e-8c1e-25222a4b3392","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ef27f17b-7384-485e-8c1e-25222a4b3392/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.407Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","generationRunId":"ef27f17b-7384-485e-8c1e-25222a4b3392","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ef27f17b-7384-485e-8c1e-25222a4b3392/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/ef27f17b-7384-485e-8c1e-25222a4b3392/enhanced_professional.pdf","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.408Z","level":"info","message":"pdf_generation_attempt","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","generationRunId":"ef27f17b-7384-485e-8c1e-25222a4b3392","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ef27f17b-7384-485e-8c1e-25222a4b3392/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/ef27f17b-7384-485e-8c1e-25222a4b3392/cover_letter_cover_modern.pdf","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.408Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","generationRunId":"ef27f17b-7384-485e-8c1e-25222a4b3392","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ef27f17b-7384-485e-8c1e-25222a4b3392/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.408Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","generationRunId":"ef27f17b-7384-485e-8c1e-25222a4b3392","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ef27f17b-7384-485e-8c1e-25222a4b3392/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/ef27f17b-7384-485e-8c1e-25222a4b3392/cover_letter_cover_modern.pdf","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.409Z","level":"info","message":"pdf_generation_attempt","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","generationRunId":"ef27f17b-7384-485e-8c1e-25222a4b3392","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ef27f17b-7384-485e-8c1e-25222a4b3392/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/ef27f17b-7384-485e-8c1e-25222a4b3392/cover_letter_cover_professional.pdf","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.409Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","generationRunId":"ef27f17b-7384-485e-8c1e-25222a4b3392","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ef27f17b-7384-485e-8c1e-25222a4b3392/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.410Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","generationRunId":"ef27f17b-7384-485e-8c1e-25222a4b3392","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ef27f17b-7384-485e-8c1e-25222a4b3392/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/ef27f17b-7384-485e-8c1e-25222a4b3392/cover_letter_cover_professional.pdf","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.412Z","level":"info","message":"llm_call_metrics","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.412Z","level":"info","message":"generation_completed","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","generationRunId":"ef27f17b-7384-485e-8c1e-25222a4b3392","enhancedScore":80,"outputs":5,"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.414Z","level":"info","message":"placeholder_record_deleted","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","jobId":"3b8c898f-041a-42f0-b85b-6acb181febec","placeholderIdentifier":"ef27f17b-7384-485e-8c1e-25222a4b3392","template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b8c898f-041a-42f0-b85b-6acb181febec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.415Z","level":"info","message":"http_request_completed","requestId":"ef27f17b-7384-485e-8c1e-25222a4b3392","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":49,"contentLength":"59302","template":"unknown","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ef27f17b-7384-485e-8c1e-25222a4b3392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.417Z","level":"info","message":"http_request_received","requestId":"87665068-2341-4d0b-991d-4367b90a654b","method":"POST","path":"/api/process-cv","template":"unknown","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.418Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.419Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.420Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.421Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.423Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/87665068-2341-4d0b-991d-4367b90a654b/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/87665068-2341-4d0b-991d-4367b90a654b/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/87665068-2341-4d0b-991d-4367b90a654b/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.426Z","level":"info","message":"process_cv_started","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","manualJobDescriptionProvided":true,"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.427Z","level":"info","message":"template_selection","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.427Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:02.433Z","level":"info","message":"initial_upload_completed","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","bucket":"test-bucket","key":"cv/candidate/87665068-2341-4d0b-991d-4367b90a654b/incoming/original.pdf","template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.434Z","level":"info","message":"resume_text_extracted","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","characters":57,"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.434Z","level":"info","message":"resume_classified","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.435Z","level":"info","message":"raw_upload_relocated","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","bucket":"test-bucket","fromKey":"cv/candidate/87665068-2341-4d0b-991d-4367b90a654b/incoming/original.pdf","toKey":"cv/professional_summary/87665068-2341-4d0b-991d-4367b90a654b/original.pdf","template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.435Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","bucket":"test-bucket","key":"cv/professional_summary/87665068-2341-4d0b-991d-4367b90a654b/original.pdf","template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.435Z","level":"info","message":"dynamo_initial_record_written","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","bucket":"test-bucket","key":"cv/professional_summary/87665068-2341-4d0b-991d-4367b90a654b/original.pdf","template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.436Z","level":"info","message":"upload_metadata_written","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","bucket":"test-bucket","key":"cv/professional_summary/87665068-2341-4d0b-991d-4367b90a654b/logs/log.json","template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.436Z","level":"info","message":"job_description_supplied_manually","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","characters":174,"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.436Z","level":"info","message":"job_description_analyzed","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","jobTitle":"","jobSkills":5,"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.437Z","level":"info","message":"resume_skills_analyzed","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.437Z","level":"info","message":"llm_call_metrics","requestId":"87665068-2341-4d0b-991d-4367b90a654b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.438Z","level":"info","message":"process_cv_scoring_completed","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.440Z","level":"info","message":"llm_call_metrics","requestId":"87665068-2341-4d0b-991d-4367b90a654b","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.440Z","level":"info","message":"generation_section_rewrite_completed","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","generationRunId":"87665068-2341-4d0b-991d-4367b90a654b","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.441Z","level":"info","message":"llm_call_metrics","requestId":"87665068-2341-4d0b-991d-4367b90a654b","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"968eb1ed4b9ef5f26cd87ba7e60f108acaf8c335efc2ef153d4aaa0b022ea8c8","skillCount":5,"template":"project_summary","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.443Z","level":"info","message":"generation_resume_verified","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","generationRunId":"87665068-2341-4d0b-991d-4367b90a654b","template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.447Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","generationRunId":"87665068-2341-4d0b-991d-4367b90a654b","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:02.453Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","generationRunId":"87665068-2341-4d0b-991d-4367b90a654b","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.458Z","level":"info","message":"generation_cover_letters_completed","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","generationRunId":"87665068-2341-4d0b-991d-4367b90a654b","variants":2,"fallbackApplied":true,"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.459Z","level":"info","message":"pdf_generation_attempt","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","generationRunId":"87665068-2341-4d0b-991d-4367b90a654b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/87665068-2341-4d0b-991d-4367b90a654b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/87665068-2341-4d0b-991d-4367b90a654b/enhanced_modern.pdf","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.459Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","generationRunId":"87665068-2341-4d0b-991d-4367b90a654b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/87665068-2341-4d0b-991d-4367b90a654b/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.460Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","generationRunId":"87665068-2341-4d0b-991d-4367b90a654b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/87665068-2341-4d0b-991d-4367b90a654b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/87665068-2341-4d0b-991d-4367b90a654b/enhanced_modern.pdf","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.460Z","level":"info","message":"pdf_generation_attempt","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","generationRunId":"87665068-2341-4d0b-991d-4367b90a654b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/87665068-2341-4d0b-991d-4367b90a654b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/87665068-2341-4d0b-991d-4367b90a654b/enhanced_professional.pdf","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.461Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","generationRunId":"87665068-2341-4d0b-991d-4367b90a654b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/87665068-2341-4d0b-991d-4367b90a654b/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.461Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","generationRunId":"87665068-2341-4d0b-991d-4367b90a654b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/87665068-2341-4d0b-991d-4367b90a654b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/87665068-2341-4d0b-991d-4367b90a654b/enhanced_professional.pdf","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.461Z","level":"info","message":"pdf_generation_attempt","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","generationRunId":"87665068-2341-4d0b-991d-4367b90a654b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/87665068-2341-4d0b-991d-4367b90a654b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/87665068-2341-4d0b-991d-4367b90a654b/cover_letter_cover_modern.pdf","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.462Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","generationRunId":"87665068-2341-4d0b-991d-4367b90a654b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/87665068-2341-4d0b-991d-4367b90a654b/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.462Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","generationRunId":"87665068-2341-4d0b-991d-4367b90a654b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/87665068-2341-4d0b-991d-4367b90a654b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/87665068-2341-4d0b-991d-4367b90a654b/cover_letter_cover_modern.pdf","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.463Z","level":"info","message":"pdf_generation_attempt","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","generationRunId":"87665068-2341-4d0b-991d-4367b90a654b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/87665068-2341-4d0b-991d-4367b90a654b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/87665068-2341-4d0b-991d-4367b90a654b/cover_letter_cover_professional.pdf","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.463Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","generationRunId":"87665068-2341-4d0b-991d-4367b90a654b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/87665068-2341-4d0b-991d-4367b90a654b/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.464Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","generationRunId":"87665068-2341-4d0b-991d-4367b90a654b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/87665068-2341-4d0b-991d-4367b90a654b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/87665068-2341-4d0b-991d-4367b90a654b/cover_letter_cover_professional.pdf","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.465Z","level":"info","message":"llm_call_metrics","requestId":"87665068-2341-4d0b-991d-4367b90a654b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.466Z","level":"info","message":"generation_completed","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","generationRunId":"87665068-2341-4d0b-991d-4367b90a654b","enhancedScore":80,"outputs":5,"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.467Z","level":"info","message":"placeholder_record_deleted","requestId":"87665068-2341-4d0b-991d-4367b90a654b","jobId":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","placeholderIdentifier":"87665068-2341-4d0b-991d-4367b90a654b","template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f8f6e40b-c1ab-4f92-8d36-831e9a1266d1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.468Z","level":"info","message":"http_request_completed","requestId":"87665068-2341-4d0b-991d-4367b90a654b","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":51,"contentLength":"59835","template":"unknown","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87665068-2341-4d0b-991d-4367b90a654b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.472Z","level":"info","message":"http_request_received","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","method":"POST","path":"/api/process-cv","template":"unknown","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.473Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.474Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.475Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.476Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.478Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/79d0e614-5c1c-4475-bff5-be32f0e18fc3/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/79d0e614-5c1c-4475-bff5-be32f0e18fc3/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/79d0e614-5c1c-4475-bff5-be32f0e18fc3/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.481Z","level":"info","message":"process_cv_started","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","manualJobDescriptionProvided":true,"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.481Z","level":"info","message":"template_selection","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.482Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:02.487Z","level":"info","message":"initial_upload_completed","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","bucket":"test-bucket","key":"cv/candidate/79d0e614-5c1c-4475-bff5-be32f0e18fc3/incoming/original.pdf","template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.488Z","level":"info","message":"resume_text_extracted","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","characters":57,"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.488Z","level":"info","message":"resume_classified","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.488Z","level":"info","message":"raw_upload_relocated","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","bucket":"test-bucket","fromKey":"cv/candidate/79d0e614-5c1c-4475-bff5-be32f0e18fc3/incoming/original.pdf","toKey":"cv/professional_summary/79d0e614-5c1c-4475-bff5-be32f0e18fc3/original.pdf","template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.489Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","bucket":"test-bucket","key":"cv/professional_summary/79d0e614-5c1c-4475-bff5-be32f0e18fc3/original.pdf","template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.489Z","level":"info","message":"dynamo_initial_record_written","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","bucket":"test-bucket","key":"cv/professional_summary/79d0e614-5c1c-4475-bff5-be32f0e18fc3/original.pdf","template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.489Z","level":"info","message":"upload_metadata_written","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","bucket":"test-bucket","key":"cv/professional_summary/79d0e614-5c1c-4475-bff5-be32f0e18fc3/logs/log.json","template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.490Z","level":"info","message":"job_description_supplied_manually","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","characters":174,"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.490Z","level":"info","message":"job_description_analyzed","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","jobTitle":"","jobSkills":5,"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.490Z","level":"info","message":"resume_skills_analyzed","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.491Z","level":"info","message":"llm_call_metrics","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.491Z","level":"info","message":"process_cv_scoring_completed","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.494Z","level":"info","message":"llm_call_metrics","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.494Z","level":"info","message":"generation_section_rewrite_completed","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","generationRunId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.494Z","level":"info","message":"llm_call_metrics","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.497Z","level":"info","message":"generation_resume_verified","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","generationRunId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.499Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","generationRunId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:02.505Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","generationRunId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.511Z","level":"info","message":"generation_cover_letters_completed","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","generationRunId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","variants":2,"fallbackApplied":true,"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.512Z","level":"info","message":"pdf_generation_attempt","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","generationRunId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/79d0e614-5c1c-4475-bff5-be32f0e18fc3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/79d0e614-5c1c-4475-bff5-be32f0e18fc3/enhanced_modern.pdf","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.512Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","generationRunId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/79d0e614-5c1c-4475-bff5-be32f0e18fc3/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.513Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","generationRunId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/79d0e614-5c1c-4475-bff5-be32f0e18fc3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/79d0e614-5c1c-4475-bff5-be32f0e18fc3/enhanced_modern.pdf","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.513Z","level":"info","message":"pdf_generation_attempt","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","generationRunId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/79d0e614-5c1c-4475-bff5-be32f0e18fc3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/79d0e614-5c1c-4475-bff5-be32f0e18fc3/enhanced_professional.pdf","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.514Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","generationRunId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/79d0e614-5c1c-4475-bff5-be32f0e18fc3/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.515Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","generationRunId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/79d0e614-5c1c-4475-bff5-be32f0e18fc3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/79d0e614-5c1c-4475-bff5-be32f0e18fc3/enhanced_professional.pdf","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.515Z","level":"info","message":"pdf_generation_attempt","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","generationRunId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/79d0e614-5c1c-4475-bff5-be32f0e18fc3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/79d0e614-5c1c-4475-bff5-be32f0e18fc3/cover_letter_cover_modern.pdf","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.516Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","generationRunId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/79d0e614-5c1c-4475-bff5-be32f0e18fc3/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.517Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","generationRunId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/79d0e614-5c1c-4475-bff5-be32f0e18fc3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/79d0e614-5c1c-4475-bff5-be32f0e18fc3/cover_letter_cover_modern.pdf","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.517Z","level":"info","message":"pdf_generation_attempt","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","generationRunId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/79d0e614-5c1c-4475-bff5-be32f0e18fc3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/79d0e614-5c1c-4475-bff5-be32f0e18fc3/cover_letter_cover_professional.pdf","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.518Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","generationRunId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/79d0e614-5c1c-4475-bff5-be32f0e18fc3/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.518Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","generationRunId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/79d0e614-5c1c-4475-bff5-be32f0e18fc3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/79d0e614-5c1c-4475-bff5-be32f0e18fc3/cover_letter_cover_professional.pdf","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.520Z","level":"info","message":"llm_call_metrics","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.521Z","level":"info","message":"generation_completed","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","generationRunId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","enhancedScore":80,"outputs":5,"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.522Z","level":"info","message":"placeholder_record_deleted","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","jobId":"ca91eecf-d183-4efa-8ded-9e4b5683221f","placeholderIdentifier":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca91eecf-d183-4efa-8ded-9e4b5683221f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.523Z","level":"info","message":"http_request_completed","requestId":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":51,"contentLength":"58133","template":"unknown","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"79d0e614-5c1c-4475-bff5-be32f0e18fc3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.525Z","level":"info","message":"http_request_received","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","method":"POST","path":"/api/process-cv","template":"unknown","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.526Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.527Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.528Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.530Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.532Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.535Z","level":"info","message":"process_cv_started","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","manualJobDescriptionProvided":true,"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.536Z","level":"info","message":"template_selection","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.536Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:02.542Z","level":"info","message":"initial_upload_completed","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","bucket":"test-bucket","key":"cv/candidate/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/incoming/original.pdf","template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.542Z","level":"info","message":"resume_text_extracted","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","characters":57,"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.542Z","level":"info","message":"resume_classified","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.543Z","level":"info","message":"raw_upload_relocated","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","bucket":"test-bucket","fromKey":"cv/candidate/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/incoming/original.pdf","toKey":"cv/professional_summary/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/original.pdf","template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.543Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","bucket":"test-bucket","key":"cv/professional_summary/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/original.pdf","template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.543Z","level":"info","message":"dynamo_initial_record_written","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","bucket":"test-bucket","key":"cv/professional_summary/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/original.pdf","template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.543Z","level":"info","message":"upload_metadata_written","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","bucket":"test-bucket","key":"cv/professional_summary/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/logs/log.json","template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.544Z","level":"info","message":"job_description_supplied_manually","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","characters":174,"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.544Z","level":"info","message":"job_description_analyzed","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","jobTitle":"","jobSkills":5,"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.545Z","level":"info","message":"resume_skills_analyzed","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.545Z","level":"info","message":"llm_call_metrics","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.546Z","level":"info","message":"process_cv_scoring_completed","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.548Z","level":"info","message":"llm_call_metrics","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"9a6d2d1a9ce924151b6a4db0f761d85550b399b0c2990ac5bc2d2ac9b952bd0d","addedSkillCount":0,"template":"resume_rewrite","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.548Z","level":"info","message":"generation_section_rewrite_completed","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","generationRunId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.551Z","level":"info","message":"generation_resume_verified","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","generationRunId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.554Z","level":"info","message":"generation_cover_letters_normalized","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","generationRunId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","variants":["cover_letter1","cover_letter2"],"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.555Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","generationRunId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.560Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","generationRunId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","variants":["cover_letter1"],"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.561Z","level":"info","message":"generation_cover_letters_completed","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","generationRunId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","variants":2,"fallbackApplied":true,"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.561Z","level":"info","message":"pdf_generation_attempt","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","generationRunId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/enhanced_modern.pdf","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.562Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","generationRunId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.562Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","generationRunId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/enhanced_modern.pdf","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.563Z","level":"info","message":"pdf_generation_attempt","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","generationRunId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/enhanced_professional.pdf","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.563Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","generationRunId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.563Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","generationRunId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/enhanced_professional.pdf","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.564Z","level":"info","message":"pdf_generation_attempt","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","generationRunId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/cover_letter_cover_modern.pdf","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.564Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","generationRunId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.565Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","generationRunId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/cover_letter_cover_modern.pdf","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.565Z","level":"info","message":"pdf_generation_attempt","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","generationRunId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/cover_letter_cover_professional.pdf","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.566Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","generationRunId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.566Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","generationRunId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/386ef999-b32b-4fd1-9e09-5639fb1eb2e9/cover_letter_cover_professional.pdf","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.568Z","level":"info","message":"llm_call_metrics","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.568Z","level":"info","message":"generation_completed","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","generationRunId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","enhancedScore":80,"outputs":5,"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.569Z","level":"info","message":"placeholder_record_deleted","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","jobId":"96a96154-6604-41a0-991e-0a8d3120814a","placeholderIdentifier":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96a96154-6604-41a0-991e-0a8d3120814a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.570Z","level":"info","message":"http_request_completed","requestId":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":45,"contentLength":"46262","template":"unknown","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"386ef999-b32b-4fd1-9e09-5639fb1eb2e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.573Z","level":"info","message":"http_request_received","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","method":"POST","path":"/api/process-cv","template":"unknown","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.574Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.575Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.577Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.578Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.579Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.583Z","level":"info","message":"process_cv_started","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","manualJobDescriptionProvided":true,"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.583Z","level":"info","message":"template_selection","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.583Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:02.590Z","level":"info","message":"initial_upload_completed","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","bucket":"test-bucket","key":"cv/candidate/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/incoming/original.pdf","template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.591Z","level":"info","message":"resume_text_extracted","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","characters":57,"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.591Z","level":"info","message":"resume_classified","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.592Z","level":"info","message":"raw_upload_relocated","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","bucket":"test-bucket","fromKey":"cv/candidate/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/incoming/original.pdf","toKey":"cv/professional_summary/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/original.pdf","template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.592Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","bucket":"test-bucket","key":"cv/professional_summary/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/original.pdf","template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.592Z","level":"info","message":"dynamo_initial_record_written","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","bucket":"test-bucket","key":"cv/professional_summary/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/original.pdf","template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.593Z","level":"info","message":"upload_metadata_written","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","bucket":"test-bucket","key":"cv/professional_summary/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/logs/log.json","template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.593Z","level":"info","message":"job_description_supplied_manually","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","characters":174,"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.593Z","level":"info","message":"job_description_analyzed","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","jobTitle":"","jobSkills":5,"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.594Z","level":"info","message":"resume_skills_analyzed","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.594Z","level":"info","message":"llm_call_metrics","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.595Z","level":"info","message":"process_cv_scoring_completed","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-03T13:31:02.596Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","sample":"Here is your revised resume text without JSON formatting.","template":"unknown","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at Object.error (server.js:3443:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8488:20)
          at runMicrotasks (<anonymous>)
      at generateEnhancedDocumentsResponse (server.js:20126:26)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.602Z","level":"info","message":"llm_call_metrics","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.602Z","level":"info","message":"llm_call_metrics","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.602Z","level":"info","message":"generation_section_rewrite_completed","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","generationRunId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.603Z","level":"info","message":"llm_call_metrics","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"d230fd9d3c6f4e6f7bb7c385f22b3a147a5c937619c1919bfb6f5e09096df674","skillCount":5,"template":"project_summary","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.606Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","generationRunId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:02.611Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","generationRunId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.616Z","level":"info","message":"generation_cover_letters_completed","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","generationRunId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","variants":2,"fallbackApplied":true,"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.617Z","level":"info","message":"pdf_generation_attempt","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","generationRunId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/enhanced_modern.pdf","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.617Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","generationRunId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.618Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","generationRunId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/enhanced_modern.pdf","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.618Z","level":"info","message":"pdf_generation_attempt","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","generationRunId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/enhanced_professional.pdf","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.619Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","generationRunId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.619Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","generationRunId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/enhanced_professional.pdf","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.620Z","level":"info","message":"pdf_generation_attempt","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","generationRunId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/cover_letter_cover_modern.pdf","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.620Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","generationRunId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.621Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","generationRunId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/cover_letter_cover_modern.pdf","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.621Z","level":"info","message":"pdf_generation_attempt","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","generationRunId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/cover_letter_cover_professional.pdf","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.621Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","generationRunId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.622Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","generationRunId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad/cover_letter_cover_professional.pdf","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.624Z","level":"info","message":"llm_call_metrics","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.625Z","level":"info","message":"generation_completed","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","generationRunId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","enhancedScore":80,"outputs":5,"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.626Z","level":"info","message":"placeholder_record_deleted","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","jobId":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","placeholderIdentifier":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c0a67c65-86d5-4264-b64f-be4aaf4d987a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.627Z","level":"info","message":"http_request_completed","requestId":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":54,"contentLength":"57871","template":"unknown","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6bdc7fb3-74bd-4dec-a3c9-5cbdd5ba4aad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.631Z","level":"info","message":"http_request_received","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","method":"POST","path":"/api/process-cv","template":"unknown","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.632Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.633Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.634Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.635Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.637Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/e6d1c039-cc50-4632-abc3-5d0f98990c45/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/e6d1c039-cc50-4632-abc3-5d0f98990c45/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/e6d1c039-cc50-4632-abc3-5d0f98990c45/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.640Z","level":"info","message":"process_cv_started","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","manualJobDescriptionProvided":true,"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.640Z","level":"info","message":"template_selection","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.641Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:02.647Z","level":"info","message":"initial_upload_completed","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","bucket":"test-bucket","key":"cv/candidate/e6d1c039-cc50-4632-abc3-5d0f98990c45/incoming/original.pdf","template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.647Z","level":"info","message":"resume_text_extracted","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","characters":57,"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.647Z","level":"info","message":"resume_classified","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.648Z","level":"info","message":"raw_upload_relocated","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","bucket":"test-bucket","fromKey":"cv/candidate/e6d1c039-cc50-4632-abc3-5d0f98990c45/incoming/original.pdf","toKey":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/original.pdf","template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.648Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","bucket":"test-bucket","key":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/original.pdf","template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.648Z","level":"info","message":"dynamo_initial_record_written","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","bucket":"test-bucket","key":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/original.pdf","template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.649Z","level":"info","message":"upload_metadata_written","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","bucket":"test-bucket","key":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/logs/log.json","template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.649Z","level":"info","message":"job_description_supplied_manually","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","characters":174,"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.650Z","level":"info","message":"job_description_analyzed","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","jobTitle":"","jobSkills":5,"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.650Z","level":"info","message":"resume_skills_analyzed","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.650Z","level":"info","message":"llm_call_metrics","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.651Z","level":"info","message":"process_cv_scoring_completed","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.653Z","level":"info","message":"llm_call_metrics","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.654Z","level":"info","message":"generation_section_rewrite_completed","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.654Z","level":"info","message":"llm_call_metrics","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.656Z","level":"info","message":"generation_resume_verified","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.659Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:02.665Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.671Z","level":"info","message":"generation_cover_letters_completed","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","variants":2,"fallbackApplied":true,"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.672Z","level":"info","message":"pdf_generation_attempt","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/enhanced_modern.pdf","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.672Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-03T13:31:02.673Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:10964:7)
      at generateEnhancedDocumentsResponse (server.js:21255:17)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.679Z","level":"info","message":"pdf_generation_attempt","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/enhanced_professional.pdf","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.679Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-03T13:31:02.680Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:10964:7)
      at generateEnhancedDocumentsResponse (server.js:21255:17)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.685Z","level":"info","message":"pdf_generation_attempt","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"classic","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/enhanced_classic.pdf","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.685Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-03T13:31:02.686Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:10964:7)
      at generateEnhancedDocumentsResponse (server.js:21255:17)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.692Z","level":"info","message":"pdf_generation_attempt","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"ats","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/enhanced_ats.pdf","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.693Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-03T13:31:02.693Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:10964:7)
      at generateEnhancedDocumentsResponse (server.js:21255:17)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.698Z","level":"info","message":"pdf_generation_attempt","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"2025","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/enhanced_2025.pdf","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.699Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-03T13:31:02.699Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:10964:7)
      at generateEnhancedDocumentsResponse (server.js:21255:17)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:02.705Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/enhanced_2025.pdf","forcedFallback":true,"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:11108:7)
      at generateEnhancedDocumentsResponse (server.js:21255:17)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.711Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/enhanced_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"2025","requestedTemplateId":"2025","engine":"pdf-lib","bytes":9,"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.712Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/enhanced_2025.pdf","bytes":9,"forcedFallback":true,"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.713Z","level":"info","message":"pdf_generation_attempt","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/enhanced_professional.pdf","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.713Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-03T13:31:02.714Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:10964:7)
      at generateEnhancedDocumentsResponse (server.js:21255:17)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.720Z","level":"info","message":"pdf_generation_attempt","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"modern","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/enhanced_modern.pdf","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.721Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-03T13:31:02.721Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:10964:7)
      at generateEnhancedDocumentsResponse (server.js:21255:17)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.727Z","level":"info","message":"pdf_generation_attempt","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"2025","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/enhanced_2025.pdf","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.727Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-03T13:31:02.727Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:10964:7)
      at generateEnhancedDocumentsResponse (server.js:21255:17)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.733Z","level":"info","message":"pdf_generation_attempt","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"classic","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/enhanced_classic.pdf","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.733Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-03T13:31:02.733Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:10964:7)
      at generateEnhancedDocumentsResponse (server.js:21255:17)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.739Z","level":"info","message":"pdf_generation_attempt","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"ats","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/enhanced_ats.pdf","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.739Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-03T13:31:02.739Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:10964:7)
      at generateEnhancedDocumentsResponse (server.js:21255:17)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:02.745Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/enhanced_ats.pdf","forcedFallback":true,"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:11108:7)
      at generateEnhancedDocumentsResponse (server.js:21255:17)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.750Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/enhanced_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"ats","requestedTemplateId":"ats","engine":"pdf-lib","bytes":9,"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.751Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/enhanced_ats.pdf","bytes":9,"forcedFallback":true,"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.751Z","level":"info","message":"pdf_generation_attempt","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/cover_letter_cover_modern.pdf","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.752Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-03T13:31:02.752Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:10964:7)
      at generateEnhancedDocumentsResponse (server.js:21255:17)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.757Z","level":"info","message":"pdf_generation_attempt","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/cover_letter_cover_professional.pdf","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.758Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-03T13:31:02.758Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:10964:7)
      at generateEnhancedDocumentsResponse (server.js:21255:17)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.765Z","level":"info","message":"pdf_generation_attempt","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/cover_letter_cover_classic.pdf","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.765Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-03T13:31:02.766Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:10964:7)
      at generateEnhancedDocumentsResponse (server.js:21255:17)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.771Z","level":"info","message":"pdf_generation_attempt","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/cover_letter_cover_ats.pdf","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.771Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-03T13:31:02.772Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:10964:7)
      at generateEnhancedDocumentsResponse (server.js:21255:17)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.777Z","level":"info","message":"pdf_generation_attempt","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/cover_letter_cover_2025.pdf","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.777Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-03T13:31:02.778Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:10964:7)
      at generateEnhancedDocumentsResponse (server.js:21255:17)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:02.783Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/cover_letter_cover_2025.pdf","forcedFallback":true,"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:11108:7)
      at generateEnhancedDocumentsResponse (server.js:21255:17)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.788Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/cover_letter_cover_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_2025","requestedTemplateId":"cover_2025","engine":"pdf-lib","bytes":9,"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.789Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/cover_letter_cover_2025.pdf","bytes":9,"forcedFallback":true,"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.789Z","level":"info","message":"pdf_generation_attempt","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/cover_letter_cover_professional.pdf","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.790Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-03T13:31:02.790Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:10964:7)
      at generateEnhancedDocumentsResponse (server.js:21255:17)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.795Z","level":"info","message":"pdf_generation_attempt","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/cover_letter_cover_modern.pdf","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.796Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-03T13:31:02.796Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:10964:7)
      at generateEnhancedDocumentsResponse (server.js:21255:17)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.801Z","level":"info","message":"pdf_generation_attempt","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/cover_letter_cover_2025.pdf","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.802Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-03T13:31:02.802Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:10964:7)
      at generateEnhancedDocumentsResponse (server.js:21255:17)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.809Z","level":"info","message":"pdf_generation_attempt","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/cover_letter_cover_classic.pdf","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.809Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-03T13:31:02.809Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:10964:7)
      at generateEnhancedDocumentsResponse (server.js:21255:17)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.815Z","level":"info","message":"pdf_generation_attempt","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/cover_letter_cover_ats.pdf","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.815Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-03T13:31:02.815Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:10964:7)
      at generateEnhancedDocumentsResponse (server.js:21255:17)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:02.821Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/cover_letter_cover_ats.pdf","forcedFallback":true,"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:11108:7)
      at generateEnhancedDocumentsResponse (server.js:21255:17)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.826Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/cover_letter_cover_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2130:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_ats","requestedTemplateId":"cover_ats","engine":"pdf-lib","bytes":9,"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.826Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/e6d1c039-cc50-4632-abc3-5d0f98990c45/cover_letter_cover_ats.pdf","bytes":9,"forcedFallback":true,"session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.828Z","level":"info","message":"llm_call_metrics","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.829Z","level":"info","message":"generation_completed","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","generationRunId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","enhancedScore":80,"outputs":5,"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.830Z","level":"info","message":"placeholder_record_deleted","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","jobId":"df14518e-a49b-4f80-9559-3889b6be863e","placeholderIdentifier":"e6d1c039-cc50-4632-abc3-5d0f98990c45","template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df14518e-a49b-4f80-9559-3889b6be863e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.831Z","level":"info","message":"http_request_completed","requestId":"e6d1c039-cc50-4632-abc3-5d0f98990c45","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":200,"contentLength":"60620","template":"unknown","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e6d1c039-cc50-4632-abc3-5d0f98990c45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.834Z","level":"info","message":"http_request_received","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","method":"POST","path":"/api/process-cv","template":"unknown","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.835Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.836Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.837Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.839Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.840Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/bd55f6bc-e1c2-4c44-848b-80887585e9f4/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/bd55f6bc-e1c2-4c44-848b-80887585e9f4/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/bd55f6bc-e1c2-4c44-848b-80887585e9f4/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.845Z","level":"info","message":"process_cv_started","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","manualJobDescriptionProvided":true,"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.845Z","level":"info","message":"template_selection","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.846Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:02.852Z","level":"info","message":"initial_upload_completed","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","bucket":"test-bucket","key":"cv/candidate/bd55f6bc-e1c2-4c44-848b-80887585e9f4/incoming/original.pdf","template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.852Z","level":"info","message":"resume_text_extracted","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","characters":57,"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.852Z","level":"info","message":"resume_classified","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.853Z","level":"info","message":"raw_upload_relocated","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","bucket":"test-bucket","fromKey":"cv/candidate/bd55f6bc-e1c2-4c44-848b-80887585e9f4/incoming/original.pdf","toKey":"cv/professional_summary/bd55f6bc-e1c2-4c44-848b-80887585e9f4/original.pdf","template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.853Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","bucket":"test-bucket","key":"cv/professional_summary/bd55f6bc-e1c2-4c44-848b-80887585e9f4/original.pdf","template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.853Z","level":"info","message":"dynamo_initial_record_written","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","bucket":"test-bucket","key":"cv/professional_summary/bd55f6bc-e1c2-4c44-848b-80887585e9f4/original.pdf","template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.854Z","level":"info","message":"upload_metadata_written","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","bucket":"test-bucket","key":"cv/professional_summary/bd55f6bc-e1c2-4c44-848b-80887585e9f4/logs/log.json","template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.854Z","level":"info","message":"job_description_supplied_manually","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","characters":174,"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.854Z","level":"info","message":"job_description_analyzed","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","jobTitle":"","jobSkills":5,"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.855Z","level":"info","message":"resume_skills_analyzed","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.855Z","level":"info","message":"llm_call_metrics","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.856Z","level":"info","message":"process_cv_scoring_completed","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.858Z","level":"info","message":"llm_call_metrics","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"083bf06ffdad2254495e6ab02d51602dd213ec7860f8066358ba6750acc9f49a","addedSkillCount":1,"template":"resume_rewrite","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.859Z","level":"info","message":"generation_section_rewrite_completed","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","generationRunId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","modifiedTitle":"Revised Title","addedSkills":1,"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.860Z","level":"info","message":"generation_resume_verified","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","generationRunId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.863Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","generationRunId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:02.869Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","generationRunId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.874Z","level":"info","message":"generation_cover_letters_completed","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","generationRunId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","variants":2,"fallbackApplied":true,"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.875Z","level":"info","message":"pdf_generation_attempt","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","generationRunId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/bd55f6bc-e1c2-4c44-848b-80887585e9f4/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/bd55f6bc-e1c2-4c44-848b-80887585e9f4/enhanced_modern.pdf","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.875Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","generationRunId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/bd55f6bc-e1c2-4c44-848b-80887585e9f4/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.876Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","generationRunId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/bd55f6bc-e1c2-4c44-848b-80887585e9f4/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/bd55f6bc-e1c2-4c44-848b-80887585e9f4/enhanced_modern.pdf","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.876Z","level":"info","message":"pdf_generation_attempt","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","generationRunId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/bd55f6bc-e1c2-4c44-848b-80887585e9f4/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/bd55f6bc-e1c2-4c44-848b-80887585e9f4/enhanced_professional.pdf","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.876Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","generationRunId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/bd55f6bc-e1c2-4c44-848b-80887585e9f4/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.877Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","generationRunId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/bd55f6bc-e1c2-4c44-848b-80887585e9f4/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/bd55f6bc-e1c2-4c44-848b-80887585e9f4/enhanced_professional.pdf","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.877Z","level":"info","message":"pdf_generation_attempt","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","generationRunId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/bd55f6bc-e1c2-4c44-848b-80887585e9f4/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/bd55f6bc-e1c2-4c44-848b-80887585e9f4/cover_letter_cover_modern.pdf","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.878Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","generationRunId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/bd55f6bc-e1c2-4c44-848b-80887585e9f4/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.878Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","generationRunId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/bd55f6bc-e1c2-4c44-848b-80887585e9f4/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/bd55f6bc-e1c2-4c44-848b-80887585e9f4/cover_letter_cover_modern.pdf","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.879Z","level":"info","message":"pdf_generation_attempt","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","generationRunId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/bd55f6bc-e1c2-4c44-848b-80887585e9f4/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/bd55f6bc-e1c2-4c44-848b-80887585e9f4/cover_letter_cover_professional.pdf","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.879Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","generationRunId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/bd55f6bc-e1c2-4c44-848b-80887585e9f4/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.879Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","generationRunId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/bd55f6bc-e1c2-4c44-848b-80887585e9f4/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/bd55f6bc-e1c2-4c44-848b-80887585e9f4/cover_letter_cover_professional.pdf","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.881Z","level":"info","message":"llm_call_metrics","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"1075df15bec8b8fc718989e1c7ca31af0c39036b671cabbdfc22628f8e2e250f","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.882Z","level":"info","message":"generation_completed","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","generationRunId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","enhancedScore":80,"outputs":5,"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.883Z","level":"info","message":"placeholder_record_deleted","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","jobId":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","placeholderIdentifier":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ce4c28c-7ee8-4104-8ec7-a92796787ea0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.884Z","level":"info","message":"http_request_completed","requestId":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":50,"contentLength":"59251","template":"unknown","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bd55f6bc-e1c2-4c44-848b-80887585e9f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.888Z","level":"info","message":"http_request_received","requestId":"97a6e748-54db-4c76-a773-02ab7ddf8821","method":"POST","path":"/api/process-cv","template":"unknown","session":"97a6e748-54db-4c76-a773-02ab7ddf8821","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"97a6e748-54db-4c76-a773-02ab7ddf8821","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.889Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.890Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.891Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.892Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.894Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.896Z","level":"info","message":"process_cv_started","requestId":"97a6e748-54db-4c76-a773-02ab7ddf8821","jobId":"ba300fea-dbcf-4523-9a31-0cd7d8b7df33","manualJobDescriptionProvided":true,"template":"unknown","session":"ba300fea-dbcf-4523-9a31-0cd7d8b7df33","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ba300fea-dbcf-4523-9a31-0cd7d8b7df33","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.896Z","level":"info","message":"template_selection","requestId":"97a6e748-54db-4c76-a773-02ab7ddf8821","jobId":"ba300fea-dbcf-4523-9a31-0cd7d8b7df33","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"ba300fea-dbcf-4523-9a31-0cd7d8b7df33","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ba300fea-dbcf-4523-9a31-0cd7d8b7df33","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.897Z","level":"warn","message":"resume_missing","requestId":"97a6e748-54db-4c76-a773-02ab7ddf8821","jobId":"ba300fea-dbcf-4523-9a31-0cd7d8b7df33","template":"unknown","session":"ba300fea-dbcf-4523-9a31-0cd7d8b7df33","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ba300fea-dbcf-4523-9a31-0cd7d8b7df33","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25039:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.902Z","level":"warn","message":"api_error_response","requestId":"97a6e748-54db-4c76-a773-02ab7ddf8821","jobId":"ba300fea-dbcf-4523-9a31-0cd7d8b7df33","status":400,"error":{"code":"RESUME_FILE_REQUIRED","message":"resume file required","details":{"field":"resume"},"requestId":"97a6e748-54db-4c76-a773-02ab7ddf8821","jobId":"ba300fea-dbcf-4523-9a31-0cd7d8b7df33"},"template":"unknown","session":"ba300fea-dbcf-4523-9a31-0cd7d8b7df33","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ba300fea-dbcf-4523-9a31-0cd7d8b7df33","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at sendError (server.js:3931:3)
      at server.js:25040:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:02.908Z","level":"info","message":"http_request_completed","requestId":"97a6e748-54db-4c76-a773-02ab7ddf8821","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":20,"contentLength":"217","template":"unknown","session":"97a6e748-54db-4c76-a773-02ab7ddf8821","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"97a6e748-54db-4c76-a773-02ab7ddf8821","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.909Z","level":"info","message":"http_request_received","requestId":"bd6f23d5-6795-4d96-99e3-a38e71b81c11","method":"POST","path":"/api/process-cv","template":"unknown","session":"bd6f23d5-6795-4d96-99e3-a38e71b81c11","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bd6f23d5-6795-4d96-99e3-a38e71b81c11","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.910Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.911Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.912Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.914Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.915Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.918Z","level":"warn","message":"resume_upload_failed","requestId":"bd6f23d5-6795-4d96-99e3-a38e71b81c11","jobId":"72bbac5a-1d48-4995-9399-0656be9092e2","storageError":false,"error":{"name":"Error","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","stack":"Error: Unsupported resume format. Please upload a PDF, DOC, or DOCX file.\n    at fileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4942:9)\n    at wrappedFileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/index.js:44:7)\n    at Multipart.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:109:7)\n    at Multipart.emit (node:events:513:28)\n    at HeaderParser.cb (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:358:14)\n    at HeaderParser.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:394:37)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at IncomingMessage.Readable.read (node:internal/streams/readable:527:10)\n    at flow (node:internal/streams/readable:1011:34)\n    at resume_ (node:internal/streams/readable:992:3)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)"},"template":"unknown","session":"72bbac5a-1d48-4995-9399-0656be9092e2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72bbac5a-1d48-4995-9399-0656be9092e2","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:24733:7
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at fileFilter (server.js:4941:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.925Z","level":"warn","message":"api_error_response","requestId":"bd6f23d5-6795-4d96-99e3-a38e71b81c11","jobId":"72bbac5a-1d48-4995-9399-0656be9092e2","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","details":{"field":"resume"},"requestId":"bd6f23d5-6795-4d96-99e3-a38e71b81c11","jobId":"72bbac5a-1d48-4995-9399-0656be9092e2"},"template":"unknown","session":"72bbac5a-1d48-4995-9399-0656be9092e2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72bbac5a-1d48-4995-9399-0656be9092e2","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at sendError (server.js:3931:3)
      at respond (server.js:24741:9)
      at server.js:24745:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at fileFilter (server.js:4941:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.log
    {"timestamp":"2025-12-03T13:31:02.932Z","level":"info","message":"http_request_completed","requestId":"bd6f23d5-6795-4d96-99e3-a38e71b81c11","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":23,"contentLength":"267","template":"unknown","session":"bd6f23d5-6795-4d96-99e3-a38e71b81c11","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bd6f23d5-6795-4d96-99e3-a38e71b81c11","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.934Z","level":"info","message":"http_request_received","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","method":"POST","path":"/api/process-cv","template":"unknown","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.935Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.936Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.937Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.938Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.940Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/f3664ca6-83f3-411e-a36f-b67a1c74efb9/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":32768}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":32768,"newSize":32768}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/f3664ca6-83f3-411e-a36f-b67a1c74efb9/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/f3664ca6-83f3-411e-a36f-b67a1c74efb9/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.943Z","level":"info","message":"process_cv_started","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","manualJobDescriptionProvided":true,"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.943Z","level":"info","message":"template_selection","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.944Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:02.949Z","level":"info","message":"initial_upload_completed","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","bucket":"test-bucket","key":"cv/candidate/f3664ca6-83f3-411e-a36f-b67a1c74efb9/incoming/original.pdf","template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.949Z","level":"info","message":"resume_text_extracted","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","characters":57,"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.950Z","level":"info","message":"resume_classified","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.950Z","level":"info","message":"raw_upload_relocated","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","bucket":"test-bucket","fromKey":"cv/candidate/f3664ca6-83f3-411e-a36f-b67a1c74efb9/incoming/original.pdf","toKey":"cv/professional_summary/f3664ca6-83f3-411e-a36f-b67a1c74efb9/original.pdf","template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.950Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","bucket":"test-bucket","key":"cv/professional_summary/f3664ca6-83f3-411e-a36f-b67a1c74efb9/original.pdf","template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.951Z","level":"info","message":"dynamo_initial_record_written","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","bucket":"test-bucket","key":"cv/professional_summary/f3664ca6-83f3-411e-a36f-b67a1c74efb9/original.pdf","template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.951Z","level":"info","message":"upload_metadata_written","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","bucket":"test-bucket","key":"cv/professional_summary/f3664ca6-83f3-411e-a36f-b67a1c74efb9/logs/log.json","template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.951Z","level":"info","message":"job_description_supplied_manually","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","characters":174,"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.952Z","level":"info","message":"job_description_analyzed","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","jobTitle":"","jobSkills":5,"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.952Z","level":"info","message":"resume_skills_analyzed","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.953Z","level":"info","message":"llm_call_metrics","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.953Z","level":"info","message":"process_cv_scoring_completed","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.955Z","level":"info","message":"llm_call_metrics","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.956Z","level":"info","message":"generation_section_rewrite_completed","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","generationRunId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.956Z","level":"info","message":"llm_call_metrics","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.958Z","level":"info","message":"generation_resume_verified","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","generationRunId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:02.962Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","generationRunId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:02.967Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","generationRunId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:02.972Z","level":"info","message":"generation_cover_letters_completed","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","generationRunId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","variants":2,"fallbackApplied":true,"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.973Z","level":"info","message":"pdf_generation_attempt","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","generationRunId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f3664ca6-83f3-411e-a36f-b67a1c74efb9/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f3664ca6-83f3-411e-a36f-b67a1c74efb9/enhanced_modern.pdf","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.973Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","generationRunId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f3664ca6-83f3-411e-a36f-b67a1c74efb9/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.974Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","generationRunId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f3664ca6-83f3-411e-a36f-b67a1c74efb9/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f3664ca6-83f3-411e-a36f-b67a1c74efb9/enhanced_modern.pdf","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.974Z","level":"info","message":"pdf_generation_attempt","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","generationRunId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f3664ca6-83f3-411e-a36f-b67a1c74efb9/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f3664ca6-83f3-411e-a36f-b67a1c74efb9/enhanced_professional.pdf","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.975Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","generationRunId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f3664ca6-83f3-411e-a36f-b67a1c74efb9/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.975Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","generationRunId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f3664ca6-83f3-411e-a36f-b67a1c74efb9/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f3664ca6-83f3-411e-a36f-b67a1c74efb9/enhanced_professional.pdf","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.975Z","level":"info","message":"pdf_generation_attempt","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","generationRunId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f3664ca6-83f3-411e-a36f-b67a1c74efb9/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f3664ca6-83f3-411e-a36f-b67a1c74efb9/cover_letter_cover_modern.pdf","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.976Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","generationRunId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f3664ca6-83f3-411e-a36f-b67a1c74efb9/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.976Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","generationRunId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f3664ca6-83f3-411e-a36f-b67a1c74efb9/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f3664ca6-83f3-411e-a36f-b67a1c74efb9/cover_letter_cover_modern.pdf","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.977Z","level":"info","message":"pdf_generation_attempt","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","generationRunId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f3664ca6-83f3-411e-a36f-b67a1c74efb9/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f3664ca6-83f3-411e-a36f-b67a1c74efb9/cover_letter_cover_professional.pdf","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.977Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","generationRunId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f3664ca6-83f3-411e-a36f-b67a1c74efb9/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.978Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","generationRunId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f3664ca6-83f3-411e-a36f-b67a1c74efb9/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f3664ca6-83f3-411e-a36f-b67a1c74efb9/cover_letter_cover_professional.pdf","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.979Z","level":"info","message":"llm_call_metrics","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.980Z","level":"info","message":"generation_completed","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","generationRunId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","enhancedScore":80,"outputs":5,"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.981Z","level":"info","message":"placeholder_record_deleted","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","jobId":"02e62670-2198-49dd-8359-331e7436eb67","placeholderIdentifier":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e62670-2198-49dd-8359-331e7436eb67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:02.983Z","level":"info","message":"http_request_completed","requestId":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":49,"contentLength":"58133","template":"unknown","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3664ca6-83f3-411e-a36f-b67a1c74efb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.985Z","level":"info","message":"http_request_received","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","method":"POST","path":"/api/process-cv","template":"unknown","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.986Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.987Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.988Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.989Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:02.991Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/519cc0cb-40ec-4aa8-8796-1d27eae668be/incoming/original.pdf","chunks":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":262144}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":262144,"newSize":262144}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/519cc0cb-40ec-4aa8-8796-1d27eae668be/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/519cc0cb-40ec-4aa8-8796-1d27eae668be/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.000Z","level":"info","message":"process_cv_started","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","manualJobDescriptionProvided":true,"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.001Z","level":"info","message":"template_selection","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.001Z","level":"info","message":"initial_upload_completed","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","bucket":"test-bucket","key":"cv/candidate/519cc0cb-40ec-4aa8-8796-1d27eae668be/incoming/original.pdf","template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.002Z","level":"info","message":"resume_text_extracted","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","characters":9,"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.003Z","level":"info","message":"document_classification_ai_metrics","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.017Z","level":"info","message":"resume_classified","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.018Z","level":"info","message":"raw_upload_relocated","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","bucket":"test-bucket","fromKey":"cv/candidate/519cc0cb-40ec-4aa8-8796-1d27eae668be/incoming/original.pdf","toKey":"cv/docx_text/519cc0cb-40ec-4aa8-8796-1d27eae668be/original.docx","template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.018Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","bucket":"test-bucket","key":"cv/docx_text/519cc0cb-40ec-4aa8-8796-1d27eae668be/original.docx","template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.018Z","level":"info","message":"dynamo_initial_record_written","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","bucket":"test-bucket","key":"cv/docx_text/519cc0cb-40ec-4aa8-8796-1d27eae668be/original.docx","template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.019Z","level":"info","message":"upload_metadata_written","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","bucket":"test-bucket","key":"cv/docx_text/519cc0cb-40ec-4aa8-8796-1d27eae668be/logs/log.json","template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.019Z","level":"info","message":"job_description_supplied_manually","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","characters":174,"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.020Z","level":"info","message":"job_description_analyzed","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","jobTitle":"","jobSkills":5,"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.020Z","level":"info","message":"resume_skills_analyzed","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.021Z","level":"info","message":"llm_call_metrics","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.021Z","level":"info","message":"process_cv_scoring_completed","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.023Z","level":"info","message":"llm_call_metrics","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.023Z","level":"info","message":"generation_section_rewrite_completed","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","generationRunId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.024Z","level":"info","message":"llm_call_metrics","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.026Z","level":"info","message":"generation_resume_verified","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","generationRunId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.028Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","generationRunId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:03.035Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","generationRunId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:03.040Z","level":"info","message":"generation_cover_letters_completed","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","generationRunId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","variants":2,"fallbackApplied":true,"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.041Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","generationRunId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/519cc0cb-40ec-4aa8-8796-1d27eae668be/","originalUploadKey":"cv/docx_text/519cc0cb-40ec-4aa8-8796-1d27eae668be/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.042Z","level":"info","message":"original_upload_pdf_generated","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","generationRunId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","storageKey":"cv/docx_text/519cc0cb-40ec-4aa8-8796-1d27eae668be/original/original_upload.pdf","originalUploadKey":"cv/docx_text/519cc0cb-40ec-4aa8-8796-1d27eae668be/original.docx","originalUploadExtension":".docx","template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.042Z","level":"info","message":"pdf_generation_attempt","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","generationRunId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/519cc0cb-40ec-4aa8-8796-1d27eae668be/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/519cc0cb-40ec-4aa8-8796-1d27eae668be/enhanced_modern.pdf","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.043Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","generationRunId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/519cc0cb-40ec-4aa8-8796-1d27eae668be/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.043Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","generationRunId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/519cc0cb-40ec-4aa8-8796-1d27eae668be/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/519cc0cb-40ec-4aa8-8796-1d27eae668be/enhanced_modern.pdf","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.044Z","level":"info","message":"pdf_generation_attempt","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","generationRunId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/519cc0cb-40ec-4aa8-8796-1d27eae668be/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/519cc0cb-40ec-4aa8-8796-1d27eae668be/enhanced_professional.pdf","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.044Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","generationRunId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/519cc0cb-40ec-4aa8-8796-1d27eae668be/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.045Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","generationRunId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/519cc0cb-40ec-4aa8-8796-1d27eae668be/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/519cc0cb-40ec-4aa8-8796-1d27eae668be/enhanced_professional.pdf","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.045Z","level":"info","message":"pdf_generation_attempt","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","generationRunId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/519cc0cb-40ec-4aa8-8796-1d27eae668be/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/519cc0cb-40ec-4aa8-8796-1d27eae668be/cover_letter_cover_modern.pdf","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.046Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","generationRunId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/519cc0cb-40ec-4aa8-8796-1d27eae668be/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.046Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","generationRunId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/519cc0cb-40ec-4aa8-8796-1d27eae668be/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/519cc0cb-40ec-4aa8-8796-1d27eae668be/cover_letter_cover_modern.pdf","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.047Z","level":"info","message":"pdf_generation_attempt","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","generationRunId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/519cc0cb-40ec-4aa8-8796-1d27eae668be/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/519cc0cb-40ec-4aa8-8796-1d27eae668be/cover_letter_cover_professional.pdf","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.047Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","generationRunId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/519cc0cb-40ec-4aa8-8796-1d27eae668be/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.048Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","generationRunId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/519cc0cb-40ec-4aa8-8796-1d27eae668be/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/519cc0cb-40ec-4aa8-8796-1d27eae668be/cover_letter_cover_professional.pdf","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.050Z","level":"info","message":"llm_call_metrics","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.051Z","level":"info","message":"generation_completed","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","generationRunId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","enhancedScore":80,"outputs":6,"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.053Z","level":"info","message":"placeholder_record_deleted","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","jobId":"a2370435-e64f-42aa-b902-c99e241d3e51","placeholderIdentifier":"519cc0cb-40ec-4aa8-8796-1d27eae668be","template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2370435-e64f-42aa-b902-c99e241d3e51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.055Z","level":"info","message":"http_request_completed","requestId":"519cc0cb-40ec-4aa8-8796-1d27eae668be","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":70,"contentLength":"58696","template":"unknown","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"519cc0cb-40ec-4aa8-8796-1d27eae668be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.060Z","level":"info","message":"http_request_received","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","method":"POST","path":"/api/process-cv","template":"unknown","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.061Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.062Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.063Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.065Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.067Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/1c9cb6c2-444a-4164-a739-cf82d1f80f46/incoming/original.pdf","chunks":33}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":2097152}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":2097152,"newSize":2097152}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/1c9cb6c2-444a-4164-a739-cf82d1f80f46/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/1c9cb6c2-444a-4164-a739-cf82d1f80f46/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.074Z","level":"info","message":"process_cv_started","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","manualJobDescriptionProvided":true,"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.074Z","level":"info","message":"template_selection","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.075Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:03.081Z","level":"info","message":"initial_upload_completed","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","bucket":"test-bucket","key":"cv/candidate/1c9cb6c2-444a-4164-a739-cf82d1f80f46/incoming/original.pdf","template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.081Z","level":"info","message":"resume_text_extracted","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","characters":57,"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.081Z","level":"info","message":"resume_classified","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.082Z","level":"info","message":"raw_upload_relocated","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","bucket":"test-bucket","fromKey":"cv/candidate/1c9cb6c2-444a-4164-a739-cf82d1f80f46/incoming/original.pdf","toKey":"cv/professional_summary/1c9cb6c2-444a-4164-a739-cf82d1f80f46/original.pdf","template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.082Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","bucket":"test-bucket","key":"cv/professional_summary/1c9cb6c2-444a-4164-a739-cf82d1f80f46/original.pdf","template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.082Z","level":"info","message":"dynamo_initial_record_written","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","bucket":"test-bucket","key":"cv/professional_summary/1c9cb6c2-444a-4164-a739-cf82d1f80f46/original.pdf","template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.083Z","level":"info","message":"upload_metadata_written","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","bucket":"test-bucket","key":"cv/professional_summary/1c9cb6c2-444a-4164-a739-cf82d1f80f46/logs/log.json","template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.083Z","level":"info","message":"job_description_supplied_manually","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","characters":174,"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.083Z","level":"info","message":"job_description_analyzed","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","jobTitle":"","jobSkills":5,"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.084Z","level":"info","message":"resume_skills_analyzed","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.084Z","level":"info","message":"llm_call_metrics","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.085Z","level":"info","message":"process_cv_scoring_completed","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.087Z","level":"info","message":"llm_call_metrics","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.088Z","level":"info","message":"generation_section_rewrite_completed","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","generationRunId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.088Z","level":"info","message":"llm_call_metrics","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.090Z","level":"info","message":"generation_resume_verified","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","generationRunId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.093Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","generationRunId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:03.100Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","generationRunId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:03.105Z","level":"info","message":"generation_cover_letters_completed","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","generationRunId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","variants":2,"fallbackApplied":true,"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.105Z","level":"info","message":"pdf_generation_attempt","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","generationRunId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1c9cb6c2-444a-4164-a739-cf82d1f80f46/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/1c9cb6c2-444a-4164-a739-cf82d1f80f46/enhanced_modern.pdf","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.106Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","generationRunId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1c9cb6c2-444a-4164-a739-cf82d1f80f46/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.106Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","generationRunId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1c9cb6c2-444a-4164-a739-cf82d1f80f46/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/1c9cb6c2-444a-4164-a739-cf82d1f80f46/enhanced_modern.pdf","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.107Z","level":"info","message":"pdf_generation_attempt","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","generationRunId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1c9cb6c2-444a-4164-a739-cf82d1f80f46/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/1c9cb6c2-444a-4164-a739-cf82d1f80f46/enhanced_professional.pdf","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.107Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","generationRunId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1c9cb6c2-444a-4164-a739-cf82d1f80f46/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.108Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","generationRunId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1c9cb6c2-444a-4164-a739-cf82d1f80f46/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/1c9cb6c2-444a-4164-a739-cf82d1f80f46/enhanced_professional.pdf","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.108Z","level":"info","message":"pdf_generation_attempt","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","generationRunId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1c9cb6c2-444a-4164-a739-cf82d1f80f46/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/1c9cb6c2-444a-4164-a739-cf82d1f80f46/cover_letter_cover_modern.pdf","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.108Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","generationRunId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1c9cb6c2-444a-4164-a739-cf82d1f80f46/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.109Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","generationRunId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1c9cb6c2-444a-4164-a739-cf82d1f80f46/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/1c9cb6c2-444a-4164-a739-cf82d1f80f46/cover_letter_cover_modern.pdf","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.110Z","level":"info","message":"pdf_generation_attempt","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","generationRunId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1c9cb6c2-444a-4164-a739-cf82d1f80f46/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/1c9cb6c2-444a-4164-a739-cf82d1f80f46/cover_letter_cover_professional.pdf","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.110Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","generationRunId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1c9cb6c2-444a-4164-a739-cf82d1f80f46/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.110Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","generationRunId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1c9cb6c2-444a-4164-a739-cf82d1f80f46/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/1c9cb6c2-444a-4164-a739-cf82d1f80f46/cover_letter_cover_professional.pdf","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.112Z","level":"info","message":"llm_call_metrics","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.113Z","level":"info","message":"generation_completed","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","generationRunId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","enhancedScore":80,"outputs":5,"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.114Z","level":"info","message":"placeholder_record_deleted","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","jobId":"866c0953-5512-47da-b02a-1fa303b40c42","placeholderIdentifier":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"866c0953-5512-47da-b02a-1fa303b40c42","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.115Z","level":"info","message":"http_request_completed","requestId":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":55,"contentLength":"58133","template":"unknown","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c9cb6c2-444a-4164-a739-cf82d1f80f46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.118Z","level":"info","message":"http_request_received","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","method":"POST","path":"/api/process-cv","template":"unknown","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.119Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.120Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.121Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.122Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.124Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/85fabbfb-5361-4f8f-9fde-80d26de690eb/incoming/original.pdf","chunks":81}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5241856}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5241856,"newSize":5241856}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/85fabbfb-5361-4f8f-9fde-80d26de690eb/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/85fabbfb-5361-4f8f-9fde-80d26de690eb/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.187Z","level":"info","message":"process_cv_started","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","manualJobDescriptionProvided":true,"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.188Z","level":"info","message":"template_selection","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.188Z","level":"info","message":"initial_upload_completed","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","bucket":"test-bucket","key":"cv/candidate/85fabbfb-5361-4f8f-9fde-80d26de690eb/incoming/original.pdf","template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.189Z","level":"info","message":"resume_text_extracted","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","characters":9,"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.189Z","level":"info","message":"document_classification_ai_metrics","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.190Z","level":"info","message":"resume_classified","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.190Z","level":"info","message":"raw_upload_relocated","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","bucket":"test-bucket","fromKey":"cv/candidate/85fabbfb-5361-4f8f-9fde-80d26de690eb/incoming/original.pdf","toKey":"cv/docx_text/85fabbfb-5361-4f8f-9fde-80d26de690eb/original.docx","template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.191Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","bucket":"test-bucket","key":"cv/docx_text/85fabbfb-5361-4f8f-9fde-80d26de690eb/original.docx","template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.191Z","level":"info","message":"dynamo_initial_record_written","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","bucket":"test-bucket","key":"cv/docx_text/85fabbfb-5361-4f8f-9fde-80d26de690eb/original.docx","template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.192Z","level":"info","message":"upload_metadata_written","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","bucket":"test-bucket","key":"cv/docx_text/85fabbfb-5361-4f8f-9fde-80d26de690eb/logs/log.json","template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.192Z","level":"info","message":"job_description_supplied_manually","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","characters":174,"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.193Z","level":"info","message":"job_description_analyzed","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","jobTitle":"","jobSkills":5,"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.193Z","level":"info","message":"resume_skills_analyzed","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.194Z","level":"info","message":"llm_call_metrics","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.194Z","level":"info","message":"process_cv_scoring_completed","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.196Z","level":"info","message":"llm_call_metrics","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.197Z","level":"info","message":"generation_section_rewrite_completed","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","generationRunId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.197Z","level":"info","message":"llm_call_metrics","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.199Z","level":"info","message":"generation_resume_verified","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","generationRunId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.203Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","generationRunId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.warn
    {"timestamp":"2025-12-03T13:31:03.209Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","generationRunId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:03.214Z","level":"info","message":"generation_cover_letters_completed","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","generationRunId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","variants":2,"fallbackApplied":true,"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.215Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","generationRunId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/85fabbfb-5361-4f8f-9fde-80d26de690eb/","originalUploadKey":"cv/docx_text/85fabbfb-5361-4f8f-9fde-80d26de690eb/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.216Z","level":"info","message":"original_upload_pdf_generated","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","generationRunId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","storageKey":"cv/docx_text/85fabbfb-5361-4f8f-9fde-80d26de690eb/original/original_upload.pdf","originalUploadKey":"cv/docx_text/85fabbfb-5361-4f8f-9fde-80d26de690eb/original.docx","originalUploadExtension":".docx","template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.216Z","level":"info","message":"pdf_generation_attempt","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","generationRunId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/85fabbfb-5361-4f8f-9fde-80d26de690eb/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/85fabbfb-5361-4f8f-9fde-80d26de690eb/enhanced_modern.pdf","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.217Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","generationRunId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/85fabbfb-5361-4f8f-9fde-80d26de690eb/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.217Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","generationRunId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/85fabbfb-5361-4f8f-9fde-80d26de690eb/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/85fabbfb-5361-4f8f-9fde-80d26de690eb/enhanced_modern.pdf","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.217Z","level":"info","message":"pdf_generation_attempt","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","generationRunId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/85fabbfb-5361-4f8f-9fde-80d26de690eb/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/85fabbfb-5361-4f8f-9fde-80d26de690eb/enhanced_professional.pdf","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.218Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","generationRunId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/85fabbfb-5361-4f8f-9fde-80d26de690eb/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.218Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","generationRunId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/85fabbfb-5361-4f8f-9fde-80d26de690eb/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/85fabbfb-5361-4f8f-9fde-80d26de690eb/enhanced_professional.pdf","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.219Z","level":"info","message":"pdf_generation_attempt","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","generationRunId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/85fabbfb-5361-4f8f-9fde-80d26de690eb/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/85fabbfb-5361-4f8f-9fde-80d26de690eb/cover_letter_cover_modern.pdf","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.219Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","generationRunId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/85fabbfb-5361-4f8f-9fde-80d26de690eb/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.220Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","generationRunId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/85fabbfb-5361-4f8f-9fde-80d26de690eb/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/85fabbfb-5361-4f8f-9fde-80d26de690eb/cover_letter_cover_modern.pdf","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.220Z","level":"info","message":"pdf_generation_attempt","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","generationRunId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/85fabbfb-5361-4f8f-9fde-80d26de690eb/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/85fabbfb-5361-4f8f-9fde-80d26de690eb/cover_letter_cover_professional.pdf","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.221Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","generationRunId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/85fabbfb-5361-4f8f-9fde-80d26de690eb/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.221Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","generationRunId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/85fabbfb-5361-4f8f-9fde-80d26de690eb/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/85fabbfb-5361-4f8f-9fde-80d26de690eb/cover_letter_cover_professional.pdf","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.223Z","level":"info","message":"llm_call_metrics","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.224Z","level":"info","message":"generation_completed","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","generationRunId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","enhancedScore":80,"outputs":6,"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.225Z","level":"info","message":"placeholder_record_deleted","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","jobId":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","placeholderIdentifier":"85fabbfb-5361-4f8f-9fde-80d26de690eb","template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62ff87f1-8fd7-463d-bdda-1f137de09e7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.226Z","level":"info","message":"http_request_completed","requestId":"85fabbfb-5361-4f8f-9fde-80d26de690eb","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":108,"contentLength":"58696","template":"unknown","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85fabbfb-5361-4f8f-9fde-80d26de690eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.229Z","level":"info","message":"http_request_received","requestId":"48cce0bb-b134-402c-a00f-d85affd02912","method":"POST","path":"/api/process-cv","template":"unknown","session":"48cce0bb-b134-402c-a00f-d85affd02912","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"48cce0bb-b134-402c-a00f-d85affd02912","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.230Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.231Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.233Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.234Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.236Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/48cce0bb-b134-402c-a00f-d85affd02912/incoming/original.pdf","chunks":82}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5242880}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5242880,"newSize":5242880}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/48cce0bb-b134-402c-a00f-d85affd02912/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/48cce0bb-b134-402c-a00f-d85affd02912/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.247Z","level":"warn","message":"resume_upload_failed","requestId":"48cce0bb-b134-402c-a00f-d85affd02912","jobId":"a76a1631-ab7d-42d1-ba09-48ee7506563c","storageError":false,"error":{"name":"MulterError","message":"File too large","code":"LIMIT_FILE_SIZE","stack":"MulterError: File too large\n    at abortWithCode (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:73:22)\n    at FileStream.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:136:11)\n    at FileStream.emit (node:events:513:28)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:479:32)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at addChunk (node:internal/streams/readable:315:12)\n    at readableAddChunk (node:internal/streams/readable:289:9)\n    at IncomingMessage.Readable.push (node:internal/streams/readable:228:10)\n    at HTTPParser.parserOnBody (node:_http_common:140:24)"},"template":"unknown","session":"a76a1631-ab7d-42d1-ba09-48ee7506563c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a76a1631-ab7d-42d1-ba09-48ee7506563c","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:24733:7
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:160:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:143:11)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.254Z","level":"warn","message":"api_error_response","requestId":"48cce0bb-b134-402c-a00f-d85affd02912","jobId":"a76a1631-ab7d-42d1-ba09-48ee7506563c","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"File too large","details":{"field":"resume"},"requestId":"48cce0bb-b134-402c-a00f-d85affd02912","jobId":"a76a1631-ab7d-42d1-ba09-48ee7506563c"},"template":"unknown","session":"a76a1631-ab7d-42d1-ba09-48ee7506563c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a76a1631-ab7d-42d1-ba09-48ee7506563c","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at sendError (server.js:3931:3)
      at respond (server.js:24741:9)
      at server.js:24745:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:160:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:143:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.260Z","level":"info","message":"http_request_completed","requestId":"48cce0bb-b134-402c-a00f-d85affd02912","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":31,"contentLength":"215","template":"unknown","session":"48cce0bb-b134-402c-a00f-d85affd02912","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"48cce0bb-b134-402c-a00f-d85affd02912","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.262Z","level":"info","message":"http_request_received","requestId":"79c38945-300d-4c59-bbc4-b08e3aa2a9c3","method":"POST","path":"/api/process-cv","template":"unknown","session":"79c38945-300d-4c59-bbc4-b08e3aa2a9c3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"79c38945-300d-4c59-bbc4-b08e3aa2a9c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.263Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.264Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.266Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.267Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.269Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/79c38945-300d-4c59-bbc4-b08e3aa2a9c3/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/79c38945-300d-4c59-bbc4-b08e3aa2a9c3/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/79c38945-300d-4c59-bbc4-b08e3aa2a9c3/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.272Z","level":"info","message":"process_cv_started","requestId":"79c38945-300d-4c59-bbc4-b08e3aa2a9c3","jobId":"f1bd0e9e-a043-4e69-8362-a93c0b5bfa91","manualJobDescriptionProvided":true,"template":"unknown","session":"f1bd0e9e-a043-4e69-8362-a93c0b5bfa91","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1bd0e9e-a043-4e69-8362-a93c0b5bfa91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.272Z","level":"info","message":"template_selection","requestId":"79c38945-300d-4c59-bbc4-b08e3aa2a9c3","jobId":"f1bd0e9e-a043-4e69-8362-a93c0b5bfa91","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"f1bd0e9e-a043-4e69-8362-a93c0b5bfa91","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f1bd0e9e-a043-4e69-8362-a93c0b5bfa91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.273Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"79c38945-300d-4c59-bbc4-b08e3aa2a9c3","jobId":"f1bd0e9e-a043-4e69-8362-a93c0b5bfa91","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"f1bd0e9e-a043-4e69-8362-a93c0b5bfa91","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1bd0e9e-a043-4e69-8362-a93c0b5bfa91","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:03.279Z","level":"info","message":"initial_upload_completed","requestId":"79c38945-300d-4c59-bbc4-b08e3aa2a9c3","jobId":"f1bd0e9e-a043-4e69-8362-a93c0b5bfa91","bucket":"test-bucket","key":"cv/candidate/79c38945-300d-4c59-bbc4-b08e3aa2a9c3/incoming/original.pdf","template":"unknown","session":"f1bd0e9e-a043-4e69-8362-a93c0b5bfa91","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1bd0e9e-a043-4e69-8362-a93c0b5bfa91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.280Z","level":"info","message":"resume_text_extracted","requestId":"79c38945-300d-4c59-bbc4-b08e3aa2a9c3","jobId":"f1bd0e9e-a043-4e69-8362-a93c0b5bfa91","characters":70,"template":"unknown","session":"f1bd0e9e-a043-4e69-8362-a93c0b5bfa91","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1bd0e9e-a043-4e69-8362-a93c0b5bfa91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.280Z","level":"info","message":"document_classification_ai_metrics","requestId":"79c38945-300d-4c59-bbc4-b08e3aa2a9c3","jobId":"f1bd0e9e-a043-4e69-8362-a93c0b5bfa91","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"6e7cfda39efd36ecdd0998d74c5dc8668e761fe838cd589d1b8e87517f67efbf","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"f1bd0e9e-a043-4e69-8362-a93c0b5bfa91","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"f1bd0e9e-a043-4e69-8362-a93c0b5bfa91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.281Z","level":"info","message":"resume_classified","requestId":"79c38945-300d-4c59-bbc4-b08e3aa2a9c3","jobId":"f1bd0e9e-a043-4e69-8362-a93c0b5bfa91","isResume":false,"description":"an invoice document","confidence":0.4,"accepted":false,"overridden":false,"template":"unknown","session":"f1bd0e9e-a043-4e69-8362-a93c0b5bfa91","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1bd0e9e-a043-4e69-8362-a93c0b5bfa91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.281Z","level":"warn","message":"resume_validation_failed","requestId":"79c38945-300d-4c59-bbc4-b08e3aa2a9c3","jobId":"f1bd0e9e-a043-4e69-8362-a93c0b5bfa91","reason":"not_identified_as_resume","description":"an invoice document","confidence":0.4,"wordCount":12,"invalidKey":"invalid/candidate/2025-12-03/79c38945-300d-4c59-bbc4-b08e3aa2a9c3/an-invoice-75ed1e26-88b2-4c80-8127-b6fd53313de4.pdf","classification":"an invoice","template":"unknown","session":"f1bd0e9e-a043-4e69-8362-a93c0b5bfa91","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1bd0e9e-a043-4e69-8362-a93c0b5bfa91","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25620:9
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.287Z","level":"warn","message":"api_error_response","requestId":"79c38945-300d-4c59-bbc4-b08e3aa2a9c3","jobId":"f1bd0e9e-a043-4e69-8362-a93c0b5bfa91","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded an invoice document (classified as \"invoice\"). Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\". Please upload a correct CV or resume to continue.","details":{"description":"an invoice document","confidence":0.4,"reason":"Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\".","classification":"an invoice","className":"invoice","storageKey":"invalid/candidate/2025-12-03/79c38945-300d-4c59-bbc4-b08e3aa2a9c3/an-invoice-75ed1e26-88b2-4c80-8127-b6fd53313de4.pdf","invalidStorageKey":"invalid/candidate/2025-12-03/79c38945-300d-4c59-bbc4-b08e3aa2a9c3/an-invoice-75ed1e26-88b2-4c80-8127-b6fd53313de4.pdf"},"requestId":"79c38945-300d-4c59-bbc4-b08e3aa2a9c3","jobId":"f1bd0e9e-a043-4e69-8362-a93c0b5bfa91"},"template":"unknown","session":"f1bd0e9e-a043-4e69-8362-a93c0b5bfa91","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1bd0e9e-a043-4e69-8362-a93c0b5bfa91","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at sendError (server.js:3931:3)
      at server.js:25695:14
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.295Z","level":"info","message":"http_request_completed","requestId":"79c38945-300d-4c59-bbc4-b08e3aa2a9c3","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":33,"contentLength":"871","template":"unknown","session":"79c38945-300d-4c59-bbc4-b08e3aa2a9c3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"79c38945-300d-4c59-bbc4-b08e3aa2a9c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.298Z","level":"info","message":"http_request_received","requestId":"652dc804-ec37-4fee-baec-ed0b54f9e202","method":"POST","path":"/api/process-cv","template":"unknown","session":"652dc804-ec37-4fee-baec-ed0b54f9e202","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"652dc804-ec37-4fee-baec-ed0b54f9e202","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.299Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.300Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.302Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.303Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.305Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/652dc804-ec37-4fee-baec-ed0b54f9e202/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/652dc804-ec37-4fee-baec-ed0b54f9e202/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/652dc804-ec37-4fee-baec-ed0b54f9e202/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.311Z","level":"info","message":"process_cv_started","requestId":"652dc804-ec37-4fee-baec-ed0b54f9e202","jobId":"f1c4626d-8d7d-483d-894d-629a13dac5a7","manualJobDescriptionProvided":true,"template":"unknown","session":"f1c4626d-8d7d-483d-894d-629a13dac5a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1c4626d-8d7d-483d-894d-629a13dac5a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.312Z","level":"info","message":"template_selection","requestId":"652dc804-ec37-4fee-baec-ed0b54f9e202","jobId":"f1c4626d-8d7d-483d-894d-629a13dac5a7","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"f1c4626d-8d7d-483d-894d-629a13dac5a7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f1c4626d-8d7d-483d-894d-629a13dac5a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.312Z","level":"info","message":"initial_upload_completed","requestId":"652dc804-ec37-4fee-baec-ed0b54f9e202","jobId":"f1c4626d-8d7d-483d-894d-629a13dac5a7","bucket":"test-bucket","key":"cv/candidate/652dc804-ec37-4fee-baec-ed0b54f9e202/incoming/original.pdf","template":"unknown","session":"f1c4626d-8d7d-483d-894d-629a13dac5a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1c4626d-8d7d-483d-894d-629a13dac5a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.313Z","level":"info","message":"resume_text_extracted","requestId":"652dc804-ec37-4fee-baec-ed0b54f9e202","jobId":"f1c4626d-8d7d-483d-894d-629a13dac5a7","characters":52,"template":"unknown","session":"f1c4626d-8d7d-483d-894d-629a13dac5a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1c4626d-8d7d-483d-894d-629a13dac5a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.314Z","level":"info","message":"document_classification_ai_metrics","requestId":"652dc804-ec37-4fee-baec-ed0b54f9e202","jobId":"f1c4626d-8d7d-483d-894d-629a13dac5a7","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"b660b3e8ecbc83aad9e6543dcb4a0d862627f82012d98cdb58b183fb5f0cc539","outputDigest":"ce4b8bd954f55aa4d760051876705884299536b3f182fa6f09cbd2aaee0a6b16","latencyMs":0,"isResume":false,"confidence":0.2,"template":"document_classification","session":"f1c4626d-8d7d-483d-894d-629a13dac5a7","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"f1c4626d-8d7d-483d-894d-629a13dac5a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.314Z","level":"info","message":"resume_classified","requestId":"652dc804-ec37-4fee-baec-ed0b54f9e202","jobId":"f1c4626d-8d7d-483d-894d-629a13dac5a7","isResume":false,"description":"a short memo","confidence":0.2,"accepted":false,"overridden":false,"template":"unknown","session":"f1c4626d-8d7d-483d-894d-629a13dac5a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1c4626d-8d7d-483d-894d-629a13dac5a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.315Z","level":"warn","message":"resume_validation_failed","requestId":"652dc804-ec37-4fee-baec-ed0b54f9e202","jobId":"f1c4626d-8d7d-483d-894d-629a13dac5a7","reason":"not_identified_as_resume","description":"a short memo","confidence":0.2,"wordCount":9,"invalidKey":"invalid/candidate/2025-12-03/652dc804-ec37-4fee-baec-ed0b54f9e202/a-short-memo-56a8345b-e65d-466a-a450-279798f23ab2.docx","classification":"a short memo","template":"unknown","session":"f1c4626d-8d7d-483d-894d-629a13dac5a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1c4626d-8d7d-483d-894d-629a13dac5a7","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25620:9
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.320Z","level":"warn","message":"api_error_response","requestId":"652dc804-ec37-4fee-baec-ed0b54f9e202","jobId":"f1c4626d-8d7d-483d-894d-629a13dac5a7","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded a short memo document (classified as \"short_memo\"). Missing resume structure. Please upload a correct CV or resume to continue.","details":{"description":"a short memo","confidence":0.2,"reason":"Missing resume structure.","classification":"a short memo","className":"short_memo","storageKey":"invalid/candidate/2025-12-03/652dc804-ec37-4fee-baec-ed0b54f9e202/a-short-memo-56a8345b-e65d-466a-a450-279798f23ab2.docx","invalidStorageKey":"invalid/candidate/2025-12-03/652dc804-ec37-4fee-baec-ed0b54f9e202/a-short-memo-56a8345b-e65d-466a-a450-279798f23ab2.docx"},"requestId":"652dc804-ec37-4fee-baec-ed0b54f9e202","jobId":"f1c4626d-8d7d-483d-894d-629a13dac5a7"},"template":"unknown","session":"f1c4626d-8d7d-483d-894d-629a13dac5a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1c4626d-8d7d-483d-894d-629a13dac5a7","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at sendError (server.js:3931:3)
      at server.js:25695:14
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.325Z","level":"info","message":"http_request_completed","requestId":"652dc804-ec37-4fee-baec-ed0b54f9e202","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":27,"contentLength":"748","template":"unknown","session":"652dc804-ec37-4fee-baec-ed0b54f9e202","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"652dc804-ec37-4fee-baec-ed0b54f9e202","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.327Z","level":"info","message":"http_request_received","requestId":"738a5605-b96b-4c0a-95e2-3b4564c6577c","method":"POST","path":"/api/process-cv","template":"unknown","session":"738a5605-b96b-4c0a-95e2-3b4564c6577c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"738a5605-b96b-4c0a-95e2-3b4564c6577c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.328Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.329Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.331Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.332Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.334Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/738a5605-b96b-4c0a-95e2-3b4564c6577c/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/738a5605-b96b-4c0a-95e2-3b4564c6577c/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/738a5605-b96b-4c0a-95e2-3b4564c6577c/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.339Z","level":"info","message":"process_cv_started","requestId":"738a5605-b96b-4c0a-95e2-3b4564c6577c","jobId":"d27979b7-64cd-4782-bdc6-c35a863b26c4","manualJobDescriptionProvided":false,"template":"unknown","session":"d27979b7-64cd-4782-bdc6-c35a863b26c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d27979b7-64cd-4782-bdc6-c35a863b26c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.339Z","level":"info","message":"template_selection","requestId":"738a5605-b96b-4c0a-95e2-3b4564c6577c","jobId":"d27979b7-64cd-4782-bdc6-c35a863b26c4","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"d27979b7-64cd-4782-bdc6-c35a863b26c4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d27979b7-64cd-4782-bdc6-c35a863b26c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.339Z","level":"warn","message":"job_description_missing","requestId":"738a5605-b96b-4c0a-95e2-3b4564c6577c","jobId":"d27979b7-64cd-4782-bdc6-c35a863b26c4","template":"unknown","session":"d27979b7-64cd-4782-bdc6-c35a863b26c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d27979b7-64cd-4782-bdc6-c35a863b26c4","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25049:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.345Z","level":"warn","message":"api_error_response","requestId":"738a5605-b96b-4c0a-95e2-3b4564c6577c","jobId":"d27979b7-64cd-4782-bdc6-c35a863b26c4","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"738a5605-b96b-4c0a-95e2-3b4564c6577c","jobId":"d27979b7-64cd-4782-bdc6-c35a863b26c4"},"template":"unknown","session":"d27979b7-64cd-4782-bdc6-c35a863b26c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d27979b7-64cd-4782-bdc6-c35a863b26c4","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at sendError (server.js:3931:3)
      at server.js:25050:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:03.351Z","level":"info","message":"http_request_completed","requestId":"738a5605-b96b-4c0a-95e2-3b4564c6577c","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":24,"contentLength":"244","template":"unknown","session":"738a5605-b96b-4c0a-95e2-3b4564c6577c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"738a5605-b96b-4c0a-95e2-3b4564c6577c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.353Z","level":"info","message":"http_request_received","requestId":"b7628510-5e5d-4ec0-9875-6381b57809dc","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"b7628510-5e5d-4ec0-9875-6381b57809dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b7628510-5e5d-4ec0-9875-6381b57809dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.354Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.355Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.356Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.358Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.358Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.360Z","level":"warn","message":"api_error_response","requestId":"b7628510-5e5d-4ec0-9875-6381b57809dc","jobId":"69dc377e-a9e6-4876-89d0-0955676a040c","status":400,"error":{"code":"JOB_ID_REQUIRED","message":"jobId is required to generate enhanced documents.","details":{},"requestId":"b7628510-5e5d-4ec0-9875-6381b57809dc","jobId":"69dc377e-a9e6-4876-89d0-0955676a040c"},"template":"unknown","session":"69dc377e-a9e6-4876-89d0-0955676a040c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"69dc377e-a9e6-4876-89d0-0955676a040c","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at sendError (server.js:3931:3)
      at server.js:22459:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at assignJobContext (server.js:16373:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveStatic (node_modules/serve-static/index.js:75:16)
      at server.js:4908:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at tryServeHashedIndexAssetFromS3 (server.js:1159:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveIndexAssetAlias (server.js:1494:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4890:5
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4884:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at urlencodedParser (node_modules/body-parser/lib/types/urlencoded.js:85:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

  console.log
    {"timestamp":"2025-12-03T13:31:03.368Z","level":"info","message":"http_request_completed","requestId":"b7628510-5e5d-4ec0-9875-6381b57809dc","method":"POST","path":"/api/generate-enhanced-docs","statusCode":400,"durationMs":15,"contentLength":"225","template":"unknown","session":"b7628510-5e5d-4ec0-9875-6381b57809dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b7628510-5e5d-4ec0-9875-6381b57809dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.370Z","level":"info","message":"http_request_received","requestId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.371Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.372Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.374Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.375Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.376Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.377Z","level":"warn","message":"generation_job_context_missing","requestId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:22651:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.386Z","level":"info","message":"llm_call_metrics","requestId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"7ff1a2fe49f8d71808c8d1fdb99db5320bf5a75739ee80e7efed665ea9588077","outputDigest":"5af248b63fed3c73350376c1d32988fbeb95f6a40181a19b7e450c5651a56ea6","addedSkillCount":0,"template":"resume_rewrite","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.386Z","level":"info","message":"generation_section_rewrite_completed","requestId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.388Z","level":"info","message":"generation_resume_verified","requestId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","template":"unknown","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.391Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
          at runMicrotasks (<anonymous>)
      at server.js:22954:28

  console.log
    {"timestamp":"2025-12-03T13:31:03.396Z","level":"info","message":"generation_cover_letters_completed","requestId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","variants":2,"fallbackApplied":true,"template":"unknown","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.397Z","level":"info","message":"pdf_generation_attempt","requestId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/49bf8db9-40c3-4556-9ea8-8177efcfe5de/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/49bf8db9-40c3-4556-9ea8-8177efcfe5de/enhanced_modern.pdf","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.397Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/49bf8db9-40c3-4556-9ea8-8177efcfe5de/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.398Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/49bf8db9-40c3-4556-9ea8-8177efcfe5de/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/49bf8db9-40c3-4556-9ea8-8177efcfe5de/enhanced_modern.pdf","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.398Z","level":"info","message":"pdf_generation_attempt","requestId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/49bf8db9-40c3-4556-9ea8-8177efcfe5de/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/49bf8db9-40c3-4556-9ea8-8177efcfe5de/enhanced_professional.pdf","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.399Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/49bf8db9-40c3-4556-9ea8-8177efcfe5de/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.399Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/49bf8db9-40c3-4556-9ea8-8177efcfe5de/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/49bf8db9-40c3-4556-9ea8-8177efcfe5de/enhanced_professional.pdf","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.400Z","level":"info","message":"pdf_generation_attempt","requestId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/49bf8db9-40c3-4556-9ea8-8177efcfe5de/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/49bf8db9-40c3-4556-9ea8-8177efcfe5de/cover_letter_cover_modern.pdf","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.400Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/49bf8db9-40c3-4556-9ea8-8177efcfe5de/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.401Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/49bf8db9-40c3-4556-9ea8-8177efcfe5de/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/49bf8db9-40c3-4556-9ea8-8177efcfe5de/cover_letter_cover_modern.pdf","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.401Z","level":"info","message":"pdf_generation_attempt","requestId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/49bf8db9-40c3-4556-9ea8-8177efcfe5de/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/49bf8db9-40c3-4556-9ea8-8177efcfe5de/cover_letter_cover_professional.pdf","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.402Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/49bf8db9-40c3-4556-9ea8-8177efcfe5de/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.402Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/49bf8db9-40c3-4556-9ea8-8177efcfe5de/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/49bf8db9-40c3-4556-9ea8-8177efcfe5de/cover_letter_cover_professional.pdf","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.404Z","level":"info","message":"llm_call_metrics","requestId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.405Z","level":"info","message":"generation_completed","requestId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","enhancedScore":0,"outputs":4,"template":"unknown","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.406Z","level":"info","message":"http_request_completed","requestId":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":36,"contentLength":"55422","template":"unknown","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49bf8db9-40c3-4556-9ea8-8177efcfe5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.409Z","level":"info","message":"http_request_received","requestId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.410Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.411Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.412Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.413Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.414Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.415Z","level":"warn","message":"generation_job_context_missing","requestId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:22651:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.427Z","level":"info","message":"llm_call_metrics","requestId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.428Z","level":"info","message":"generation_section_rewrite_completed","requestId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.430Z","level":"info","message":"generation_resume_verified","requestId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","template":"unknown","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.439Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
          at runMicrotasks (<anonymous>)
      at server.js:22954:28

  console.log
    {"timestamp":"2025-12-03T13:31:03.445Z","level":"info","message":"generation_cover_letters_completed","requestId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","variants":2,"fallbackApplied":true,"template":"unknown","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.445Z","level":"info","message":"pdf_generation_attempt","requestId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/dce369a6-7382-4dca-a7fe-9303aec0dcd6/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/dce369a6-7382-4dca-a7fe-9303aec0dcd6/enhanced_modern.pdf","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.446Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/dce369a6-7382-4dca-a7fe-9303aec0dcd6/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.446Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/dce369a6-7382-4dca-a7fe-9303aec0dcd6/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/dce369a6-7382-4dca-a7fe-9303aec0dcd6/enhanced_modern.pdf","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.447Z","level":"info","message":"pdf_generation_attempt","requestId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/dce369a6-7382-4dca-a7fe-9303aec0dcd6/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/dce369a6-7382-4dca-a7fe-9303aec0dcd6/enhanced_professional.pdf","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.447Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/dce369a6-7382-4dca-a7fe-9303aec0dcd6/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.447Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/dce369a6-7382-4dca-a7fe-9303aec0dcd6/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/dce369a6-7382-4dca-a7fe-9303aec0dcd6/enhanced_professional.pdf","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.448Z","level":"info","message":"pdf_generation_attempt","requestId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/dce369a6-7382-4dca-a7fe-9303aec0dcd6/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/dce369a6-7382-4dca-a7fe-9303aec0dcd6/cover_letter_cover_modern.pdf","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.448Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/dce369a6-7382-4dca-a7fe-9303aec0dcd6/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.449Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/dce369a6-7382-4dca-a7fe-9303aec0dcd6/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/dce369a6-7382-4dca-a7fe-9303aec0dcd6/cover_letter_cover_modern.pdf","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.449Z","level":"info","message":"pdf_generation_attempt","requestId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/dce369a6-7382-4dca-a7fe-9303aec0dcd6/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/dce369a6-7382-4dca-a7fe-9303aec0dcd6/cover_letter_cover_professional.pdf","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.449Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/dce369a6-7382-4dca-a7fe-9303aec0dcd6/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.450Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/dce369a6-7382-4dca-a7fe-9303aec0dcd6/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/dce369a6-7382-4dca-a7fe-9303aec0dcd6/cover_letter_cover_professional.pdf","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.454Z","level":"info","message":"llm_call_metrics","requestId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.455Z","level":"info","message":"generation_completed","requestId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","enhancedScore":0,"outputs":4,"template":"unknown","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.456Z","level":"info","message":"http_request_completed","requestId":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":47,"contentLength":"60025","template":"unknown","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dce369a6-7382-4dca-a7fe-9303aec0dcd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.459Z","level":"info","message":"http_request_received","requestId":"fed5186f-3162-4921-b196-a8a9ad016e3c","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.460Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.461Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.462Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.464Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.464Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.465Z","level":"warn","message":"generation_job_context_missing","requestId":"fed5186f-3162-4921-b196-a8a9ad016e3c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:22651:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.475Z","level":"info","message":"llm_call_metrics","requestId":"fed5186f-3162-4921-b196-a8a9ad016e3c","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.475Z","level":"info","message":"generation_section_rewrite_completed","requestId":"fed5186f-3162-4921-b196-a8a9ad016e3c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fed5186f-3162-4921-b196-a8a9ad016e3c","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.478Z","level":"info","message":"generation_resume_verified","requestId":"fed5186f-3162-4921-b196-a8a9ad016e3c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fed5186f-3162-4921-b196-a8a9ad016e3c","template":"unknown","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.481Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"fed5186f-3162-4921-b196-a8a9ad016e3c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fed5186f-3162-4921-b196-a8a9ad016e3c","invalidLetters":[{"key":"cover_letter1","issues":["placeholder_detected","weak_closing","section_heading_without_content"]}],"template":"unknown","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
          at runMicrotasks (<anonymous>)
      at server.js:22954:28

  console.warn
    {"timestamp":"2025-12-03T13:31:03.487Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"fed5186f-3162-4921-b196-a8a9ad016e3c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fed5186f-3162-4921-b196-a8a9ad016e3c","missing":["cover_letter1"],"template":"unknown","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
          at runMicrotasks (<anonymous>)
      at server.js:22954:28

  console.log
    {"timestamp":"2025-12-03T13:31:03.495Z","level":"info","message":"generation_cover_letters_completed","requestId":"fed5186f-3162-4921-b196-a8a9ad016e3c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fed5186f-3162-4921-b196-a8a9ad016e3c","variants":2,"fallbackApplied":true,"template":"unknown","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.496Z","level":"info","message":"pdf_generation_attempt","requestId":"fed5186f-3162-4921-b196-a8a9ad016e3c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fed5186f-3162-4921-b196-a8a9ad016e3c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/fed5186f-3162-4921-b196-a8a9ad016e3c/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/fed5186f-3162-4921-b196-a8a9ad016e3c/enhanced_modern.pdf","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.497Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"fed5186f-3162-4921-b196-a8a9ad016e3c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fed5186f-3162-4921-b196-a8a9ad016e3c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/fed5186f-3162-4921-b196-a8a9ad016e3c/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.498Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"fed5186f-3162-4921-b196-a8a9ad016e3c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fed5186f-3162-4921-b196-a8a9ad016e3c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/fed5186f-3162-4921-b196-a8a9ad016e3c/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/fed5186f-3162-4921-b196-a8a9ad016e3c/enhanced_modern.pdf","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.498Z","level":"info","message":"pdf_generation_attempt","requestId":"fed5186f-3162-4921-b196-a8a9ad016e3c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fed5186f-3162-4921-b196-a8a9ad016e3c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/fed5186f-3162-4921-b196-a8a9ad016e3c/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/fed5186f-3162-4921-b196-a8a9ad016e3c/enhanced_professional.pdf","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.499Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"fed5186f-3162-4921-b196-a8a9ad016e3c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fed5186f-3162-4921-b196-a8a9ad016e3c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/fed5186f-3162-4921-b196-a8a9ad016e3c/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.500Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"fed5186f-3162-4921-b196-a8a9ad016e3c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fed5186f-3162-4921-b196-a8a9ad016e3c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/fed5186f-3162-4921-b196-a8a9ad016e3c/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/fed5186f-3162-4921-b196-a8a9ad016e3c/enhanced_professional.pdf","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.500Z","level":"info","message":"pdf_generation_attempt","requestId":"fed5186f-3162-4921-b196-a8a9ad016e3c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fed5186f-3162-4921-b196-a8a9ad016e3c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/fed5186f-3162-4921-b196-a8a9ad016e3c/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/fed5186f-3162-4921-b196-a8a9ad016e3c/cover_letter_cover_modern.pdf","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.501Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"fed5186f-3162-4921-b196-a8a9ad016e3c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fed5186f-3162-4921-b196-a8a9ad016e3c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/fed5186f-3162-4921-b196-a8a9ad016e3c/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.502Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"fed5186f-3162-4921-b196-a8a9ad016e3c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fed5186f-3162-4921-b196-a8a9ad016e3c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/fed5186f-3162-4921-b196-a8a9ad016e3c/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/fed5186f-3162-4921-b196-a8a9ad016e3c/cover_letter_cover_modern.pdf","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.502Z","level":"info","message":"pdf_generation_attempt","requestId":"fed5186f-3162-4921-b196-a8a9ad016e3c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fed5186f-3162-4921-b196-a8a9ad016e3c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/fed5186f-3162-4921-b196-a8a9ad016e3c/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/fed5186f-3162-4921-b196-a8a9ad016e3c/cover_letter_cover_professional.pdf","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.503Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"fed5186f-3162-4921-b196-a8a9ad016e3c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fed5186f-3162-4921-b196-a8a9ad016e3c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/fed5186f-3162-4921-b196-a8a9ad016e3c/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.504Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"fed5186f-3162-4921-b196-a8a9ad016e3c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fed5186f-3162-4921-b196-a8a9ad016e3c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/fed5186f-3162-4921-b196-a8a9ad016e3c/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/fed5186f-3162-4921-b196-a8a9ad016e3c/cover_letter_cover_professional.pdf","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.516Z","level":"info","message":"llm_call_metrics","requestId":"fed5186f-3162-4921-b196-a8a9ad016e3c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.517Z","level":"info","message":"generation_completed","requestId":"fed5186f-3162-4921-b196-a8a9ad016e3c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fed5186f-3162-4921-b196-a8a9ad016e3c","enhancedScore":0,"outputs":4,"template":"unknown","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.519Z","level":"info","message":"http_request_completed","requestId":"fed5186f-3162-4921-b196-a8a9ad016e3c","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":60,"contentLength":"52626","template":"unknown","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fed5186f-3162-4921-b196-a8a9ad016e3c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.523Z","level":"info","message":"http_request_received","requestId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.524Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.525Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.526Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.528Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.529Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.530Z","level":"warn","message":"generation_job_context_missing","requestId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:22651:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.538Z","level":"info","message":"llm_call_metrics","requestId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.539Z","level":"info","message":"generation_section_rewrite_completed","requestId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.541Z","level":"info","message":"generation_resume_verified","requestId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","template":"unknown","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.545Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
          at runMicrotasks (<anonymous>)
      at server.js:22954:28

  console.log
    {"timestamp":"2025-12-03T13:31:03.550Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","variants":["cover_letter1"],"template":"unknown","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.552Z","level":"info","message":"generation_cover_letters_completed","requestId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","variants":2,"fallbackApplied":true,"template":"unknown","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.553Z","level":"info","message":"pdf_generation_attempt","requestId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/c8c5b434-d6c3-4fd6-bea4-a4d94faa817b/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/c8c5b434-d6c3-4fd6-bea4-a4d94faa817b/enhanced_modern.pdf","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.553Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/c8c5b434-d6c3-4fd6-bea4-a4d94faa817b/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.554Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/c8c5b434-d6c3-4fd6-bea4-a4d94faa817b/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/c8c5b434-d6c3-4fd6-bea4-a4d94faa817b/enhanced_modern.pdf","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.554Z","level":"info","message":"pdf_generation_attempt","requestId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/c8c5b434-d6c3-4fd6-bea4-a4d94faa817b/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/c8c5b434-d6c3-4fd6-bea4-a4d94faa817b/enhanced_professional.pdf","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.555Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/c8c5b434-d6c3-4fd6-bea4-a4d94faa817b/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.555Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/c8c5b434-d6c3-4fd6-bea4-a4d94faa817b/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/c8c5b434-d6c3-4fd6-bea4-a4d94faa817b/enhanced_professional.pdf","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.555Z","level":"info","message":"pdf_generation_attempt","requestId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/c8c5b434-d6c3-4fd6-bea4-a4d94faa817b/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/c8c5b434-d6c3-4fd6-bea4-a4d94faa817b/cover_letter_cover_modern.pdf","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.556Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/c8c5b434-d6c3-4fd6-bea4-a4d94faa817b/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.556Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/c8c5b434-d6c3-4fd6-bea4-a4d94faa817b/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/c8c5b434-d6c3-4fd6-bea4-a4d94faa817b/cover_letter_cover_modern.pdf","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.557Z","level":"info","message":"pdf_generation_attempt","requestId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/c8c5b434-d6c3-4fd6-bea4-a4d94faa817b/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/c8c5b434-d6c3-4fd6-bea4-a4d94faa817b/cover_letter_cover_professional.pdf","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.557Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/c8c5b434-d6c3-4fd6-bea4-a4d94faa817b/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.558Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/c8c5b434-d6c3-4fd6-bea4-a4d94faa817b/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/c8c5b434-d6c3-4fd6-bea4-a4d94faa817b/cover_letter_cover_professional.pdf","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.560Z","level":"info","message":"llm_call_metrics","requestId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.561Z","level":"info","message":"generation_completed","requestId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","enhancedScore":0,"outputs":4,"template":"unknown","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.562Z","level":"info","message":"http_request_completed","requestId":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":39,"contentLength":"48347","template":"unknown","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8c5b434-d6c3-4fd6-bea4-a4d94faa817b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.567Z","level":"info","message":"http_request_received","requestId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.568Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.569Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.571Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.572Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.573Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.574Z","level":"warn","message":"generation_job_context_missing","requestId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:22651:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.581Z","level":"info","message":"llm_call_metrics","requestId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.582Z","level":"info","message":"generation_section_rewrite_completed","requestId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.584Z","level":"info","message":"generation_resume_verified","requestId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","template":"unknown","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.600Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","invalidLetters":[{"key":"cover_letter1","issues":["exceeds_word_limit"]},{"key":"cover_letter2","issues":["exceeds_word_limit"]}],"template":"unknown","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
          at runMicrotasks (<anonymous>)
      at server.js:22954:28

  console.warn
    {"timestamp":"2025-12-03T13:31:03.606Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
          at runMicrotasks (<anonymous>)
      at server.js:22954:28

  console.log
    {"timestamp":"2025-12-03T13:31:03.611Z","level":"info","message":"generation_cover_letters_completed","requestId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","variants":2,"fallbackApplied":true,"template":"unknown","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.611Z","level":"info","message":"pdf_generation_attempt","requestId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/e3cf4e77-06ae-4cd6-8646-f867de322f24/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/e3cf4e77-06ae-4cd6-8646-f867de322f24/enhanced_modern.pdf","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.612Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/e3cf4e77-06ae-4cd6-8646-f867de322f24/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.612Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/e3cf4e77-06ae-4cd6-8646-f867de322f24/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/e3cf4e77-06ae-4cd6-8646-f867de322f24/enhanced_modern.pdf","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.613Z","level":"info","message":"pdf_generation_attempt","requestId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/e3cf4e77-06ae-4cd6-8646-f867de322f24/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/e3cf4e77-06ae-4cd6-8646-f867de322f24/enhanced_professional.pdf","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.613Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/e3cf4e77-06ae-4cd6-8646-f867de322f24/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.614Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/e3cf4e77-06ae-4cd6-8646-f867de322f24/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/e3cf4e77-06ae-4cd6-8646-f867de322f24/enhanced_professional.pdf","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.615Z","level":"info","message":"pdf_generation_attempt","requestId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/e3cf4e77-06ae-4cd6-8646-f867de322f24/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/e3cf4e77-06ae-4cd6-8646-f867de322f24/cover_letter_cover_modern.pdf","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.615Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/e3cf4e77-06ae-4cd6-8646-f867de322f24/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.616Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/e3cf4e77-06ae-4cd6-8646-f867de322f24/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/e3cf4e77-06ae-4cd6-8646-f867de322f24/cover_letter_cover_modern.pdf","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.616Z","level":"info","message":"pdf_generation_attempt","requestId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/e3cf4e77-06ae-4cd6-8646-f867de322f24/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/e3cf4e77-06ae-4cd6-8646-f867de322f24/cover_letter_cover_professional.pdf","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.617Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/e3cf4e77-06ae-4cd6-8646-f867de322f24/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.617Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/e3cf4e77-06ae-4cd6-8646-f867de322f24/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/e3cf4e77-06ae-4cd6-8646-f867de322f24/cover_letter_cover_professional.pdf","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.624Z","level":"info","message":"llm_call_metrics","requestId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.624Z","level":"info","message":"generation_completed","requestId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","enhancedScore":0,"outputs":4,"template":"unknown","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.626Z","level":"info","message":"http_request_completed","requestId":"e3cf4e77-06ae-4cd6-8646-f867de322f24","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":59,"contentLength":"60025","template":"unknown","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3cf4e77-06ae-4cd6-8646-f867de322f24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.629Z","level":"info","message":"http_request_received","requestId":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.630Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.631Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.632Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.634Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.634Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.636Z","level":"warn","message":"generation_job_context_missing","requestId":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:22651:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.642Z","level":"info","message":"llm_call_metrics","requestId":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d49fc3c9f3e6b68c516d8ed2277f352be0cdf73d24dc9159a6ddd8d2156f86c9","outputDigest":"df45602e27dd18441258611754779b1df94aaddbe2a7ac6965c12432f6053bc4","addedSkillCount":0,"template":"resume_rewrite","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.643Z","level":"info","message":"generation_section_rewrite_completed","requestId":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.645Z","level":"info","message":"generation_resume_verified","requestId":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","template":"unknown","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.647Z","level":"warn","message":"generation_cover_letters_unavailable","requestId":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","unavailable":["cover_letter1","cover_letter2"],"template":"unknown","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20694:7)
          at runMicrotasks (<anonymous>)
      at server.js:22954:28

  console.log
    {"timestamp":"2025-12-03T13:31:03.653Z","level":"info","message":"generation_cover_letters_completed","requestId":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","variants":0,"fallbackApplied":false,"template":"unknown","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.653Z","level":"info","message":"pdf_generation_attempt","requestId":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/d18d997d-be8a-411d-9cdb-790a5ed8a9a0/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/d18d997d-be8a-411d-9cdb-790a5ed8a9a0/enhanced_modern.pdf","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.653Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/d18d997d-be8a-411d-9cdb-790a5ed8a9a0/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.654Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/d18d997d-be8a-411d-9cdb-790a5ed8a9a0/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/d18d997d-be8a-411d-9cdb-790a5ed8a9a0/enhanced_modern.pdf","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.654Z","level":"info","message":"pdf_generation_attempt","requestId":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/d18d997d-be8a-411d-9cdb-790a5ed8a9a0/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/d18d997d-be8a-411d-9cdb-790a5ed8a9a0/enhanced_professional.pdf","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.655Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/d18d997d-be8a-411d-9cdb-790a5ed8a9a0/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.655Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/d18d997d-be8a-411d-9cdb-790a5ed8a9a0/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/d18d997d-be8a-411d-9cdb-790a5ed8a9a0/enhanced_professional.pdf","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.657Z","level":"info","message":"llm_call_metrics","requestId":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.657Z","level":"info","message":"generation_completed","requestId":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","enhancedScore":0,"outputs":2,"template":"unknown","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.658Z","level":"info","message":"http_request_completed","requestId":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":29,"contentLength":"32129","template":"unknown","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d18d997d-be8a-411d-9cdb-790a5ed8a9a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.663Z","level":"info","message":"http_request_received","requestId":"11b459fb-005e-4109-acae-ddcb5bb3a471","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.664Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.665Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.666Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.668Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.668Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.671Z","level":"warn","message":"generation_change_log_load_failed","requestId":"11b459fb-005e-4109-acae-ddcb5bb3a471","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22717:34\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:22719:13
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.676Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"11b459fb-005e-4109-acae-ddcb5bb3a471","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.678Z","level":"info","message":"llm_call_metrics","requestId":"11b459fb-005e-4109-acae-ddcb5bb3a471","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"acf1b9378acb575b229122bd0509d239fb40292b5a2de638f8974b10630dddf9","outputDigest":"d38deb915a9824cbd24a0a21322f3421cffa08850deba8b630d4c012e36accc6","addedSkillCount":0,"template":"resume_rewrite","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.679Z","level":"info","message":"generation_section_rewrite_completed","requestId":"11b459fb-005e-4109-acae-ddcb5bb3a471","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b459fb-005e-4109-acae-ddcb5bb3a471","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.679Z","level":"info","message":"llm_call_metrics","requestId":"11b459fb-005e-4109-acae-ddcb5bb3a471","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"a89c45c951abfe25af2671eb78aaf142165e3f6bd78d4b83089b4f9a78e64f20","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.681Z","level":"info","message":"generation_resume_verified","requestId":"11b459fb-005e-4109-acae-ddcb5bb3a471","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b459fb-005e-4109-acae-ddcb5bb3a471","template":"unknown","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.684Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"11b459fb-005e-4109-acae-ddcb5bb3a471","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b459fb-005e-4109-acae-ddcb5bb3a471","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
          at runMicrotasks (<anonymous>)
      at server.js:22954:28

  console.warn
    {"timestamp":"2025-12-03T13:31:03.690Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"11b459fb-005e-4109-acae-ddcb5bb3a471","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b459fb-005e-4109-acae-ddcb5bb3a471","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
          at runMicrotasks (<anonymous>)
      at server.js:22954:28

  console.log
    {"timestamp":"2025-12-03T13:31:03.695Z","level":"info","message":"generation_cover_letters_completed","requestId":"11b459fb-005e-4109-acae-ddcb5bb3a471","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b459fb-005e-4109-acae-ddcb5bb3a471","variants":2,"fallbackApplied":true,"template":"unknown","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.695Z","level":"info","message":"pdf_generation_attempt","requestId":"11b459fb-005e-4109-acae-ddcb5bb3a471","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b459fb-005e-4109-acae-ddcb5bb3a471","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.696Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"11b459fb-005e-4109-acae-ddcb5bb3a471","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b459fb-005e-4109-acae-ddcb5bb3a471","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.696Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"11b459fb-005e-4109-acae-ddcb5bb3a471","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b459fb-005e-4109-acae-ddcb5bb3a471","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.697Z","level":"info","message":"pdf_generation_attempt","requestId":"11b459fb-005e-4109-acae-ddcb5bb3a471","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b459fb-005e-4109-acae-ddcb5bb3a471","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.697Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"11b459fb-005e-4109-acae-ddcb5bb3a471","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b459fb-005e-4109-acae-ddcb5bb3a471","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.697Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"11b459fb-005e-4109-acae-ddcb5bb3a471","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b459fb-005e-4109-acae-ddcb5bb3a471","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.698Z","level":"info","message":"pdf_generation_attempt","requestId":"11b459fb-005e-4109-acae-ddcb5bb3a471","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b459fb-005e-4109-acae-ddcb5bb3a471","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.698Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"11b459fb-005e-4109-acae-ddcb5bb3a471","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b459fb-005e-4109-acae-ddcb5bb3a471","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.699Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"11b459fb-005e-4109-acae-ddcb5bb3a471","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b459fb-005e-4109-acae-ddcb5bb3a471","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.699Z","level":"info","message":"pdf_generation_attempt","requestId":"11b459fb-005e-4109-acae-ddcb5bb3a471","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b459fb-005e-4109-acae-ddcb5bb3a471","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.699Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"11b459fb-005e-4109-acae-ddcb5bb3a471","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b459fb-005e-4109-acae-ddcb5bb3a471","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.700Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"11b459fb-005e-4109-acae-ddcb5bb3a471","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b459fb-005e-4109-acae-ddcb5bb3a471","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.702Z","level":"info","message":"llm_call_metrics","requestId":"11b459fb-005e-4109-acae-ddcb5bb3a471","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"6daad81d53ca29e2440dbdfd5e7ac149ac9bc677f5bd5a926b958a85793be6c1","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.702Z","level":"info","message":"generation_completed","requestId":"11b459fb-005e-4109-acae-ddcb5bb3a471","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b459fb-005e-4109-acae-ddcb5bb3a471","enhancedScore":0,"outputs":5,"template":"unknown","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.705Z","level":"info","message":"http_request_completed","requestId":"11b459fb-005e-4109-acae-ddcb5bb3a471","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":42,"contentLength":"52667","template":"unknown","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11b459fb-005e-4109-acae-ddcb5bb3a471","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.708Z","level":"info","message":"http_request_received","requestId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.709Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.710Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.711Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.712Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.713Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.714Z","level":"warn","message":"generation_change_log_load_failed","requestId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22717:34\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:22719:13
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.719Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.721Z","level":"info","message":"llm_call_metrics","requestId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"fc71d2d7420045c9674c39d1bc893139670e4554452723b0b8930f14ae74efd1","outputDigest":"994365ee088ebf4da994d91479825476737b8633f45dc9441cf82f317f739457","addedSkillCount":0,"template":"resume_rewrite","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.722Z","level":"info","message":"generation_section_rewrite_completed","requestId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.722Z","level":"info","message":"llm_call_metrics","requestId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"2941229673895ce87f4eb2dd47c041b77270273e0250170302676d5a10351fbf","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.724Z","level":"info","message":"generation_resume_verified","requestId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","template":"unknown","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.728Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20488:7)
          at runMicrotasks (<anonymous>)
      at server.js:22954:28

  console.warn
    {"timestamp":"2025-12-03T13:31:03.733Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
          at runMicrotasks (<anonymous>)
      at server.js:22954:28

  console.log
    {"timestamp":"2025-12-03T13:31:03.738Z","level":"info","message":"generation_cover_letters_completed","requestId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","variants":2,"fallbackApplied":true,"template":"unknown","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.739Z","level":"info","message":"pdf_generation_attempt","requestId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.739Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.740Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.740Z","level":"info","message":"pdf_generation_attempt","requestId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.741Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.741Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.741Z","level":"info","message":"pdf_generation_attempt","requestId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.742Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.742Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.744Z","level":"info","message":"pdf_generation_attempt","requestId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.744Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.745Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.746Z","level":"info","message":"llm_call_metrics","requestId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"bb70bada40357e7ad85703e98908783ac38c79f83207e1ee038136c2f4863594","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.747Z","level":"info","message":"generation_completed","requestId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","enhancedScore":0,"outputs":5,"template":"unknown","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.748Z","level":"info","message":"http_request_completed","requestId":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":40,"contentLength":"50998","template":"unknown","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"259e4d3d-9197-4f5d-bd33-9b7fd8c2e8c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.751Z","level":"info","message":"http_request_received","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","method":"POST","path":"/api/process-cv","template":"unknown","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.752Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.753Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.754Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.756Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.757Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/incoming/original.pdf","chunks":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:95:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:100:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:109:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:131:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/incoming/original.pdf"}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:142:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.766Z","level":"info","message":"process_cv_started","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","manualJobDescriptionProvided":true,"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.766Z","level":"info","message":"template_selection","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.767Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at server.js:25085:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24725:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-03T13:31:03.772Z","level":"info","message":"initial_upload_completed","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","bucket":"test-bucket","key":"cv/candidate/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/incoming/original.pdf","template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.772Z","level":"info","message":"resume_text_extracted","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","characters":57,"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.774Z","level":"info","message":"resume_classified","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.774Z","level":"info","message":"raw_upload_relocated","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","bucket":"test-bucket","fromKey":"cv/candidate/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/incoming/original.pdf","toKey":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/original.pdf","template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.774Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","bucket":"test-bucket","key":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/original.pdf","template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.775Z","level":"info","message":"dynamo_initial_record_written","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","bucket":"test-bucket","key":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/original.pdf","template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.775Z","level":"info","message":"upload_metadata_written","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","bucket":"test-bucket","key":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/logs/log.json","template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.775Z","level":"info","message":"job_description_supplied_manually","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","characters":174,"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.776Z","level":"info","message":"job_description_analyzed","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","jobTitle":"","jobSkills":5,"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.776Z","level":"info","message":"resume_skills_analyzed","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.777Z","level":"info","message":"llm_call_metrics","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.777Z","level":"info","message":"process_cv_scoring_completed","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.782Z","level":"info","message":"llm_call_metrics","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"e0b0f289a004a53fc90e2f086b7a8368b36f3cb57e330732da1cad386d479cd5","addedSkillCount":0,"template":"resume_rewrite","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.783Z","level":"info","message":"generation_section_rewrite_completed","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","generationRunId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.785Z","level":"info","message":"generation_resume_verified","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","generationRunId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.788Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","generationRunId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generateEnhancedDocumentsResponse (server.js:20677:7)
          at runMicrotasks (<anonymous>)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:03.794Z","level":"info","message":"generation_cover_letters_completed","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","generationRunId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","variants":2,"fallbackApplied":true,"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.795Z","level":"info","message":"pdf_generation_attempt","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","generationRunId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/enhanced_modern.pdf","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.795Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","generationRunId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-03T13:31:03.796Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","generationRunId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3336:27)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/enhanced_modern.pdf","environment":{"nodeEnv":"development","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:10964:7)
          at runMicrotasks (<anonymous>)
      at generateEnhancedDocumentsResponse (server.js:21255:11)
      at server.js:26684:28

  console.log
    {"timestamp":"2025-12-03T13:31:03.801Z","level":"info","message":"pdf_generation_attempt","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","generationRunId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/enhanced_professional.pdf","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.802Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","generationRunId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.802Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","generationRunId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/","sessionId":"[REDACTED]","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/enhanced_professional.pdf","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.803Z","level":"info","message":"pdf_generation_attempt","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","generationRunId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/enhanced_professional.pdf","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.803Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","generationRunId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.803Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","generationRunId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/enhanced_professional.pdf","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.804Z","level":"info","message":"pdf_generation_attempt","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","generationRunId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/cover_letter_cover_modern.pdf","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.804Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","generationRunId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.805Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","generationRunId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":16,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/cover_letter_cover_modern.pdf","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.805Z","level":"info","message":"pdf_generation_attempt","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","generationRunId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/cover_letter_cover_professional.pdf","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.806Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","generationRunId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.806Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","generationRunId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":22,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/2a95cfbd-27a9-43d3-9d9d-67ecbedea18d/cover_letter_cover_professional.pdf","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.808Z","level":"info","message":"llm_call_metrics","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"b81624598eca82514b81f4fd0ef858c4f8eda9605bf4a3b33ed31144fa2daed3","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.808Z","level":"info","message":"generation_completed","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","generationRunId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","enhancedScore":80,"outputs":5,"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.810Z","level":"info","message":"placeholder_record_deleted","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","jobId":"0230c69e-4e61-4118-93f7-2a41025b70c2","placeholderIdentifier":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0230c69e-4e61-4118-93f7-2a41025b70c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.811Z","level":"info","message":"http_request_completed","requestId":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":60,"contentLength":"59519","template":"unknown","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2a95cfbd-27a9-43d3-9d9d-67ecbedea18d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.814Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":2,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.815Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-03T13:31:03.816Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3441:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:10964:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3455:20)

  console.log
    {"timestamp":"2025-12-03T13:31:03.821Z","level":"info","message":"pdf_generation_backstop_succeeded","documentType":"resume","template":"2025","templatesBackstopped":["2025"],"backstopResults":[{"templateId":"2025","bytes":1024}],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.822Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":2,"totalAttempts":2,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.822Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.822Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"modern","attempt":2,"bytes":10,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.823Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.824Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-03T13:31:03.825Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"modern","attempt":1,"error":{"name":"Error","message":"Modern renderer unavailable","stack":"Error: Modern renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3480:30)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:10964:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3484:20)

  console.log
    {"timestamp":"2025-12-03T13:31:03.830Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.830Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.830Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.831Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.832Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-03T13:31:03.832Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3502:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:10964:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3515:20)

  console.log
    {"timestamp":"2025-12-03T13:31:03.838Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.839Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.839Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.840Z","level":"info","message":"pdf_generation_attempt","documentType":"cover_letter","template":"cover_modern","attempt":1,"totalAttempts":1,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.840Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"cover_letter","template":"cover_modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-03T13:31:03.841Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"cover_letter","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"Primary renderer offline","stack":"Error: Primary renderer offline\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3533:48)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:10964:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3570:5)

  console.warn
    {"timestamp":"2025-12-03T13:31:03.846Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:11108:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3570:5)

  console.error
    {"timestamp":"2025-12-03T13:31:03.851Z","level":"error","message":"pdf_generation_plain_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","error":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3535:13\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9744:12)\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11112:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3570:5)"},"forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:11157:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3570:5)

  console.error
    {"timestamp":"2025-12-03T13:31:03.856Z","level":"error","message":"pdf_generation_minimal_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3538:13\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11178:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3570:5)"},"previousError":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3535:13\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9744:12)\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11112:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3570:5)"},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:11201:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3570:5)

  console.error
    {"timestamp":"2025-12-03T13:31:03.862Z","level":"error","message":"pdf_generation_all_attempts_failed","documentType":"cover_letter","templates":["cover_modern"],"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3538:13\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11178:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3570:5)"},"targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"summary":"Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable","messages":["Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable"],"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3420 |     const safePayload = sanitizeLogPayload(payload);
      3421 |     const serialised = JSON.stringify(safePayload);
    > 3422 |     logFn(serialised);
           |     ^
      3423 |     if (level === 'error') {
      3424 |       scheduleErrorLog(safePayload);
      3425 |     }

      at logStructured (server.js:3422:5)
      at generatePdfWithFallback (server.js:11223:3)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3570:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.895Z","level":"info","message":"http_request_received","requestId":"6230bd9d-557c-4dd2-89c6-260976e03a92","method":"POST","path":"/api/change-log","template":"unknown","session":"6230bd9d-557c-4dd2-89c6-260976e03a92","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6230bd9d-557c-4dd2-89c6-260976e03a92","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.896Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.897Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.898Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.899Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.900Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.902Z","level":"info","message":"change_log_updated","requestId":"6230bd9d-557c-4dd2-89c6-260976e03a92","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.903Z","level":"info","message":"http_request_completed","requestId":"6230bd9d-557c-4dd2-89c6-260976e03a92","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":8,"contentLength":"48197","template":"unknown","session":"6230bd9d-557c-4dd2-89c6-260976e03a92","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6230bd9d-557c-4dd2-89c6-260976e03a92","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.906Z","level":"info","message":"http_request_received","requestId":"cdfff191-0e08-440d-8c32-e75f399c5224","method":"POST","path":"/api/change-log","template":"unknown","session":"cdfff191-0e08-440d-8c32-e75f399c5224","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cdfff191-0e08-440d-8c32-e75f399c5224","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.907Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.908Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.909Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.911Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.911Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.914Z","level":"info","message":"change_log_updated","requestId":"cdfff191-0e08-440d-8c32-e75f399c5224","jobId":"job-321","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-321","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-321","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.914Z","level":"info","message":"http_request_completed","requestId":"cdfff191-0e08-440d-8c32-e75f399c5224","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":8,"contentLength":"1958","template":"unknown","session":"cdfff191-0e08-440d-8c32-e75f399c5224","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cdfff191-0e08-440d-8c32-e75f399c5224","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.918Z","level":"info","message":"http_request_received","requestId":"22d30300-1e08-4556-b15c-33c3492fea9f","method":"POST","path":"/api/change-log","template":"unknown","session":"22d30300-1e08-4556-b15c-33c3492fea9f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"22d30300-1e08-4556-b15c-33c3492fea9f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.919Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.920Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.921Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.922Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.923Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.926Z","level":"info","message":"change_log_updated","requestId":"22d30300-1e08-4556-b15c-33c3492fea9f","jobId":"job-789","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-789","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-789","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.927Z","level":"info","message":"http_request_completed","requestId":"22d30300-1e08-4556-b15c-33c3492fea9f","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":9,"contentLength":"6061","template":"unknown","session":"22d30300-1e08-4556-b15c-33c3492fea9f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"22d30300-1e08-4556-b15c-33c3492fea9f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.929Z","level":"info","message":"http_request_received","requestId":"979d4608-3321-4eb6-bd6d-1b6d07acb6a7","method":"POST","path":"/api/change-log","template":"unknown","session":"979d4608-3321-4eb6-bd6d-1b6d07acb6a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"979d4608-3321-4eb6-bd6d-1b6d07acb6a7","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.930Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.931Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.932Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.933Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.934Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.935Z","level":"info","message":"change_log_updated","requestId":"979d4608-3321-4eb6-bd6d-1b6d07acb6a7","jobId":"job-session","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-session","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-session","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.936Z","level":"info","message":"http_request_completed","requestId":"979d4608-3321-4eb6-bd6d-1b6d07acb6a7","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"1213","template":"unknown","session":"979d4608-3321-4eb6-bd6d-1b6d07acb6a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"979d4608-3321-4eb6-bd6d-1b6d07acb6a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.937Z","level":"info","message":"http_request_received","requestId":"2f18cd8d-ca47-457c-897e-ce039cb96a06","method":"POST","path":"/api/change-log","template":"unknown","session":"2f18cd8d-ca47-457c-897e-ce039cb96a06","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f18cd8d-ca47-457c-897e-ce039cb96a06","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.938Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.939Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.940Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.942Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.942Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.944Z","level":"info","message":"change_log_updated","requestId":"2f18cd8d-ca47-457c-897e-ce039cb96a06","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.945Z","level":"info","message":"http_request_completed","requestId":"2f18cd8d-ca47-457c-897e-ce039cb96a06","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":8,"contentLength":"789","template":"unknown","session":"2f18cd8d-ca47-457c-897e-ce039cb96a06","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f18cd8d-ca47-457c-897e-ce039cb96a06","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.947Z","level":"info","message":"http_request_received","requestId":"757acfb3-8fcb-41cf-bd1c-db02c0e4d18c","method":"POST","path":"/api/change-log","template":"unknown","session":"757acfb3-8fcb-41cf-bd1c-db02c0e4d18c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"757acfb3-8fcb-41cf-bd1c-db02c0e4d18c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.948Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.949Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.950Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.952Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.952Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.954Z","level":"info","message":"change_log_updated","requestId":"757acfb3-8fcb-41cf-bd1c-db02c0e4d18c","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.954Z","level":"info","message":"http_request_completed","requestId":"757acfb3-8fcb-41cf-bd1c-db02c0e4d18c","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"350","template":"unknown","session":"757acfb3-8fcb-41cf-bd1c-db02c0e4d18c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"757acfb3-8fcb-41cf-bd1c-db02c0e4d18c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.956Z","level":"info","message":"http_request_received","requestId":"4dc7f878-e535-422e-a2ce-423dac179381","method":"POST","path":"/api/change-log","template":"unknown","session":"4dc7f878-e535-422e-a2ce-423dac179381","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dc7f878-e535-422e-a2ce-423dac179381","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.957Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.958Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.959Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.960Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.961Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.962Z","level":"info","message":"change_log_updated","requestId":"4dc7f878-e535-422e-a2ce-423dac179381","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.963Z","level":"info","message":"http_request_completed","requestId":"4dc7f878-e535-422e-a2ce-423dac179381","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"1151","template":"unknown","session":"4dc7f878-e535-422e-a2ce-423dac179381","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dc7f878-e535-422e-a2ce-423dac179381","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.965Z","level":"info","message":"http_request_received","requestId":"eb43800d-87b2-4781-96e8-8f6c2077fda3","method":"POST","path":"/api/change-log","template":"unknown","session":"eb43800d-87b2-4781-96e8-8f6c2077fda3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb43800d-87b2-4781-96e8-8f6c2077fda3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.966Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.967Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.968Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.970Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.970Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.971Z","level":"info","message":"change_log_updated","requestId":"eb43800d-87b2-4781-96e8-8f6c2077fda3","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.972Z","level":"info","message":"http_request_completed","requestId":"eb43800d-87b2-4781-96e8-8f6c2077fda3","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"596","template":"unknown","session":"eb43800d-87b2-4781-96e8-8f6c2077fda3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb43800d-87b2-4781-96e8-8f6c2077fda3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.975Z","level":"info","message":"http_request_received","requestId":"4d055084-e7f3-45bd-95ec-c6b7d299415f","method":"POST","path":"/api/change-log","template":"unknown","session":"4d055084-e7f3-45bd-95ec-c6b7d299415f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4d055084-e7f3-45bd-95ec-c6b7d299415f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.976Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.977Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.978Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.979Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.980Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

  console.log
    {"timestamp":"2025-12-03T13:31:03.982Z","level":"info","message":"change_log_updated","requestId":"4d055084-e7f3-45bd-95ec-c6b7d299415f","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-03T13:31:03.983Z","level":"info","message":"http_request_completed","requestId":"4d055084-e7f3-45bd-95ec-c6b7d299415f","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":8,"contentLength":"2337","template":"unknown","session":"4d055084-e7f3-45bd-95ec-c6b7d299415f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4d055084-e7f3-45bd-95ec-c6b7d299415f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3422:5)

PASS tests/server.test.mjs (5.62 s)
  health check
     GET /healthz (56 ms)
  static asset fallbacks
     GET /favicon.ico returns 204 (15 ms)
     serves hashed index asset from S3 when local file is missing (20 ms)
     serves hashed index asset directly from the bundled client when available (15 ms)
     strips API Gateway stage prefixes before resolving static index aliases (11 ms)
     performs HEAD lookup against S3 for hashed index asset metadata (16 ms)
     serves the latest index asset alias via S3 when local files are unavailable (12 ms)
     serves the index asset alias via the S3 manifest when the local manifest is missing (13 ms)
     serves the index asset alias when the manifest contains prefixed S3 keys (11 ms)
     serves the index asset alias via manifest fallback when the primary bundle is missing from S3 (35 ms)
  static asset proxy endpoint
     serves the index alias via the local build (14 ms)
     normalizes stray punctuation in proxy asset queries (17 ms)
     strips inline alias annotations from hashed proxy asset queries (15 ms)
     falls back to S3 when the hashed bundle is unavailable locally (25 ms)
     degrades hashed proxy requests to the index alias when upstream assets are missing (35 ms)
     degrades direct hashed asset requests to the index alias when upstream bundles are missing (22 ms)
     rejects invalid asset paths (23 ms)
  static asset manifest endpoint
     returns manifest data when available (12 ms)
     allows forcing a manifest refresh via query parameter (20 ms)
     returns 503 when manifest is unavailable (22 ms)
  /api/process-cv
     handles DynamoDB table lifecycle (287 ms)
     removes stale session change logs when starting a new upload session (88 ms)
     removes session change log data when the session prefix is reused (72 ms)
     requires manual job description input (79 ms)
     sanitizes manual job description input before analysis (52 ms)
     rejects manual job description input containing prohibited HTML tags (25 ms)
     stores sanitized job description as session input metadata (54 ms)
     accepts uploads without a LinkedIn profile URL (53 ms)
     malformed AI response (62 ms)
     handles code-fenced JSON with extra text (78 ms)
     handles JSON surrounded by text (75 ms)
     returns presigned PDF URLs with labeled asset types (78 ms)
     returns a structured error when download URLs cannot be generated (114 ms)
     cover letter urls include structured metadata (74 ms)
     uses provided templates in preferred order (54 ms)
     uses templates array (54 ms)
     filters AI guidance lines (58 ms)
     resume prompt asks for a project matching job skills (52 ms)
     inserts project into resume text (51 ms)
     adds project section when job description provided (55 ms)
     cover letters omit placeholder sections (53 ms)
     normalizes structured cover letter responses into text (48 ms)
     uses sanitized resume fallback when AI returns plain text for versions (58 ms)
     falls back to plain PDFs when template rendering fails (203 ms)
     final CV includes updated title, project, and skills (54 ms)
     missing file (21 ms)
     unsupported file type (24 ms)
     rejects non-resume content with descriptive feedback (35 ms)
     requires re-upload when classification does not identify a CV (30 ms)
     missing job description text (26 ms)
    download link refresh
       resigns an existing artifact key for the active job (20 ms)
       returns not found when the storage key does not match the job context (14 ms)
    resume size handling
       accepts tiny PDF (32 KB) uploads up to 5 MB (51 ms)
       accepts small DOCX (256 KB) uploads up to 5 MB (74 ms)
       accepts mid-sized PDF (2 MB) uploads up to 5 MB (58 ms)
       accepts near-limit DOCX (just under 5 MB) uploads up to 5 MB (112 ms)
       rejects resumes larger than 5 MB (33 ms)
  /api/generate-enhanced-docs
     responds with structured details when jobId is missing (17 ms)
     queues message when fallback cover letters are used (39 ms)
     replaces whitespace cover letters with fallback copy (50 ms)
     audits cover letters for placeholders and applies fallback (64 ms)
     replaces weak closing cover letters with confident fallback copy (44 ms)
     replaces cover letters exceeding the word limit with confident fallback copy (62 ms)
     surfaces message when cover letters remain unavailable (32 ms)
     refreshes session artifacts when job description changes for a new enhancement (47 ms)
     refreshes session artifacts automatically when job description changes (43 ms)
     persists template vs population errors in stage metadata (63 ms)
  generatePdfWithFallback
     records retry message when 2025 renderer fails (9 ms)
     announces next template when fallback occurs for non-2025 resume (8 ms)
     announces actual next template when 2025 fallback prefers contrast option (9 ms)
     throws explicit PdfGenerationError with summary when all strategies fail (28 ms)
  classifyDocument
     identifies resumes by section structure
     detects cover letters (1 ms)
     rejects job descriptions that mimic resume sections
  extractText
     extracts text from pdf
     extracts text from docx (1 ms)
     guides user when pdf parsing fails (17 ms)
     guides user when docx parsing fails
     extracts text from doc (3 ms)
     rejects plain text files (1 ms)
  client download labels
     App displays correct labels for each file type (2 ms)
  change log persistence safeguards
     truncates oversized change log fields before persisting (12 ms)
     persists category changelog details for ATS, skills, and related sections (11 ms)
     captures rescore summary and updates session score snapshot (12 ms)
     stores session change logs under a user session prefix when no prior key exists (9 ms)
  change log session visibility
     persists reverted entries when updating the change log (9 ms)
     stores rejected entries in the session change log dismissed list (9 ms)
     persists cover letter change log payloads to S3 (9 ms)
     removing a cover letter entry records dismissal state in S3 (9 ms)
     persists activity logs from nested payloads into the session change log (12 ms)

Test Suites: 1 passed, 1 total
Tests:       90 passed, 90 total
Snapshots:   0 total
Time:        5.661 s
Ran all test suites matching /tests\/server.test.mjs/i.
Force exiting Jest: Have you considered using `--detectOpenHandles` to detect async operations that kept running after all tests finished?
