
> resumeforge@1.0.0 test:unit
> NODE_OPTIONS='--max-old-space-size=4096' node --experimental-vm-modules node_modules/jest/bin/jest.js --testPathIgnorePatterns='\.integration\.test\.js$' --testPathIgnorePatterns='\.e2e\.test\.js$' tests/server.test.mjs

[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
(node:28266) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
(node:28271) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
(node:28270) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
(node:28271) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/targetedImprovements.test.js
(node:28270) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/staticAssetCaching.test.js
(node:28268) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
(node:28267) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
(node:28267) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
(node:28268) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
(node:28272) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
PASS client/src/__tests__/AppTemplateSelection.test.jsx
PASS tests/lib/uploads/metadata.test.js
(node:28266) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/geminiPrompts.unit.test.js
  ● Console

    console.warn
      Optional environment value CLOUDFRONT_ORIGINS is not set. Provide it via the runtime config file or environment to enable strict CORS.

      28 | optionalEnvHints.forEach((name) => {
      29 |   if (!hasValue(process.env[name])) {
    > 30 |     console.warn(
         |             ^
      31 |       `Optional environment value ${name} is not set. Provide it via the runtime config file or environment to enable strict CORS.`
      32 |     );
      33 |   }

      at warn (config/environment.js:30:13)
          at Array.forEach (<anonymous>)
      at forEach (config/environment.js:28:18)
      at tests/geminiPrompts.unit.test.js:21:5

    console.log
      {"timestamp":"2025-12-05T03:20:28.562Z","level":"info","message":"llm_call_metrics","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"2731858688542a9b5af2d03a545d22ba807839c5698fb4b28ffc3bbf1e18bc0d","outputDigest":"587fb47bea420bd8c02d981c8088a910f92efe9a03b4f56f7bb0a58cc3b3583c","addedSkillCount":0,"template":"resume_rewrite","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:28.603Z","level":"info","message":"llm_call_metrics","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"face09bb9f2a6a3d50f9139f85360cfaa12c8f661b89e73dda717245890bdbe6","outcome":"fallback_no_model","template":"resume_rewrite","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

PASS tests/staticAssetPipeline.test.js
(node:28268) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/pdfFallback.test.js (6.325 s)
  ● Console

    console.log
      {"timestamp":"2025-12-05T03:20:27.738Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"modern","templateId":"modern","usingRenderer":false,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:27.889Z","level":"debug","message":"pdf_template_loading","templateId":"modern","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.html","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:27.899Z","level":"debug","message":"pdf_template_css_missing","templateId":"modern","cssPath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.css","error":{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.css"},"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:27.904Z","level":"debug","message":"pdf_template_compiled","templateId":"modern","htmlLength":6621,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:27.904Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"modern","requestedTemplateId":"modern","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.warn
      {"timestamp":"2025-12-05T03:20:27.905Z","level":"warn","message":"pdf_pdfkit_dependency_missing","templateId":"modern","requestedTemplateId":"modern","documentType":"resume","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdf (server.js:10134:7)
      at Object.<anonymous> (tests/pdfFallback.test.js:146:26)

    console.warn
      {"timestamp":"2025-12-05T03:20:27.906Z","level":"warn","message":"pdf_plain_fallback_invoked","templateId":"modern","requestedTemplateId":"modern","reason":"pdfkit_dependency_missing","documentType":"resume","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdf (server.js:10146:7)
      at Object.<anonymous> (tests/pdfFallback.test.js:146:26)

    console.log
      {"timestamp":"2025-12-05T03:20:27.925Z","level":"info","message":"pdf_plain_fallback_generated","templateId":"modern","requestedTemplateId":"modern","documentType":"resume","reason":"pdfkit_dependency_missing","engine":"pdf-lib","bytes":46,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:27.927Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"cover_modern","templateId":"cover_modern","usingRenderer":false,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:27.929Z","level":"debug","message":"pdf_template_loading","templateId":"cover_modern","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/cover_modern.html","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:27.959Z","level":"debug","message":"pdf_template_compiled","templateId":"cover_modern","htmlLength":3273,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:27.961Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"cover_modern","requestedTemplateId":"cover_modern","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.warn
      {"timestamp":"2025-12-05T03:20:27.962Z","level":"warn","message":"pdf_pdfkit_dependency_missing","templateId":"cover_modern","requestedTemplateId":"cover_modern","documentType":"cover_letter","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdf (server.js:10134:7)
      at Object.<anonymous> (tests/pdfFallback.test.js:150:25)

    console.warn
      {"timestamp":"2025-12-05T03:20:27.962Z","level":"warn","message":"pdf_plain_fallback_invoked","templateId":"cover_modern","requestedTemplateId":"cover_modern","reason":"pdfkit_dependency_missing","documentType":"cover_letter","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdf (server.js:10146:7)
      at Object.<anonymous> (tests/pdfFallback.test.js:150:25)

    console.log
      {"timestamp":"2025-12-05T03:20:27.962Z","level":"info","message":"pdf_plain_fallback_generated","templateId":"cover_modern","requestedTemplateId":"cover_modern","documentType":"cover_letter","reason":"pdfkit_dependency_missing","engine":"pdf-lib","bytes":58,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.007Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"modern","templateId":"modern","usingRenderer":false,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.014Z","level":"debug","message":"pdf_template_loading","templateId":"modern","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.html","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.058Z","level":"debug","message":"pdf_template_css_missing","templateId":"modern","cssPath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.css","error":{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.css"},"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.067Z","level":"debug","message":"pdf_template_compiled","templateId":"modern","htmlLength":6623,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.068Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"modern","requestedTemplateId":"modern","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.warn
      {"timestamp":"2025-12-05T03:20:29.069Z","level":"warn","message":"pdf_pdfkit_dependency_missing","templateId":"modern","requestedTemplateId":"modern","documentType":"resume","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdf (server.js:10134:7)
      at Object.<anonymous> (tests/pdfFallback.test.js:165:26)

    console.warn
      {"timestamp":"2025-12-05T03:20:29.070Z","level":"warn","message":"pdf_plain_fallback_invoked","templateId":"modern","requestedTemplateId":"modern","reason":"pdfkit_dependency_missing","documentType":"resume","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdf (server.js:10146:7)
      at Object.<anonymous> (tests/pdfFallback.test.js:165:26)

    console.warn
      {"timestamp":"2025-12-05T03:20:29.071Z","level":"warn","message":"pdf_plain_fallback_pdf_lib_missing","templateId":"modern","requestedTemplateId":"modern","documentType":"resume","reason":"pdfkit_dependency_missing","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at tryPdfLib (server.js:9443:9)
      at defaultGeneratePlainPdfFallback (server.js:9622:24)

    console.error
      {"timestamp":"2025-12-05T03:20:29.076Z","level":"error","message":"pdf_plain_fallback_pdfkit_failed","templateId":"modern","requestedTemplateId":"modern","documentType":"resume","reason":"pdfkit_dependency_missing","error":{"name":"TypeError","message":"Cannot read properties of undefined (reading 'width')","stack":"TypeError: Cannot read properties of undefined (reading 'width')\n    at buffer (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9656:38)\n    at new Promise (<anonymous>)\n    at tryPdfKit (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9648:28)\n    at defaultGeneratePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9737:24)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/pdfFallback.test.js:165:26)"},"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at tryPdfKit (server.js:9729:7)
      at defaultGeneratePlainPdfFallback (server.js:9737:24)
      at Object.<anonymous> (tests/pdfFallback.test.js:165:26)

    console.warn
      {"timestamp":"2025-12-05T03:20:29.079Z","level":"warn","message":"pdf_plain_fallback_minimal_generated","templateId":"modern","requestedTemplateId":"modern","documentType":"resume","reason":"pdfkit_dependency_missing","engine":"minimal","bytes":647,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at defaultGeneratePlainPdfFallback (server.js:9751:5)
      at Object.<anonymous> (tests/pdfFallback.test.js:165:26)

    console.log
      {"timestamp":"2025-12-05T03:20:29.081Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"cover_modern","templateId":"cover_modern","usingRenderer":false,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.083Z","level":"debug","message":"pdf_template_loading","templateId":"cover_modern","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/cover_modern.html","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.097Z","level":"debug","message":"pdf_template_compiled","templateId":"cover_modern","htmlLength":3279,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.097Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"cover_modern","requestedTemplateId":"cover_modern","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.warn
      {"timestamp":"2025-12-05T03:20:29.098Z","level":"warn","message":"pdf_pdfkit_dependency_missing","templateId":"cover_modern","requestedTemplateId":"cover_modern","documentType":"cover_letter","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdf (server.js:10134:7)
      at Object.<anonymous> (tests/pdfFallback.test.js:169:25)

    console.warn
      {"timestamp":"2025-12-05T03:20:29.098Z","level":"warn","message":"pdf_plain_fallback_invoked","templateId":"cover_modern","requestedTemplateId":"cover_modern","reason":"pdfkit_dependency_missing","documentType":"cover_letter","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdf (server.js:10146:7)
      at Object.<anonymous> (tests/pdfFallback.test.js:169:25)

    console.warn
      {"timestamp":"2025-12-05T03:20:29.099Z","level":"warn","message":"pdf_plain_fallback_pdf_lib_missing","templateId":"cover_modern","requestedTemplateId":"cover_modern","documentType":"cover_letter","reason":"pdfkit_dependency_missing","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at tryPdfLib (server.js:9443:9)
      at defaultGeneratePlainPdfFallback (server.js:9622:24)

    console.error
      {"timestamp":"2025-12-05T03:20:29.099Z","level":"error","message":"pdf_plain_fallback_pdfkit_failed","templateId":"cover_modern","requestedTemplateId":"cover_modern","documentType":"cover_letter","reason":"pdfkit_dependency_missing","error":{"name":"TypeError","message":"Cannot read properties of undefined (reading 'width')","stack":"TypeError: Cannot read properties of undefined (reading 'width')\n    at buffer (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9656:38)\n    at new Promise (<anonymous>)\n    at tryPdfKit (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9648:28)\n    at defaultGeneratePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9737:24)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/pdfFallback.test.js:169:25)"},"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at tryPdfKit (server.js:9729:7)
      at defaultGeneratePlainPdfFallback (server.js:9737:24)
      at Object.<anonymous> (tests/pdfFallback.test.js:169:25)

    console.warn
      {"timestamp":"2025-12-05T03:20:29.100Z","level":"warn","message":"pdf_plain_fallback_minimal_generated","templateId":"cover_modern","requestedTemplateId":"cover_modern","documentType":"cover_letter","reason":"pdfkit_dependency_missing","engine":"minimal","bytes":671,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at defaultGeneratePlainPdfFallback (server.js:9751:5)
      at Object.<anonymous> (tests/pdfFallback.test.js:169:25)

(node:28269) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
(node:28266) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS client/src/components/__tests__/TemplatePreview.test.jsx (6.126 s)
PASS tests/uploadHashedAssets.test.js
  ● Console

    console.log
      [upload-hashed-assets] Verified 8 uploaded assets are accessible in s3://static-bucket-test/static/client/prod/latest/

      at verifyUploadedObjects (scripts/upload-hashed-assets.mjs:1655:11)

    console.log
      [upload-hashed-assets] Propagated 8 assets to s3://static-bucket-test/static/client/prod/ from static/client/prod/latest.

      at replicateUploadsToFallbackPrefixes (scripts/upload-hashed-assets.mjs:1592:13)

    console.log
      [upload-hashed-assets] Verified 6 uploaded assets are accessible in s3://static-bucket-test/static/client/prod/latest/

      at verifyUploadedObjects (scripts/upload-hashed-assets.mjs:1655:11)

    console.log
      [upload-hashed-assets] Propagated 6 assets to s3://static-bucket-test/static/client/prod/ from static/client/prod/latest.

      at replicateUploadsToFallbackPrefixes (scripts/upload-hashed-assets.mjs:1592:13)

    console.log
      [upload-hashed-assets] Verified 8 uploaded assets are accessible in s3://static-bucket-test/static/client/prod/latest/

      at verifyUploadedObjects (scripts/upload-hashed-assets.mjs:1655:11)

    console.log
      [upload-hashed-assets] Propagated 8 assets to s3://static-bucket-test/static/client/prod/ from static/client/prod/latest.

      at replicateUploadsToFallbackPrefixes (scripts/upload-hashed-assets.mjs:1592:13)

    console.log
      [upload-hashed-assets] Verified 8 uploaded assets are accessible in s3://resume-forge-app-2025/static/client/prod/latest/

      at verifyUploadedObjects (scripts/upload-hashed-assets.mjs:1655:11)

    console.log
      [upload-hashed-assets] Propagated 8 assets to s3://resume-forge-app-2025/static/client/prod/ from static/client/prod/latest.

      at replicateUploadsToFallbackPrefixes (scripts/upload-hashed-assets.mjs:1592:13)

    console.log
      [upload-hashed-assets] Propagated 8 assets to s3://resume-forge-app-2025/static/client/test/ from static/client/prod/latest.

      at replicateUploadsToFallbackPrefixes (scripts/upload-hashed-assets.mjs:1592:13)

    console.log
      [upload-hashed-assets] Verified 8 uploaded assets are accessible in s3://static-bucket-test/static/client/prod/latest/

      at verifyUploadedObjects (scripts/upload-hashed-assets.mjs:1655:11)

    console.log
      [upload-hashed-assets] Propagated 8 assets to s3://static-bucket-test/static/client/prod/ from static/client/prod/latest.

      at replicateUploadsToFallbackPrefixes (scripts/upload-hashed-assets.mjs:1592:13)

    console.log
      [upload-hashed-assets] Verified 8 uploaded assets are accessible in s3://static-bucket-test/static/client/prod/latest/

      at verifyUploadedObjects (scripts/upload-hashed-assets.mjs:1655:11)

    console.warn
      [upload-hashed-assets] Restored missing alias assets/index-latest.css from assets/index-20251101.css.

      370 |     )
      371 |
    > 372 |     console.warn(
          |             ^
      373 |       `[upload-hashed-assets] Restored missing alias ${aliasPath} from ${sourcePath}.`,
      374 |     )
      375 |   }

      at ensureAliasObjectsInS3 (scripts/upload-hashed-assets.mjs:372:13)
      at uploadHashedIndexAssets (scripts/upload-hashed-assets.mjs:1485:3)
      at Object.<anonymous> (tests/uploadHashedAssets.test.js:692:5)

    console.log
      [upload-hashed-assets] Propagated 8 assets to s3://static-bucket-test/static/client/prod/ from static/client/prod/latest.

      at replicateUploadsToFallbackPrefixes (scripts/upload-hashed-assets.mjs:1592:13)

    console.log
      [upload-hashed-assets] Verified 8 uploaded assets are accessible in s3://static-bucket-test/static/client/prod/latest/

      at verifyUploadedObjects (scripts/upload-hashed-assets.mjs:1655:11)

    console.log
      [upload-hashed-assets] Propagated 8 assets to s3://static-bucket-test/static/client/prod/ from static/client/prod/latest.

      at replicateUploadsToFallbackPrefixes (scripts/upload-hashed-assets.mjs:1592:13)

    console.warn
      [upload-hashed-assets] index.html does not reference any hashed index assets, but found them in manifest.json. Proceeding with manifest assets.

      449 |     if (manifest && Array.isArray(manifest.hashedIndexAssets) && manifest.hashedIndexAssets.length > 0) {
      450 |       referencedAssets = manifest.hashedIndexAssets
    > 451 |       console.warn(
          |               ^
      452 |         '[upload-hashed-assets] index.html does not reference any hashed index assets, but found them in manifest.json. Proceeding with manifest assets.',
      453 |       )
      454 |     } else {

      at gatherHashedAssetUploadEntries (scripts/upload-hashed-assets.mjs:451:15)
      at uploadHashedIndexAssets (scripts/upload-hashed-assets.mjs:1317:41)
      at Object.<anonymous> (tests/uploadHashedAssets.test.js:779:5)

    console.log
      [upload-hashed-assets] Verified 8 uploaded assets are accessible in s3://static-bucket-test/static/client/prod/latest/

      at verifyUploadedObjects (scripts/upload-hashed-assets.mjs:1655:11)

    console.log
      [upload-hashed-assets] Propagated 8 assets to s3://static-bucket-test/static/client/prod/ from static/client/prod/latest.

      at replicateUploadsToFallbackPrefixes (scripts/upload-hashed-assets.mjs:1592:13)

    console.log
      [upload-hashed-assets] Verified 8 uploaded assets are accessible in s3://static-bucket-test/static/client/prod/latest/

      at verifyUploadedObjects (scripts/upload-hashed-assets.mjs:1655:11)

    console.log
      [upload-hashed-assets] Propagated 8 assets to s3://static-bucket-test/static/client/prod/ from static/client/prod/latest.

      at replicateUploadsToFallbackPrefixes (scripts/upload-hashed-assets.mjs:1592:13)

PASS tests/improvementRoutes.test.js (8.244 s)
  ● Console

    console.log
      {"timestamp":"2025-12-05T03:20:27.833Z","level":"info","message":"http_request_received","requestId":"1e98d072-ab5c-4887-a855-6d672c24c593","method":"POST","path":"/api/improve-summary","template":"unknown","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:27.954Z","level":"info","message":"path_restoration_debug","reqPath":"/api/improve-summary","reqUrl":"/api/improve-summary","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:27.957Z","level":"info","message":"request_received","path":"/api/improve-summary","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:27.959Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/improve-summary","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:27.975Z","level":"info","message":"client_app_routes_entered","path":"/api/improve-summary","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:27.977Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/improve-summary","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:28.005Z","level":"info","message":"llm_call_metrics","requestId":"1e98d072-ab5c-4887-a855-6d672c24c593","operation":"resume_improvement","templateId":"resume_improvement","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"b6f857c5a530e6307644b7f6605a3152d7f5b6727f6ee29b881cdbd91e98d916","outputDigest":"72681f67e0904734ae5e1a139d3b7ddb3a62a7ad79a1ad954c0f1036a1c1fedb","confidence":0.82,"type":"improve-summary","changeDetailCount":1,"template":"resume_improvement","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"resume_improvement","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:28.113Z","level":"info","message":"llm_call_metrics","requestId":"1e98d072-ab5c-4887-a855-6d672c24c593","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"6daad81d53ca29e2440dbdfd5e7ac149ac9bc677f5bd5a926b958a85793be6c1","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:28.189Z","level":"info","message":"llm_call_metrics","requestId":"1e98d072-ab5c-4887-a855-6d672c24c593","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f106fd33ec2c0b83e1c85dd9956b0b929e8ebd535d1fe8b4f0ea5cb3d5447f44","skillCount":2,"outcome":"fallback","template":"project_summary","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.warn
      {"timestamp":"2025-12-05T03:20:28.302Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"1e98d072-ab5c-4887-a855-6d672c24c593","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"1e98d072-ab5c-4887-a855-6d672c24c593","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"unknown","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at handleImprovementRequest (server.js:18536:28)
      at server.js:19469:5

    console.log
      {"timestamp":"2025-12-05T03:20:28.303Z","level":"info","message":"generation_cover_letters_completed","requestId":"1e98d072-ab5c-4887-a855-6d672c24c593","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"1e98d072-ab5c-4887-a855-6d672c24c593","variants":2,"fallbackApplied":true,"template":"unknown","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"unknown","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:28.319Z","level":"info","message":"pdf_generation_attempt","requestId":"1e98d072-ab5c-4887-a855-6d672c24c593","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"1e98d072-ab5c-4887-a855-6d672c24c593","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/alex_candidate/1e98d072-ab5c-4887-a855-6d672c24c593/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/alex_candidate/1e98d072-ab5c-4887-a855-6d672c24c593/enhanced_modern.pdf","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"modern","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:28.354Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1e98d072-ab5c-4887-a855-6d672c24c593","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"1e98d072-ab5c-4887-a855-6d672c24c593","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/alex_candidate/1e98d072-ab5c-4887-a855-6d672c24c593/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"modern","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:28.367Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"modern","templateId":"modern","usingRenderer":false,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:28.441Z","level":"debug","message":"pdf_template_loading","templateId":"modern","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.html","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:28.447Z","level":"debug","message":"pdf_template_css_missing","templateId":"modern","cssPath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.css","error":{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.css"},"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:28.457Z","level":"debug","message":"pdf_template_compiled","templateId":"modern","htmlLength":9923,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:28.460Z","level":"info","message":"optional_dependency_unavailable","module":"@sparticuz/chromium","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:28.461Z","level":"info","message":"optional_dependency_unavailable","module":"puppeteer-core","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:28.465Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"modern","requestedTemplateId":"modern","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.356Z","level":"debug","message":"pdf_pdfkit_fallback","templateId":"modern","requestedTemplateId":"modern","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.457Z","level":"debug","message":"pdf_pdfkit_fallback_complete","templateId":"modern","requestedTemplateId":"modern","bytes":6788,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.458Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1e98d072-ab5c-4887-a855-6d672c24c593","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"1e98d072-ab5c-4887-a855-6d672c24c593","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/alex_candidate/1e98d072-ab5c-4887-a855-6d672c24c593/","template":"modern","attempt":1,"bytes":6788,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/alex_candidate/1e98d072-ab5c-4887-a855-6d672c24c593/enhanced_modern.pdf","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"modern","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.465Z","level":"info","message":"pdf_generation_attempt","requestId":"1e98d072-ab5c-4887-a855-6d672c24c593","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"1e98d072-ab5c-4887-a855-6d672c24c593","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/alex_candidate/1e98d072-ab5c-4887-a855-6d672c24c593/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/alex_candidate/1e98d072-ab5c-4887-a855-6d672c24c593/enhanced_professional.pdf","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"professional","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.466Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1e98d072-ab5c-4887-a855-6d672c24c593","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"1e98d072-ab5c-4887-a855-6d672c24c593","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/alex_candidate/1e98d072-ab5c-4887-a855-6d672c24c593/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"professional","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.467Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"professional","templateId":"professional","usingRenderer":false,"template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.469Z","level":"debug","message":"pdf_template_loading","templateId":"professional","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/professional.html","template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.489Z","level":"debug","message":"pdf_template_css_missing","templateId":"professional","cssPath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/professional.css","error":{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/professional.css"},"template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.492Z","level":"debug","message":"pdf_template_compiled","templateId":"professional","htmlLength":13949,"template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.493Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"professional","requestedTemplateId":"professional","template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.494Z","level":"debug","message":"pdf_pdfkit_fallback","templateId":"professional","requestedTemplateId":"professional","template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.548Z","level":"debug","message":"pdf_pdfkit_fallback_complete","templateId":"professional","requestedTemplateId":"professional","bytes":7540,"template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.549Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1e98d072-ab5c-4887-a855-6d672c24c593","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"1e98d072-ab5c-4887-a855-6d672c24c593","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/alex_candidate/1e98d072-ab5c-4887-a855-6d672c24c593/","template":"professional","attempt":1,"bytes":7540,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/alex_candidate/1e98d072-ab5c-4887-a855-6d672c24c593/enhanced_professional.pdf","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"professional","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.550Z","level":"info","message":"pdf_generation_attempt","requestId":"1e98d072-ab5c-4887-a855-6d672c24c593","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"1e98d072-ab5c-4887-a855-6d672c24c593","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/alex_candidate/1e98d072-ab5c-4887-a855-6d672c24c593/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/alex_candidate/1e98d072-ab5c-4887-a855-6d672c24c593/cover_letter_cover_modern.pdf","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"cover_modern","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.550Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1e98d072-ab5c-4887-a855-6d672c24c593","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"1e98d072-ab5c-4887-a855-6d672c24c593","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/alex_candidate/1e98d072-ab5c-4887-a855-6d672c24c593/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"cover_modern","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.551Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"cover_modern","templateId":"cover_modern","usingRenderer":false,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.555Z","level":"debug","message":"pdf_template_loading","templateId":"cover_modern","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/cover_modern.html","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.568Z","level":"debug","message":"pdf_template_compiled","templateId":"cover_modern","htmlLength":4132,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.569Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"cover_modern","requestedTemplateId":"cover_modern","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.571Z","level":"debug","message":"pdf_pdfkit_fallback","templateId":"cover_modern","requestedTemplateId":"cover_modern","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.667Z","level":"debug","message":"pdf_pdfkit_fallback_complete","templateId":"cover_modern","requestedTemplateId":"cover_modern","bytes":2713,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.667Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1e98d072-ab5c-4887-a855-6d672c24c593","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"1e98d072-ab5c-4887-a855-6d672c24c593","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/alex_candidate/1e98d072-ab5c-4887-a855-6d672c24c593/","template":"cover_modern","attempt":1,"bytes":2713,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/alex_candidate/1e98d072-ab5c-4887-a855-6d672c24c593/cover_letter_cover_modern.pdf","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"cover_modern","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.680Z","level":"info","message":"pdf_generation_attempt","requestId":"1e98d072-ab5c-4887-a855-6d672c24c593","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"1e98d072-ab5c-4887-a855-6d672c24c593","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/alex_candidate/1e98d072-ab5c-4887-a855-6d672c24c593/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/alex_candidate/1e98d072-ab5c-4887-a855-6d672c24c593/cover_letter_cover_professional.pdf","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"cover_professional","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.682Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1e98d072-ab5c-4887-a855-6d672c24c593","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"1e98d072-ab5c-4887-a855-6d672c24c593","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/alex_candidate/1e98d072-ab5c-4887-a855-6d672c24c593/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"cover_professional","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.683Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"cover_professional","templateId":"cover_professional","usingRenderer":false,"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.684Z","level":"debug","message":"pdf_template_loading","templateId":"cover_professional","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/cover_professional.html","template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.718Z","level":"debug","message":"pdf_template_css_missing","templateId":"cover_professional","cssPath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/cover_professional.css","error":{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/cover_professional.css"},"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.719Z","level":"debug","message":"pdf_template_compiled","templateId":"cover_professional","htmlLength":6463,"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.720Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"cover_professional","requestedTemplateId":"cover_professional","template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.720Z","level":"debug","message":"pdf_pdfkit_fallback","templateId":"cover_professional","requestedTemplateId":"cover_professional","template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.747Z","level":"debug","message":"pdf_pdfkit_fallback_complete","templateId":"cover_professional","requestedTemplateId":"cover_professional","bytes":3096,"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.747Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1e98d072-ab5c-4887-a855-6d672c24c593","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"1e98d072-ab5c-4887-a855-6d672c24c593","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/alex_candidate/1e98d072-ab5c-4887-a855-6d672c24c593/","template":"cover_professional","attempt":1,"bytes":3096,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/alex_candidate/1e98d072-ab5c-4887-a855-6d672c24c593/cover_letter_cover_professional.pdf","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"cover_professional","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.780Z","level":"info","message":"llm_call_metrics","requestId":"1e98d072-ab5c-4887-a855-6d672c24c593","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"6daad81d53ca29e2440dbdfd5e7ac149ac9bc677f5bd5a926b958a85793be6c1","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.782Z","level":"info","message":"generation_completed","requestId":"1e98d072-ab5c-4887-a855-6d672c24c593","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","route":"improvement:improve-summary","generationRunId":"1e98d072-ab5c-4887-a855-6d672c24c593","enhancedScore":50,"outputs":5,"template":"unknown","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"unknown","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.794Z","level":"info","message":"targeted_improvement_completed","requestId":"1e98d072-ab5c-4887-a855-6d672c24c593","jobId":"job-123","type":"improve-summary","sessionId":"[REDACTED]","confidence":0.82,"appliedSkills":1,"template":"unknown","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary","metadata":{"template":"unknown","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"improve-summary"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.859Z","level":"info","message":"http_request_completed","requestId":"1e98d072-ab5c-4887-a855-6d672c24c593","method":"POST","path":"/api/improve-summary","statusCode":200,"durationMs":2026,"contentLength":"53755","template":"unknown","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e98d072-ab5c-4887-a855-6d672c24c593","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.926Z","level":"info","message":"http_request_received","requestId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","method":"POST","path":"/api/improve-certifications","template":"unknown","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.935Z","level":"info","message":"path_restoration_debug","reqPath":"/api/improve-certifications","reqUrl":"/api/improve-certifications","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.936Z","level":"info","message":"request_received","path":"/api/improve-certifications","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.937Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/improve-certifications","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.941Z","level":"info","message":"client_app_routes_entered","path":"/api/improve-certifications","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.942Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/improve-certifications","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:29.984Z","level":"info","message":"llm_call_metrics","requestId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","operation":"resume_improvement","templateId":"resume_improvement","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"570841e154aa4756a3ca3351e8d32effa77598b0e2d258daafa821f2e0dc9fb8","outputDigest":"e94f50f5c784f9ccb2c626cb988b6b11eb78f9e45a24c778bfa99440e76ac61b","confidence":0.77,"type":"improve-certifications","changeDetailCount":1,"template":"resume_improvement","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"resume_improvement","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.034Z","level":"info","message":"llm_call_metrics","requestId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"06121307eff22798a9524dfa145d5428b40306bf024b63dd3fb6bab9211eb1f6","skillCount":3,"outcome":"fallback","template":"project_summary","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.warn
      {"timestamp":"2025-12-05T03:20:30.069Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"unknown","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at handleImprovementRequest (server.js:18536:28)
      at server.js:19469:5

    console.log
      {"timestamp":"2025-12-05T03:20:30.071Z","level":"info","message":"generation_cover_letters_completed","requestId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","variants":2,"fallbackApplied":true,"template":"unknown","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"unknown","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.073Z","level":"info","message":"pdf_generation_attempt","requestId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/alex_candidate/6dda33f8-84dc-454f-aa67-cc13e8e5b1db/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/alex_candidate/6dda33f8-84dc-454f-aa67-cc13e8e5b1db/enhanced_modern.pdf","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"modern","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.073Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/alex_candidate/6dda33f8-84dc-454f-aa67-cc13e8e5b1db/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"modern","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.074Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"modern","templateId":"modern","usingRenderer":false,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.075Z","level":"debug","message":"pdf_template_loading","templateId":"modern","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.html","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.077Z","level":"debug","message":"pdf_template_css_missing","templateId":"modern","cssPath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.css","error":{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.css"},"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.079Z","level":"debug","message":"pdf_template_compiled","templateId":"modern","htmlLength":9934,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.079Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"modern","requestedTemplateId":"modern","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.081Z","level":"debug","message":"pdf_pdfkit_fallback","templateId":"modern","requestedTemplateId":"modern","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.119Z","level":"debug","message":"pdf_pdfkit_fallback_complete","templateId":"modern","requestedTemplateId":"modern","bytes":6994,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.122Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/alex_candidate/6dda33f8-84dc-454f-aa67-cc13e8e5b1db/","template":"modern","attempt":1,"bytes":6994,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/alex_candidate/6dda33f8-84dc-454f-aa67-cc13e8e5b1db/enhanced_modern.pdf","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"modern","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.124Z","level":"info","message":"pdf_generation_attempt","requestId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/alex_candidate/6dda33f8-84dc-454f-aa67-cc13e8e5b1db/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/alex_candidate/6dda33f8-84dc-454f-aa67-cc13e8e5b1db/enhanced_professional.pdf","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"professional","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.125Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/alex_candidate/6dda33f8-84dc-454f-aa67-cc13e8e5b1db/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"professional","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.125Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"professional","templateId":"professional","usingRenderer":false,"template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.128Z","level":"debug","message":"pdf_template_loading","templateId":"professional","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/professional.html","template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.136Z","level":"debug","message":"pdf_template_css_missing","templateId":"professional","cssPath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/professional.css","error":{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/professional.css"},"template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.139Z","level":"debug","message":"pdf_template_compiled","templateId":"professional","htmlLength":13852,"template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.140Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"professional","requestedTemplateId":"professional","template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.141Z","level":"debug","message":"pdf_pdfkit_fallback","templateId":"professional","requestedTemplateId":"professional","template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.215Z","level":"debug","message":"pdf_pdfkit_fallback_complete","templateId":"professional","requestedTemplateId":"professional","bytes":7474,"template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.220Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/alex_candidate/6dda33f8-84dc-454f-aa67-cc13e8e5b1db/","template":"professional","attempt":1,"bytes":7474,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/alex_candidate/6dda33f8-84dc-454f-aa67-cc13e8e5b1db/enhanced_professional.pdf","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"professional","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.222Z","level":"info","message":"pdf_generation_attempt","requestId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/alex_candidate/6dda33f8-84dc-454f-aa67-cc13e8e5b1db/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/alex_candidate/6dda33f8-84dc-454f-aa67-cc13e8e5b1db/cover_letter_cover_modern.pdf","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"cover_modern","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.234Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/alex_candidate/6dda33f8-84dc-454f-aa67-cc13e8e5b1db/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"cover_modern","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.234Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"cover_modern","templateId":"cover_modern","usingRenderer":false,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.235Z","level":"debug","message":"pdf_template_loading","templateId":"cover_modern","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/cover_modern.html","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.263Z","level":"debug","message":"pdf_template_compiled","templateId":"cover_modern","htmlLength":4023,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.263Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"cover_modern","requestedTemplateId":"cover_modern","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.264Z","level":"debug","message":"pdf_pdfkit_fallback","templateId":"cover_modern","requestedTemplateId":"cover_modern","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.276Z","level":"debug","message":"pdf_pdfkit_fallback_complete","templateId":"cover_modern","requestedTemplateId":"cover_modern","bytes":2713,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.277Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/alex_candidate/6dda33f8-84dc-454f-aa67-cc13e8e5b1db/","template":"cover_modern","attempt":1,"bytes":2713,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/alex_candidate/6dda33f8-84dc-454f-aa67-cc13e8e5b1db/cover_letter_cover_modern.pdf","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"cover_modern","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.278Z","level":"info","message":"pdf_generation_attempt","requestId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/alex_candidate/6dda33f8-84dc-454f-aa67-cc13e8e5b1db/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/alex_candidate/6dda33f8-84dc-454f-aa67-cc13e8e5b1db/cover_letter_cover_professional.pdf","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"cover_professional","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.279Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/alex_candidate/6dda33f8-84dc-454f-aa67-cc13e8e5b1db/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"cover_professional","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.279Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"cover_professional","templateId":"cover_professional","usingRenderer":false,"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.280Z","level":"debug","message":"pdf_template_loading","templateId":"cover_professional","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/cover_professional.html","template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.285Z","level":"debug","message":"pdf_template_css_missing","templateId":"cover_professional","cssPath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/cover_professional.css","error":{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/cover_professional.css"},"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.286Z","level":"debug","message":"pdf_template_compiled","templateId":"cover_professional","htmlLength":6420,"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.286Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"cover_professional","requestedTemplateId":"cover_professional","template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.286Z","level":"debug","message":"pdf_pdfkit_fallback","templateId":"cover_professional","requestedTemplateId":"cover_professional","template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.308Z","level":"debug","message":"pdf_pdfkit_fallback_complete","templateId":"cover_professional","requestedTemplateId":"cover_professional","bytes":3096,"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.309Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/alex_candidate/6dda33f8-84dc-454f-aa67-cc13e8e5b1db/","template":"cover_professional","attempt":1,"bytes":3096,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/alex_candidate/6dda33f8-84dc-454f-aa67-cc13e8e5b1db/cover_letter_cover_professional.pdf","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"cover_professional","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.323Z","level":"info","message":"generation_completed","requestId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","route":"improvement:improve-certifications","generationRunId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","enhancedScore":0,"outputs":5,"template":"unknown","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"unknown","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.325Z","level":"info","message":"targeted_improvement_completed","requestId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","jobId":"job-789","type":"improve-certifications","sessionId":"[REDACTED]","confidence":0.77,"appliedSkills":0,"template":"unknown","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications","metadata":{"template":"unknown","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"improve-certifications"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.327Z","level":"info","message":"http_request_completed","requestId":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","method":"POST","path":"/api/improve-certifications","statusCode":200,"durationMs":401,"contentLength":"49693","template":"unknown","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6dda33f8-84dc-454f-aa67-cc13e8e5b1db","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.355Z","level":"info","message":"http_request_received","requestId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","method":"POST","path":"/api/align-experience","template":"unknown","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.356Z","level":"info","message":"path_restoration_debug","reqPath":"/api/align-experience","reqUrl":"/api/align-experience","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.357Z","level":"info","message":"request_received","path":"/api/align-experience","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.358Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/align-experience","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.359Z","level":"info","message":"client_app_routes_entered","path":"/api/align-experience","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.360Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/align-experience","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.warn
      {"timestamp":"2025-12-05T03:20:30.479Z","level":"warn","message":"targeted_improvement_ai_failed","type":"align-experience","error":{"name":"Error","message":"Model unavailable","stack":"Error: Model unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/improvementRoutes.test.js:304:47)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/testWorker.js:106:12)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"align-experience","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"align-experience"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at runTargetedImprovement (server.js:7757:5)
      at handleImprovementRequest (server.js:18218:20)
      at server.js:19469:5

    console.log
      {"timestamp":"2025-12-05T03:20:30.498Z","level":"info","message":"llm_call_metrics","requestId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","operation":"resume_improvement","templateId":"resume_improvement","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"b8f6e53548fbc6ecf83f7a1ffb4ee4a15d0fb1439d6fe9c60fa5132d5cc692ca","type":"align-experience","outcome":"fallback","template":"resume_improvement","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience","metadata":{"template":"resume_improvement","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.510Z","level":"info","message":"llm_call_metrics","requestId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"e1725828256404200e2e7386c02c7b10e253701bffb08339cb75adbe2d4ffc6e","resourceCount":2,"skillCount":2,"outcome":"fallback","template":"learning_resources","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.536Z","level":"info","message":"llm_call_metrics","requestId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f106fd33ec2c0b83e1c85dd9956b0b929e8ebd535d1fe8b4f0ea5cb3d5447f44","skillCount":2,"outcome":"fallback","template":"project_summary","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.warn
      {"timestamp":"2025-12-05T03:20:30.637Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience","metadata":{"template":"unknown","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at handleImprovementRequest (server.js:18536:28)
      at server.js:19469:5

    console.log
      {"timestamp":"2025-12-05T03:20:30.637Z","level":"info","message":"generation_cover_letters_completed","requestId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","variants":2,"fallbackApplied":true,"template":"unknown","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience","metadata":{"template":"unknown","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.641Z","level":"info","message":"pdf_generation_attempt","requestId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/alex_candidate/a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/alex_candidate/a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf/enhanced_modern.pdf","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience","metadata":{"template":"modern","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.644Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/alex_candidate/a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience","metadata":{"template":"modern","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.645Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"modern","templateId":"modern","usingRenderer":false,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.648Z","level":"debug","message":"pdf_template_loading","templateId":"modern","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.html","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.653Z","level":"debug","message":"pdf_template_css_missing","templateId":"modern","cssPath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.css","error":{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/modern.css"},"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.655Z","level":"debug","message":"pdf_template_compiled","templateId":"modern","htmlLength":10458,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.655Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"modern","requestedTemplateId":"modern","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.655Z","level":"debug","message":"pdf_pdfkit_fallback","templateId":"modern","requestedTemplateId":"modern","template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.707Z","level":"debug","message":"pdf_pdfkit_fallback_complete","templateId":"modern","requestedTemplateId":"modern","bytes":8117,"template":"modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.712Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/alex_candidate/a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf/","template":"modern","attempt":1,"bytes":8117,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/alex_candidate/a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf/enhanced_modern.pdf","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience","metadata":{"template":"modern","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.713Z","level":"info","message":"pdf_generation_attempt","requestId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/alex_candidate/a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/alex_candidate/a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf/enhanced_professional.pdf","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience","metadata":{"template":"professional","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.714Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/alex_candidate/a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience","metadata":{"template":"professional","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.714Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"professional","templateId":"professional","usingRenderer":false,"template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.716Z","level":"debug","message":"pdf_template_loading","templateId":"professional","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/professional.html","template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.717Z","level":"debug","message":"pdf_template_css_missing","templateId":"professional","cssPath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/professional.css","error":{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/professional.css"},"template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.719Z","level":"debug","message":"pdf_template_compiled","templateId":"professional","htmlLength":14602,"template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.719Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"professional","requestedTemplateId":"professional","template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.720Z","level":"debug","message":"pdf_pdfkit_fallback","templateId":"professional","requestedTemplateId":"professional","template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.765Z","level":"debug","message":"pdf_pdfkit_fallback_complete","templateId":"professional","requestedTemplateId":"professional","bytes":9308,"template":"professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.766Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/alex_candidate/a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf/","template":"professional","attempt":1,"bytes":9308,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/alex_candidate/a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf/enhanced_professional.pdf","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience","metadata":{"template":"professional","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.769Z","level":"info","message":"pdf_generation_attempt","requestId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/alex_candidate/a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/alex_candidate/a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf/cover_letter_cover_modern.pdf","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience","metadata":{"template":"cover_modern","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.770Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/alex_candidate/a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience","metadata":{"template":"cover_modern","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.770Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"cover_modern","templateId":"cover_modern","usingRenderer":false,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.771Z","level":"debug","message":"pdf_template_loading","templateId":"cover_modern","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/cover_modern.html","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.775Z","level":"debug","message":"pdf_template_compiled","templateId":"cover_modern","htmlLength":4213,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.776Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"cover_modern","requestedTemplateId":"cover_modern","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.776Z","level":"debug","message":"pdf_pdfkit_fallback","templateId":"cover_modern","requestedTemplateId":"cover_modern","template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.789Z","level":"debug","message":"pdf_pdfkit_fallback_complete","templateId":"cover_modern","requestedTemplateId":"cover_modern","bytes":2713,"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.790Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/alex_candidate/a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf/","template":"cover_modern","attempt":1,"bytes":2713,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/alex_candidate/a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf/cover_letter_cover_modern.pdf","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience","metadata":{"template":"cover_modern","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.791Z","level":"info","message":"pdf_generation_attempt","requestId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/alex_candidate/a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/alex_candidate/a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf/cover_letter_cover_professional.pdf","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience","metadata":{"template":"cover_professional","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.791Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/alex_candidate/a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience","metadata":{"template":"cover_professional","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.792Z","level":"debug","message":"pdf_template_resolved","requestedTemplateId":"cover_professional","templateId":"cover_professional","usingRenderer":false,"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.792Z","level":"debug","message":"pdf_template_loading","templateId":"cover_professional","templatePath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/cover_professional.html","template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.824Z","level":"debug","message":"pdf_template_css_missing","templateId":"cover_professional","cssPath":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/cover_professional.css","error":{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/templates/cover_professional.css"},"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.831Z","level":"debug","message":"pdf_template_compiled","templateId":"cover_professional","htmlLength":6542,"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.832Z","level":"debug","message":"pdf_chromium_unavailable","templateId":"cover_professional","requestedTemplateId":"cover_professional","template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.832Z","level":"debug","message":"pdf_pdfkit_fallback","templateId":"cover_professional","requestedTemplateId":"cover_professional","template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.922Z","level":"debug","message":"pdf_pdfkit_fallback_complete","templateId":"cover_professional","requestedTemplateId":"cover_professional","bytes":3096,"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.923Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/alex_candidate/a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf/","template":"cover_professional","attempt":1,"bytes":3096,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/alex_candidate/a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf/cover_letter_cover_professional.pdf","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience","metadata":{"template":"cover_professional","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.942Z","level":"info","message":"llm_call_metrics","requestId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"c5f7a8d53df20ee2b4f529b609a0d19895535565d6de7bd0479687589877831e","resourceCount":2,"skillCount":2,"outcome":"fallback","template":"learning_resources","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.943Z","level":"info","message":"generation_completed","requestId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","route":"improvement:align-experience","generationRunId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","enhancedScore":33,"outputs":5,"template":"unknown","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience","metadata":{"template":"unknown","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.945Z","level":"info","message":"targeted_improvement_completed","requestId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","jobId":"job-123","type":"align-experience","sessionId":"[REDACTED]","confidence":0.38,"appliedSkills":2,"template":"unknown","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience","metadata":{"template":"unknown","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"align-experience"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.957Z","level":"info","message":"http_request_completed","requestId":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","method":"POST","path":"/api/align-experience","statusCode":200,"durationMs":602,"contentLength":"58712","template":"unknown","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2bbe25c-b9b6-4853-a4d6-33cbf49f7bbf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.972Z","level":"info","message":"http_request_received","requestId":"e648b6e8-e003-462a-8b11-93a3a85337b9","method":"POST","path":"/api/add-missing-skills","template":"unknown","session":"e648b6e8-e003-462a-8b11-93a3a85337b9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e648b6e8-e003-462a-8b11-93a3a85337b9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.974Z","level":"info","message":"path_restoration_debug","reqPath":"/api/add-missing-skills","reqUrl":"/api/add-missing-skills","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.976Z","level":"info","message":"request_received","path":"/api/add-missing-skills","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.978Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/add-missing-skills","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.982Z","level":"info","message":"client_app_routes_entered","path":"/api/add-missing-skills","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:30.982Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/add-missing-skills","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.warn
      {"timestamp":"2025-12-05T03:20:30.984Z","level":"warn","message":"api_error_response","requestId":"e648b6e8-e003-462a-8b11-93a3a85337b9","jobId":"job-456","status":400,"error":{"code":"IMPROVEMENT_INPUT_REQUIRED","message":"resumeText and jobDescription are required to generate improvements.","details":{"fields":["resumeText","jobDescription"]},"requestId":"e648b6e8-e003-462a-8b11-93a3a85337b9","jobId":"job-456"},"template":"unknown","session":"job-456","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-456","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at sendError (server.js:3965:3)
      at handleImprovementRequest (server.js:18153:12)
      at server.js:19469:11
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at assignJobContext (server.js:16418:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveStatic (node_modules/serve-static/index.js:75:16)
      at server.js:4953:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at tryServeHashedIndexAssetFromS3 (server.js:1185:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveIndexAssetAlias (server.js:1518:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4935:5
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4929:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at urlencodedParser (node_modules/body-parser/lib/types/urlencoded.js:85:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

    console.log
      {"timestamp":"2025-12-05T03:20:30.993Z","level":"info","message":"http_request_completed","requestId":"e648b6e8-e003-462a-8b11-93a3a85337b9","method":"POST","path":"/api/add-missing-skills","statusCode":400,"durationMs":22,"contentLength":"266","template":"unknown","session":"e648b6e8-e003-462a-8b11-93a3a85337b9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e648b6e8-e003-462a-8b11-93a3a85337b9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

PASS client/src/components/__tests__/DeltaSummaryPanel.test.jsx
(node:28268) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/analyzeJobDescription.test.js
PASS client/src/components/__tests__/CoverLetterEditorModal.test.jsx
PASS tests/publishedCloudfront.test.js
  ● Console

    console.warn
      Optional environment value CLOUDFRONT_ORIGINS is not set. Provide it via the runtime config file or environment to enable strict CORS.

      28 | optionalEnvHints.forEach((name) => {
      29 |   if (!hasValue(process.env[name])) {
    > 30 |     console.warn(
         |             ^
      31 |       `Optional environment value ${name} is not set. Provide it via the runtime config file or environment to enable strict CORS.`
      32 |     );
      33 |   }

      at warn (config/environment.js:30:13)
          at Array.forEach (<anonymous>)
      at forEach (config/environment.js:28:18)
      at setupTestServer (tests/utils/testServer.js:476:24)
      at createServer (tests/publishedCloudfront.test.js:20:18)
      at Object.<anonymous> (tests/publishedCloudfront.test.js:30:30)

    console.log
      {"timestamp":"2025-12-05T03:20:32.250Z","level":"info","message":"http_request_received","requestId":"e10e09d7-b1ee-42fa-937a-5fc6933fa97e","method":"GET","path":"/go/cloudfront","template":"unknown","session":"e10e09d7-b1ee-42fa-937a-5fc6933fa97e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10e09d7-b1ee-42fa-937a-5fc6933fa97e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:32.261Z","level":"info","message":"path_restoration_debug","reqPath":"/go/cloudfront","reqUrl":"/go/cloudfront","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:32.263Z","level":"info","message":"request_received","path":"/go/cloudfront","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:32.270Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/go/cloudfront","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:32.271Z","level":"info","message":"client_app_routes_entered","path":"/go/cloudfront","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:32.304Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/go/cloudfront","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:32.313Z","level":"info","message":"http_request_completed","requestId":"e10e09d7-b1ee-42fa-937a-5fc6933fa97e","method":"GET","path":"/go/cloudfront","statusCode":308,"durationMs":63,"contentLength":"77","template":"unknown","session":"e10e09d7-b1ee-42fa-937a-5fc6933fa97e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10e09d7-b1ee-42fa-937a-5fc6933fa97e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:32.323Z","level":"info","message":"http_request_received","requestId":"d0d78ff3-a103-4659-b15b-4b15a2b5854c","method":"GET","path":"/redirect/latest?path=api%2Fprocess-cv","template":"unknown","session":"d0d78ff3-a103-4659-b15b-4b15a2b5854c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d0d78ff3-a103-4659-b15b-4b15a2b5854c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:32.324Z","level":"info","message":"path_restoration_debug","reqPath":"/redirect/latest","reqUrl":"/redirect/latest?path=api%2Fprocess-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:32.326Z","level":"info","message":"request_received","path":"/redirect/latest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:32.327Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/redirect/latest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:32.328Z","level":"info","message":"client_app_routes_entered","path":"/redirect/latest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:32.330Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/redirect/latest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:32.341Z","level":"info","message":"http_request_completed","requestId":"d0d78ff3-a103-4659-b15b-4b15a2b5854c","method":"GET","path":"/redirect/latest?path=api%2Fprocess-cv","statusCode":308,"durationMs":18,"contentLength":"87","template":"unknown","session":"d0d78ff3-a103-4659-b15b-4b15a2b5854c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d0d78ff3-a103-4659-b15b-4b15a2b5854c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

(node:28266) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
(node:28270) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/verifyResume.test.js
PASS tests/rescoreImprovement.test.js
  ● Console

    console.log
      {"timestamp":"2025-12-05T03:20:32.936Z","level":"info","message":"http_request_received","requestId":"56d261fc-3ef0-4ece-bc97-ec68bd0e5883","method":"POST","path":"/api/rescore-improvement","template":"unknown","session":"56d261fc-3ef0-4ece-bc97-ec68bd0e5883","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"56d261fc-3ef0-4ece-bc97-ec68bd0e5883","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:32.948Z","level":"info","message":"path_restoration_debug","reqPath":"/api/rescore-improvement","reqUrl":"/api/rescore-improvement","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:32.950Z","level":"info","message":"request_received","path":"/api/rescore-improvement","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:32.951Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/rescore-improvement","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:32.984Z","level":"info","message":"client_app_routes_entered","path":"/api/rescore-improvement","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:32.986Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/rescore-improvement","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:32.998Z","level":"info","message":"improvement_rescored","requestId":"56d261fc-3ef0-4ece-bc97-ec68bd0e5883","jobId":"e398004c-2baa-4aaf-8528-4c3bbc474cce","route":"rescore-improvement","enhancedScore":50,"coveredSkills":1,"template":"unknown","session":"e398004c-2baa-4aaf-8528-4c3bbc474cce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e398004c-2baa-4aaf-8528-4c3bbc474cce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:33.009Z","level":"info","message":"http_request_completed","requestId":"56d261fc-3ef0-4ece-bc97-ec68bd0e5883","method":"POST","path":"/api/rescore-improvement","statusCode":200,"durationMs":73,"contentLength":"6182","template":"unknown","session":"56d261fc-3ef0-4ece-bc97-ec68bd0e5883","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"56d261fc-3ef0-4ece-bc97-ec68bd0e5883","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:33.052Z","level":"info","message":"http_request_received","requestId":"97ef36fd-e5cd-48dd-8a8b-ba1cdad5f647","method":"POST","path":"/api/rescore-improvement","template":"unknown","session":"97ef36fd-e5cd-48dd-8a8b-ba1cdad5f647","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"97ef36fd-e5cd-48dd-8a8b-ba1cdad5f647","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:33.057Z","level":"info","message":"path_restoration_debug","reqPath":"/api/rescore-improvement","reqUrl":"/api/rescore-improvement","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:33.058Z","level":"info","message":"request_received","path":"/api/rescore-improvement","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:33.059Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/rescore-improvement","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:33.061Z","level":"info","message":"client_app_routes_entered","path":"/api/rescore-improvement","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:33.062Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/rescore-improvement","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:33.068Z","level":"info","message":"improvement_rescored","requestId":"97ef36fd-e5cd-48dd-8a8b-ba1cdad5f647","jobId":"80ac9518-12da-4840-bd2f-34cbc9cbb1a7","route":"rescore-improvement","enhancedScore":50,"coveredSkills":1,"template":"unknown","session":"80ac9518-12da-4840-bd2f-34cbc9cbb1a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80ac9518-12da-4840-bd2f-34cbc9cbb1a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:33.071Z","level":"info","message":"http_request_completed","requestId":"97ef36fd-e5cd-48dd-8a8b-ba1cdad5f647","method":"POST","path":"/api/rescore-improvement","statusCode":200,"durationMs":19,"contentLength":"6170","template":"unknown","session":"97ef36fd-e5cd-48dd-8a8b-ba1cdad5f647","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"97ef36fd-e5cd-48dd-8a8b-ba1cdad5f647","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:33.078Z","level":"info","message":"http_request_received","requestId":"18d697f3-dfb2-4602-939e-7e6f668a90f4","method":"POST","path":"/api/rescore-improvement","template":"unknown","session":"18d697f3-dfb2-4602-939e-7e6f668a90f4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18d697f3-dfb2-4602-939e-7e6f668a90f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:33.079Z","level":"info","message":"path_restoration_debug","reqPath":"/api/rescore-improvement","reqUrl":"/api/rescore-improvement","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:33.080Z","level":"info","message":"request_received","path":"/api/rescore-improvement","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:33.082Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/rescore-improvement","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:33.083Z","level":"info","message":"client_app_routes_entered","path":"/api/rescore-improvement","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:33.084Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/rescore-improvement","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.warn
      {"timestamp":"2025-12-05T03:20:33.085Z","level":"warn","message":"api_error_response","requestId":"18d697f3-dfb2-4602-939e-7e6f668a90f4","jobId":"c8810338-2401-4341-970a-8e5d4eaa6f6f","status":400,"error":{"code":"RESCORE_INPUT_REQUIRED","message":"resumeText is required to recalculate scores.","details":{},"requestId":"18d697f3-dfb2-4602-939e-7e6f668a90f4","jobId":"c8810338-2401-4341-970a-8e5d4eaa6f6f"},"template":"unknown","session":"c8810338-2401-4341-970a-8e5d4eaa6f6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8810338-2401-4341-970a-8e5d4eaa6f6f","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at sendError (server.js:3965:3)
      at server.js:23644:12
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at assignJobContext (server.js:16418:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveStatic (node_modules/serve-static/index.js:75:16)
      at server.js:4953:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at tryServeHashedIndexAssetFromS3 (server.js:1185:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveIndexAssetAlias (server.js:1518:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4935:5
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4929:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at urlencodedParser (node_modules/body-parser/lib/types/urlencoded.js:85:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

    console.log
      {"timestamp":"2025-12-05T03:20:33.087Z","level":"info","message":"http_request_completed","requestId":"18d697f3-dfb2-4602-939e-7e6f668a90f4","method":"POST","path":"/api/rescore-improvement","statusCode":400,"durationMs":9,"contentLength":"228","template":"unknown","session":"18d697f3-dfb2-4602-939e-7e6f668a90f4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18d697f3-dfb2-4602-939e-7e6f668a90f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

PASS tests/fetchLinkedInCertifications.test.js
(node:28268) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/uploadStaticBuild.test.js
  ● Console

    console.log
      [DEBUG] Starting asset extraction...

      at extractHashedIndexAssets (scripts/upload-static-build.mjs:199:11)

    console.log
      [DEBUG] Found match: assets/index-abc123.js

      at extractHashedIndexAssets (scripts/upload-static-build.mjs:202:13)

    console.log
      [DEBUG] Normalized: assets/index-abc123.js

      at extractHashedIndexAssets (scripts/upload-static-build.mjs:205:15)

    console.log
      [DEBUG] Pattern matched, adding to assets.

      at extractHashedIndexAssets (scripts/upload-static-build.mjs:207:17)

    console.log
      [DEBUG] Extraction complete. Assets found: 1

      at extractHashedIndexAssets (scripts/upload-static-build.mjs:214:11)

    console.log
      [upload-static] Verified 2 uploaded assets are accessible in s3://my-bucket/

      at verifyUploadedAssets (scripts/upload-static-build.mjs:1379:11)

    console.error
      [upload-static] Verification failed for index.html (s3://missing-bucket/static/client/prod/latest/index.html): Not Found

      1346 |       const reason = error?.message || String(error)
      1347 |
    > 1348 |       console.error(
           |               ^
      1349 |         `[upload-static] Verification failed for ${pathLabel} (s3://${bucket}/${key}): ${reason}`,
      1350 |       )
      1351 |

      at verifyUploadedAssets (scripts/upload-static-build.mjs:1348:15)
      at Object.<anonymous> (tests/uploadStaticBuild.test.js:220:5)

PASS client/src/components/__tests__/ATSScoreDashboard.test.jsx
PASS tests/cloudfrontAssetCheck.test.mjs
PASS tests/postDeploymentApiTests.test.js
PASS lib/cloudfront/metadata.test.js
PASS tests/auditCoverLetterStructure.test.js
(node:28272) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/pdfTemplateBackstop.test.js
PASS client/src/components/__tests__/ChangeComparisonView.test.jsx
PASS client/src/components/__tests__/TemplateSelector.test.jsx
PASS client/src/components/__tests__/ATSScoreCard.test.jsx
PASS tests/geminiSections.test.js
  ● Console

    console.log
      {"timestamp":"2025-12-05T03:20:34.438Z","level":"info","message":"llm_call_metrics","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"bd5e9b6d570e7e3cc28546488af4e2cfd7ee1bc3e78f4da8b2a9bf7f937d78bd","outputDigest":"fb654281fa5724667034bca9a4e4dc01eff87dd65779b721b036afce121a7ca3","addedSkillCount":1,"template":"resume_rewrite","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.error
      {"timestamp":"2025-12-05T03:20:34.472Z","level":"error","message":"ai_response_missing_json","resumeDigest":"01332c876518a793b7c1b8dfaf6d4b404ff5db09b21c6627ca59710cc24f696a","hasJobDescription":true,"sample":"Sure, here is your improved resume text without JSON formatting.","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8533:20)
      at Object.<anonymous> (tests/geminiSections.test.js:87:20)

    console.log
      {"timestamp":"2025-12-05T03:20:34.483Z","level":"info","message":"llm_call_metrics","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"ec77640aa7ce3238be67ec9914dd00ac6a3de59ae73160a99103a073b8a98b57","outcome":"no_parse","template":"resume_rewrite","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:34.483Z","level":"info","message":"llm_call_metrics","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ee9d278c7a3d1b4429e28b7bb8e0c3941152f032062b6482ca746eb09e7f4fc1","outcome":"fallback","template":"resume_rewrite","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

(node:28270) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/extractExperience.test.js
(node:28266) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/templateSections.test.js
(node:28268) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
FAIL tests/server/fallbackClientIndex.test.js
  ● Test suite failed to run

    A jest worker process (pid=28270) was terminated by another process: signal=SIGSEGV, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)

(node:28267) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/enforceTargetedUpdate.test.js
PASS tests/watchCloudfrontAssets.test.js
(node:28269) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/outputUrlNormalization.test.js
(node:28272) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/mapCoverLetterFields.test.js
PASS tests/mergeResumeWithLinkedIn.test.js
(node:28268) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
(node:28271) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/coverLetterLinks.test.js
(node:28266) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/selectionInsights.test.js
(node:28267) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/cloudfrontLogProcessor.test.js
(node:28269) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/determineUploadContentType.test.js
PASS tests/sanitizeGeneratedText.test.js
(node:28268) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
(node:28271) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/generateProjectSummary.test.js
  ● Console

    console.log
      {"timestamp":"2025-12-05T03:20:37.758Z","level":"info","message":"llm_call_metrics","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"f18830d3dc6d4263cce6281ee3d1827774be8a82c7bb60c08b9810e3b22ab623","outputDigest":"62a1135437e026bee27af510c97e0d7f6a542d3bc8fe6ec15e0d7427e94699c5","skillCount":1,"template":"project_summary","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

    console.log
      {"timestamp":"2025-12-05T03:20:37.873Z","level":"info","message":"llm_call_metrics","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"382d201347978f8c7e5e802942968529949504fb56a6e250b6648a84603371be","skillCount":1,"outcome":"fallback","template":"project_summary","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

(node:28272) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/selectTemplatesGroup.test.js
(node:28267) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/staticAssetKey.test.js
PASS tests/ensureRequiredSections.test.js
(node:28269) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/fetchCredlyProfile.test.js
PASS client/src/components/__tests__/ChangeLogSummaryPanel.test.jsx
(node:28268) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/removeGuidanceLines.test.js
PASS tests/splitSkills.test.js
PASS tests/matchMessaging.test.js
(node:28271) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
(node:28272) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
PASS tests/createResumeVariants.test.js
PASS tests/scoreRealResumes.test.js
PASS tests/buildArtifactsGuidance.test.js
PASS tests/loggingSanitization.test.js (6.401 s)
PASS tests/stageConfig.test.js
PASS tests/cloudfrontDocumentationConsistency.test.js
PASS tests/scoreResumeAgainstJob.test.js
PASS tests/parseLine.test.js
PASS tests/deployNotifications.test.js
PASS tests/staticAssetNormalization.test.js
PASS tests/pdfUtils.test.js
PASS tests/client/templateRegistryAliases.test.js
PASS tests/contract/serviceErrorContracts.test.js
PASS tests/extractEducation.test.js
PASS tests/cloudfrontHealthCheck.test.js
PASS tests/hashedIndexAssetRetention.test.js
PASS tests/lib/uploads/s3StreamingStorage.test.js
  ● Console

    console.log
      {"event":"s3_streaming_storage_end","bucket":"bucket","key":"key","chunks":1,"timestamp":1764904842880}

      at Readable.log (lib/uploads/s3StreamingStorage.js:96:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":8}

      at Readable.log (lib/uploads/s3StreamingStorage.js:101:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":8,"newSize":9,"durationMs":0}

      at Readable.log (lib/uploads/s3StreamingStorage.js:112:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"bucket","key":"key","streaming":false}

      at Readable.log (lib/uploads/s3StreamingStorage.js:134:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"bucket","key":"key","uploadDurationMs":0,"totalDurationMs":7}

      at Readable.log (lib/uploads/s3StreamingStorage.js:148:19)

    console.log
      {"event":"s3_streaming_storage_end","bucket":"bucket","key":"key","chunks":1,"timestamp":1764904842892}

      at Readable.log (lib/uploads/s3StreamingStorage.js:96:17)

    console.log
      {"event":"s3_streaming_storage_stripping_metadata","size":8}

      at Readable.log (lib/uploads/s3StreamingStorage.js:101:21)

    console.log
      {"event":"s3_streaming_storage_metadata_stripped","originalSize":8,"newSize":9,"durationMs":0}

      at Readable.log (lib/uploads/s3StreamingStorage.js:112:21)

    console.log
      {"event":"s3_streaming_storage_uploading","bucket":"bucket","key":"key","streaming":true}

      at Readable.log (lib/uploads/s3StreamingStorage.js:134:19)

    console.log
      {"event":"s3_streaming_storage_uploaded","bucket":"bucket","key":"key","uploadDurationMs":0,"totalDurationMs":1}

      at Readable.log (lib/uploads/s3StreamingStorage.js:148:19)

PASS client/src/utils/__tests__/changeLogCategorySummaries.test.js
PASS client/src/utils/__tests__/changeLogSummaryShared.test.js
PASS client/src/__tests__/templateRegistry.test.jsx
PASS services/scoring/handler.test.js
PASS tests/observability/withLambdaObservability.test.js
  ● Console

    console.info
      Lambda invocation started {
        invocationId: '72c037f0-3c7d-49d1-89de-554e9e5d97df',
        functionName: 'test-function',
        requestId: 'req-123',
        sessionId: '',
        jobId: '',
        coldStart: true,
        operationGroup: undefined,
        requestMetadata: {
          type: 'http',
          method: 'GET',
          path: '/test',
          protocol: 'HTTP/1.1',
          sourceIp: '127.0.0.1',
          userAgent: 'jest'
        }
      }

      at info (lib/observability/lambda.js:792:13)

    console.error
      Lambda invocation failed {
        invocationId: '72c037f0-3c7d-49d1-89de-554e9e5d97df',
        functionName: 'test-function',
        requestId: 'req-123',
        sessionId: '',
        jobId: '',
        durationMs: 0,
        operationGroup: undefined,
        coldStart: true,
        errorMessage: 'Payload validation failed',
        errorCode: 'INVALID_PAYLOAD'
      }

      919 |     } catch (error) {
      920 |       const durationMs = Date.now() - startedAt;
    > 921 |       console.error('Lambda invocation failed', {
          |               ^
      922 |         invocationId,
      923 |         functionName,
      924 |         requestId,

      at error (lib/observability/lambda.js:921:15)
      at Object.<anonymous> (tests/observability/withLambdaObservability.test.js:63:22)

    console.info
      Lambda invocation started {
        invocationId: 'e70958ac-7d7d-4058-8343-46bddb6ee7f8',
        functionName: 'test-function',
        requestId: 'req-123',
        sessionId: '',
        jobId: '',
        coldStart: true,
        operationGroup: undefined,
        requestMetadata: {
          type: 'http',
          method: 'GET',
          path: '/test',
          protocol: 'HTTP/1.1',
          sourceIp: '127.0.0.1',
          userAgent: 'jest'
        }
      }

      at info (lib/observability/lambda.js:792:13)

    console.error
      Lambda invocation failed {
        invocationId: 'e70958ac-7d7d-4058-8343-46bddb6ee7f8',
        functionName: 'test-function',
        requestId: 'req-123',
        sessionId: '',
        jobId: '',
        durationMs: 0,
        operationGroup: undefined,
        coldStart: true,
        errorMessage: '',
        errorCode: undefined
      }

      919 |     } catch (error) {
      920 |       const durationMs = Date.now() - startedAt;
    > 921 |       console.error('Lambda invocation failed', {
          |               ^
      922 |         invocationId,
      923 |         functionName,
      924 |         requestId,

      at error (lib/observability/lambda.js:921:15)
      at Object.<anonymous> (tests/observability/withLambdaObservability.test.js:87:22)

    console.info
      Lambda invocation started {
        invocationId: '2916525a-1d3e-4dbe-8035-226288bb6315',
        functionName: 'fn',
        requestId: 'req-456',
        sessionId: '',
        jobId: '',
        coldStart: true,
        operationGroup: undefined,
        requestMetadata: { type: 'event-bridge', detailType: 'MyEvent', source: 'aws.states' }
      }

      at info (lib/observability/lambda.js:792:13)

    console.error
      Lambda invocation failed {
        invocationId: '2916525a-1d3e-4dbe-8035-226288bb6315',
        functionName: 'fn',
        requestId: 'req-456',
        sessionId: '',
        jobId: '',
        durationMs: 0,
        operationGroup: undefined,
        coldStart: true,
        errorMessage: 'step function failure',
        errorCode: undefined
      }

      919 |     } catch (error) {
      920 |       const durationMs = Date.now() - startedAt;
    > 921 |       console.error('Lambda invocation failed', {
          |               ^
      922 |         invocationId,
      923 |         functionName,
      924 |         requestId,

      at error (lib/observability/lambda.js:921:15)
      at Object.<anonymous> (tests/observability/withLambdaObservability.test.js:104:5)

PASS client/src/utils/__tests__/parseJobDescriptionText.test.js
PASS tests/infrastructure/s3Policies.test.js
PASS tests/buildScoreBreakdown.test.js
PASS tests/parseContent.test.js
PASS client/src/__tests__/deriveDeltaSummary.test.js
PASS tests/parseGeminiJsonResponse.test.js
PASS tests/cloudfrontAssetPrefixes.test.js
PASS tests/client/normalizeOutputFiles.test.js
PASS tests/lib/pdf/utils.test.js
PASS tests/extractCertifications.test.js
PASS tests/noDuplicateHeaders.test.js
PASS tests/client/assetValidation.test.js
PASS client/src/__tests__/mainRender.test.jsx
  ● Console

    console.log
      bootstrapApp called

      at log (client/src/bootstrapApp.js:10:11)

    console.log
      bootstrapApp called

      at log (client/src/bootstrapApp.js:10:11)

    console.log
      bootstrapApp called

      at log (client/src/bootstrapApp.js:10:11)

PASS tests/staticAssetAliasMetadata.test.js
FAIL tests/lambdas/documentGenerationLambda.test.js
  ● Test suite failed to run

    A jest worker process (pid=28283) was terminated by another process: signal=SIGSEGV, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)

(node:28271) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
(node:28267) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
(node:28268) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
(node:28272) Warning: NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI
FAIL tests/rootRoute.test.js
  ● Test suite failed to run

    A jest worker process (pid=28268) was terminated by another process: signal=SIGSEGV, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)

FAIL tests/renderCoverLetterRoute.test.js
  ● Test suite failed to run

    A jest worker process (pid=28272) was terminated by another process: signal=SIGSEGV, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)

FAIL tests/generatePdf.test.js
  ● Test suite failed to run

    A jest worker process (pid=28267) was terminated by another process: signal=SIGSEGV, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)

FAIL tests/boldHeadings.test.js
  ● Test suite failed to run

    A jest worker process (pid=28271) was terminated by another process: signal=SIGSEGV, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)

Summary of all failing tests
FAIL tests/server/fallbackClientIndex.test.js
  ● Test suite failed to run

    A jest worker process (pid=28270) was terminated by another process: signal=SIGSEGV, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)

FAIL tests/lambdas/documentGenerationLambda.test.js
  ● Test suite failed to run

    A jest worker process (pid=28283) was terminated by another process: signal=SIGSEGV, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)

FAIL tests/rootRoute.test.js
  ● Test suite failed to run

    A jest worker process (pid=28268) was terminated by another process: signal=SIGSEGV, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)

FAIL tests/renderCoverLetterRoute.test.js
  ● Test suite failed to run

    A jest worker process (pid=28272) was terminated by another process: signal=SIGSEGV, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)

FAIL tests/generatePdf.test.js
  ● Test suite failed to run

    A jest worker process (pid=28267) was terminated by another process: signal=SIGSEGV, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)

FAIL tests/boldHeadings.test.js
  ● Test suite failed to run

    A jest worker process (pid=28271) was terminated by another process: signal=SIGSEGV, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)


Test Suites: 6 failed, 1 skipped, 85 passed, 91 of 92 total
Tests:       2 skipped, 490 passed, 492 total
Snapshots:   1 passed, 1 total
Time:        24.504 s
Ran all test suites.
Force exiting Jest: Have you considered using `--detectOpenHandles` to detect async operations that kept running after all tests finished?
