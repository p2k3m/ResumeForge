
> resumeforge@1.0.0 test
> node --experimental-vm-modules node_modules/jest/bin/jest.js tests/server.test.js

[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
(node:31064) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
  console.log
    {"timestamp":"2025-11-29T11:06:57.124Z","level":"info","message":"http_request_received","requestId":"ab343576-2880-4bcc-804b-759fdb633d0c","method":"GET","path":"/healthz","template":"unknown","session":"ab343576-2880-4bcc-804b-759fdb633d0c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ab343576-2880-4bcc-804b-759fdb633d0c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:57.718Z","level":"info","message":"http_request_completed","requestId":"ab343576-2880-4bcc-804b-759fdb633d0c","method":"GET","path":"/healthz","statusCode":200,"durationMs":594,"contentLength":"15","template":"unknown","session":"ab343576-2880-4bcc-804b-759fdb633d0c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ab343576-2880-4bcc-804b-759fdb633d0c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:57.737Z","level":"info","message":"http_request_received","requestId":"99f2bc07-8599-49ca-a98a-54ddddcc8b7c","method":"GET","path":"/favicon.ico","template":"unknown","session":"99f2bc07-8599-49ca-a98a-54ddddcc8b7c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"99f2bc07-8599-49ca-a98a-54ddddcc8b7c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:57.743Z","level":"info","message":"http_request_completed","requestId":"99f2bc07-8599-49ca-a98a-54ddddcc8b7c","method":"GET","path":"/favicon.ico","statusCode":204,"durationMs":6,"template":"unknown","session":"99f2bc07-8599-49ca-a98a-54ddddcc8b7c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"99f2bc07-8599-49ca-a98a-54ddddcc8b7c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:57.750Z","level":"info","message":"http_request_received","requestId":"0e9422fa-1e8b-4f32-b768-7417de399eb1","method":"GET","path":"/assets/index-missing.css","template":"unknown","session":"0e9422fa-1e8b-4f32-b768-7417de399eb1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e9422fa-1e8b-4f32-b768-7417de399eb1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:57.759Z","level":"info","message":"client_asset_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-missing.css","path":"/assets/index-missing.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:57.760Z","level":"info","message":"http_request_completed","requestId":"0e9422fa-1e8b-4f32-b768-7417de399eb1","method":"GET","path":"/assets/index-missing.css","statusCode":200,"durationMs":10,"contentLength":"18","template":"unknown","session":"0e9422fa-1e8b-4f32-b768-7417de399eb1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e9422fa-1e8b-4f32-b768-7417de399eb1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:57.771Z","level":"info","message":"http_request_received","requestId":"9cb6b2de-7719-46b4-b1ba-36a5ed1726d8","method":"GET","path":"/assets/index-88182d50.css","template":"unknown","session":"9cb6b2de-7719-46b4-b1ba-36a5ed1726d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9cb6b2de-7719-46b4-b1ba-36a5ed1726d8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:57.781Z","level":"info","message":"http_request_completed","requestId":"9cb6b2de-7719-46b4-b1ba-36a5ed1726d8","method":"GET","path":"/assets/index-88182d50.css","statusCode":200,"durationMs":9,"contentLength":"52930","template":"unknown","session":"9cb6b2de-7719-46b4-b1ba-36a5ed1726d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9cb6b2de-7719-46b4-b1ba-36a5ed1726d8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:57.784Z","level":"info","message":"client_asset_hashed_local_served","assetPath":"/assets/index-88182d50.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:57.790Z","level":"info","message":"http_request_received","requestId":"f258e011-7682-497b-b380-9379e4dac597","method":"GET","path":"/prod/assets/index-latest.css","template":"unknown","session":"f258e011-7682-497b-b380-9379e4dac597","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f258e011-7682-497b-b380-9379e4dac597","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:57.796Z","level":"info","message":"http_request_completed","requestId":"f258e011-7682-497b-b380-9379e4dac597","method":"GET","path":"/prod/assets/index-latest.css","statusCode":200,"durationMs":6,"contentLength":"52930","template":"unknown","session":"f258e011-7682-497b-b380-9379e4dac597","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f258e011-7682-497b-b380-9379e4dac597","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:57.799Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:57.804Z","level":"info","message":"http_request_received","requestId":"a0f1b9f3-3336-49ee-b1b9-e34333d47227","method":"HEAD","path":"/assets/index-meta.js","template":"unknown","session":"a0f1b9f3-3336-49ee-b1b9-e34333d47227","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a0f1b9f3-3336-49ee-b1b9-e34333d47227","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:57.813Z","level":"info","message":"client_asset_s3_head_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-meta.js","path":"/assets/index-meta.js","method":"HEAD","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:57.814Z","level":"info","message":"http_request_completed","requestId":"a0f1b9f3-3336-49ee-b1b9-e34333d47227","method":"HEAD","path":"/assets/index-meta.js","statusCode":200,"durationMs":10,"contentLength":"1234","template":"unknown","session":"a0f1b9f3-3336-49ee-b1b9-e34333d47227","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a0f1b9f3-3336-49ee-b1b9-e34333d47227","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:57.820Z","level":"info","message":"http_request_received","requestId":"ab37bffc-2bb6-4a0f-a9c0-2f0dd540584d","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"ab37bffc-2bb6-4a0f-a9c0-2f0dd540584d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ab37bffc-2bb6-4a0f-a9c0-2f0dd540584d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:57.827Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-test-alias.css","path":"assets/index-test-alias.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-test-alias.css","s3Key":"assets/index-test-alias.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:57.830Z","level":"info","message":"http_request_completed","requestId":"ab37bffc-2bb6-4a0f-a9c0-2f0dd540584d","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":10,"contentLength":"23","template":"unknown","session":"ab37bffc-2bb6-4a0f-a9c0-2f0dd540584d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ab37bffc-2bb6-4a0f-a9c0-2f0dd540584d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:57.834Z","level":"info","message":"http_request_received","requestId":"e0160763-cfc7-4f2a-a416-36ef6aedcbc8","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"e0160763-cfc7-4f2a-a416-36ef6aedcbc8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e0160763-cfc7-4f2a-a416-36ef6aedcbc8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:57.840Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-manifest-only.css","path":"assets/index-manifest-only.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-manifest-only.css","s3Key":"assets/index-manifest-only.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:57.841Z","level":"info","message":"http_request_completed","requestId":"e0160763-cfc7-4f2a-a416-36ef6aedcbc8","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":7,"contentLength":"31","template":"unknown","session":"e0160763-cfc7-4f2a-a416-36ef6aedcbc8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e0160763-cfc7-4f2a-a416-36ef6aedcbc8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:57.848Z","level":"info","message":"http_request_received","requestId":"5dec4ea2-6aa1-4600-bc29-7346a909ff99","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"5dec4ea2-6aa1-4600-bc29-7346a909ff99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5dec4ea2-6aa1-4600-bc29-7346a909ff99","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:06:58.776Z","level":"warn","message":"client_asset_alias_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-prefixed.css","path":"static/client/prod/latest/assets/index-prefixed.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-prefixed.css","s3Key":"static/client/prod/latest/assets/index-prefixed.css","error":{"name":"Error","message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: \"static/client/prod/latest/assets/index-prefixed.css\"\nReceived: \"static/client/test/latest/assets/index-prefixed.css\"","stack":"Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"static/client/prod/latest/assets/index-prefixed.css\"\nReceived: \"static/client/test/latest/assets/index-prefixed.css\"\n    at Object.toBe (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:449:35)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at send (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7606:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at executeWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7609:16)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1080:32)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1339:30)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at serveIndexAssetAlias (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1450:3)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:1099:5)
      at handleIndexAssetAliasRequest (server.js:1339:24)
      at serveIndexAssetAlias (server.js:1450:3)

  console.error
    {"timestamp":"2025-11-29T11:06:58.793Z","level":"error","message":"client_asset_alias_unavailable","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-prefixed.css","s3Key":"static/client/prod/latest/assets/index-prefixed.css","method":"GET","fallbackCandidates":[],"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:1427:3)
      at serveIndexAssetAlias (server.js:1450:3)

  console.log
    {"timestamp":"2025-11-29T11:06:58.808Z","level":"info","message":"http_request_completed","requestId":"5dec4ea2-6aa1-4600-bc29-7346a909ff99","method":"GET","path":"/assets/index-latest.css","statusCode":502,"durationMs":960,"contentLength":"42","template":"unknown","session":"5dec4ea2-6aa1-4600-bc29-7346a909ff99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5dec4ea2-6aa1-4600-bc29-7346a909ff99","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:58.818Z","level":"info","message":"http_request_received","requestId":"735a2103-50a8-4537-aceb-a59d97b800c3","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"735a2103-50a8-4537-aceb-a59d97b800c3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"735a2103-50a8-4537-aceb-a59d97b800c3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:06:58.826Z","level":"warn","message":"client_asset_alias_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-missing.css","path":"assets/index-missing.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-missing.css","s3Key":"assets/index-missing.css","error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:530:23)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at send (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7606:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at executeWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7609:16)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1080:32)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1339:30)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at serveIndexAssetAlias (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1450:3)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:1099:5)
      at handleIndexAssetAliasRequest (server.js:1339:24)
      at serveIndexAssetAlias (server.js:1450:3)

  console.log
    {"timestamp":"2025-11-29T11:06:58.838Z","level":"info","message":"client_asset_alias_fallback_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-existing.css","path":"assets/index-existing.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-existing.css","s3Key":"assets/index-existing.css","manifestFallback":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:58.840Z","level":"info","message":"http_request_completed","requestId":"735a2103-50a8-4537-aceb-a59d97b800c3","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":22,"contentLength":"26","template":"unknown","session":"735a2103-50a8-4537-aceb-a59d97b800c3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"735a2103-50a8-4537-aceb-a59d97b800c3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:58.849Z","level":"info","message":"http_request_received","requestId":"50b65023-394e-4375-acbd-72438c9e3d79","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"50b65023-394e-4375-acbd-72438c9e3d79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50b65023-394e-4375-acbd-72438c9e3d79","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:58.858Z","level":"info","message":"http_request_completed","requestId":"50b65023-394e-4375-acbd-72438c9e3d79","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","statusCode":200,"durationMs":9,"contentLength":"52930","template":"unknown","session":"50b65023-394e-4375-acbd-72438c9e3d79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50b65023-394e-4375-acbd-72438c9e3d79","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:58.860Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:58.866Z","level":"info","message":"http_request_received","requestId":"89d8bad6-073f-4df4-88c8-551ec89600d5","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","template":"unknown","session":"89d8bad6-073f-4df4-88c8-551ec89600d5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"89d8bad6-073f-4df4-88c8-551ec89600d5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:58.870Z","level":"info","message":"http_request_completed","requestId":"89d8bad6-073f-4df4-88c8-551ec89600d5","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","statusCode":200,"durationMs":4,"contentLength":"52930","template":"unknown","session":"89d8bad6-073f-4df4-88c8-551ec89600d5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"89d8bad6-073f-4df4-88c8-551ec89600d5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:58.871Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:58.877Z","level":"info","message":"http_request_received","requestId":"2fddbc96-846c-4193-993c-fd886359ddc1","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-88182d50.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","template":"unknown","session":"2fddbc96-846c-4193-993c-fd886359ddc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2fddbc96-846c-4193-993c-fd886359ddc1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:58.881Z","level":"info","message":"http_request_completed","requestId":"2fddbc96-846c-4193-993c-fd886359ddc1","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-88182d50.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","statusCode":200,"durationMs":4,"contentLength":"52930","template":"unknown","session":"2fddbc96-846c-4193-993c-fd886359ddc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2fddbc96-846c-4193-993c-fd886359ddc1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:58.883Z","level":"info","message":"client_asset_alias_local_served","path":"/assets/index-88182d50.css","method":"GET","proxy":true,"aliasPath":"/assets/index-latest.css","annotatedAlias":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:58.891Z","level":"info","message":"http_request_received","requestId":"8b131c78-94b4-49c0-95a9-4242715aa6a2","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"8b131c78-94b4-49c0-95a9-4242715aa6a2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b131c78-94b4-49c0-95a9-4242715aa6a2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:58.897Z","level":"info","message":"client_asset_alias_proxy_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-88182d50.css","path":"assets/index-88182d50.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-88182d50.css","s3Key":"assets/index-88182d50.css","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:58.898Z","level":"info","message":"http_request_completed","requestId":"8b131c78-94b4-49c0-95a9-4242715aa6a2","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","statusCode":200,"durationMs":7,"contentLength":"32","template":"unknown","session":"8b131c78-94b4-49c0-95a9-4242715aa6a2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b131c78-94b4-49c0-95a9-4242715aa6a2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:58.909Z","level":"info","message":"http_request_received","requestId":"0f2dc46a-7058-42f7-af7e-3b018ce91294","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-88182d50.css","template":"unknown","session":"0f2dc46a-7058-42f7-af7e-3b018ce91294","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0f2dc46a-7058-42f7-af7e-3b018ce91294","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:06:58.912Z","level":"warn","message":"client_asset_proxy_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-88182d50.css","path":"/assets/index-88182d50.css","method":"GET","proxy":true,"error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:703:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at send (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7606:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at executeWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7609:16)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1080:32)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:18942:30)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:1099:5)
      at server.js:18942:24

  console.log
    {"timestamp":"2025-11-29T11:06:58.925Z","level":"info","message":"http_request_completed","requestId":"0f2dc46a-7058-42f7-af7e-3b018ce91294","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-88182d50.css","statusCode":200,"durationMs":16,"contentLength":"52930","template":"unknown","session":"0f2dc46a-7058-42f7-af7e-3b018ce91294","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0f2dc46a-7058-42f7-af7e-3b018ce91294","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:58.927Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","path":"/assets/index-88182d50.css","proxy":true,"degradedFrom":"/assets/index-88182d50.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:06:58.929Z","level":"warn","message":"client_asset_proxy_degraded_to_alias","path":"/assets/index-88182d50.css","method":"GET","proxy":true,"aliasPath":"/assets/index-latest.css","degradedFrom":"/assets/index-88182d50.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:18994:9)

  console.log
    {"timestamp":"2025-11-29T11:06:58.948Z","level":"info","message":"http_request_received","requestId":"198bcc55-14eb-4341-9a58-e7df5d323feb","method":"GET","path":"/assets/index-88182d50.css","template":"unknown","session":"198bcc55-14eb-4341-9a58-e7df5d323feb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"198bcc55-14eb-4341-9a58-e7df5d323feb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:06:58.951Z","level":"warn","message":"client_asset_s3_fallback_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-88182d50.css","path":"/assets/index-88182d50.css","method":"GET","error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:740:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at send (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7606:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at executeWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7609:16)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1080:32)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1136:24)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:1099:5)
      at tryServeHashedIndexAssetFromS3 (server.js:1136:18)

  console.log
    {"timestamp":"2025-11-29T11:06:58.966Z","level":"info","message":"http_request_completed","requestId":"198bcc55-14eb-4341-9a58-e7df5d323feb","method":"GET","path":"/assets/index-88182d50.css","statusCode":200,"durationMs":18,"contentLength":"52930","template":"unknown","session":"198bcc55-14eb-4341-9a58-e7df5d323feb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"198bcc55-14eb-4341-9a58-e7df5d323feb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:58.968Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","hashedPath":"/assets/index-88182d50.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:06:58.970Z","level":"warn","message":"hashed_index_asset_degraded_to_alias","hashedPath":"/assets/index-88182d50.css","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:1188:7)

  console.log
    {"timestamp":"2025-11-29T11:06:58.987Z","level":"info","message":"http_request_received","requestId":"92db92d3-6666-4cd1-8e57-c1baa955b4f5","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","template":"unknown","session":"92db92d3-6666-4cd1-8e57-c1baa955b4f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92db92d3-6666-4cd1-8e57-c1baa955b4f5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:06:58.992Z","level":"warn","message":"api_error_response","requestId":"92db92d3-6666-4cd1-8e57-c1baa955b4f5","status":400,"error":{"code":"INVALID_STATIC_ASSET_PATH","message":"Provide a valid static asset path to proxy.","details":{},"requestId":"92db92d3-6666-4cd1-8e57-c1baa955b4f5"},"template":"unknown","session":"92db92d3-6666-4cd1-8e57-c1baa955b4f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92db92d3-6666-4cd1-8e57-c1baa955b4f5","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:3812:3)
      at sendError (server.js:18878:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at SendStream.error (node_modules/serve-static/index.js:121:7)
      at SendStream.error (node_modules/send/index.js:270:17)
      at SendStream.onStatError (node_modules/send/index.js:417:12)
      at next (node_modules/send/index.js:730:16)
      at onstat (node_modules/send/index.js:719:14)

  console.log
    {"timestamp":"2025-11-29T11:06:59.010Z","level":"info","message":"http_request_completed","requestId":"92db92d3-6666-4cd1-8e57-c1baa955b4f5","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","statusCode":400,"durationMs":23,"contentLength":"182","template":"unknown","session":"92db92d3-6666-4cd1-8e57-c1baa955b4f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92db92d3-6666-4cd1-8e57-c1baa955b4f5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.019Z","level":"info","message":"http_request_received","requestId":"7206b125-9ca6-48cf-98fc-9db8d68be650","method":"GET","path":"/api/static-manifest","template":"unknown","session":"7206b125-9ca6-48cf-98fc-9db8d68be650","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7206b125-9ca6-48cf-98fc-9db8d68be650","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.023Z","level":"info","message":"http_request_completed","requestId":"7206b125-9ca6-48cf-98fc-9db8d68be650","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":4,"contentLength":"301","template":"unknown","session":"7206b125-9ca6-48cf-98fc-9db8d68be650","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7206b125-9ca6-48cf-98fc-9db8d68be650","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.028Z","level":"info","message":"http_request_received","requestId":"873c85cd-f3b4-457e-b266-de2019b220e4","method":"GET","path":"/api/static-manifest","template":"unknown","session":"873c85cd-f3b4-457e-b266-de2019b220e4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"873c85cd-f3b4-457e-b266-de2019b220e4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.032Z","level":"info","message":"http_request_completed","requestId":"873c85cd-f3b4-457e-b266-de2019b220e4","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":4,"contentLength":"195","template":"unknown","session":"873c85cd-f3b4-457e-b266-de2019b220e4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"873c85cd-f3b4-457e-b266-de2019b220e4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.035Z","level":"info","message":"http_request_received","requestId":"4b1c4b5e-dc21-4906-8e4b-a91e925d88d9","method":"GET","path":"/api/static-manifest?refresh=1","template":"unknown","session":"4b1c4b5e-dc21-4906-8e4b-a91e925d88d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b1c4b5e-dc21-4906-8e4b-a91e925d88d9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.039Z","level":"info","message":"http_request_completed","requestId":"4b1c4b5e-dc21-4906-8e4b-a91e925d88d9","method":"GET","path":"/api/static-manifest?refresh=1","statusCode":200,"durationMs":4,"contentLength":"195","template":"unknown","session":"4b1c4b5e-dc21-4906-8e4b-a91e925d88d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b1c4b5e-dc21-4906-8e4b-a91e925d88d9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.041Z","level":"info","message":"http_request_received","requestId":"d8806e96-1adf-4f64-a805-81e29f924d66","method":"GET","path":"/api/static-manifest","template":"unknown","session":"d8806e96-1adf-4f64-a805-81e29f924d66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d8806e96-1adf-4f64-a805-81e29f924d66","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:06:59.047Z","level":"warn","message":"client_asset_manifest_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/manifest.json","error":{"name":"Error","message":"manifest not found","stack":"Error: manifest not found\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:837:22)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at send (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7606:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at executeWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7609:16)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:821:30)\n    at loadStaticAssetManifestFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:904:4)\n    at loadStaticAssetManifestFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19014:28)\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/serve-static/index.js:121:7)\n    at SendStream.emit (node:events:513:28)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:270:17)\n    at SendStream.onStatError (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:417:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:730:16)\n    at onstat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:719:14)\n    at FSReqCallback.oncomplete (node:fs:206:21)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:896:7)
      at loadStaticAssetManifestFromS3 (server.js:911:12)
      at server.js:19014:22

  console.error
    {"timestamp":"2025-11-29T11:06:59.059Z","level":"error","message":"api_error_response","requestId":"d8806e96-1adf-4f64-a805-81e29f924d66","status":503,"error":{"code":"STATIC_MANIFEST_UNAVAILABLE","message":"Static asset manifest is not currently available. Please try again shortly.","details":{},"requestId":"d8806e96-1adf-4f64-a805-81e29f924d66"},"template":"unknown","session":"d8806e96-1adf-4f64-a805-81e29f924d66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d8806e96-1adf-4f64-a805-81e29f924d66","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:3812:3)
      at sendError (server.js:19019:14)

  console.log
    {"timestamp":"2025-11-29T11:06:59.069Z","level":"info","message":"http_request_completed","requestId":"d8806e96-1adf-4f64-a805-81e29f924d66","method":"GET","path":"/api/static-manifest","statusCode":503,"durationMs":28,"contentLength":"216","template":"unknown","session":"d8806e96-1adf-4f64-a805-81e29f924d66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d8806e96-1adf-4f64-a805-81e29f924d66","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.081Z","level":"info","message":"http_request_received","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","method":"POST","path":"/api/process-cv","template":"unknown","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.110Z","level":"info","message":"process_cv_started","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","manualJobDescriptionProvided":true,"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.120Z","level":"info","message":"template_selection","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:06:59.123Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:06:59.144Z","level":"info","message":"initial_upload_completed","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","bucket":"test-bucket","key":"cv/candidate/67db5f0c-03f2-43f4-acc4-82b26d1ee51c/incoming/original.pdf","template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.173Z","level":"info","message":"resume_text_extracted","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","characters":57,"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.176Z","level":"info","message":"resume_classified","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.180Z","level":"info","message":"raw_upload_relocated","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","bucket":"test-bucket","fromKey":"cv/candidate/67db5f0c-03f2-43f4-acc4-82b26d1ee51c/incoming/original.pdf","toKey":"cv/professional_summary/67db5f0c-03f2-43f4-acc4-82b26d1ee51c/original.pdf","template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.183Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","bucket":"test-bucket","key":"cv/professional_summary/67db5f0c-03f2-43f4-acc4-82b26d1ee51c/original.pdf","template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.185Z","level":"info","message":"dynamo_initial_record_written","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","bucket":"test-bucket","key":"cv/professional_summary/67db5f0c-03f2-43f4-acc4-82b26d1ee51c/original.pdf","template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.188Z","level":"info","message":"upload_metadata_written","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","bucket":"test-bucket","key":"cv/professional_summary/67db5f0c-03f2-43f4-acc4-82b26d1ee51c/logs/log.json","template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.189Z","level":"info","message":"job_description_supplied_manually","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","characters":174,"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.194Z","level":"info","message":"job_description_analyzed","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","jobTitle":"","jobSkills":5,"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.208Z","level":"info","message":"resume_skills_analyzed","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.219Z","level":"info","message":"llm_call_metrics","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.229Z","level":"info","message":"process_cv_scoring_completed","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.291Z","level":"info","message":"llm_call_metrics","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.293Z","level":"info","message":"generation_section_rewrite_completed","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","generationRunId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.296Z","level":"info","message":"llm_call_metrics","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.322Z","level":"info","message":"generation_resume_verified","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","generationRunId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:06:59.372Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","generationRunId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:06:59.401Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","generationRunId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:06:59.414Z","level":"info","message":"generation_cover_letters_completed","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","generationRunId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","variants":2,"fallbackApplied":true,"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.420Z","level":"info","message":"pdf_generation_attempt","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","generationRunId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/67db5f0c-03f2-43f4-acc4-82b26d1ee51c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/67db5f0c-03f2-43f4-acc4-82b26d1ee51c/enhanced_modern.pdf","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.422Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","generationRunId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/67db5f0c-03f2-43f4-acc4-82b26d1ee51c/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.423Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","generationRunId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/67db5f0c-03f2-43f4-acc4-82b26d1ee51c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/67db5f0c-03f2-43f4-acc4-82b26d1ee51c/enhanced_modern.pdf","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.426Z","level":"info","message":"pdf_generation_attempt","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","generationRunId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/67db5f0c-03f2-43f4-acc4-82b26d1ee51c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/67db5f0c-03f2-43f4-acc4-82b26d1ee51c/enhanced_professional.pdf","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.428Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","generationRunId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/67db5f0c-03f2-43f4-acc4-82b26d1ee51c/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.429Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","generationRunId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/67db5f0c-03f2-43f4-acc4-82b26d1ee51c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/67db5f0c-03f2-43f4-acc4-82b26d1ee51c/enhanced_professional.pdf","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.431Z","level":"info","message":"pdf_generation_attempt","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","generationRunId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/67db5f0c-03f2-43f4-acc4-82b26d1ee51c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/67db5f0c-03f2-43f4-acc4-82b26d1ee51c/cover_letter_cover_modern.pdf","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.433Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","generationRunId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/67db5f0c-03f2-43f4-acc4-82b26d1ee51c/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.447Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","generationRunId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/67db5f0c-03f2-43f4-acc4-82b26d1ee51c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/67db5f0c-03f2-43f4-acc4-82b26d1ee51c/cover_letter_cover_modern.pdf","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.452Z","level":"info","message":"pdf_generation_attempt","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","generationRunId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/67db5f0c-03f2-43f4-acc4-82b26d1ee51c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/67db5f0c-03f2-43f4-acc4-82b26d1ee51c/cover_letter_cover_professional.pdf","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.453Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","generationRunId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/67db5f0c-03f2-43f4-acc4-82b26d1ee51c/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.455Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","generationRunId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/67db5f0c-03f2-43f4-acc4-82b26d1ee51c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/67db5f0c-03f2-43f4-acc4-82b26d1ee51c/cover_letter_cover_professional.pdf","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.475Z","level":"info","message":"llm_call_metrics","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.481Z","level":"info","message":"generation_completed","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","generationRunId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","enhancedScore":80,"outputs":5,"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.486Z","level":"info","message":"placeholder_record_deleted","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","jobId":"75515b3b-e5cd-4ec2-9b51-406bee784040","placeholderIdentifier":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75515b3b-e5cd-4ec2-9b51-406bee784040","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.488Z","level":"info","message":"http_request_completed","requestId":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":407,"contentLength":"58133","template":"unknown","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67db5f0c-03f2-43f4-acc4-82b26d1ee51c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.494Z","level":"info","message":"http_request_received","requestId":"abe8655b-413f-49c0-b638-c5be68204673","method":"POST","path":"/api/process-cv","template":"unknown","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.512Z","level":"info","message":"process_cv_started","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","manualJobDescriptionProvided":true,"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.515Z","level":"info","message":"template_selection","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:06:59.516Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:06:59.527Z","level":"info","message":"initial_upload_completed","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","bucket":"test-bucket","key":"cv/candidate/abe8655b-413f-49c0-b638-c5be68204673/incoming/original.pdf","template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.536Z","level":"info","message":"resume_text_extracted","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","characters":57,"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.537Z","level":"info","message":"resume_classified","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.539Z","level":"info","message":"raw_upload_relocated","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","bucket":"test-bucket","fromKey":"cv/candidate/abe8655b-413f-49c0-b638-c5be68204673/incoming/original.pdf","toKey":"cv/professional_summary/abe8655b-413f-49c0-b638-c5be68204673/original.pdf","template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.540Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","bucket":"test-bucket","key":"cv/professional_summary/abe8655b-413f-49c0-b638-c5be68204673/original.pdf","template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.541Z","level":"info","message":"dynamo_initial_record_written","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","bucket":"test-bucket","key":"cv/professional_summary/abe8655b-413f-49c0-b638-c5be68204673/original.pdf","template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.544Z","level":"info","message":"upload_metadata_written","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","bucket":"test-bucket","key":"cv/professional_summary/abe8655b-413f-49c0-b638-c5be68204673/logs/log.json","template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.544Z","level":"info","message":"job_description_supplied_manually","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","characters":174,"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.546Z","level":"info","message":"job_description_analyzed","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","jobTitle":"","jobSkills":5,"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.547Z","level":"info","message":"resume_skills_analyzed","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.549Z","level":"info","message":"llm_call_metrics","requestId":"abe8655b-413f-49c0-b638-c5be68204673","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.551Z","level":"info","message":"process_cv_scoring_completed","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.559Z","level":"info","message":"llm_call_metrics","requestId":"abe8655b-413f-49c0-b638-c5be68204673","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.560Z","level":"info","message":"generation_section_rewrite_completed","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","generationRunId":"abe8655b-413f-49c0-b638-c5be68204673","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.561Z","level":"info","message":"llm_call_metrics","requestId":"abe8655b-413f-49c0-b638-c5be68204673","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.577Z","level":"info","message":"generation_resume_verified","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","generationRunId":"abe8655b-413f-49c0-b638-c5be68204673","template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:06:59.590Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","generationRunId":"abe8655b-413f-49c0-b638-c5be68204673","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:06:59.615Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","generationRunId":"abe8655b-413f-49c0-b638-c5be68204673","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:06:59.636Z","level":"info","message":"generation_cover_letters_completed","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","generationRunId":"abe8655b-413f-49c0-b638-c5be68204673","variants":2,"fallbackApplied":true,"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.640Z","level":"info","message":"pdf_generation_attempt","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","generationRunId":"abe8655b-413f-49c0-b638-c5be68204673","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/abe8655b-413f-49c0-b638-c5be68204673/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/abe8655b-413f-49c0-b638-c5be68204673/enhanced_modern.pdf","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.641Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","generationRunId":"abe8655b-413f-49c0-b638-c5be68204673","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/abe8655b-413f-49c0-b638-c5be68204673/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.642Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","generationRunId":"abe8655b-413f-49c0-b638-c5be68204673","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/abe8655b-413f-49c0-b638-c5be68204673/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/abe8655b-413f-49c0-b638-c5be68204673/enhanced_modern.pdf","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.644Z","level":"info","message":"pdf_generation_attempt","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","generationRunId":"abe8655b-413f-49c0-b638-c5be68204673","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/abe8655b-413f-49c0-b638-c5be68204673/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/abe8655b-413f-49c0-b638-c5be68204673/enhanced_professional.pdf","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.646Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","generationRunId":"abe8655b-413f-49c0-b638-c5be68204673","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/abe8655b-413f-49c0-b638-c5be68204673/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.648Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","generationRunId":"abe8655b-413f-49c0-b638-c5be68204673","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/abe8655b-413f-49c0-b638-c5be68204673/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/abe8655b-413f-49c0-b638-c5be68204673/enhanced_professional.pdf","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.650Z","level":"info","message":"pdf_generation_attempt","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","generationRunId":"abe8655b-413f-49c0-b638-c5be68204673","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/abe8655b-413f-49c0-b638-c5be68204673/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/abe8655b-413f-49c0-b638-c5be68204673/cover_letter_cover_modern.pdf","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.651Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","generationRunId":"abe8655b-413f-49c0-b638-c5be68204673","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/abe8655b-413f-49c0-b638-c5be68204673/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.652Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","generationRunId":"abe8655b-413f-49c0-b638-c5be68204673","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/abe8655b-413f-49c0-b638-c5be68204673/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/abe8655b-413f-49c0-b638-c5be68204673/cover_letter_cover_modern.pdf","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.655Z","level":"info","message":"pdf_generation_attempt","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","generationRunId":"abe8655b-413f-49c0-b638-c5be68204673","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/abe8655b-413f-49c0-b638-c5be68204673/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/abe8655b-413f-49c0-b638-c5be68204673/cover_letter_cover_professional.pdf","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.656Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","generationRunId":"abe8655b-413f-49c0-b638-c5be68204673","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/abe8655b-413f-49c0-b638-c5be68204673/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.658Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","generationRunId":"abe8655b-413f-49c0-b638-c5be68204673","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/abe8655b-413f-49c0-b638-c5be68204673/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/abe8655b-413f-49c0-b638-c5be68204673/cover_letter_cover_professional.pdf","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.670Z","level":"info","message":"llm_call_metrics","requestId":"abe8655b-413f-49c0-b638-c5be68204673","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.677Z","level":"info","message":"generation_completed","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","generationRunId":"abe8655b-413f-49c0-b638-c5be68204673","enhancedScore":80,"outputs":5,"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.682Z","level":"info","message":"placeholder_record_deleted","requestId":"abe8655b-413f-49c0-b638-c5be68204673","jobId":"ea75636b-3c3d-4abd-9710-c586f229df31","placeholderIdentifier":"abe8655b-413f-49c0-b638-c5be68204673","template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea75636b-3c3d-4abd-9710-c586f229df31","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.685Z","level":"info","message":"http_request_completed","requestId":"abe8655b-413f-49c0-b638-c5be68204673","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":191,"contentLength":"58133","template":"unknown","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"abe8655b-413f-49c0-b638-c5be68204673","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.709Z","level":"info","message":"http_request_received","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","method":"POST","path":"/api/process-cv","template":"unknown","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.716Z","level":"info","message":"process_cv_started","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","manualJobDescriptionProvided":true,"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.717Z","level":"info","message":"template_selection","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:06:59.719Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:06:59.730Z","level":"info","message":"initial_upload_completed","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","bucket":"test-bucket","key":"cv/candidate/a91d80e0-1f79-43ce-b218-81f26bd0957b/incoming/original.pdf","template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.732Z","level":"info","message":"resume_text_extracted","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","characters":57,"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.733Z","level":"info","message":"resume_classified","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.735Z","level":"info","message":"raw_upload_relocated","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","bucket":"test-bucket","fromKey":"cv/candidate/a91d80e0-1f79-43ce-b218-81f26bd0957b/incoming/original.pdf","toKey":"cv/professional_summary/a91d80e0-1f79-43ce-b218-81f26bd0957b/original.pdf","template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.736Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","bucket":"test-bucket","key":"cv/professional_summary/a91d80e0-1f79-43ce-b218-81f26bd0957b/original.pdf","template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.737Z","level":"info","message":"dynamo_initial_record_written","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","bucket":"test-bucket","key":"cv/professional_summary/a91d80e0-1f79-43ce-b218-81f26bd0957b/original.pdf","template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.738Z","level":"info","message":"upload_metadata_written","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","bucket":"test-bucket","key":"cv/professional_summary/a91d80e0-1f79-43ce-b218-81f26bd0957b/logs/log.json","template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.739Z","level":"info","message":"session_transition_change_log_removed","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","bucket":"test-bucket","removedKeys":["cv/candidate/session-old/logs/change-log.json","cv/candidate/session-old/artifacts/changelog.json"],"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.742Z","level":"info","message":"job_description_supplied_manually","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","characters":174,"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.743Z","level":"info","message":"job_description_analyzed","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","jobTitle":"","jobSkills":5,"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.745Z","level":"info","message":"resume_skills_analyzed","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.746Z","level":"info","message":"llm_call_metrics","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.749Z","level":"info","message":"process_cv_scoring_completed","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.759Z","level":"info","message":"llm_call_metrics","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.761Z","level":"info","message":"generation_section_rewrite_completed","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","generationRunId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.763Z","level":"info","message":"llm_call_metrics","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.784Z","level":"info","message":"generation_resume_verified","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","generationRunId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:06:59.797Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","generationRunId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:06:59.809Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","generationRunId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:06:59.819Z","level":"info","message":"generation_cover_letters_completed","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","generationRunId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","variants":2,"fallbackApplied":true,"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.821Z","level":"info","message":"pdf_generation_attempt","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","generationRunId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a91d80e0-1f79-43ce-b218-81f26bd0957b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a91d80e0-1f79-43ce-b218-81f26bd0957b/enhanced_modern.pdf","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.822Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","generationRunId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a91d80e0-1f79-43ce-b218-81f26bd0957b/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.823Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","generationRunId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a91d80e0-1f79-43ce-b218-81f26bd0957b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a91d80e0-1f79-43ce-b218-81f26bd0957b/enhanced_modern.pdf","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.825Z","level":"info","message":"pdf_generation_attempt","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","generationRunId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a91d80e0-1f79-43ce-b218-81f26bd0957b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a91d80e0-1f79-43ce-b218-81f26bd0957b/enhanced_professional.pdf","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.826Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","generationRunId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a91d80e0-1f79-43ce-b218-81f26bd0957b/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.827Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","generationRunId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a91d80e0-1f79-43ce-b218-81f26bd0957b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a91d80e0-1f79-43ce-b218-81f26bd0957b/enhanced_professional.pdf","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.829Z","level":"info","message":"pdf_generation_attempt","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","generationRunId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a91d80e0-1f79-43ce-b218-81f26bd0957b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a91d80e0-1f79-43ce-b218-81f26bd0957b/cover_letter_cover_modern.pdf","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.830Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","generationRunId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a91d80e0-1f79-43ce-b218-81f26bd0957b/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.831Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","generationRunId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a91d80e0-1f79-43ce-b218-81f26bd0957b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a91d80e0-1f79-43ce-b218-81f26bd0957b/cover_letter_cover_modern.pdf","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.834Z","level":"info","message":"pdf_generation_attempt","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","generationRunId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a91d80e0-1f79-43ce-b218-81f26bd0957b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a91d80e0-1f79-43ce-b218-81f26bd0957b/cover_letter_cover_professional.pdf","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.835Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","generationRunId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a91d80e0-1f79-43ce-b218-81f26bd0957b/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.836Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","generationRunId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a91d80e0-1f79-43ce-b218-81f26bd0957b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a91d80e0-1f79-43ce-b218-81f26bd0957b/cover_letter_cover_professional.pdf","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.844Z","level":"info","message":"llm_call_metrics","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.846Z","level":"info","message":"generation_completed","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","generationRunId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","enhancedScore":80,"outputs":5,"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.851Z","level":"info","message":"placeholder_record_deleted","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","jobId":"5bbc1d75-926f-4d86-8506-00b269e6c203","placeholderIdentifier":"a91d80e0-1f79-43ce-b218-81f26bd0957b","template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bbc1d75-926f-4d86-8506-00b269e6c203","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.857Z","level":"info","message":"http_request_completed","requestId":"a91d80e0-1f79-43ce-b218-81f26bd0957b","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":148,"contentLength":"58133","template":"unknown","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a91d80e0-1f79-43ce-b218-81f26bd0957b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.863Z","level":"info","message":"http_request_received","requestId":"repeat","method":"POST","path":"/api/process-cv","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.868Z","level":"info","message":"process_cv_started","requestId":"repeat","jobId":"repeat","manualJobDescriptionProvided":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.869Z","level":"info","message":"template_selection","requestId":"repeat","jobId":"repeat","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:06:59.870Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"repeat","jobId":"repeat","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:06:59.880Z","level":"info","message":"initial_upload_completed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.880Z","level":"info","message":"resume_text_extracted","requestId":"repeat","jobId":"repeat","characters":57,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.881Z","level":"info","message":"resume_classified","requestId":"repeat","jobId":"repeat","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.882Z","level":"info","message":"raw_upload_relocated","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","fromKey":"cv/candidate/repeat/incoming/original.pdf","toKey":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.882Z","level":"info","message":"dynamo_initial_record_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.883Z","level":"info","message":"upload_metadata_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/logs/log.json","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.883Z","level":"info","message":"session_transition_change_log_removed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","removedKeys":["cv/candidate/repeat/logs/change-log.json","cv/candidate/repeat/artifacts/changelog.json"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.884Z","level":"info","message":"job_description_supplied_manually","requestId":"repeat","jobId":"repeat","characters":174,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.884Z","level":"info","message":"job_description_analyzed","requestId":"repeat","jobId":"repeat","jobTitle":"","jobSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.886Z","level":"info","message":"resume_skills_analyzed","requestId":"repeat","jobId":"repeat","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.887Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.889Z","level":"info","message":"process_cv_scoring_completed","requestId":"repeat","jobId":"repeat","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.894Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.895Z","level":"info","message":"generation_section_rewrite_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.896Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.901Z","level":"info","message":"generation_resume_verified","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:06:59.913Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:06:59.922Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:06:59.931Z","level":"info","message":"generation_cover_letters_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","variants":2,"fallbackApplied":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.932Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.933Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.934Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.935Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.936Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.937Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.937Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.938Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.939Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.940Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.940Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.941Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.950Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.951Z","level":"info","message":"generation_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","enhancedScore":80,"outputs":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.954Z","level":"info","message":"http_request_completed","requestId":"repeat","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":91,"contentLength":"57353","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.959Z","level":"info","message":"http_request_received","requestId":"22940569-5ff8-4fa3-893b-f33ecc8c9532","method":"POST","path":"/api/process-cv","template":"unknown","session":"22940569-5ff8-4fa3-893b-f33ecc8c9532","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"22940569-5ff8-4fa3-893b-f33ecc8c9532","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.964Z","level":"info","message":"process_cv_started","requestId":"22940569-5ff8-4fa3-893b-f33ecc8c9532","jobId":"bef2a5cd-11a1-4585-a8ab-7936d485fd96","manualJobDescriptionProvided":false,"template":"unknown","session":"bef2a5cd-11a1-4585-a8ab-7936d485fd96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bef2a5cd-11a1-4585-a8ab-7936d485fd96","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.965Z","level":"info","message":"template_selection","requestId":"22940569-5ff8-4fa3-893b-f33ecc8c9532","jobId":"bef2a5cd-11a1-4585-a8ab-7936d485fd96","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"bef2a5cd-11a1-4585-a8ab-7936d485fd96","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"bef2a5cd-11a1-4585-a8ab-7936d485fd96","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:06:59.966Z","level":"warn","message":"job_description_missing","requestId":"22940569-5ff8-4fa3-893b-f33ecc8c9532","jobId":"bef2a5cd-11a1-4585-a8ab-7936d485fd96","template":"unknown","session":"bef2a5cd-11a1-4585-a8ab-7936d485fd96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bef2a5cd-11a1-4585-a8ab-7936d485fd96","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24888:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-11-29T11:06:59.975Z","level":"warn","message":"api_error_response","requestId":"22940569-5ff8-4fa3-893b-f33ecc8c9532","jobId":"bef2a5cd-11a1-4585-a8ab-7936d485fd96","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"22940569-5ff8-4fa3-893b-f33ecc8c9532","jobId":"bef2a5cd-11a1-4585-a8ab-7936d485fd96"},"template":"unknown","session":"bef2a5cd-11a1-4585-a8ab-7936d485fd96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bef2a5cd-11a1-4585-a8ab-7936d485fd96","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:3812:3)
      at sendError (server.js:24889:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:06:59.983Z","level":"info","message":"http_request_completed","requestId":"22940569-5ff8-4fa3-893b-f33ecc8c9532","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":24,"contentLength":"244","template":"unknown","session":"22940569-5ff8-4fa3-893b-f33ecc8c9532","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"22940569-5ff8-4fa3-893b-f33ecc8c9532","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.986Z","level":"info","message":"http_request_received","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","method":"POST","path":"/api/process-cv","template":"unknown","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.990Z","level":"info","message":"process_cv_started","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","manualJobDescriptionProvided":true,"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:06:59.991Z","level":"info","message":"template_selection","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:06:59.992Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:07:00.002Z","level":"info","message":"initial_upload_completed","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","bucket":"test-bucket","key":"cv/candidate/9bf95696-84d5-4951-9b72-81b46901eb91/incoming/original.pdf","template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.004Z","level":"info","message":"resume_text_extracted","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","characters":57,"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.005Z","level":"info","message":"resume_classified","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.006Z","level":"info","message":"raw_upload_relocated","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","bucket":"test-bucket","fromKey":"cv/candidate/9bf95696-84d5-4951-9b72-81b46901eb91/incoming/original.pdf","toKey":"cv/professional_summary/9bf95696-84d5-4951-9b72-81b46901eb91/original.pdf","template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.007Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","bucket":"test-bucket","key":"cv/professional_summary/9bf95696-84d5-4951-9b72-81b46901eb91/original.pdf","template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.009Z","level":"info","message":"dynamo_initial_record_written","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","bucket":"test-bucket","key":"cv/professional_summary/9bf95696-84d5-4951-9b72-81b46901eb91/original.pdf","template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.010Z","level":"info","message":"upload_metadata_written","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","bucket":"test-bucket","key":"cv/professional_summary/9bf95696-84d5-4951-9b72-81b46901eb91/logs/log.json","template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.011Z","level":"info","message":"job_description_supplied_manually","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","characters":59,"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.011Z","level":"info","message":"job_description_analyzed","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","jobTitle":"","jobSkills":5,"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.014Z","level":"info","message":"resume_skills_analyzed","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.015Z","level":"info","message":"llm_call_metrics","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.017Z","level":"info","message":"process_cv_scoring_completed","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.022Z","level":"info","message":"llm_call_metrics","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"ea2430c235b24028819e3e632af324e68724bbc1d27bee61065e3e4452249d1c","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.023Z","level":"info","message":"generation_section_rewrite_completed","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","generationRunId":"9bf95696-84d5-4951-9b72-81b46901eb91","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.024Z","level":"info","message":"llm_call_metrics","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"5ccfe9db3e82fa26357ec9c5a8fa36d7c5cf260bf775e906492a22db0355a609","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.038Z","level":"info","message":"generation_resume_verified","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","generationRunId":"9bf95696-84d5-4951-9b72-81b46901eb91","template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:00.053Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","generationRunId":"9bf95696-84d5-4951-9b72-81b46901eb91","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:00.068Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","generationRunId":"9bf95696-84d5-4951-9b72-81b46901eb91","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:00.076Z","level":"info","message":"generation_cover_letters_completed","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","generationRunId":"9bf95696-84d5-4951-9b72-81b46901eb91","variants":2,"fallbackApplied":true,"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.078Z","level":"info","message":"pdf_generation_attempt","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","generationRunId":"9bf95696-84d5-4951-9b72-81b46901eb91","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9bf95696-84d5-4951-9b72-81b46901eb91/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9bf95696-84d5-4951-9b72-81b46901eb91/enhanced_modern.pdf","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.080Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","generationRunId":"9bf95696-84d5-4951-9b72-81b46901eb91","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9bf95696-84d5-4951-9b72-81b46901eb91/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.081Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","generationRunId":"9bf95696-84d5-4951-9b72-81b46901eb91","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9bf95696-84d5-4951-9b72-81b46901eb91/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9bf95696-84d5-4951-9b72-81b46901eb91/enhanced_modern.pdf","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.082Z","level":"info","message":"pdf_generation_attempt","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","generationRunId":"9bf95696-84d5-4951-9b72-81b46901eb91","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9bf95696-84d5-4951-9b72-81b46901eb91/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9bf95696-84d5-4951-9b72-81b46901eb91/enhanced_professional.pdf","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.083Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","generationRunId":"9bf95696-84d5-4951-9b72-81b46901eb91","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9bf95696-84d5-4951-9b72-81b46901eb91/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.084Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","generationRunId":"9bf95696-84d5-4951-9b72-81b46901eb91","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9bf95696-84d5-4951-9b72-81b46901eb91/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9bf95696-84d5-4951-9b72-81b46901eb91/enhanced_professional.pdf","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.086Z","level":"info","message":"pdf_generation_attempt","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","generationRunId":"9bf95696-84d5-4951-9b72-81b46901eb91","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9bf95696-84d5-4951-9b72-81b46901eb91/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9bf95696-84d5-4951-9b72-81b46901eb91/cover_letter_cover_modern.pdf","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.087Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","generationRunId":"9bf95696-84d5-4951-9b72-81b46901eb91","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9bf95696-84d5-4951-9b72-81b46901eb91/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.088Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","generationRunId":"9bf95696-84d5-4951-9b72-81b46901eb91","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9bf95696-84d5-4951-9b72-81b46901eb91/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9bf95696-84d5-4951-9b72-81b46901eb91/cover_letter_cover_modern.pdf","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.089Z","level":"info","message":"pdf_generation_attempt","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","generationRunId":"9bf95696-84d5-4951-9b72-81b46901eb91","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9bf95696-84d5-4951-9b72-81b46901eb91/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9bf95696-84d5-4951-9b72-81b46901eb91/cover_letter_cover_professional.pdf","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.090Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","generationRunId":"9bf95696-84d5-4951-9b72-81b46901eb91","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9bf95696-84d5-4951-9b72-81b46901eb91/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.092Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","generationRunId":"9bf95696-84d5-4951-9b72-81b46901eb91","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9bf95696-84d5-4951-9b72-81b46901eb91/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9bf95696-84d5-4951-9b72-81b46901eb91/cover_letter_cover_professional.pdf","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.098Z","level":"info","message":"llm_call_metrics","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.101Z","level":"info","message":"generation_completed","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","generationRunId":"9bf95696-84d5-4951-9b72-81b46901eb91","enhancedScore":80,"outputs":5,"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.106Z","level":"info","message":"placeholder_record_deleted","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","jobId":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","placeholderIdentifier":"9bf95696-84d5-4951-9b72-81b46901eb91","template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a40a7c6-cf3c-4334-8b82-b704331a6a97","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.108Z","level":"info","message":"http_request_completed","requestId":"9bf95696-84d5-4951-9b72-81b46901eb91","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":122,"contentLength":"55048","template":"unknown","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9bf95696-84d5-4951-9b72-81b46901eb91","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.114Z","level":"info","message":"http_request_received","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","method":"POST","path":"/api/process-cv","template":"unknown","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.119Z","level":"info","message":"process_cv_started","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","manualJobDescriptionProvided":true,"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.121Z","level":"info","message":"template_selection","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:00.122Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:07:00.132Z","level":"info","message":"initial_upload_completed","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","bucket":"test-bucket","key":"cv/candidate/3265fc0d-73d4-490e-907a-4b969432da78/incoming/original.pdf","template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.136Z","level":"info","message":"resume_text_extracted","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","characters":57,"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.137Z","level":"info","message":"resume_classified","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.138Z","level":"info","message":"raw_upload_relocated","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","bucket":"test-bucket","fromKey":"cv/candidate/3265fc0d-73d4-490e-907a-4b969432da78/incoming/original.pdf","toKey":"cv/professional_summary/3265fc0d-73d4-490e-907a-4b969432da78/original.pdf","template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.140Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","bucket":"test-bucket","key":"cv/professional_summary/3265fc0d-73d4-490e-907a-4b969432da78/original.pdf","template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.140Z","level":"info","message":"dynamo_initial_record_written","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","bucket":"test-bucket","key":"cv/professional_summary/3265fc0d-73d4-490e-907a-4b969432da78/original.pdf","template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.142Z","level":"info","message":"upload_metadata_written","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","bucket":"test-bucket","key":"cv/professional_summary/3265fc0d-73d4-490e-907a-4b969432da78/logs/log.json","template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.142Z","level":"info","message":"job_description_supplied_manually","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","characters":32,"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.143Z","level":"info","message":"job_description_analyzed","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","jobTitle":"","jobSkills":5,"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.146Z","level":"info","message":"resume_skills_analyzed","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.147Z","level":"info","message":"llm_call_metrics","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.149Z","level":"info","message":"process_cv_scoring_completed","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.156Z","level":"info","message":"llm_call_metrics","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"4ee429ea92424e8e19e4720211137d476a19f7274074e1702e9c42fe53b6fed7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.158Z","level":"info","message":"generation_section_rewrite_completed","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","generationRunId":"3265fc0d-73d4-490e-907a-4b969432da78","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.159Z","level":"info","message":"llm_call_metrics","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"b847d6e14d4cae3ee14cd5dbb7c4a4ca1658d965fe5c0b4564eb95e9b23995e3","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.166Z","level":"info","message":"generation_resume_verified","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","generationRunId":"3265fc0d-73d4-490e-907a-4b969432da78","template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:00.173Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","generationRunId":"3265fc0d-73d4-490e-907a-4b969432da78","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:00.182Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","generationRunId":"3265fc0d-73d4-490e-907a-4b969432da78","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:00.190Z","level":"info","message":"generation_cover_letters_completed","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","generationRunId":"3265fc0d-73d4-490e-907a-4b969432da78","variants":2,"fallbackApplied":true,"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.191Z","level":"info","message":"pdf_generation_attempt","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","generationRunId":"3265fc0d-73d4-490e-907a-4b969432da78","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/3265fc0d-73d4-490e-907a-4b969432da78/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/3265fc0d-73d4-490e-907a-4b969432da78/enhanced_modern.pdf","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.192Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","generationRunId":"3265fc0d-73d4-490e-907a-4b969432da78","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/3265fc0d-73d4-490e-907a-4b969432da78/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.193Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","generationRunId":"3265fc0d-73d4-490e-907a-4b969432da78","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/3265fc0d-73d4-490e-907a-4b969432da78/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/3265fc0d-73d4-490e-907a-4b969432da78/enhanced_modern.pdf","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.194Z","level":"info","message":"pdf_generation_attempt","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","generationRunId":"3265fc0d-73d4-490e-907a-4b969432da78","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/3265fc0d-73d4-490e-907a-4b969432da78/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/3265fc0d-73d4-490e-907a-4b969432da78/enhanced_professional.pdf","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.195Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","generationRunId":"3265fc0d-73d4-490e-907a-4b969432da78","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/3265fc0d-73d4-490e-907a-4b969432da78/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.196Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","generationRunId":"3265fc0d-73d4-490e-907a-4b969432da78","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/3265fc0d-73d4-490e-907a-4b969432da78/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/3265fc0d-73d4-490e-907a-4b969432da78/enhanced_professional.pdf","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.197Z","level":"info","message":"pdf_generation_attempt","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","generationRunId":"3265fc0d-73d4-490e-907a-4b969432da78","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/3265fc0d-73d4-490e-907a-4b969432da78/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/3265fc0d-73d4-490e-907a-4b969432da78/cover_letter_cover_modern.pdf","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.198Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","generationRunId":"3265fc0d-73d4-490e-907a-4b969432da78","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/3265fc0d-73d4-490e-907a-4b969432da78/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.199Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","generationRunId":"3265fc0d-73d4-490e-907a-4b969432da78","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/3265fc0d-73d4-490e-907a-4b969432da78/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/3265fc0d-73d4-490e-907a-4b969432da78/cover_letter_cover_modern.pdf","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.200Z","level":"info","message":"pdf_generation_attempt","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","generationRunId":"3265fc0d-73d4-490e-907a-4b969432da78","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/3265fc0d-73d4-490e-907a-4b969432da78/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/3265fc0d-73d4-490e-907a-4b969432da78/cover_letter_cover_professional.pdf","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.201Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","generationRunId":"3265fc0d-73d4-490e-907a-4b969432da78","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/3265fc0d-73d4-490e-907a-4b969432da78/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.202Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","generationRunId":"3265fc0d-73d4-490e-907a-4b969432da78","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/3265fc0d-73d4-490e-907a-4b969432da78/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/3265fc0d-73d4-490e-907a-4b969432da78/cover_letter_cover_professional.pdf","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.206Z","level":"info","message":"llm_call_metrics","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.207Z","level":"info","message":"generation_completed","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","generationRunId":"3265fc0d-73d4-490e-907a-4b969432da78","enhancedScore":80,"outputs":5,"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.209Z","level":"info","message":"placeholder_record_deleted","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","jobId":"7e459d7f-503a-49d0-b019-ea7ec80567bb","placeholderIdentifier":"3265fc0d-73d4-490e-907a-4b969432da78","template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e459d7f-503a-49d0-b019-ea7ec80567bb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.211Z","level":"info","message":"http_request_completed","requestId":"3265fc0d-73d4-490e-907a-4b969432da78","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":97,"contentLength":"53771","template":"unknown","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3265fc0d-73d4-490e-907a-4b969432da78","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.216Z","level":"info","message":"http_request_received","requestId":"be6de91a-ef18-4d4d-8b24-07afbad54314","method":"POST","path":"/api/process-cv","template":"unknown","session":"be6de91a-ef18-4d4d-8b24-07afbad54314","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"be6de91a-ef18-4d4d-8b24-07afbad54314","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:00.220Z","level":"warn","message":"job_description_prohibited_html_detected","requestId":"be6de91a-ef18-4d4d-8b24-07afbad54314","jobId":"d97ac1b1-ae10-4c54-be79-dd6e017cb809","template":"unknown","session":"d97ac1b1-ae10-4c54-be79-dd6e017cb809","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d97ac1b1-ae10-4c54-be79-dd6e017cb809","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24781:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-11-29T11:07:00.228Z","level":"warn","message":"api_error_response","requestId":"be6de91a-ef18-4d4d-8b24-07afbad54314","jobId":"d97ac1b1-ae10-4c54-be79-dd6e017cb809","status":400,"error":{"code":"JOB_DESCRIPTION_PROHIBITED_TAGS","message":"Remove HTML tags like <script> before continuing.","details":{"field":"manualJobDescription"},"requestId":"be6de91a-ef18-4d4d-8b24-07afbad54314","jobId":"d97ac1b1-ae10-4c54-be79-dd6e017cb809"},"template":"unknown","session":"d97ac1b1-ae10-4c54-be79-dd6e017cb809","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d97ac1b1-ae10-4c54-be79-dd6e017cb809","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:3812:3)
      at sendError (server.js:24782:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:07:00.237Z","level":"info","message":"http_request_completed","requestId":"be6de91a-ef18-4d4d-8b24-07afbad54314","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":21,"contentLength":"271","template":"unknown","session":"be6de91a-ef18-4d4d-8b24-07afbad54314","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"be6de91a-ef18-4d4d-8b24-07afbad54314","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.244Z","level":"info","message":"http_request_received","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","method":"POST","path":"/api/process-cv","template":"unknown","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.249Z","level":"info","message":"process_cv_started","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","manualJobDescriptionProvided":true,"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.250Z","level":"info","message":"template_selection","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:00.251Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:07:00.258Z","level":"info","message":"initial_upload_completed","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","bucket":"test-bucket","key":"cv/candidate/5ae60b23-2e94-46b0-b4da-310abd12bea8/incoming/original.pdf","template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.259Z","level":"info","message":"resume_text_extracted","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","characters":57,"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.259Z","level":"info","message":"resume_classified","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.260Z","level":"info","message":"raw_upload_relocated","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","bucket":"test-bucket","fromKey":"cv/candidate/5ae60b23-2e94-46b0-b4da-310abd12bea8/incoming/original.pdf","toKey":"cv/professional_summary/5ae60b23-2e94-46b0-b4da-310abd12bea8/original.pdf","template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.260Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","bucket":"test-bucket","key":"cv/professional_summary/5ae60b23-2e94-46b0-b4da-310abd12bea8/original.pdf","template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.261Z","level":"info","message":"dynamo_initial_record_written","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","bucket":"test-bucket","key":"cv/professional_summary/5ae60b23-2e94-46b0-b4da-310abd12bea8/original.pdf","template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.262Z","level":"info","message":"upload_metadata_written","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","bucket":"test-bucket","key":"cv/professional_summary/5ae60b23-2e94-46b0-b4da-310abd12bea8/logs/log.json","template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.262Z","level":"info","message":"job_description_supplied_manually","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","characters":31,"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.263Z","level":"info","message":"job_description_analyzed","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","jobTitle":"","jobSkills":5,"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.264Z","level":"info","message":"resume_skills_analyzed","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.265Z","level":"info","message":"llm_call_metrics","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.266Z","level":"info","message":"process_cv_scoring_completed","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.270Z","level":"info","message":"llm_call_metrics","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"3b6fa31427cfe80be95734691ddba88dda63de26496df29477f91bd398cefbfa","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.271Z","level":"info","message":"generation_section_rewrite_completed","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","generationRunId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.271Z","level":"info","message":"llm_call_metrics","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"eedd7612e0b87e24dbfb4e165754c9448ec3573f7db56a3242654c71c3ca223b","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.275Z","level":"info","message":"generation_resume_verified","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","generationRunId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:00.282Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","generationRunId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:00.292Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","generationRunId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:00.299Z","level":"info","message":"generation_cover_letters_completed","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","generationRunId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","variants":2,"fallbackApplied":true,"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.300Z","level":"info","message":"pdf_generation_attempt","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","generationRunId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5ae60b23-2e94-46b0-b4da-310abd12bea8/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/5ae60b23-2e94-46b0-b4da-310abd12bea8/enhanced_modern.pdf","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.301Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","generationRunId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5ae60b23-2e94-46b0-b4da-310abd12bea8/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.301Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","generationRunId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5ae60b23-2e94-46b0-b4da-310abd12bea8/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/5ae60b23-2e94-46b0-b4da-310abd12bea8/enhanced_modern.pdf","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.302Z","level":"info","message":"pdf_generation_attempt","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","generationRunId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5ae60b23-2e94-46b0-b4da-310abd12bea8/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/5ae60b23-2e94-46b0-b4da-310abd12bea8/enhanced_professional.pdf","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.303Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","generationRunId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5ae60b23-2e94-46b0-b4da-310abd12bea8/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.304Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","generationRunId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5ae60b23-2e94-46b0-b4da-310abd12bea8/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/5ae60b23-2e94-46b0-b4da-310abd12bea8/enhanced_professional.pdf","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.304Z","level":"info","message":"pdf_generation_attempt","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","generationRunId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5ae60b23-2e94-46b0-b4da-310abd12bea8/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/5ae60b23-2e94-46b0-b4da-310abd12bea8/cover_letter_cover_modern.pdf","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.305Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","generationRunId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5ae60b23-2e94-46b0-b4da-310abd12bea8/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.306Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","generationRunId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5ae60b23-2e94-46b0-b4da-310abd12bea8/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/5ae60b23-2e94-46b0-b4da-310abd12bea8/cover_letter_cover_modern.pdf","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.307Z","level":"info","message":"pdf_generation_attempt","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","generationRunId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5ae60b23-2e94-46b0-b4da-310abd12bea8/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/5ae60b23-2e94-46b0-b4da-310abd12bea8/cover_letter_cover_professional.pdf","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.307Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","generationRunId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5ae60b23-2e94-46b0-b4da-310abd12bea8/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.308Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","generationRunId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5ae60b23-2e94-46b0-b4da-310abd12bea8/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/5ae60b23-2e94-46b0-b4da-310abd12bea8/cover_letter_cover_professional.pdf","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.312Z","level":"info","message":"llm_call_metrics","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.316Z","level":"info","message":"generation_completed","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","generationRunId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","enhancedScore":80,"outputs":5,"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.318Z","level":"info","message":"placeholder_record_deleted","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","jobId":"6f457032-b30f-489f-bdf8-732d5006bcab","placeholderIdentifier":"5ae60b23-2e94-46b0-b4da-310abd12bea8","template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6f457032-b30f-489f-bdf8-732d5006bcab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.319Z","level":"info","message":"http_request_completed","requestId":"5ae60b23-2e94-46b0-b4da-310abd12bea8","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":75,"contentLength":"53718","template":"unknown","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ae60b23-2e94-46b0-b4da-310abd12bea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.325Z","level":"info","message":"http_request_received","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","method":"POST","path":"/api/process-cv","template":"unknown","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.328Z","level":"info","message":"process_cv_started","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","manualJobDescriptionProvided":true,"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.330Z","level":"info","message":"template_selection","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:00.331Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:07:00.339Z","level":"info","message":"initial_upload_completed","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","bucket":"test-bucket","key":"cv/candidate/ce4b0a23-6ded-4cc8-8a16-d58402a480d0/incoming/original.pdf","template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.340Z","level":"info","message":"resume_text_extracted","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","characters":57,"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.344Z","level":"info","message":"resume_classified","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.344Z","level":"info","message":"raw_upload_relocated","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","bucket":"test-bucket","fromKey":"cv/candidate/ce4b0a23-6ded-4cc8-8a16-d58402a480d0/incoming/original.pdf","toKey":"cv/professional_summary/ce4b0a23-6ded-4cc8-8a16-d58402a480d0/original.pdf","template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.346Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","bucket":"test-bucket","key":"cv/professional_summary/ce4b0a23-6ded-4cc8-8a16-d58402a480d0/original.pdf","template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.347Z","level":"info","message":"dynamo_initial_record_written","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","bucket":"test-bucket","key":"cv/professional_summary/ce4b0a23-6ded-4cc8-8a16-d58402a480d0/original.pdf","template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.347Z","level":"info","message":"upload_metadata_written","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","bucket":"test-bucket","key":"cv/professional_summary/ce4b0a23-6ded-4cc8-8a16-d58402a480d0/logs/log.json","template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.348Z","level":"info","message":"job_description_supplied_manually","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","characters":174,"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.349Z","level":"info","message":"job_description_analyzed","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","jobTitle":"","jobSkills":5,"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.350Z","level":"info","message":"resume_skills_analyzed","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.351Z","level":"info","message":"llm_call_metrics","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.352Z","level":"info","message":"process_cv_scoring_completed","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.357Z","level":"info","message":"llm_call_metrics","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.357Z","level":"info","message":"generation_section_rewrite_completed","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","generationRunId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.358Z","level":"info","message":"llm_call_metrics","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.364Z","level":"info","message":"generation_resume_verified","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","generationRunId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:00.370Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","generationRunId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:00.400Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","generationRunId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:00.412Z","level":"info","message":"generation_cover_letters_completed","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","generationRunId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","variants":2,"fallbackApplied":true,"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.413Z","level":"info","message":"pdf_generation_attempt","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","generationRunId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ce4b0a23-6ded-4cc8-8a16-d58402a480d0/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/ce4b0a23-6ded-4cc8-8a16-d58402a480d0/enhanced_modern.pdf","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.415Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","generationRunId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ce4b0a23-6ded-4cc8-8a16-d58402a480d0/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.416Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","generationRunId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ce4b0a23-6ded-4cc8-8a16-d58402a480d0/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/ce4b0a23-6ded-4cc8-8a16-d58402a480d0/enhanced_modern.pdf","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.417Z","level":"info","message":"pdf_generation_attempt","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","generationRunId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ce4b0a23-6ded-4cc8-8a16-d58402a480d0/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/ce4b0a23-6ded-4cc8-8a16-d58402a480d0/enhanced_professional.pdf","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.418Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","generationRunId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ce4b0a23-6ded-4cc8-8a16-d58402a480d0/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.418Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","generationRunId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ce4b0a23-6ded-4cc8-8a16-d58402a480d0/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/ce4b0a23-6ded-4cc8-8a16-d58402a480d0/enhanced_professional.pdf","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.422Z","level":"info","message":"pdf_generation_attempt","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","generationRunId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ce4b0a23-6ded-4cc8-8a16-d58402a480d0/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/ce4b0a23-6ded-4cc8-8a16-d58402a480d0/cover_letter_cover_modern.pdf","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.423Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","generationRunId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ce4b0a23-6ded-4cc8-8a16-d58402a480d0/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.425Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","generationRunId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ce4b0a23-6ded-4cc8-8a16-d58402a480d0/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/ce4b0a23-6ded-4cc8-8a16-d58402a480d0/cover_letter_cover_modern.pdf","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.427Z","level":"info","message":"pdf_generation_attempt","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","generationRunId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ce4b0a23-6ded-4cc8-8a16-d58402a480d0/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/ce4b0a23-6ded-4cc8-8a16-d58402a480d0/cover_letter_cover_professional.pdf","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.428Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","generationRunId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ce4b0a23-6ded-4cc8-8a16-d58402a480d0/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.429Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","generationRunId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ce4b0a23-6ded-4cc8-8a16-d58402a480d0/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/ce4b0a23-6ded-4cc8-8a16-d58402a480d0/cover_letter_cover_professional.pdf","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.435Z","level":"info","message":"llm_call_metrics","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.450Z","level":"info","message":"generation_completed","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","generationRunId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","enhancedScore":80,"outputs":5,"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.457Z","level":"info","message":"placeholder_record_deleted","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","jobId":"53bff0f0-94e6-4ebb-8254-0297e433020e","placeholderIdentifier":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"53bff0f0-94e6-4ebb-8254-0297e433020e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.461Z","level":"info","message":"http_request_completed","requestId":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":136,"contentLength":"58133","template":"unknown","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce4b0a23-6ded-4cc8-8a16-d58402a480d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.474Z","level":"info","message":"http_request_received","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","method":"POST","path":"/api/process-cv","template":"unknown","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.479Z","level":"info","message":"process_cv_started","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","manualJobDescriptionProvided":true,"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.480Z","level":"info","message":"template_selection","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:00.483Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:07:00.495Z","level":"info","message":"initial_upload_completed","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","bucket":"test-bucket","key":"cv/candidate/63d4c26c-7be2-484f-88cf-497b5ad08f51/incoming/original.pdf","template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.496Z","level":"info","message":"resume_text_extracted","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","characters":57,"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.497Z","level":"info","message":"resume_classified","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.499Z","level":"info","message":"raw_upload_relocated","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","bucket":"test-bucket","fromKey":"cv/candidate/63d4c26c-7be2-484f-88cf-497b5ad08f51/incoming/original.pdf","toKey":"cv/professional_summary/63d4c26c-7be2-484f-88cf-497b5ad08f51/original.pdf","template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.500Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","bucket":"test-bucket","key":"cv/professional_summary/63d4c26c-7be2-484f-88cf-497b5ad08f51/original.pdf","template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.501Z","level":"info","message":"dynamo_initial_record_written","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","bucket":"test-bucket","key":"cv/professional_summary/63d4c26c-7be2-484f-88cf-497b5ad08f51/original.pdf","template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.504Z","level":"info","message":"upload_metadata_written","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","bucket":"test-bucket","key":"cv/professional_summary/63d4c26c-7be2-484f-88cf-497b5ad08f51/logs/log.json","template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.505Z","level":"info","message":"job_description_supplied_manually","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","characters":174,"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.505Z","level":"info","message":"job_description_analyzed","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","jobTitle":"","jobSkills":5,"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.507Z","level":"info","message":"resume_skills_analyzed","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.508Z","level":"info","message":"llm_call_metrics","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.510Z","level":"info","message":"process_cv_scoring_completed","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:00.518Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","sample":"not json","template":"unknown","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at Object.logStructured [as error] (server.js:3324:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:8330:20)
      at generateEnhancedDocumentsResponse (server.js:19965:24)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:00.557Z","level":"info","message":"llm_call_metrics","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.558Z","level":"info","message":"llm_call_metrics","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.559Z","level":"info","message":"generation_section_rewrite_completed","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","generationRunId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.561Z","level":"info","message":"llm_call_metrics","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"89e63aad97eee35da336c4707bebe46001a38648f790cb26108fe67f8c6eef15","skillCount":5,"template":"project_summary","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:00.593Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","generationRunId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:00.626Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","generationRunId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:00.640Z","level":"info","message":"generation_cover_letters_completed","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","generationRunId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","variants":2,"fallbackApplied":true,"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.643Z","level":"info","message":"pdf_generation_attempt","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","generationRunId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/63d4c26c-7be2-484f-88cf-497b5ad08f51/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/63d4c26c-7be2-484f-88cf-497b5ad08f51/enhanced_modern.pdf","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.646Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","generationRunId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/63d4c26c-7be2-484f-88cf-497b5ad08f51/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.647Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","generationRunId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/63d4c26c-7be2-484f-88cf-497b5ad08f51/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/63d4c26c-7be2-484f-88cf-497b5ad08f51/enhanced_modern.pdf","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.651Z","level":"info","message":"pdf_generation_attempt","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","generationRunId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/63d4c26c-7be2-484f-88cf-497b5ad08f51/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/63d4c26c-7be2-484f-88cf-497b5ad08f51/enhanced_professional.pdf","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.654Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","generationRunId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/63d4c26c-7be2-484f-88cf-497b5ad08f51/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.656Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","generationRunId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/63d4c26c-7be2-484f-88cf-497b5ad08f51/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/63d4c26c-7be2-484f-88cf-497b5ad08f51/enhanced_professional.pdf","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.658Z","level":"info","message":"pdf_generation_attempt","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","generationRunId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/63d4c26c-7be2-484f-88cf-497b5ad08f51/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/63d4c26c-7be2-484f-88cf-497b5ad08f51/cover_letter_cover_modern.pdf","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.660Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","generationRunId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/63d4c26c-7be2-484f-88cf-497b5ad08f51/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.662Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","generationRunId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/63d4c26c-7be2-484f-88cf-497b5ad08f51/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/63d4c26c-7be2-484f-88cf-497b5ad08f51/cover_letter_cover_modern.pdf","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.664Z","level":"info","message":"pdf_generation_attempt","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","generationRunId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/63d4c26c-7be2-484f-88cf-497b5ad08f51/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/63d4c26c-7be2-484f-88cf-497b5ad08f51/cover_letter_cover_professional.pdf","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.666Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","generationRunId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/63d4c26c-7be2-484f-88cf-497b5ad08f51/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.668Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","generationRunId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/63d4c26c-7be2-484f-88cf-497b5ad08f51/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/63d4c26c-7be2-484f-88cf-497b5ad08f51/cover_letter_cover_professional.pdf","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.676Z","level":"info","message":"llm_call_metrics","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.680Z","level":"info","message":"generation_completed","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","generationRunId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","enhancedScore":80,"outputs":5,"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.695Z","level":"info","message":"placeholder_record_deleted","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","jobId":"829a200c-856c-4918-9aea-d9fe3a4017d8","placeholderIdentifier":"63d4c26c-7be2-484f-88cf-497b5ad08f51","template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"829a200c-856c-4918-9aea-d9fe3a4017d8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.700Z","level":"info","message":"http_request_completed","requestId":"63d4c26c-7be2-484f-88cf-497b5ad08f51","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":226,"contentLength":"58091","template":"unknown","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63d4c26c-7be2-484f-88cf-497b5ad08f51","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.707Z","level":"info","message":"http_request_received","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","method":"POST","path":"/api/process-cv","template":"unknown","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.713Z","level":"info","message":"process_cv_started","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","manualJobDescriptionProvided":true,"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.715Z","level":"info","message":"template_selection","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:00.717Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:07:00.731Z","level":"info","message":"initial_upload_completed","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","bucket":"test-bucket","key":"cv/candidate/a8b19702-624a-4f23-bae0-fcc83d963583/incoming/original.pdf","template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.733Z","level":"info","message":"resume_text_extracted","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","characters":57,"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.734Z","level":"info","message":"resume_classified","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.735Z","level":"info","message":"raw_upload_relocated","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","bucket":"test-bucket","fromKey":"cv/candidate/a8b19702-624a-4f23-bae0-fcc83d963583/incoming/original.pdf","toKey":"cv/professional_summary/a8b19702-624a-4f23-bae0-fcc83d963583/original.pdf","template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.736Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","bucket":"test-bucket","key":"cv/professional_summary/a8b19702-624a-4f23-bae0-fcc83d963583/original.pdf","template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.737Z","level":"info","message":"dynamo_initial_record_written","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","bucket":"test-bucket","key":"cv/professional_summary/a8b19702-624a-4f23-bae0-fcc83d963583/original.pdf","template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.738Z","level":"info","message":"upload_metadata_written","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","bucket":"test-bucket","key":"cv/professional_summary/a8b19702-624a-4f23-bae0-fcc83d963583/logs/log.json","template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.739Z","level":"info","message":"job_description_supplied_manually","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","characters":174,"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.740Z","level":"info","message":"job_description_analyzed","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","jobTitle":"","jobSkills":5,"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.741Z","level":"info","message":"resume_skills_analyzed","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.742Z","level":"info","message":"llm_call_metrics","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.744Z","level":"info","message":"process_cv_scoring_completed","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.752Z","level":"info","message":"llm_call_metrics","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.753Z","level":"info","message":"generation_section_rewrite_completed","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","generationRunId":"a8b19702-624a-4f23-bae0-fcc83d963583","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.754Z","level":"info","message":"llm_call_metrics","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.755Z","level":"info","message":"llm_call_metrics","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.760Z","level":"info","message":"generation_resume_verified","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","generationRunId":"a8b19702-624a-4f23-bae0-fcc83d963583","template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:00.767Z","level":"error","message":"ai_response_missing_json","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","generationRunId":"a8b19702-624a-4f23-bae0-fcc83d963583","template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at Object.logStructured [as error] (server.js:3324:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20247:24)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:00.775Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","generationRunId":"a8b19702-624a-4f23-bae0-fcc83d963583","attempt":1,"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20252:9)
      at server.js:26523:26

  console.error
    {"timestamp":"2025-11-29T11:07:00.784Z","level":"error","message":"ai_response_missing_json","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","generationRunId":"a8b19702-624a-4f23-bae0-fcc83d963583","template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at Object.logStructured [as error] (server.js:3324:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20247:24)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:00.792Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","generationRunId":"a8b19702-624a-4f23-bae0-fcc83d963583","attempt":2,"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20252:9)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:00.808Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","generationRunId":"a8b19702-624a-4f23-bae0-fcc83d963583","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:00.816Z","level":"info","message":"generation_cover_letters_completed","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","generationRunId":"a8b19702-624a-4f23-bae0-fcc83d963583","variants":2,"fallbackApplied":true,"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.818Z","level":"info","message":"pdf_generation_attempt","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","generationRunId":"a8b19702-624a-4f23-bae0-fcc83d963583","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a8b19702-624a-4f23-bae0-fcc83d963583/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a8b19702-624a-4f23-bae0-fcc83d963583/enhanced_modern.pdf","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.820Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","generationRunId":"a8b19702-624a-4f23-bae0-fcc83d963583","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a8b19702-624a-4f23-bae0-fcc83d963583/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.821Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","generationRunId":"a8b19702-624a-4f23-bae0-fcc83d963583","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a8b19702-624a-4f23-bae0-fcc83d963583/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a8b19702-624a-4f23-bae0-fcc83d963583/enhanced_modern.pdf","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.822Z","level":"info","message":"pdf_generation_attempt","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","generationRunId":"a8b19702-624a-4f23-bae0-fcc83d963583","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a8b19702-624a-4f23-bae0-fcc83d963583/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a8b19702-624a-4f23-bae0-fcc83d963583/enhanced_professional.pdf","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.823Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","generationRunId":"a8b19702-624a-4f23-bae0-fcc83d963583","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a8b19702-624a-4f23-bae0-fcc83d963583/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.824Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","generationRunId":"a8b19702-624a-4f23-bae0-fcc83d963583","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a8b19702-624a-4f23-bae0-fcc83d963583/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a8b19702-624a-4f23-bae0-fcc83d963583/enhanced_professional.pdf","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.825Z","level":"info","message":"pdf_generation_attempt","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","generationRunId":"a8b19702-624a-4f23-bae0-fcc83d963583","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a8b19702-624a-4f23-bae0-fcc83d963583/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a8b19702-624a-4f23-bae0-fcc83d963583/cover_letter_cover_modern.pdf","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.827Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","generationRunId":"a8b19702-624a-4f23-bae0-fcc83d963583","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a8b19702-624a-4f23-bae0-fcc83d963583/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.828Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","generationRunId":"a8b19702-624a-4f23-bae0-fcc83d963583","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a8b19702-624a-4f23-bae0-fcc83d963583/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a8b19702-624a-4f23-bae0-fcc83d963583/cover_letter_cover_modern.pdf","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.829Z","level":"info","message":"pdf_generation_attempt","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","generationRunId":"a8b19702-624a-4f23-bae0-fcc83d963583","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a8b19702-624a-4f23-bae0-fcc83d963583/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a8b19702-624a-4f23-bae0-fcc83d963583/cover_letter_cover_professional.pdf","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.831Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","generationRunId":"a8b19702-624a-4f23-bae0-fcc83d963583","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a8b19702-624a-4f23-bae0-fcc83d963583/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.833Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","generationRunId":"a8b19702-624a-4f23-bae0-fcc83d963583","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a8b19702-624a-4f23-bae0-fcc83d963583/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a8b19702-624a-4f23-bae0-fcc83d963583/cover_letter_cover_professional.pdf","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.838Z","level":"info","message":"llm_call_metrics","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.840Z","level":"info","message":"generation_completed","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","generationRunId":"a8b19702-624a-4f23-bae0-fcc83d963583","enhancedScore":80,"outputs":5,"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.842Z","level":"info","message":"placeholder_record_deleted","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","jobId":"709965e9-1015-4f3a-847f-ae2b2f629e47","placeholderIdentifier":"a8b19702-624a-4f23-bae0-fcc83d963583","template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"709965e9-1015-4f3a-847f-ae2b2f629e47","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.843Z","level":"info","message":"http_request_completed","requestId":"a8b19702-624a-4f23-bae0-fcc83d963583","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":136,"contentLength":"59498","template":"unknown","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a8b19702-624a-4f23-bae0-fcc83d963583","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.848Z","level":"info","message":"http_request_received","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","method":"POST","path":"/api/process-cv","template":"unknown","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.851Z","level":"info","message":"process_cv_started","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","manualJobDescriptionProvided":true,"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.852Z","level":"info","message":"template_selection","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:00.853Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:07:00.863Z","level":"info","message":"initial_upload_completed","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","bucket":"test-bucket","key":"cv/candidate/5a97d75b-c6ce-457f-8b97-cf6c46c7693c/incoming/original.pdf","template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.864Z","level":"info","message":"resume_text_extracted","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","characters":57,"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.865Z","level":"info","message":"resume_classified","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.866Z","level":"info","message":"raw_upload_relocated","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","bucket":"test-bucket","fromKey":"cv/candidate/5a97d75b-c6ce-457f-8b97-cf6c46c7693c/incoming/original.pdf","toKey":"cv/professional_summary/5a97d75b-c6ce-457f-8b97-cf6c46c7693c/original.pdf","template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.866Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","bucket":"test-bucket","key":"cv/professional_summary/5a97d75b-c6ce-457f-8b97-cf6c46c7693c/original.pdf","template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.868Z","level":"info","message":"dynamo_initial_record_written","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","bucket":"test-bucket","key":"cv/professional_summary/5a97d75b-c6ce-457f-8b97-cf6c46c7693c/original.pdf","template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.868Z","level":"info","message":"upload_metadata_written","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","bucket":"test-bucket","key":"cv/professional_summary/5a97d75b-c6ce-457f-8b97-cf6c46c7693c/logs/log.json","template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.869Z","level":"info","message":"job_description_supplied_manually","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","characters":174,"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.869Z","level":"info","message":"job_description_analyzed","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","jobTitle":"","jobSkills":5,"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.870Z","level":"info","message":"resume_skills_analyzed","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.871Z","level":"info","message":"llm_call_metrics","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.872Z","level":"info","message":"process_cv_scoring_completed","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.878Z","level":"info","message":"llm_call_metrics","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.879Z","level":"info","message":"generation_section_rewrite_completed","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","generationRunId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.880Z","level":"info","message":"llm_call_metrics","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.881Z","level":"info","message":"llm_call_metrics","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.884Z","level":"info","message":"generation_resume_verified","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","generationRunId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:00.898Z","level":"error","message":"ai_response_missing_json","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","generationRunId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at Object.logStructured [as error] (server.js:3324:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20247:24)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:00.908Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","generationRunId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","attempt":1,"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20252:9)
      at server.js:26523:26

  console.error
    {"timestamp":"2025-11-29T11:07:00.917Z","level":"error","message":"ai_response_missing_json","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","generationRunId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at Object.logStructured [as error] (server.js:3324:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20247:24)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:00.925Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","generationRunId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","attempt":2,"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20252:9)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:00.937Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","generationRunId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:00.945Z","level":"info","message":"generation_cover_letters_completed","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","generationRunId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","variants":2,"fallbackApplied":true,"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.947Z","level":"info","message":"pdf_generation_attempt","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","generationRunId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5a97d75b-c6ce-457f-8b97-cf6c46c7693c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/5a97d75b-c6ce-457f-8b97-cf6c46c7693c/enhanced_modern.pdf","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.949Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","generationRunId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5a97d75b-c6ce-457f-8b97-cf6c46c7693c/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.951Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","generationRunId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5a97d75b-c6ce-457f-8b97-cf6c46c7693c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/5a97d75b-c6ce-457f-8b97-cf6c46c7693c/enhanced_modern.pdf","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.952Z","level":"info","message":"pdf_generation_attempt","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","generationRunId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5a97d75b-c6ce-457f-8b97-cf6c46c7693c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/5a97d75b-c6ce-457f-8b97-cf6c46c7693c/enhanced_professional.pdf","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.953Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","generationRunId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5a97d75b-c6ce-457f-8b97-cf6c46c7693c/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.954Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","generationRunId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5a97d75b-c6ce-457f-8b97-cf6c46c7693c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/5a97d75b-c6ce-457f-8b97-cf6c46c7693c/enhanced_professional.pdf","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.956Z","level":"info","message":"pdf_generation_attempt","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","generationRunId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5a97d75b-c6ce-457f-8b97-cf6c46c7693c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/5a97d75b-c6ce-457f-8b97-cf6c46c7693c/cover_letter_cover_modern.pdf","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.957Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","generationRunId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5a97d75b-c6ce-457f-8b97-cf6c46c7693c/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.958Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","generationRunId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5a97d75b-c6ce-457f-8b97-cf6c46c7693c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/5a97d75b-c6ce-457f-8b97-cf6c46c7693c/cover_letter_cover_modern.pdf","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.960Z","level":"info","message":"pdf_generation_attempt","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","generationRunId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5a97d75b-c6ce-457f-8b97-cf6c46c7693c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/5a97d75b-c6ce-457f-8b97-cf6c46c7693c/cover_letter_cover_professional.pdf","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.961Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","generationRunId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5a97d75b-c6ce-457f-8b97-cf6c46c7693c/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.962Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","generationRunId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5a97d75b-c6ce-457f-8b97-cf6c46c7693c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/5a97d75b-c6ce-457f-8b97-cf6c46c7693c/cover_letter_cover_professional.pdf","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.969Z","level":"info","message":"llm_call_metrics","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.971Z","level":"info","message":"generation_completed","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","generationRunId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","enhancedScore":80,"outputs":5,"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.973Z","level":"info","message":"placeholder_record_deleted","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","jobId":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","placeholderIdentifier":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1e8e49c-2a3d-421a-8583-9f5555de94e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.975Z","level":"info","message":"http_request_completed","requestId":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":127,"contentLength":"59498","template":"unknown","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5a97d75b-c6ce-457f-8b97-cf6c46c7693c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.984Z","level":"info","message":"http_request_received","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","method":"POST","path":"/api/process-cv","template":"unknown","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.989Z","level":"info","message":"process_cv_started","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","manualJobDescriptionProvided":true,"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:00.991Z","level":"info","message":"template_selection","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:00.993Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:07:01.004Z","level":"info","message":"initial_upload_completed","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","bucket":"test-bucket","key":"cv/candidate/a530b880-0ed5-41ae-a64f-8710362b6cf7/incoming/original.pdf","template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.005Z","level":"info","message":"resume_text_extracted","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","characters":57,"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.006Z","level":"info","message":"resume_classified","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.007Z","level":"info","message":"raw_upload_relocated","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","bucket":"test-bucket","fromKey":"cv/candidate/a530b880-0ed5-41ae-a64f-8710362b6cf7/incoming/original.pdf","toKey":"cv/professional_summary/a530b880-0ed5-41ae-a64f-8710362b6cf7/original.pdf","template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.008Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","bucket":"test-bucket","key":"cv/professional_summary/a530b880-0ed5-41ae-a64f-8710362b6cf7/original.pdf","template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.009Z","level":"info","message":"dynamo_initial_record_written","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","bucket":"test-bucket","key":"cv/professional_summary/a530b880-0ed5-41ae-a64f-8710362b6cf7/original.pdf","template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.010Z","level":"info","message":"upload_metadata_written","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","bucket":"test-bucket","key":"cv/professional_summary/a530b880-0ed5-41ae-a64f-8710362b6cf7/logs/log.json","template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.011Z","level":"info","message":"job_description_supplied_manually","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","characters":174,"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.012Z","level":"info","message":"job_description_analyzed","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","jobTitle":"","jobSkills":5,"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.014Z","level":"info","message":"resume_skills_analyzed","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.015Z","level":"info","message":"llm_call_metrics","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.017Z","level":"info","message":"process_cv_scoring_completed","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:01.023Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","template":"unknown","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at Object.logStructured [as error] (server.js:3324:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:8330:20)
      at generateEnhancedDocumentsResponse (server.js:19965:24)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:01.035Z","level":"info","message":"llm_call_metrics","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.036Z","level":"info","message":"llm_call_metrics","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.037Z","level":"info","message":"generation_section_rewrite_completed","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","generationRunId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.039Z","level":"info","message":"llm_call_metrics","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.040Z","level":"info","message":"llm_call_metrics","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:01.053Z","level":"error","message":"ai_response_missing_json","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","generationRunId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at Object.logStructured [as error] (server.js:3324:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20247:24)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:01.065Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","generationRunId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","attempt":1,"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20252:9)
      at server.js:26523:26

  console.error
    {"timestamp":"2025-11-29T11:07:01.076Z","level":"error","message":"ai_response_missing_json","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","generationRunId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at Object.logStructured [as error] (server.js:3324:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20247:24)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:01.089Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","generationRunId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","attempt":2,"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20252:9)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:01.105Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","generationRunId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:01.116Z","level":"info","message":"generation_cover_letters_completed","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","generationRunId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","variants":2,"fallbackApplied":true,"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.118Z","level":"info","message":"pdf_generation_attempt","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","generationRunId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a530b880-0ed5-41ae-a64f-8710362b6cf7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a530b880-0ed5-41ae-a64f-8710362b6cf7/enhanced_modern.pdf","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.120Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","generationRunId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a530b880-0ed5-41ae-a64f-8710362b6cf7/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.122Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","generationRunId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a530b880-0ed5-41ae-a64f-8710362b6cf7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a530b880-0ed5-41ae-a64f-8710362b6cf7/enhanced_modern.pdf","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.123Z","level":"info","message":"pdf_generation_attempt","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","generationRunId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a530b880-0ed5-41ae-a64f-8710362b6cf7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a530b880-0ed5-41ae-a64f-8710362b6cf7/enhanced_professional.pdf","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.125Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","generationRunId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a530b880-0ed5-41ae-a64f-8710362b6cf7/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.126Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","generationRunId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a530b880-0ed5-41ae-a64f-8710362b6cf7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a530b880-0ed5-41ae-a64f-8710362b6cf7/enhanced_professional.pdf","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.127Z","level":"info","message":"pdf_generation_attempt","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","generationRunId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a530b880-0ed5-41ae-a64f-8710362b6cf7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a530b880-0ed5-41ae-a64f-8710362b6cf7/cover_letter_cover_modern.pdf","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.129Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","generationRunId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a530b880-0ed5-41ae-a64f-8710362b6cf7/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.131Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","generationRunId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a530b880-0ed5-41ae-a64f-8710362b6cf7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a530b880-0ed5-41ae-a64f-8710362b6cf7/cover_letter_cover_modern.pdf","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.132Z","level":"info","message":"pdf_generation_attempt","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","generationRunId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a530b880-0ed5-41ae-a64f-8710362b6cf7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a530b880-0ed5-41ae-a64f-8710362b6cf7/cover_letter_cover_professional.pdf","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.133Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","generationRunId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a530b880-0ed5-41ae-a64f-8710362b6cf7/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.134Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","generationRunId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a530b880-0ed5-41ae-a64f-8710362b6cf7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a530b880-0ed5-41ae-a64f-8710362b6cf7/cover_letter_cover_professional.pdf","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.140Z","level":"info","message":"llm_call_metrics","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.142Z","level":"info","message":"generation_completed","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","generationRunId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","enhancedScore":80,"outputs":5,"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.147Z","level":"info","message":"placeholder_record_deleted","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","jobId":"29bb0c6d-7a31-428f-920a-5241547dc2be","placeholderIdentifier":"a530b880-0ed5-41ae-a64f-8710362b6cf7","template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29bb0c6d-7a31-428f-920a-5241547dc2be","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.149Z","level":"info","message":"http_request_completed","requestId":"a530b880-0ed5-41ae-a64f-8710362b6cf7","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":165,"contentLength":"58301","template":"unknown","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a530b880-0ed5-41ae-a64f-8710362b6cf7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.162Z","level":"info","message":"http_request_received","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","method":"POST","path":"/api/process-cv","template":"unknown","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.166Z","level":"info","message":"process_cv_started","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","manualJobDescriptionProvided":true,"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.167Z","level":"info","message":"template_selection","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:01.168Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:07:01.176Z","level":"info","message":"initial_upload_completed","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","bucket":"test-bucket","key":"cv/candidate/6073df24-a854-40a4-ac95-85cc7bd99455/incoming/original.pdf","template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.177Z","level":"info","message":"resume_text_extracted","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","characters":57,"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.178Z","level":"info","message":"resume_classified","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.179Z","level":"info","message":"raw_upload_relocated","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","bucket":"test-bucket","fromKey":"cv/candidate/6073df24-a854-40a4-ac95-85cc7bd99455/incoming/original.pdf","toKey":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/original.pdf","template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.179Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","bucket":"test-bucket","key":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/original.pdf","template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.180Z","level":"info","message":"dynamo_initial_record_written","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","bucket":"test-bucket","key":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/original.pdf","template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.181Z","level":"info","message":"upload_metadata_written","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","bucket":"test-bucket","key":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/logs/log.json","template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.181Z","level":"info","message":"job_description_supplied_manually","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","characters":174,"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.182Z","level":"info","message":"job_description_analyzed","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","jobTitle":"","jobSkills":5,"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.185Z","level":"info","message":"resume_skills_analyzed","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.186Z","level":"info","message":"llm_call_metrics","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.187Z","level":"info","message":"process_cv_scoring_completed","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:01.191Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","template":"unknown","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at Object.logStructured [as error] (server.js:3324:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:8330:20)
      at generateEnhancedDocumentsResponse (server.js:19965:24)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:01.200Z","level":"info","message":"llm_call_metrics","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.201Z","level":"info","message":"llm_call_metrics","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.202Z","level":"info","message":"generation_section_rewrite_completed","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","generationRunId":"6073df24-a854-40a4-ac95-85cc7bd99455","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.203Z","level":"info","message":"llm_call_metrics","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.204Z","level":"info","message":"llm_call_metrics","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:01.214Z","level":"error","message":"ai_response_missing_json","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","generationRunId":"6073df24-a854-40a4-ac95-85cc7bd99455","template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at Object.logStructured [as error] (server.js:3324:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20247:24)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:01.224Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","generationRunId":"6073df24-a854-40a4-ac95-85cc7bd99455","attempt":1,"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20252:9)
      at server.js:26523:26

  console.error
    {"timestamp":"2025-11-29T11:07:01.235Z","level":"error","message":"ai_response_missing_json","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","generationRunId":"6073df24-a854-40a4-ac95-85cc7bd99455","template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at Object.logStructured [as error] (server.js:3324:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20247:24)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:01.242Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","generationRunId":"6073df24-a854-40a4-ac95-85cc7bd99455","attempt":2,"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20252:9)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:01.252Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","generationRunId":"6073df24-a854-40a4-ac95-85cc7bd99455","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:01.263Z","level":"info","message":"generation_cover_letters_completed","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","generationRunId":"6073df24-a854-40a4-ac95-85cc7bd99455","variants":2,"fallbackApplied":true,"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.265Z","level":"info","message":"pdf_generation_attempt","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","generationRunId":"6073df24-a854-40a4-ac95-85cc7bd99455","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/enhanced_modern.pdf","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.266Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","generationRunId":"6073df24-a854-40a4-ac95-85cc7bd99455","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.267Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","generationRunId":"6073df24-a854-40a4-ac95-85cc7bd99455","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/enhanced_modern.pdf","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.268Z","level":"info","message":"pdf_generation_attempt","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","generationRunId":"6073df24-a854-40a4-ac95-85cc7bd99455","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/enhanced_professional.pdf","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.270Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","generationRunId":"6073df24-a854-40a4-ac95-85cc7bd99455","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.271Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","generationRunId":"6073df24-a854-40a4-ac95-85cc7bd99455","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/enhanced_professional.pdf","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.272Z","level":"info","message":"pdf_generation_attempt","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","generationRunId":"6073df24-a854-40a4-ac95-85cc7bd99455","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/cover_letter_cover_modern.pdf","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.273Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","generationRunId":"6073df24-a854-40a4-ac95-85cc7bd99455","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.274Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","generationRunId":"6073df24-a854-40a4-ac95-85cc7bd99455","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/cover_letter_cover_modern.pdf","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.275Z","level":"info","message":"pdf_generation_attempt","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","generationRunId":"6073df24-a854-40a4-ac95-85cc7bd99455","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/cover_letter_cover_professional.pdf","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.276Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","generationRunId":"6073df24-a854-40a4-ac95-85cc7bd99455","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.277Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","generationRunId":"6073df24-a854-40a4-ac95-85cc7bd99455","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/cover_letter_cover_professional.pdf","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:01.280Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","generationRunId":"6073df24-a854-40a4-ac95-85cc7bd99455","artifactType":"original_upload","storageKey":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/original.pdf","template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","metadata":{"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"original_upload"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:21653:7)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:01.288Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","generationRunId":"6073df24-a854-40a4-ac95-85cc7bd99455","artifactType":"version1","storageKey":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/modern/version1.pdf","template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","metadata":{"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"version1"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:21653:7)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:01.297Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","generationRunId":"6073df24-a854-40a4-ac95-85cc7bd99455","artifactType":"version2","storageKey":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/professional/version2.pdf","template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","metadata":{"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"version2"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:21653:7)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:01.305Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","generationRunId":"6073df24-a854-40a4-ac95-85cc7bd99455","artifactType":"cover_letter1","storageKey":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/cover_modern/cover_letter1.pdf","template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","metadata":{"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"cover_letter1"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:21653:7)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:01.314Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","generationRunId":"6073df24-a854-40a4-ac95-85cc7bd99455","artifactType":"cover_letter2","storageKey":"cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/cover_professional/cover_letter2.pdf","template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","metadata":{"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"cover_letter2"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:21653:7)
      at server.js:26523:26

  console.error
    {"timestamp":"2025-11-29T11:07:01.323Z","level":"error","message":"generation_urls_missing","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","generationRunId":"6073df24-a854-40a4-ac95-85cc7bd99455","requestedUrlCount":0,"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:21754:5)
      at server.js:26523:26

  console.error
    {"timestamp":"2025-11-29T11:07:01.332Z","level":"error","message":"api_error_response","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","status":500,"error":{"code":"AI_RESPONSE_INVALID","message":"Unable to prepare download links for the generated documents.","details":{"logs":{"s3":{"bucket":"test-bucket","key":"logs/errors/2025-11-29/2025-11-29t11-07-01-332z-6073df24-a854-40a4-ac95-85cc7bd99455.json","status":"pending"}}},"requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5"},"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:3812:3)
      at sendError (server.js:21758:5)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:01.345Z","level":"warn","message":"generation_artifacts_cleaned_up","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","jobId":"26deea82-3cf9-4a94-930c-6844197dbcc5","generationRunId":"6073df24-a854-40a4-ac95-85cc7bd99455","reason":"no_valid_urls","deletedKeys":["cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/modern/version1.pdf","cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/professional/version2.pdf","cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/cover_modern/cover_letter1.pdf","cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/cover_professional/cover_letter2.pdf","cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/artifacts/original.json","cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/artifacts/version1.json","cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/artifacts/version2.json","cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/artifacts/cover-letter1.json","cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/artifacts/cover-letter2.json","cv/professional_summary/6073df24-a854-40a4-ac95-85cc7bd99455/artifacts/changelog.json"],"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26deea82-3cf9-4a94-930c-6844197dbcc5","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:19681:9)
      at generateEnhancedDocumentsResponse (server.js:22286:7)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:01.354Z","level":"info","message":"http_request_completed","requestId":"6073df24-a854-40a4-ac95-85cc7bd99455","method":"POST","path":"/api/process-cv","statusCode":500,"durationMs":192,"contentLength":"396","template":"unknown","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6073df24-a854-40a4-ac95-85cc7bd99455","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.358Z","level":"info","message":"http_request_received","requestId":"a4600e06-7f9b-4c4e-ac09-fc8542bc791f","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"a4600e06-7f9b-4c4e-ac09-fc8542bc791f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a4600e06-7f9b-4c4e-ac09-fc8542bc791f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.376Z","level":"info","message":"http_request_completed","requestId":"a4600e06-7f9b-4c4e-ac09-fc8542bc791f","method":"POST","path":"/api/refresh-download-link","statusCode":200,"durationMs":18,"contentLength":"232","template":"unknown","session":"a4600e06-7f9b-4c4e-ac09-fc8542bc791f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a4600e06-7f9b-4c4e-ac09-fc8542bc791f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.380Z","level":"info","message":"http_request_received","requestId":"7ffcb74d-138a-4a11-8c37-eae887b2f37e","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"7ffcb74d-138a-4a11-8c37-eae887b2f37e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7ffcb74d-138a-4a11-8c37-eae887b2f37e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:01.382Z","level":"warn","message":"api_error_response","requestId":"7ffcb74d-138a-4a11-8c37-eae887b2f37e","jobId":"job-123","status":404,"error":{"code":"DOWNLOAD_NOT_FOUND","message":"The requested download link is no longer available.","details":{},"requestId":"7ffcb74d-138a-4a11-8c37-eae887b2f37e","jobId":"job-123"},"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:3812:3)
      at sendError (server.js:24391:12)

  console.log
    {"timestamp":"2025-11-29T11:07:01.389Z","level":"info","message":"http_request_completed","requestId":"7ffcb74d-138a-4a11-8c37-eae887b2f37e","method":"POST","path":"/api/refresh-download-link","statusCode":404,"durationMs":9,"contentLength":"201","template":"unknown","session":"7ffcb74d-138a-4a11-8c37-eae887b2f37e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7ffcb74d-138a-4a11-8c37-eae887b2f37e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.391Z","level":"info","message":"http_request_received","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","method":"POST","path":"/api/process-cv","template":"unknown","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.394Z","level":"info","message":"process_cv_started","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","manualJobDescriptionProvided":true,"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.395Z","level":"info","message":"template_selection","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:01.396Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:07:01.407Z","level":"info","message":"initial_upload_completed","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","bucket":"test-bucket","key":"cv/candidate/6aeef94d-d52a-443f-a4b2-6c3473197c26/incoming/original.pdf","template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.407Z","level":"info","message":"resume_text_extracted","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","characters":57,"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.408Z","level":"info","message":"resume_classified","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.409Z","level":"info","message":"raw_upload_relocated","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","bucket":"test-bucket","fromKey":"cv/candidate/6aeef94d-d52a-443f-a4b2-6c3473197c26/incoming/original.pdf","toKey":"cv/professional_summary/6aeef94d-d52a-443f-a4b2-6c3473197c26/original.pdf","template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.409Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","bucket":"test-bucket","key":"cv/professional_summary/6aeef94d-d52a-443f-a4b2-6c3473197c26/original.pdf","template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.410Z","level":"info","message":"dynamo_initial_record_written","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","bucket":"test-bucket","key":"cv/professional_summary/6aeef94d-d52a-443f-a4b2-6c3473197c26/original.pdf","template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.410Z","level":"info","message":"upload_metadata_written","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","bucket":"test-bucket","key":"cv/professional_summary/6aeef94d-d52a-443f-a4b2-6c3473197c26/logs/log.json","template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.411Z","level":"info","message":"job_description_supplied_manually","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","characters":174,"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.411Z","level":"info","message":"job_description_analyzed","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","jobTitle":"","jobSkills":5,"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.412Z","level":"info","message":"resume_skills_analyzed","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.413Z","level":"info","message":"llm_call_metrics","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.414Z","level":"info","message":"process_cv_scoring_completed","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:01.417Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","template":"unknown","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at Object.logStructured [as error] (server.js:3324:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:8330:20)
      at generateEnhancedDocumentsResponse (server.js:19965:24)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:01.424Z","level":"info","message":"llm_call_metrics","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.425Z","level":"info","message":"llm_call_metrics","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.425Z","level":"info","message":"generation_section_rewrite_completed","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","generationRunId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.426Z","level":"info","message":"llm_call_metrics","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.427Z","level":"info","message":"llm_call_metrics","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:01.437Z","level":"error","message":"ai_response_missing_json","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","generationRunId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at Object.logStructured [as error] (server.js:3324:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20247:24)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:01.444Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","generationRunId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","attempt":1,"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20252:9)
      at server.js:26523:26

  console.error
    {"timestamp":"2025-11-29T11:07:01.452Z","level":"error","message":"ai_response_missing_json","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","generationRunId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at Object.logStructured [as error] (server.js:3324:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20247:24)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:01.459Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","generationRunId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","attempt":2,"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20252:9)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:01.468Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","generationRunId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:01.479Z","level":"info","message":"generation_cover_letters_completed","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","generationRunId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","variants":2,"fallbackApplied":true,"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.481Z","level":"info","message":"pdf_generation_attempt","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","generationRunId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6aeef94d-d52a-443f-a4b2-6c3473197c26/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6aeef94d-d52a-443f-a4b2-6c3473197c26/enhanced_modern.pdf","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.482Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","generationRunId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6aeef94d-d52a-443f-a4b2-6c3473197c26/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.484Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","generationRunId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6aeef94d-d52a-443f-a4b2-6c3473197c26/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6aeef94d-d52a-443f-a4b2-6c3473197c26/enhanced_modern.pdf","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.484Z","level":"info","message":"pdf_generation_attempt","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","generationRunId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6aeef94d-d52a-443f-a4b2-6c3473197c26/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6aeef94d-d52a-443f-a4b2-6c3473197c26/enhanced_professional.pdf","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.485Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","generationRunId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6aeef94d-d52a-443f-a4b2-6c3473197c26/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.487Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","generationRunId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6aeef94d-d52a-443f-a4b2-6c3473197c26/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6aeef94d-d52a-443f-a4b2-6c3473197c26/enhanced_professional.pdf","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.487Z","level":"info","message":"pdf_generation_attempt","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","generationRunId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6aeef94d-d52a-443f-a4b2-6c3473197c26/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6aeef94d-d52a-443f-a4b2-6c3473197c26/cover_letter_cover_modern.pdf","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.489Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","generationRunId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6aeef94d-d52a-443f-a4b2-6c3473197c26/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.490Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","generationRunId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6aeef94d-d52a-443f-a4b2-6c3473197c26/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6aeef94d-d52a-443f-a4b2-6c3473197c26/cover_letter_cover_modern.pdf","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.491Z","level":"info","message":"pdf_generation_attempt","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","generationRunId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6aeef94d-d52a-443f-a4b2-6c3473197c26/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6aeef94d-d52a-443f-a4b2-6c3473197c26/cover_letter_cover_professional.pdf","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.492Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","generationRunId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6aeef94d-d52a-443f-a4b2-6c3473197c26/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.493Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","generationRunId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6aeef94d-d52a-443f-a4b2-6c3473197c26/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6aeef94d-d52a-443f-a4b2-6c3473197c26/cover_letter_cover_professional.pdf","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.497Z","level":"info","message":"llm_call_metrics","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.499Z","level":"info","message":"generation_completed","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","generationRunId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","enhancedScore":80,"outputs":5,"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.502Z","level":"info","message":"placeholder_record_deleted","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","jobId":"4958527f-f61b-49f6-bc72-eae2f72c96d4","placeholderIdentifier":"6aeef94d-d52a-443f-a4b2-6c3473197c26","template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4958527f-f61b-49f6-bc72-eae2f72c96d4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.503Z","level":"info","message":"http_request_completed","requestId":"6aeef94d-d52a-443f-a4b2-6c3473197c26","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":112,"contentLength":"58301","template":"unknown","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6aeef94d-d52a-443f-a4b2-6c3473197c26","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.510Z","level":"info","message":"http_request_received","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","method":"POST","path":"/api/process-cv","template":"unknown","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.514Z","level":"info","message":"process_cv_started","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","manualJobDescriptionProvided":true,"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.515Z","level":"info","message":"template_selection","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:01.516Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:07:01.525Z","level":"info","message":"initial_upload_completed","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","bucket":"test-bucket","key":"cv/candidate/35a0a0d3-4f95-4376-aaaa-f6f7385e98fd/incoming/original.pdf","template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.525Z","level":"info","message":"resume_text_extracted","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","characters":57,"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.526Z","level":"info","message":"resume_classified","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.527Z","level":"info","message":"raw_upload_relocated","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","bucket":"test-bucket","fromKey":"cv/candidate/35a0a0d3-4f95-4376-aaaa-f6f7385e98fd/incoming/original.pdf","toKey":"cv/professional_summary/35a0a0d3-4f95-4376-aaaa-f6f7385e98fd/original.pdf","template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.528Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","bucket":"test-bucket","key":"cv/professional_summary/35a0a0d3-4f95-4376-aaaa-f6f7385e98fd/original.pdf","template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.528Z","level":"info","message":"dynamo_initial_record_written","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","bucket":"test-bucket","key":"cv/professional_summary/35a0a0d3-4f95-4376-aaaa-f6f7385e98fd/original.pdf","template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.530Z","level":"info","message":"upload_metadata_written","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","bucket":"test-bucket","key":"cv/professional_summary/35a0a0d3-4f95-4376-aaaa-f6f7385e98fd/logs/log.json","template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.530Z","level":"info","message":"job_description_supplied_manually","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","characters":174,"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.531Z","level":"info","message":"job_description_analyzed","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","jobTitle":"","jobSkills":5,"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.532Z","level":"info","message":"resume_skills_analyzed","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.532Z","level":"info","message":"llm_call_metrics","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.533Z","level":"info","message":"process_cv_scoring_completed","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.538Z","level":"info","message":"llm_call_metrics","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.538Z","level":"info","message":"generation_section_rewrite_completed","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","generationRunId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.539Z","level":"info","message":"llm_call_metrics","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.544Z","level":"info","message":"generation_resume_verified","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","generationRunId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:01.554Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","generationRunId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:01.566Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","generationRunId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:01.573Z","level":"info","message":"generation_cover_letters_completed","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","generationRunId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","variants":2,"fallbackApplied":true,"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.575Z","level":"info","message":"pdf_generation_attempt","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","generationRunId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/35a0a0d3-4f95-4376-aaaa-f6f7385e98fd/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/35a0a0d3-4f95-4376-aaaa-f6f7385e98fd/enhanced_modern.pdf","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.576Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","generationRunId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/35a0a0d3-4f95-4376-aaaa-f6f7385e98fd/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.577Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","generationRunId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/35a0a0d3-4f95-4376-aaaa-f6f7385e98fd/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/35a0a0d3-4f95-4376-aaaa-f6f7385e98fd/enhanced_modern.pdf","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.579Z","level":"info","message":"pdf_generation_attempt","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","generationRunId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/35a0a0d3-4f95-4376-aaaa-f6f7385e98fd/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/35a0a0d3-4f95-4376-aaaa-f6f7385e98fd/enhanced_professional.pdf","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.580Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","generationRunId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/35a0a0d3-4f95-4376-aaaa-f6f7385e98fd/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.582Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","generationRunId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/35a0a0d3-4f95-4376-aaaa-f6f7385e98fd/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/35a0a0d3-4f95-4376-aaaa-f6f7385e98fd/enhanced_professional.pdf","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.584Z","level":"info","message":"pdf_generation_attempt","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","generationRunId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/35a0a0d3-4f95-4376-aaaa-f6f7385e98fd/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/35a0a0d3-4f95-4376-aaaa-f6f7385e98fd/cover_letter_cover_modern.pdf","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.585Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","generationRunId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/35a0a0d3-4f95-4376-aaaa-f6f7385e98fd/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.586Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","generationRunId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/35a0a0d3-4f95-4376-aaaa-f6f7385e98fd/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/35a0a0d3-4f95-4376-aaaa-f6f7385e98fd/cover_letter_cover_modern.pdf","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.588Z","level":"info","message":"pdf_generation_attempt","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","generationRunId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/35a0a0d3-4f95-4376-aaaa-f6f7385e98fd/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/35a0a0d3-4f95-4376-aaaa-f6f7385e98fd/cover_letter_cover_professional.pdf","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.589Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","generationRunId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/35a0a0d3-4f95-4376-aaaa-f6f7385e98fd/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.591Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","generationRunId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/35a0a0d3-4f95-4376-aaaa-f6f7385e98fd/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/35a0a0d3-4f95-4376-aaaa-f6f7385e98fd/cover_letter_cover_professional.pdf","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.595Z","level":"info","message":"llm_call_metrics","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.597Z","level":"info","message":"generation_completed","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","generationRunId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","enhancedScore":80,"outputs":5,"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.600Z","level":"info","message":"placeholder_record_deleted","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","jobId":"592a15ba-9570-4bad-90e3-e3439e06c787","placeholderIdentifier":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"592a15ba-9570-4bad-90e3-e3439e06c787","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.602Z","level":"info","message":"http_request_completed","requestId":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":92,"contentLength":"58133","template":"unknown","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35a0a0d3-4f95-4376-aaaa-f6f7385e98fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.608Z","level":"info","message":"http_request_received","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","method":"POST","path":"/api/process-cv","template":"unknown","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.611Z","level":"info","message":"process_cv_started","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","manualJobDescriptionProvided":true,"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.612Z","level":"info","message":"template_selection","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","template1":"classic","template2":"ats","coverTemplate1":"cover_classic","coverTemplate2":"cover_ats","availableCvTemplates":["classic","ats","modern","professional","2025"],"availableCoverTemplates":["cover_classic","cover_ats","cover_modern","cover_professional","cover_2025"],"template":"classic","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:01.613Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:07:01.621Z","level":"info","message":"initial_upload_completed","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","bucket":"test-bucket","key":"cv/candidate/a442e916-744d-442c-ba7f-7af3d3bfaf1b/incoming/original.pdf","template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.621Z","level":"info","message":"resume_text_extracted","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","characters":57,"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.622Z","level":"info","message":"resume_classified","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.628Z","level":"info","message":"raw_upload_relocated","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","bucket":"test-bucket","fromKey":"cv/candidate/a442e916-744d-442c-ba7f-7af3d3bfaf1b/incoming/original.pdf","toKey":"cv/professional_summary/a442e916-744d-442c-ba7f-7af3d3bfaf1b/original.pdf","template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.629Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","bucket":"test-bucket","key":"cv/professional_summary/a442e916-744d-442c-ba7f-7af3d3bfaf1b/original.pdf","template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.630Z","level":"info","message":"dynamo_initial_record_written","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","bucket":"test-bucket","key":"cv/professional_summary/a442e916-744d-442c-ba7f-7af3d3bfaf1b/original.pdf","template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.631Z","level":"info","message":"upload_metadata_written","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","bucket":"test-bucket","key":"cv/professional_summary/a442e916-744d-442c-ba7f-7af3d3bfaf1b/logs/log.json","template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.632Z","level":"info","message":"job_description_supplied_manually","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","characters":174,"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.633Z","level":"info","message":"job_description_analyzed","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","jobTitle":"","jobSkills":5,"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.634Z","level":"info","message":"resume_skills_analyzed","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.636Z","level":"info","message":"llm_call_metrics","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.637Z","level":"info","message":"process_cv_scoring_completed","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.644Z","level":"info","message":"llm_call_metrics","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.645Z","level":"info","message":"generation_section_rewrite_completed","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","generationRunId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.646Z","level":"info","message":"llm_call_metrics","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.651Z","level":"info","message":"generation_resume_verified","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","generationRunId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:01.657Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","generationRunId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:01.669Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","generationRunId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:01.677Z","level":"info","message":"generation_cover_letters_completed","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","generationRunId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","variants":2,"fallbackApplied":true,"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.678Z","level":"info","message":"pdf_generation_attempt","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","generationRunId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a442e916-744d-442c-ba7f-7af3d3bfaf1b/","sessionId":"[REDACTED]","template":"classic","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/a442e916-744d-442c-ba7f-7af3d3bfaf1b/enhanced_classic.pdf","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.680Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","generationRunId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a442e916-744d-442c-ba7f-7af3d3bfaf1b/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.681Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","generationRunId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a442e916-744d-442c-ba7f-7af3d3bfaf1b/","sessionId":"[REDACTED]","template":"classic","attempt":1,"bytes":3,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/a442e916-744d-442c-ba7f-7af3d3bfaf1b/enhanced_classic.pdf","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.682Z","level":"info","message":"pdf_generation_attempt","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","generationRunId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a442e916-744d-442c-ba7f-7af3d3bfaf1b/","sessionId":"[REDACTED]","template":"ats","attempt":1,"totalAttempts":1,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/a442e916-744d-442c-ba7f-7af3d3bfaf1b/enhanced_ats.pdf","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.683Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","generationRunId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a442e916-744d-442c-ba7f-7af3d3bfaf1b/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":["mode","atsMode"],"session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.685Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","generationRunId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a442e916-744d-442c-ba7f-7af3d3bfaf1b/","sessionId":"[REDACTED]","template":"ats","attempt":1,"bytes":3,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/a442e916-744d-442c-ba7f-7af3d3bfaf1b/enhanced_ats.pdf","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.685Z","level":"info","message":"pdf_generation_attempt","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","generationRunId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a442e916-744d-442c-ba7f-7af3d3bfaf1b/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/a442e916-744d-442c-ba7f-7af3d3bfaf1b/cover_letter_cover_classic.pdf","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.686Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","generationRunId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a442e916-744d-442c-ba7f-7af3d3bfaf1b/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.688Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","generationRunId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a442e916-744d-442c-ba7f-7af3d3bfaf1b/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/a442e916-744d-442c-ba7f-7af3d3bfaf1b/cover_letter_cover_classic.pdf","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.689Z","level":"info","message":"pdf_generation_attempt","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","generationRunId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a442e916-744d-442c-ba7f-7af3d3bfaf1b/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/a442e916-744d-442c-ba7f-7af3d3bfaf1b/cover_letter_cover_ats.pdf","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.690Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","generationRunId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a442e916-744d-442c-ba7f-7af3d3bfaf1b/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.691Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","generationRunId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a442e916-744d-442c-ba7f-7af3d3bfaf1b/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/a442e916-744d-442c-ba7f-7af3d3bfaf1b/cover_letter_cover_ats.pdf","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.695Z","level":"info","message":"llm_call_metrics","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.698Z","level":"info","message":"generation_completed","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","generationRunId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","enhancedScore":80,"outputs":5,"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.702Z","level":"info","message":"placeholder_record_deleted","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","jobId":"984438e4-e345-402f-a8c5-5e06d7c68f50","placeholderIdentifier":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"984438e4-e345-402f-a8c5-5e06d7c68f50","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.703Z","level":"info","message":"http_request_completed","requestId":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":95,"contentLength":"57992","template":"unknown","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a442e916-744d-442c-ba7f-7af3d3bfaf1b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.706Z","level":"info","message":"http_request_received","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","method":"POST","path":"/api/process-cv","template":"unknown","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.708Z","level":"info","message":"process_cv_started","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","manualJobDescriptionProvided":true,"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.709Z","level":"info","message":"template_selection","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:01.710Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:07:01.718Z","level":"info","message":"initial_upload_completed","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","bucket":"test-bucket","key":"cv/candidate/5ea0cff0-74f5-4fd7-920a-f4885cfa48c3/incoming/original.pdf","template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.719Z","level":"info","message":"resume_text_extracted","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","characters":57,"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.719Z","level":"info","message":"resume_classified","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.720Z","level":"info","message":"raw_upload_relocated","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","bucket":"test-bucket","fromKey":"cv/candidate/5ea0cff0-74f5-4fd7-920a-f4885cfa48c3/incoming/original.pdf","toKey":"cv/professional_summary/5ea0cff0-74f5-4fd7-920a-f4885cfa48c3/original.pdf","template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.721Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","bucket":"test-bucket","key":"cv/professional_summary/5ea0cff0-74f5-4fd7-920a-f4885cfa48c3/original.pdf","template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.722Z","level":"info","message":"dynamo_initial_record_written","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","bucket":"test-bucket","key":"cv/professional_summary/5ea0cff0-74f5-4fd7-920a-f4885cfa48c3/original.pdf","template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.723Z","level":"info","message":"upload_metadata_written","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","bucket":"test-bucket","key":"cv/professional_summary/5ea0cff0-74f5-4fd7-920a-f4885cfa48c3/logs/log.json","template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.724Z","level":"info","message":"job_description_supplied_manually","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","characters":174,"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.726Z","level":"info","message":"job_description_analyzed","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","jobTitle":"","jobSkills":5,"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.727Z","level":"info","message":"resume_skills_analyzed","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.728Z","level":"info","message":"llm_call_metrics","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.730Z","level":"info","message":"process_cv_scoring_completed","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.738Z","level":"info","message":"llm_call_metrics","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"02d97c4de2dc6045a8d84c10e35b0b09be1fff3da32b47fa5d4c293317deef58","addedSkillCount":0,"template":"resume_rewrite","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.739Z","level":"info","message":"generation_section_rewrite_completed","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","generationRunId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.740Z","level":"info","message":"llm_call_metrics","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"3cb5bda2be537250e5bef0d91034f772d9c2c805c99b7e04ba145ecb904d5893","skillCount":5,"template":"project_summary","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.746Z","level":"info","message":"generation_resume_verified","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","generationRunId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:01.754Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","generationRunId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:01.765Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","generationRunId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:01.773Z","level":"info","message":"generation_cover_letters_completed","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","generationRunId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","variants":2,"fallbackApplied":true,"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.775Z","level":"info","message":"pdf_generation_attempt","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","generationRunId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5ea0cff0-74f5-4fd7-920a-f4885cfa48c3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/5ea0cff0-74f5-4fd7-920a-f4885cfa48c3/enhanced_modern.pdf","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.776Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","generationRunId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5ea0cff0-74f5-4fd7-920a-f4885cfa48c3/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.778Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","generationRunId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5ea0cff0-74f5-4fd7-920a-f4885cfa48c3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/5ea0cff0-74f5-4fd7-920a-f4885cfa48c3/enhanced_modern.pdf","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.779Z","level":"info","message":"pdf_generation_attempt","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","generationRunId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5ea0cff0-74f5-4fd7-920a-f4885cfa48c3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/5ea0cff0-74f5-4fd7-920a-f4885cfa48c3/enhanced_professional.pdf","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.781Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","generationRunId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5ea0cff0-74f5-4fd7-920a-f4885cfa48c3/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.782Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","generationRunId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5ea0cff0-74f5-4fd7-920a-f4885cfa48c3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/5ea0cff0-74f5-4fd7-920a-f4885cfa48c3/enhanced_professional.pdf","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.783Z","level":"info","message":"pdf_generation_attempt","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","generationRunId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5ea0cff0-74f5-4fd7-920a-f4885cfa48c3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/5ea0cff0-74f5-4fd7-920a-f4885cfa48c3/cover_letter_cover_modern.pdf","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.784Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","generationRunId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5ea0cff0-74f5-4fd7-920a-f4885cfa48c3/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.786Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","generationRunId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5ea0cff0-74f5-4fd7-920a-f4885cfa48c3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/5ea0cff0-74f5-4fd7-920a-f4885cfa48c3/cover_letter_cover_modern.pdf","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.787Z","level":"info","message":"pdf_generation_attempt","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","generationRunId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5ea0cff0-74f5-4fd7-920a-f4885cfa48c3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/5ea0cff0-74f5-4fd7-920a-f4885cfa48c3/cover_letter_cover_professional.pdf","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.788Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","generationRunId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5ea0cff0-74f5-4fd7-920a-f4885cfa48c3/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.790Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","generationRunId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5ea0cff0-74f5-4fd7-920a-f4885cfa48c3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/5ea0cff0-74f5-4fd7-920a-f4885cfa48c3/cover_letter_cover_professional.pdf","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.796Z","level":"info","message":"llm_call_metrics","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.798Z","level":"info","message":"generation_completed","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","generationRunId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","enhancedScore":80,"outputs":5,"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.801Z","level":"info","message":"placeholder_record_deleted","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","jobId":"940fafbf-7864-4a85-a679-928041209104","placeholderIdentifier":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"940fafbf-7864-4a85-a679-928041209104","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.806Z","level":"info","message":"http_request_completed","requestId":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":100,"contentLength":"59354","template":"unknown","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ea0cff0-74f5-4fd7-920a-f4885cfa48c3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.814Z","level":"info","message":"http_request_received","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","method":"POST","path":"/api/process-cv","template":"unknown","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.818Z","level":"info","message":"process_cv_started","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","manualJobDescriptionProvided":true,"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.819Z","level":"info","message":"template_selection","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:01.821Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:07:01.832Z","level":"info","message":"initial_upload_completed","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","bucket":"test-bucket","key":"cv/candidate/f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43/incoming/original.pdf","template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.833Z","level":"info","message":"resume_text_extracted","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","characters":57,"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.834Z","level":"info","message":"resume_classified","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.836Z","level":"info","message":"raw_upload_relocated","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","bucket":"test-bucket","fromKey":"cv/candidate/f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43/incoming/original.pdf","toKey":"cv/professional_summary/f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43/original.pdf","template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.837Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","bucket":"test-bucket","key":"cv/professional_summary/f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43/original.pdf","template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.837Z","level":"info","message":"dynamo_initial_record_written","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","bucket":"test-bucket","key":"cv/professional_summary/f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43/original.pdf","template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.838Z","level":"info","message":"upload_metadata_written","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","bucket":"test-bucket","key":"cv/professional_summary/f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43/logs/log.json","template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.840Z","level":"info","message":"job_description_supplied_manually","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","characters":174,"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.841Z","level":"info","message":"job_description_analyzed","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","jobTitle":"","jobSkills":5,"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.842Z","level":"info","message":"resume_skills_analyzed","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.844Z","level":"info","message":"llm_call_metrics","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.847Z","level":"info","message":"process_cv_scoring_completed","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.854Z","level":"info","message":"llm_call_metrics","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.855Z","level":"info","message":"generation_section_rewrite_completed","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","generationRunId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.856Z","level":"info","message":"llm_call_metrics","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"9f21e6c3bcbaef44e0e62da79c13bb8790b57affdb114dc9f59fc273f882540c","skillCount":5,"template":"project_summary","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.861Z","level":"info","message":"generation_resume_verified","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","generationRunId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:01.867Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","generationRunId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:01.876Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","generationRunId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:01.884Z","level":"info","message":"generation_cover_letters_completed","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","generationRunId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","variants":2,"fallbackApplied":true,"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.886Z","level":"info","message":"pdf_generation_attempt","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","generationRunId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43/enhanced_modern.pdf","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.887Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","generationRunId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.888Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","generationRunId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43/enhanced_modern.pdf","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.890Z","level":"info","message":"pdf_generation_attempt","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","generationRunId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43/enhanced_professional.pdf","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.892Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","generationRunId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.893Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","generationRunId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43/enhanced_professional.pdf","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.894Z","level":"info","message":"pdf_generation_attempt","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","generationRunId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43/cover_letter_cover_modern.pdf","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.896Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","generationRunId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.897Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","generationRunId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43/cover_letter_cover_modern.pdf","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.898Z","level":"info","message":"pdf_generation_attempt","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","generationRunId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43/cover_letter_cover_professional.pdf","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.899Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","generationRunId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.901Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","generationRunId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43/cover_letter_cover_professional.pdf","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.905Z","level":"info","message":"llm_call_metrics","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.906Z","level":"info","message":"generation_completed","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","generationRunId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","enhancedScore":80,"outputs":5,"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.908Z","level":"info","message":"placeholder_record_deleted","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","jobId":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","placeholderIdentifier":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"20cf7cb9-78ec-4d23-b7b0-1e8304cc3ede","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.911Z","level":"info","message":"http_request_completed","requestId":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":97,"contentLength":"57968","template":"unknown","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f837cb9f-d1ec-4763-ad48-d1e7cfc9fa43","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.917Z","level":"info","message":"http_request_received","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","method":"POST","path":"/api/process-cv","template":"unknown","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.920Z","level":"info","message":"process_cv_started","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","manualJobDescriptionProvided":true,"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.920Z","level":"info","message":"template_selection","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:01.921Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:07:01.930Z","level":"info","message":"initial_upload_completed","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","bucket":"test-bucket","key":"cv/candidate/f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3/incoming/original.pdf","template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.931Z","level":"info","message":"resume_text_extracted","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","characters":57,"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.932Z","level":"info","message":"resume_classified","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.932Z","level":"info","message":"raw_upload_relocated","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","bucket":"test-bucket","fromKey":"cv/candidate/f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3/incoming/original.pdf","toKey":"cv/professional_summary/f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3/original.pdf","template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.933Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","bucket":"test-bucket","key":"cv/professional_summary/f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3/original.pdf","template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.935Z","level":"info","message":"dynamo_initial_record_written","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","bucket":"test-bucket","key":"cv/professional_summary/f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3/original.pdf","template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.936Z","level":"info","message":"upload_metadata_written","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","bucket":"test-bucket","key":"cv/professional_summary/f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3/logs/log.json","template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.937Z","level":"info","message":"job_description_supplied_manually","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","characters":174,"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.938Z","level":"info","message":"job_description_analyzed","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","jobTitle":"","jobSkills":5,"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.939Z","level":"info","message":"resume_skills_analyzed","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.940Z","level":"info","message":"llm_call_metrics","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.941Z","level":"info","message":"process_cv_scoring_completed","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.946Z","level":"info","message":"llm_call_metrics","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.947Z","level":"info","message":"generation_section_rewrite_completed","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","generationRunId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.948Z","level":"info","message":"llm_call_metrics","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"78ddb280a2cb83c23c85b1035eed8b3d5fbcd26529ae4529d14b4e3768cf61d3","skillCount":5,"template":"project_summary","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.953Z","level":"info","message":"generation_resume_verified","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","generationRunId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:01.958Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","generationRunId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:01.967Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","generationRunId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:01.974Z","level":"info","message":"generation_cover_letters_completed","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","generationRunId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","variants":2,"fallbackApplied":true,"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.976Z","level":"info","message":"pdf_generation_attempt","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","generationRunId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3/enhanced_modern.pdf","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.977Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","generationRunId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.979Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","generationRunId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3/enhanced_modern.pdf","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.980Z","level":"info","message":"pdf_generation_attempt","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","generationRunId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3/enhanced_professional.pdf","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.981Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","generationRunId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.982Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","generationRunId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3/enhanced_professional.pdf","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.983Z","level":"info","message":"pdf_generation_attempt","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","generationRunId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3/cover_letter_cover_modern.pdf","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.984Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","generationRunId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.985Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","generationRunId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3/cover_letter_cover_modern.pdf","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.986Z","level":"info","message":"pdf_generation_attempt","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","generationRunId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3/cover_letter_cover_professional.pdf","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.986Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","generationRunId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.987Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","generationRunId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3/cover_letter_cover_professional.pdf","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.991Z","level":"info","message":"llm_call_metrics","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.992Z","level":"info","message":"generation_completed","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","generationRunId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","enhancedScore":80,"outputs":5,"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.994Z","level":"info","message":"placeholder_record_deleted","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","jobId":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","placeholderIdentifier":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5f6fabb-576a-4f8d-8c22-7723996c0f8c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:01.995Z","level":"info","message":"http_request_completed","requestId":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":78,"contentLength":"59302","template":"unknown","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f4ad6058-2c19-4ae1-bfbb-54f6a17bcda3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.000Z","level":"info","message":"http_request_received","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","method":"POST","path":"/api/process-cv","template":"unknown","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.002Z","level":"info","message":"process_cv_started","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","manualJobDescriptionProvided":true,"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.003Z","level":"info","message":"template_selection","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:02.004Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:07:02.011Z","level":"info","message":"initial_upload_completed","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","bucket":"test-bucket","key":"cv/candidate/4c2ff5c6-868d-4ed1-85f1-349f9c318f1a/incoming/original.pdf","template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.011Z","level":"info","message":"resume_text_extracted","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","characters":57,"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.012Z","level":"info","message":"resume_classified","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.013Z","level":"info","message":"raw_upload_relocated","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","bucket":"test-bucket","fromKey":"cv/candidate/4c2ff5c6-868d-4ed1-85f1-349f9c318f1a/incoming/original.pdf","toKey":"cv/professional_summary/4c2ff5c6-868d-4ed1-85f1-349f9c318f1a/original.pdf","template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.013Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","bucket":"test-bucket","key":"cv/professional_summary/4c2ff5c6-868d-4ed1-85f1-349f9c318f1a/original.pdf","template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.014Z","level":"info","message":"dynamo_initial_record_written","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","bucket":"test-bucket","key":"cv/professional_summary/4c2ff5c6-868d-4ed1-85f1-349f9c318f1a/original.pdf","template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.014Z","level":"info","message":"upload_metadata_written","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","bucket":"test-bucket","key":"cv/professional_summary/4c2ff5c6-868d-4ed1-85f1-349f9c318f1a/logs/log.json","template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.015Z","level":"info","message":"job_description_supplied_manually","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","characters":174,"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.016Z","level":"info","message":"job_description_analyzed","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","jobTitle":"","jobSkills":5,"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.017Z","level":"info","message":"resume_skills_analyzed","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.018Z","level":"info","message":"llm_call_metrics","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.019Z","level":"info","message":"process_cv_scoring_completed","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.023Z","level":"info","message":"llm_call_metrics","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.024Z","level":"info","message":"generation_section_rewrite_completed","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","generationRunId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.024Z","level":"info","message":"llm_call_metrics","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"968eb1ed4b9ef5f26cd87ba7e60f108acaf8c335efc2ef153d4aaa0b022ea8c8","skillCount":5,"template":"project_summary","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.031Z","level":"info","message":"generation_resume_verified","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","generationRunId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:02.036Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","generationRunId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:02.044Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","generationRunId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:02.050Z","level":"info","message":"generation_cover_letters_completed","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","generationRunId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","variants":2,"fallbackApplied":true,"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.051Z","level":"info","message":"pdf_generation_attempt","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","generationRunId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4c2ff5c6-868d-4ed1-85f1-349f9c318f1a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4c2ff5c6-868d-4ed1-85f1-349f9c318f1a/enhanced_modern.pdf","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.052Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","generationRunId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4c2ff5c6-868d-4ed1-85f1-349f9c318f1a/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.054Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","generationRunId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4c2ff5c6-868d-4ed1-85f1-349f9c318f1a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4c2ff5c6-868d-4ed1-85f1-349f9c318f1a/enhanced_modern.pdf","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.054Z","level":"info","message":"pdf_generation_attempt","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","generationRunId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4c2ff5c6-868d-4ed1-85f1-349f9c318f1a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4c2ff5c6-868d-4ed1-85f1-349f9c318f1a/enhanced_professional.pdf","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.055Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","generationRunId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4c2ff5c6-868d-4ed1-85f1-349f9c318f1a/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.056Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","generationRunId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4c2ff5c6-868d-4ed1-85f1-349f9c318f1a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4c2ff5c6-868d-4ed1-85f1-349f9c318f1a/enhanced_professional.pdf","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.057Z","level":"info","message":"pdf_generation_attempt","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","generationRunId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4c2ff5c6-868d-4ed1-85f1-349f9c318f1a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4c2ff5c6-868d-4ed1-85f1-349f9c318f1a/cover_letter_cover_modern.pdf","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.058Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","generationRunId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4c2ff5c6-868d-4ed1-85f1-349f9c318f1a/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.059Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","generationRunId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4c2ff5c6-868d-4ed1-85f1-349f9c318f1a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4c2ff5c6-868d-4ed1-85f1-349f9c318f1a/cover_letter_cover_modern.pdf","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.060Z","level":"info","message":"pdf_generation_attempt","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","generationRunId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4c2ff5c6-868d-4ed1-85f1-349f9c318f1a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4c2ff5c6-868d-4ed1-85f1-349f9c318f1a/cover_letter_cover_professional.pdf","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.061Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","generationRunId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4c2ff5c6-868d-4ed1-85f1-349f9c318f1a/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.062Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","generationRunId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4c2ff5c6-868d-4ed1-85f1-349f9c318f1a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4c2ff5c6-868d-4ed1-85f1-349f9c318f1a/cover_letter_cover_professional.pdf","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.066Z","level":"info","message":"llm_call_metrics","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.067Z","level":"info","message":"generation_completed","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","generationRunId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","enhancedScore":80,"outputs":5,"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.069Z","level":"info","message":"placeholder_record_deleted","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","jobId":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","placeholderIdentifier":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ba65e34-2efb-48bb-a28a-0463c96e5e8a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.071Z","level":"info","message":"http_request_completed","requestId":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":71,"contentLength":"59835","template":"unknown","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c2ff5c6-868d-4ed1-85f1-349f9c318f1a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.077Z","level":"info","message":"http_request_received","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","method":"POST","path":"/api/process-cv","template":"unknown","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.079Z","level":"info","message":"process_cv_started","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","manualJobDescriptionProvided":true,"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.079Z","level":"info","message":"template_selection","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:02.080Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:07:02.087Z","level":"info","message":"initial_upload_completed","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","bucket":"test-bucket","key":"cv/candidate/2bebe5c3-2270-4ffe-a790-ea7d34270957/incoming/original.pdf","template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.087Z","level":"info","message":"resume_text_extracted","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","characters":57,"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.088Z","level":"info","message":"resume_classified","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.088Z","level":"info","message":"raw_upload_relocated","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","bucket":"test-bucket","fromKey":"cv/candidate/2bebe5c3-2270-4ffe-a790-ea7d34270957/incoming/original.pdf","toKey":"cv/professional_summary/2bebe5c3-2270-4ffe-a790-ea7d34270957/original.pdf","template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.089Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","bucket":"test-bucket","key":"cv/professional_summary/2bebe5c3-2270-4ffe-a790-ea7d34270957/original.pdf","template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.089Z","level":"info","message":"dynamo_initial_record_written","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","bucket":"test-bucket","key":"cv/professional_summary/2bebe5c3-2270-4ffe-a790-ea7d34270957/original.pdf","template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.090Z","level":"info","message":"upload_metadata_written","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","bucket":"test-bucket","key":"cv/professional_summary/2bebe5c3-2270-4ffe-a790-ea7d34270957/logs/log.json","template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.091Z","level":"info","message":"job_description_supplied_manually","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","characters":174,"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.094Z","level":"info","message":"job_description_analyzed","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","jobTitle":"","jobSkills":5,"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.095Z","level":"info","message":"resume_skills_analyzed","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.096Z","level":"info","message":"llm_call_metrics","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.097Z","level":"info","message":"process_cv_scoring_completed","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.103Z","level":"info","message":"llm_call_metrics","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.104Z","level":"info","message":"generation_section_rewrite_completed","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","generationRunId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.105Z","level":"info","message":"llm_call_metrics","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.118Z","level":"info","message":"generation_resume_verified","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","generationRunId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:02.125Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","generationRunId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:02.135Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","generationRunId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:02.146Z","level":"info","message":"generation_cover_letters_completed","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","generationRunId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","variants":2,"fallbackApplied":true,"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.152Z","level":"info","message":"pdf_generation_attempt","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","generationRunId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2bebe5c3-2270-4ffe-a790-ea7d34270957/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/2bebe5c3-2270-4ffe-a790-ea7d34270957/enhanced_modern.pdf","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.157Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","generationRunId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2bebe5c3-2270-4ffe-a790-ea7d34270957/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.160Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","generationRunId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2bebe5c3-2270-4ffe-a790-ea7d34270957/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/2bebe5c3-2270-4ffe-a790-ea7d34270957/enhanced_modern.pdf","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.162Z","level":"info","message":"pdf_generation_attempt","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","generationRunId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2bebe5c3-2270-4ffe-a790-ea7d34270957/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/2bebe5c3-2270-4ffe-a790-ea7d34270957/enhanced_professional.pdf","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.164Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","generationRunId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2bebe5c3-2270-4ffe-a790-ea7d34270957/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.168Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","generationRunId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2bebe5c3-2270-4ffe-a790-ea7d34270957/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/2bebe5c3-2270-4ffe-a790-ea7d34270957/enhanced_professional.pdf","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.169Z","level":"info","message":"pdf_generation_attempt","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","generationRunId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2bebe5c3-2270-4ffe-a790-ea7d34270957/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/2bebe5c3-2270-4ffe-a790-ea7d34270957/cover_letter_cover_modern.pdf","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.171Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","generationRunId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2bebe5c3-2270-4ffe-a790-ea7d34270957/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.174Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","generationRunId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2bebe5c3-2270-4ffe-a790-ea7d34270957/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/2bebe5c3-2270-4ffe-a790-ea7d34270957/cover_letter_cover_modern.pdf","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.176Z","level":"info","message":"pdf_generation_attempt","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","generationRunId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2bebe5c3-2270-4ffe-a790-ea7d34270957/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/2bebe5c3-2270-4ffe-a790-ea7d34270957/cover_letter_cover_professional.pdf","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.177Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","generationRunId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2bebe5c3-2270-4ffe-a790-ea7d34270957/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.181Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","generationRunId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2bebe5c3-2270-4ffe-a790-ea7d34270957/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/2bebe5c3-2270-4ffe-a790-ea7d34270957/cover_letter_cover_professional.pdf","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.189Z","level":"info","message":"llm_call_metrics","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.193Z","level":"info","message":"generation_completed","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","generationRunId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","enhancedScore":80,"outputs":5,"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.202Z","level":"info","message":"placeholder_record_deleted","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","jobId":"9ee0f765-0630-4401-b13a-10f799e995fc","placeholderIdentifier":"2bebe5c3-2270-4ffe-a790-ea7d34270957","template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ee0f765-0630-4401-b13a-10f799e995fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.205Z","level":"info","message":"http_request_completed","requestId":"2bebe5c3-2270-4ffe-a790-ea7d34270957","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":128,"contentLength":"58133","template":"unknown","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2bebe5c3-2270-4ffe-a790-ea7d34270957","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.210Z","level":"info","message":"http_request_received","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","method":"POST","path":"/api/process-cv","template":"unknown","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.215Z","level":"info","message":"process_cv_started","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","manualJobDescriptionProvided":true,"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.216Z","level":"info","message":"template_selection","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:02.218Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:07:02.228Z","level":"info","message":"initial_upload_completed","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","bucket":"test-bucket","key":"cv/candidate/9034521e-5405-4dae-9721-77ed9cf6c155/incoming/original.pdf","template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.230Z","level":"info","message":"resume_text_extracted","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","characters":57,"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.231Z","level":"info","message":"resume_classified","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.232Z","level":"info","message":"raw_upload_relocated","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","bucket":"test-bucket","fromKey":"cv/candidate/9034521e-5405-4dae-9721-77ed9cf6c155/incoming/original.pdf","toKey":"cv/professional_summary/9034521e-5405-4dae-9721-77ed9cf6c155/original.pdf","template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.234Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","bucket":"test-bucket","key":"cv/professional_summary/9034521e-5405-4dae-9721-77ed9cf6c155/original.pdf","template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.235Z","level":"info","message":"dynamo_initial_record_written","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","bucket":"test-bucket","key":"cv/professional_summary/9034521e-5405-4dae-9721-77ed9cf6c155/original.pdf","template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.236Z","level":"info","message":"upload_metadata_written","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","bucket":"test-bucket","key":"cv/professional_summary/9034521e-5405-4dae-9721-77ed9cf6c155/logs/log.json","template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.237Z","level":"info","message":"job_description_supplied_manually","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","characters":174,"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.238Z","level":"info","message":"job_description_analyzed","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","jobTitle":"","jobSkills":5,"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.240Z","level":"info","message":"resume_skills_analyzed","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.241Z","level":"info","message":"llm_call_metrics","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.243Z","level":"info","message":"process_cv_scoring_completed","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.252Z","level":"info","message":"llm_call_metrics","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"9a6d2d1a9ce924151b6a4db0f761d85550b399b0c2990ac5bc2d2ac9b952bd0d","addedSkillCount":0,"template":"resume_rewrite","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.253Z","level":"info","message":"generation_section_rewrite_completed","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","generationRunId":"9034521e-5405-4dae-9721-77ed9cf6c155","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.258Z","level":"info","message":"generation_resume_verified","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","generationRunId":"9034521e-5405-4dae-9721-77ed9cf6c155","template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.269Z","level":"info","message":"generation_cover_letters_normalized","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","generationRunId":"9034521e-5405-4dae-9721-77ed9cf6c155","variants":["cover_letter1","cover_letter2"],"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:02.271Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","generationRunId":"9034521e-5405-4dae-9721-77ed9cf6c155","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:02.280Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","generationRunId":"9034521e-5405-4dae-9721-77ed9cf6c155","variants":["cover_letter1"],"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.282Z","level":"info","message":"generation_cover_letters_completed","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","generationRunId":"9034521e-5405-4dae-9721-77ed9cf6c155","variants":2,"fallbackApplied":true,"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.283Z","level":"info","message":"pdf_generation_attempt","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","generationRunId":"9034521e-5405-4dae-9721-77ed9cf6c155","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9034521e-5405-4dae-9721-77ed9cf6c155/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9034521e-5405-4dae-9721-77ed9cf6c155/enhanced_modern.pdf","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.284Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","generationRunId":"9034521e-5405-4dae-9721-77ed9cf6c155","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9034521e-5405-4dae-9721-77ed9cf6c155/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.286Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","generationRunId":"9034521e-5405-4dae-9721-77ed9cf6c155","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9034521e-5405-4dae-9721-77ed9cf6c155/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9034521e-5405-4dae-9721-77ed9cf6c155/enhanced_modern.pdf","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.287Z","level":"info","message":"pdf_generation_attempt","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","generationRunId":"9034521e-5405-4dae-9721-77ed9cf6c155","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9034521e-5405-4dae-9721-77ed9cf6c155/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9034521e-5405-4dae-9721-77ed9cf6c155/enhanced_professional.pdf","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.288Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","generationRunId":"9034521e-5405-4dae-9721-77ed9cf6c155","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9034521e-5405-4dae-9721-77ed9cf6c155/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.290Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","generationRunId":"9034521e-5405-4dae-9721-77ed9cf6c155","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9034521e-5405-4dae-9721-77ed9cf6c155/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9034521e-5405-4dae-9721-77ed9cf6c155/enhanced_professional.pdf","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.291Z","level":"info","message":"pdf_generation_attempt","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","generationRunId":"9034521e-5405-4dae-9721-77ed9cf6c155","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9034521e-5405-4dae-9721-77ed9cf6c155/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9034521e-5405-4dae-9721-77ed9cf6c155/cover_letter_cover_modern.pdf","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.292Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","generationRunId":"9034521e-5405-4dae-9721-77ed9cf6c155","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9034521e-5405-4dae-9721-77ed9cf6c155/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.293Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","generationRunId":"9034521e-5405-4dae-9721-77ed9cf6c155","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9034521e-5405-4dae-9721-77ed9cf6c155/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9034521e-5405-4dae-9721-77ed9cf6c155/cover_letter_cover_modern.pdf","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.294Z","level":"info","message":"pdf_generation_attempt","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","generationRunId":"9034521e-5405-4dae-9721-77ed9cf6c155","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9034521e-5405-4dae-9721-77ed9cf6c155/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9034521e-5405-4dae-9721-77ed9cf6c155/cover_letter_cover_professional.pdf","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.295Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","generationRunId":"9034521e-5405-4dae-9721-77ed9cf6c155","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9034521e-5405-4dae-9721-77ed9cf6c155/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.296Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","generationRunId":"9034521e-5405-4dae-9721-77ed9cf6c155","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9034521e-5405-4dae-9721-77ed9cf6c155/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9034521e-5405-4dae-9721-77ed9cf6c155/cover_letter_cover_professional.pdf","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.302Z","level":"info","message":"llm_call_metrics","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.303Z","level":"info","message":"generation_completed","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","generationRunId":"9034521e-5405-4dae-9721-77ed9cf6c155","enhancedScore":80,"outputs":5,"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.305Z","level":"info","message":"placeholder_record_deleted","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","jobId":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","placeholderIdentifier":"9034521e-5405-4dae-9721-77ed9cf6c155","template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b9036851-4b94-4dd3-a916-bb8d8b5c625b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.307Z","level":"info","message":"http_request_completed","requestId":"9034521e-5405-4dae-9721-77ed9cf6c155","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":97,"contentLength":"46262","template":"unknown","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9034521e-5405-4dae-9721-77ed9cf6c155","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.316Z","level":"info","message":"http_request_received","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","method":"POST","path":"/api/process-cv","template":"unknown","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.319Z","level":"info","message":"process_cv_started","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","manualJobDescriptionProvided":true,"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.320Z","level":"info","message":"template_selection","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:02.321Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:07:02.329Z","level":"info","message":"initial_upload_completed","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","bucket":"test-bucket","key":"cv/candidate/c19afec0-acb4-4b93-a10a-eb0f07119c88/incoming/original.pdf","template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.330Z","level":"info","message":"resume_text_extracted","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","characters":57,"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.331Z","level":"info","message":"resume_classified","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.332Z","level":"info","message":"raw_upload_relocated","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","bucket":"test-bucket","fromKey":"cv/candidate/c19afec0-acb4-4b93-a10a-eb0f07119c88/incoming/original.pdf","toKey":"cv/professional_summary/c19afec0-acb4-4b93-a10a-eb0f07119c88/original.pdf","template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.333Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","bucket":"test-bucket","key":"cv/professional_summary/c19afec0-acb4-4b93-a10a-eb0f07119c88/original.pdf","template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.334Z","level":"info","message":"dynamo_initial_record_written","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","bucket":"test-bucket","key":"cv/professional_summary/c19afec0-acb4-4b93-a10a-eb0f07119c88/original.pdf","template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.335Z","level":"info","message":"upload_metadata_written","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","bucket":"test-bucket","key":"cv/professional_summary/c19afec0-acb4-4b93-a10a-eb0f07119c88/logs/log.json","template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.336Z","level":"info","message":"job_description_supplied_manually","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","characters":174,"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.337Z","level":"info","message":"job_description_analyzed","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","jobTitle":"","jobSkills":5,"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.338Z","level":"info","message":"resume_skills_analyzed","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.340Z","level":"info","message":"llm_call_metrics","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.341Z","level":"info","message":"process_cv_scoring_completed","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:02.345Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","sample":"Here is your revised resume text without JSON formatting.","template":"unknown","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at Object.logStructured [as error] (server.js:3324:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:8330:20)
      at generateEnhancedDocumentsResponse (server.js:19965:24)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:02.353Z","level":"info","message":"llm_call_metrics","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.354Z","level":"info","message":"llm_call_metrics","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.355Z","level":"info","message":"generation_section_rewrite_completed","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","generationRunId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.356Z","level":"info","message":"llm_call_metrics","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"d230fd9d3c6f4e6f7bb7c385f22b3a147a5c937619c1919bfb6f5e09096df674","skillCount":5,"template":"project_summary","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:02.363Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","generationRunId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:02.371Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","generationRunId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:02.379Z","level":"info","message":"generation_cover_letters_completed","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","generationRunId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","variants":2,"fallbackApplied":true,"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.380Z","level":"info","message":"pdf_generation_attempt","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","generationRunId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c19afec0-acb4-4b93-a10a-eb0f07119c88/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c19afec0-acb4-4b93-a10a-eb0f07119c88/enhanced_modern.pdf","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.381Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","generationRunId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c19afec0-acb4-4b93-a10a-eb0f07119c88/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.382Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","generationRunId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c19afec0-acb4-4b93-a10a-eb0f07119c88/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c19afec0-acb4-4b93-a10a-eb0f07119c88/enhanced_modern.pdf","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.383Z","level":"info","message":"pdf_generation_attempt","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","generationRunId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c19afec0-acb4-4b93-a10a-eb0f07119c88/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c19afec0-acb4-4b93-a10a-eb0f07119c88/enhanced_professional.pdf","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.384Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","generationRunId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c19afec0-acb4-4b93-a10a-eb0f07119c88/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.385Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","generationRunId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c19afec0-acb4-4b93-a10a-eb0f07119c88/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c19afec0-acb4-4b93-a10a-eb0f07119c88/enhanced_professional.pdf","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.386Z","level":"info","message":"pdf_generation_attempt","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","generationRunId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c19afec0-acb4-4b93-a10a-eb0f07119c88/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c19afec0-acb4-4b93-a10a-eb0f07119c88/cover_letter_cover_modern.pdf","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.387Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","generationRunId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c19afec0-acb4-4b93-a10a-eb0f07119c88/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.387Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","generationRunId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c19afec0-acb4-4b93-a10a-eb0f07119c88/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c19afec0-acb4-4b93-a10a-eb0f07119c88/cover_letter_cover_modern.pdf","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.388Z","level":"info","message":"pdf_generation_attempt","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","generationRunId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c19afec0-acb4-4b93-a10a-eb0f07119c88/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c19afec0-acb4-4b93-a10a-eb0f07119c88/cover_letter_cover_professional.pdf","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.389Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","generationRunId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c19afec0-acb4-4b93-a10a-eb0f07119c88/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.390Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","generationRunId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c19afec0-acb4-4b93-a10a-eb0f07119c88/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c19afec0-acb4-4b93-a10a-eb0f07119c88/cover_letter_cover_professional.pdf","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.393Z","level":"info","message":"llm_call_metrics","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.394Z","level":"info","message":"generation_completed","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","generationRunId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","enhancedScore":80,"outputs":5,"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.398Z","level":"info","message":"placeholder_record_deleted","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","jobId":"37749a28-5c93-4876-93f3-894c9f10b01a","placeholderIdentifier":"c19afec0-acb4-4b93-a10a-eb0f07119c88","template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37749a28-5c93-4876-93f3-894c9f10b01a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.400Z","level":"info","message":"http_request_completed","requestId":"c19afec0-acb4-4b93-a10a-eb0f07119c88","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":84,"contentLength":"57871","template":"unknown","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c19afec0-acb4-4b93-a10a-eb0f07119c88","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.404Z","level":"info","message":"http_request_received","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","method":"POST","path":"/api/process-cv","template":"unknown","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.406Z","level":"info","message":"process_cv_started","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","manualJobDescriptionProvided":true,"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.407Z","level":"info","message":"template_selection","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:02.408Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:07:02.416Z","level":"info","message":"initial_upload_completed","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","bucket":"test-bucket","key":"cv/candidate/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/incoming/original.pdf","template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.417Z","level":"info","message":"resume_text_extracted","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","characters":57,"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.417Z","level":"info","message":"resume_classified","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.418Z","level":"info","message":"raw_upload_relocated","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","bucket":"test-bucket","fromKey":"cv/candidate/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/incoming/original.pdf","toKey":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/original.pdf","template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.419Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","bucket":"test-bucket","key":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/original.pdf","template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.419Z","level":"info","message":"dynamo_initial_record_written","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","bucket":"test-bucket","key":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/original.pdf","template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.420Z","level":"info","message":"upload_metadata_written","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","bucket":"test-bucket","key":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/logs/log.json","template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.421Z","level":"info","message":"job_description_supplied_manually","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","characters":174,"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.421Z","level":"info","message":"job_description_analyzed","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","jobTitle":"","jobSkills":5,"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.422Z","level":"info","message":"resume_skills_analyzed","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.423Z","level":"info","message":"llm_call_metrics","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.425Z","level":"info","message":"process_cv_scoring_completed","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.430Z","level":"info","message":"llm_call_metrics","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.431Z","level":"info","message":"generation_section_rewrite_completed","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.431Z","level":"info","message":"llm_call_metrics","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.435Z","level":"info","message":"generation_resume_verified","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:02.440Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:02.448Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:02.456Z","level":"info","message":"generation_cover_letters_completed","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","variants":2,"fallbackApplied":true,"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.457Z","level":"info","message":"pdf_generation_attempt","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/enhanced_modern.pdf","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.458Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:02.461Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10806:7)
      at generatePdfWithFallback (server.js:21094:15)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:02.469Z","level":"info","message":"pdf_generation_attempt","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/enhanced_professional.pdf","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.470Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:02.471Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10806:7)
      at generatePdfWithFallback (server.js:21094:15)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:02.485Z","level":"info","message":"pdf_generation_attempt","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"classic","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/enhanced_classic.pdf","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.486Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:02.487Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10806:7)
      at generatePdfWithFallback (server.js:21094:15)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:02.496Z","level":"info","message":"pdf_generation_attempt","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"ats","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/enhanced_ats.pdf","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.497Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:02.499Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10806:7)
      at generatePdfWithFallback (server.js:21094:15)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:02.506Z","level":"info","message":"pdf_generation_attempt","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"2025","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/enhanced_2025.pdf","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.507Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:02.508Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10806:7)
      at generatePdfWithFallback (server.js:21094:15)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:02.516Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/enhanced_2025.pdf","forcedFallback":true,"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10950:7)
      at generatePdfWithFallback (server.js:21094:15)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:02.526Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/enhanced_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"2025","requestedTemplateId":"2025","engine":"pdf-lib","bytes":9,"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.527Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/enhanced_2025.pdf","bytes":9,"forcedFallback":true,"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.529Z","level":"info","message":"pdf_generation_attempt","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/enhanced_professional.pdf","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.530Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:02.531Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10806:7)
      at generatePdfWithFallback (server.js:21094:15)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:02.538Z","level":"info","message":"pdf_generation_attempt","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"modern","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/enhanced_modern.pdf","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.539Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:02.540Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10806:7)
      at generatePdfWithFallback (server.js:21094:15)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:02.549Z","level":"info","message":"pdf_generation_attempt","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"2025","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/enhanced_2025.pdf","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.550Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:02.551Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10806:7)
      at generatePdfWithFallback (server.js:21094:15)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:02.560Z","level":"info","message":"pdf_generation_attempt","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"classic","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/enhanced_classic.pdf","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.561Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:02.563Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10806:7)
      at generatePdfWithFallback (server.js:21094:15)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:02.570Z","level":"info","message":"pdf_generation_attempt","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"ats","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/enhanced_ats.pdf","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.571Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:02.572Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10806:7)
      at generatePdfWithFallback (server.js:21094:15)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:02.578Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/enhanced_ats.pdf","forcedFallback":true,"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10950:7)
      at generatePdfWithFallback (server.js:21094:15)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:02.586Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/enhanced_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"ats","requestedTemplateId":"ats","engine":"pdf-lib","bytes":9,"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.587Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/enhanced_ats.pdf","bytes":9,"forcedFallback":true,"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.588Z","level":"info","message":"pdf_generation_attempt","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/cover_letter_cover_modern.pdf","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.590Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:02.591Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10806:7)
      at generatePdfWithFallback (server.js:21094:15)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:02.599Z","level":"info","message":"pdf_generation_attempt","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/cover_letter_cover_professional.pdf","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.600Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:02.601Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10806:7)
      at generatePdfWithFallback (server.js:21094:15)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:02.608Z","level":"info","message":"pdf_generation_attempt","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/cover_letter_cover_classic.pdf","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.609Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:02.610Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10806:7)
      at generatePdfWithFallback (server.js:21094:15)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:02.618Z","level":"info","message":"pdf_generation_attempt","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/cover_letter_cover_ats.pdf","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.619Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:02.620Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10806:7)
      at generatePdfWithFallback (server.js:21094:15)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:02.630Z","level":"info","message":"pdf_generation_attempt","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/cover_letter_cover_2025.pdf","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.631Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:02.633Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10806:7)
      at generatePdfWithFallback (server.js:21094:15)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:02.641Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/cover_letter_cover_2025.pdf","forcedFallback":true,"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10950:7)
      at generatePdfWithFallback (server.js:21094:15)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:02.649Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/cover_letter_cover_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_2025","requestedTemplateId":"cover_2025","engine":"pdf-lib","bytes":9,"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.650Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/cover_letter_cover_2025.pdf","bytes":9,"forcedFallback":true,"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.651Z","level":"info","message":"pdf_generation_attempt","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/cover_letter_cover_professional.pdf","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.652Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:02.654Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10806:7)
      at generatePdfWithFallback (server.js:21094:15)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:02.660Z","level":"info","message":"pdf_generation_attempt","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/cover_letter_cover_modern.pdf","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.662Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:02.664Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10806:7)
      at generatePdfWithFallback (server.js:21094:15)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:02.671Z","level":"info","message":"pdf_generation_attempt","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/cover_letter_cover_2025.pdf","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.672Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:02.673Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10806:7)
      at generatePdfWithFallback (server.js:21094:15)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:02.680Z","level":"info","message":"pdf_generation_attempt","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/cover_letter_cover_classic.pdf","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.681Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:02.682Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10806:7)
      at generatePdfWithFallback (server.js:21094:15)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:02.689Z","level":"info","message":"pdf_generation_attempt","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/cover_letter_cover_ats.pdf","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.690Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.error
    {"timestamp":"2025-11-29T11:07:02.691Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10806:7)
      at generatePdfWithFallback (server.js:21094:15)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:02.700Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/cover_letter_cover_ats.pdf","forcedFallback":true,"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10950:7)
      at generatePdfWithFallback (server.js:21094:15)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:02.707Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/cover_letter_cover_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_ats","requestedTemplateId":"cover_ats","engine":"pdf-lib","bytes":9,"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.708Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/c000bc18-bfb9-430e-b8cf-11a0a6455c3b/cover_letter_cover_ats.pdf","bytes":9,"forcedFallback":true,"session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.711Z","level":"info","message":"llm_call_metrics","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.713Z","level":"info","message":"generation_completed","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","generationRunId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","enhancedScore":80,"outputs":5,"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.715Z","level":"info","message":"placeholder_record_deleted","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","jobId":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","placeholderIdentifier":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"28db617a-f51c-4e1e-9bc2-e7e94c8b872e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.716Z","level":"info","message":"http_request_completed","requestId":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":312,"contentLength":"60620","template":"unknown","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c000bc18-bfb9-430e-b8cf-11a0a6455c3b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.721Z","level":"info","message":"http_request_received","requestId":"28e44011-5904-4716-8899-298f05ff337c","method":"POST","path":"/api/process-cv","template":"unknown","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.723Z","level":"info","message":"process_cv_started","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","manualJobDescriptionProvided":true,"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.724Z","level":"info","message":"template_selection","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:02.725Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:07:02.732Z","level":"info","message":"initial_upload_completed","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","bucket":"test-bucket","key":"cv/candidate/28e44011-5904-4716-8899-298f05ff337c/incoming/original.pdf","template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.733Z","level":"info","message":"resume_text_extracted","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","characters":57,"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.733Z","level":"info","message":"resume_classified","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.734Z","level":"info","message":"raw_upload_relocated","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","bucket":"test-bucket","fromKey":"cv/candidate/28e44011-5904-4716-8899-298f05ff337c/incoming/original.pdf","toKey":"cv/professional_summary/28e44011-5904-4716-8899-298f05ff337c/original.pdf","template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.734Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","bucket":"test-bucket","key":"cv/professional_summary/28e44011-5904-4716-8899-298f05ff337c/original.pdf","template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.735Z","level":"info","message":"dynamo_initial_record_written","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","bucket":"test-bucket","key":"cv/professional_summary/28e44011-5904-4716-8899-298f05ff337c/original.pdf","template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.736Z","level":"info","message":"upload_metadata_written","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","bucket":"test-bucket","key":"cv/professional_summary/28e44011-5904-4716-8899-298f05ff337c/logs/log.json","template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.736Z","level":"info","message":"job_description_supplied_manually","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","characters":174,"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.737Z","level":"info","message":"job_description_analyzed","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","jobTitle":"","jobSkills":5,"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.738Z","level":"info","message":"resume_skills_analyzed","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.739Z","level":"info","message":"llm_call_metrics","requestId":"28e44011-5904-4716-8899-298f05ff337c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.741Z","level":"info","message":"process_cv_scoring_completed","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.745Z","level":"info","message":"llm_call_metrics","requestId":"28e44011-5904-4716-8899-298f05ff337c","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"083bf06ffdad2254495e6ab02d51602dd213ec7860f8066358ba6750acc9f49a","addedSkillCount":1,"template":"resume_rewrite","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.746Z","level":"info","message":"generation_section_rewrite_completed","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","generationRunId":"28e44011-5904-4716-8899-298f05ff337c","modifiedTitle":"Revised Title","addedSkills":1,"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.750Z","level":"info","message":"generation_resume_verified","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","generationRunId":"28e44011-5904-4716-8899-298f05ff337c","template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:02.756Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","generationRunId":"28e44011-5904-4716-8899-298f05ff337c","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:02.764Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","generationRunId":"28e44011-5904-4716-8899-298f05ff337c","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:02.772Z","level":"info","message":"generation_cover_letters_completed","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","generationRunId":"28e44011-5904-4716-8899-298f05ff337c","variants":2,"fallbackApplied":true,"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.773Z","level":"info","message":"pdf_generation_attempt","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","generationRunId":"28e44011-5904-4716-8899-298f05ff337c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/28e44011-5904-4716-8899-298f05ff337c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/28e44011-5904-4716-8899-298f05ff337c/enhanced_modern.pdf","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.774Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","generationRunId":"28e44011-5904-4716-8899-298f05ff337c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/28e44011-5904-4716-8899-298f05ff337c/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.775Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","generationRunId":"28e44011-5904-4716-8899-298f05ff337c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/28e44011-5904-4716-8899-298f05ff337c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/28e44011-5904-4716-8899-298f05ff337c/enhanced_modern.pdf","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.776Z","level":"info","message":"pdf_generation_attempt","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","generationRunId":"28e44011-5904-4716-8899-298f05ff337c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/28e44011-5904-4716-8899-298f05ff337c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/28e44011-5904-4716-8899-298f05ff337c/enhanced_professional.pdf","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.777Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","generationRunId":"28e44011-5904-4716-8899-298f05ff337c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/28e44011-5904-4716-8899-298f05ff337c/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.778Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","generationRunId":"28e44011-5904-4716-8899-298f05ff337c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/28e44011-5904-4716-8899-298f05ff337c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/28e44011-5904-4716-8899-298f05ff337c/enhanced_professional.pdf","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.779Z","level":"info","message":"pdf_generation_attempt","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","generationRunId":"28e44011-5904-4716-8899-298f05ff337c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/28e44011-5904-4716-8899-298f05ff337c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/28e44011-5904-4716-8899-298f05ff337c/cover_letter_cover_modern.pdf","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.780Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","generationRunId":"28e44011-5904-4716-8899-298f05ff337c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/28e44011-5904-4716-8899-298f05ff337c/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.781Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","generationRunId":"28e44011-5904-4716-8899-298f05ff337c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/28e44011-5904-4716-8899-298f05ff337c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/28e44011-5904-4716-8899-298f05ff337c/cover_letter_cover_modern.pdf","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.782Z","level":"info","message":"pdf_generation_attempt","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","generationRunId":"28e44011-5904-4716-8899-298f05ff337c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/28e44011-5904-4716-8899-298f05ff337c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/28e44011-5904-4716-8899-298f05ff337c/cover_letter_cover_professional.pdf","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.783Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","generationRunId":"28e44011-5904-4716-8899-298f05ff337c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/28e44011-5904-4716-8899-298f05ff337c/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.784Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","generationRunId":"28e44011-5904-4716-8899-298f05ff337c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/28e44011-5904-4716-8899-298f05ff337c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/28e44011-5904-4716-8899-298f05ff337c/cover_letter_cover_professional.pdf","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.789Z","level":"info","message":"llm_call_metrics","requestId":"28e44011-5904-4716-8899-298f05ff337c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"1075df15bec8b8fc718989e1c7ca31af0c39036b671cabbdfc22628f8e2e250f","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.790Z","level":"info","message":"generation_completed","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","generationRunId":"28e44011-5904-4716-8899-298f05ff337c","enhancedScore":80,"outputs":5,"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.791Z","level":"info","message":"placeholder_record_deleted","requestId":"28e44011-5904-4716-8899-298f05ff337c","jobId":"14d7be75-1757-4019-bbc0-098fb6ee66cd","placeholderIdentifier":"28e44011-5904-4716-8899-298f05ff337c","template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14d7be75-1757-4019-bbc0-098fb6ee66cd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.792Z","level":"info","message":"http_request_completed","requestId":"28e44011-5904-4716-8899-298f05ff337c","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":71,"contentLength":"59251","template":"unknown","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"28e44011-5904-4716-8899-298f05ff337c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.797Z","level":"info","message":"http_request_received","requestId":"7f3279f8-5829-4730-a58f-db734a0293bb","method":"POST","path":"/api/process-cv","template":"unknown","session":"7f3279f8-5829-4730-a58f-db734a0293bb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7f3279f8-5829-4730-a58f-db734a0293bb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.800Z","level":"info","message":"process_cv_started","requestId":"7f3279f8-5829-4730-a58f-db734a0293bb","jobId":"51c17c00-cbc0-4667-a8bf-e9328605bcf2","manualJobDescriptionProvided":true,"template":"unknown","session":"51c17c00-cbc0-4667-a8bf-e9328605bcf2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51c17c00-cbc0-4667-a8bf-e9328605bcf2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.800Z","level":"info","message":"template_selection","requestId":"7f3279f8-5829-4730-a58f-db734a0293bb","jobId":"51c17c00-cbc0-4667-a8bf-e9328605bcf2","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"51c17c00-cbc0-4667-a8bf-e9328605bcf2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"51c17c00-cbc0-4667-a8bf-e9328605bcf2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:02.801Z","level":"warn","message":"resume_missing","requestId":"7f3279f8-5829-4730-a58f-db734a0293bb","jobId":"51c17c00-cbc0-4667-a8bf-e9328605bcf2","template":"unknown","session":"51c17c00-cbc0-4667-a8bf-e9328605bcf2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51c17c00-cbc0-4667-a8bf-e9328605bcf2","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24878:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-11-29T11:07:02.809Z","level":"warn","message":"api_error_response","requestId":"7f3279f8-5829-4730-a58f-db734a0293bb","jobId":"51c17c00-cbc0-4667-a8bf-e9328605bcf2","status":400,"error":{"code":"RESUME_FILE_REQUIRED","message":"resume file required","details":{"field":"resume"},"requestId":"7f3279f8-5829-4730-a58f-db734a0293bb","jobId":"51c17c00-cbc0-4667-a8bf-e9328605bcf2"},"template":"unknown","session":"51c17c00-cbc0-4667-a8bf-e9328605bcf2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51c17c00-cbc0-4667-a8bf-e9328605bcf2","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:3812:3)
      at sendError (server.js:24879:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:07:02.820Z","level":"info","message":"http_request_completed","requestId":"7f3279f8-5829-4730-a58f-db734a0293bb","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":23,"contentLength":"217","template":"unknown","session":"7f3279f8-5829-4730-a58f-db734a0293bb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7f3279f8-5829-4730-a58f-db734a0293bb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.822Z","level":"info","message":"http_request_received","requestId":"5d7479cb-5711-4e57-b041-125c44265b70","method":"POST","path":"/api/process-cv","template":"unknown","session":"5d7479cb-5711-4e57-b041-125c44265b70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d7479cb-5711-4e57-b041-125c44265b70","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:02.827Z","level":"warn","message":"resume_upload_failed","requestId":"5d7479cb-5711-4e57-b041-125c44265b70","jobId":"f19eaf4b-c30a-438b-8468-2947e8de7214","storageError":false,"error":{"name":"Error","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","stack":"Error: Unsupported resume format. Please upload a PDF, DOC, or DOCX file.\n    at fileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4783:9)\n    at wrappedFileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/index.js:44:7)\n    at Multipart.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:109:7)\n    at Multipart.emit (node:events:513:28)\n    at HeaderParser.cb (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:358:14)\n    at HeaderParser.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:394:37)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at IncomingMessage.Readable.read (node:internal/streams/readable:527:10)\n    at flow (node:internal/streams/readable:1011:34)\n    at resume_ (node:internal/streams/readable:992:3)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)"},"template":"unknown","session":"f19eaf4b-c30a-438b-8468-2947e8de7214","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f19eaf4b-c30a-438b-8468-2947e8de7214","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24572:7)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at cb (server.js:4782:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.warn
    {"timestamp":"2025-11-29T11:07:02.835Z","level":"warn","message":"api_error_response","requestId":"5d7479cb-5711-4e57-b041-125c44265b70","jobId":"f19eaf4b-c30a-438b-8468-2947e8de7214","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","details":{"field":"resume"},"requestId":"5d7479cb-5711-4e57-b041-125c44265b70","jobId":"f19eaf4b-c30a-438b-8468-2947e8de7214"},"template":"unknown","session":"f19eaf4b-c30a-438b-8468-2947e8de7214","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f19eaf4b-c30a-438b-8468-2947e8de7214","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:3812:3)
      at sendError (server.js:24580:9)
      at respond (server.js:24584:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at cb (server.js:4782:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.log
    {"timestamp":"2025-11-29T11:07:02.845Z","level":"info","message":"http_request_completed","requestId":"5d7479cb-5711-4e57-b041-125c44265b70","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":23,"contentLength":"267","template":"unknown","session":"5d7479cb-5711-4e57-b041-125c44265b70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d7479cb-5711-4e57-b041-125c44265b70","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.849Z","level":"info","message":"http_request_received","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","method":"POST","path":"/api/process-cv","template":"unknown","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.851Z","level":"info","message":"process_cv_started","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","manualJobDescriptionProvided":true,"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.852Z","level":"info","message":"template_selection","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:02.853Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:07:02.860Z","level":"info","message":"initial_upload_completed","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","bucket":"test-bucket","key":"cv/candidate/61e991b7-71de-4ae5-87dd-f8180a088fc1/incoming/original.pdf","template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.860Z","level":"info","message":"resume_text_extracted","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","characters":57,"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.861Z","level":"info","message":"resume_classified","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.862Z","level":"info","message":"raw_upload_relocated","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","bucket":"test-bucket","fromKey":"cv/candidate/61e991b7-71de-4ae5-87dd-f8180a088fc1/incoming/original.pdf","toKey":"cv/professional_summary/61e991b7-71de-4ae5-87dd-f8180a088fc1/original.pdf","template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.863Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","bucket":"test-bucket","key":"cv/professional_summary/61e991b7-71de-4ae5-87dd-f8180a088fc1/original.pdf","template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.864Z","level":"info","message":"dynamo_initial_record_written","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","bucket":"test-bucket","key":"cv/professional_summary/61e991b7-71de-4ae5-87dd-f8180a088fc1/original.pdf","template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.865Z","level":"info","message":"upload_metadata_written","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","bucket":"test-bucket","key":"cv/professional_summary/61e991b7-71de-4ae5-87dd-f8180a088fc1/logs/log.json","template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.865Z","level":"info","message":"job_description_supplied_manually","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","characters":174,"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.866Z","level":"info","message":"job_description_analyzed","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","jobTitle":"","jobSkills":5,"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.868Z","level":"info","message":"resume_skills_analyzed","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.869Z","level":"info","message":"llm_call_metrics","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.870Z","level":"info","message":"process_cv_scoring_completed","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.877Z","level":"info","message":"llm_call_metrics","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.878Z","level":"info","message":"generation_section_rewrite_completed","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","generationRunId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.879Z","level":"info","message":"llm_call_metrics","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.884Z","level":"info","message":"generation_resume_verified","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","generationRunId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:02.889Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","generationRunId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:02.897Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","generationRunId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:02.904Z","level":"info","message":"generation_cover_letters_completed","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","generationRunId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","variants":2,"fallbackApplied":true,"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.905Z","level":"info","message":"pdf_generation_attempt","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","generationRunId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/61e991b7-71de-4ae5-87dd-f8180a088fc1/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/61e991b7-71de-4ae5-87dd-f8180a088fc1/enhanced_modern.pdf","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.906Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","generationRunId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/61e991b7-71de-4ae5-87dd-f8180a088fc1/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.907Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","generationRunId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/61e991b7-71de-4ae5-87dd-f8180a088fc1/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/61e991b7-71de-4ae5-87dd-f8180a088fc1/enhanced_modern.pdf","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.908Z","level":"info","message":"pdf_generation_attempt","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","generationRunId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/61e991b7-71de-4ae5-87dd-f8180a088fc1/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/61e991b7-71de-4ae5-87dd-f8180a088fc1/enhanced_professional.pdf","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.909Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","generationRunId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/61e991b7-71de-4ae5-87dd-f8180a088fc1/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.910Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","generationRunId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/61e991b7-71de-4ae5-87dd-f8180a088fc1/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/61e991b7-71de-4ae5-87dd-f8180a088fc1/enhanced_professional.pdf","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.911Z","level":"info","message":"pdf_generation_attempt","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","generationRunId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/61e991b7-71de-4ae5-87dd-f8180a088fc1/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/61e991b7-71de-4ae5-87dd-f8180a088fc1/cover_letter_cover_modern.pdf","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.912Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","generationRunId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/61e991b7-71de-4ae5-87dd-f8180a088fc1/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.913Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","generationRunId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/61e991b7-71de-4ae5-87dd-f8180a088fc1/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/61e991b7-71de-4ae5-87dd-f8180a088fc1/cover_letter_cover_modern.pdf","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.914Z","level":"info","message":"pdf_generation_attempt","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","generationRunId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/61e991b7-71de-4ae5-87dd-f8180a088fc1/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/61e991b7-71de-4ae5-87dd-f8180a088fc1/cover_letter_cover_professional.pdf","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.915Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","generationRunId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/61e991b7-71de-4ae5-87dd-f8180a088fc1/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.916Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","generationRunId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/61e991b7-71de-4ae5-87dd-f8180a088fc1/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/61e991b7-71de-4ae5-87dd-f8180a088fc1/cover_letter_cover_professional.pdf","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.920Z","level":"info","message":"llm_call_metrics","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.921Z","level":"info","message":"generation_completed","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","generationRunId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","enhancedScore":80,"outputs":5,"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.923Z","level":"info","message":"placeholder_record_deleted","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","jobId":"0797addf-278a-48da-b566-e0ddad0783ad","placeholderIdentifier":"61e991b7-71de-4ae5-87dd-f8180a088fc1","template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0797addf-278a-48da-b566-e0ddad0783ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.926Z","level":"info","message":"http_request_completed","requestId":"61e991b7-71de-4ae5-87dd-f8180a088fc1","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":77,"contentLength":"58133","template":"unknown","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61e991b7-71de-4ae5-87dd-f8180a088fc1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.932Z","level":"info","message":"http_request_received","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","method":"POST","path":"/api/process-cv","template":"unknown","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.942Z","level":"info","message":"process_cv_started","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","manualJobDescriptionProvided":true,"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.943Z","level":"info","message":"template_selection","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:02.945Z","level":"info","message":"initial_upload_completed","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","bucket":"test-bucket","key":"cv/candidate/866ca4ad-beb0-4662-a783-85e9107cf0f7/incoming/original.pdf","template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:02.945Z","level":"info","message":"resume_text_extracted","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","characters":9,"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:02.946Z","level":"info","message":"document_classification_ai_metrics","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:02.965Z","level":"info","message":"resume_classified","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:02.966Z","level":"info","message":"raw_upload_relocated","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","bucket":"test-bucket","fromKey":"cv/candidate/866ca4ad-beb0-4662-a783-85e9107cf0f7/incoming/original.pdf","toKey":"cv/docx_text/866ca4ad-beb0-4662-a783-85e9107cf0f7/original.docx","template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:02.967Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","bucket":"test-bucket","key":"cv/docx_text/866ca4ad-beb0-4662-a783-85e9107cf0f7/original.docx","template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:02.967Z","level":"info","message":"dynamo_initial_record_written","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","bucket":"test-bucket","key":"cv/docx_text/866ca4ad-beb0-4662-a783-85e9107cf0f7/original.docx","template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:02.968Z","level":"info","message":"upload_metadata_written","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","bucket":"test-bucket","key":"cv/docx_text/866ca4ad-beb0-4662-a783-85e9107cf0f7/logs/log.json","template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:02.969Z","level":"info","message":"job_description_supplied_manually","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","characters":174,"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:02.970Z","level":"info","message":"job_description_analyzed","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","jobTitle":"","jobSkills":5,"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:02.971Z","level":"info","message":"resume_skills_analyzed","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:02.972Z","level":"info","message":"llm_call_metrics","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:02.973Z","level":"info","message":"process_cv_scoring_completed","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:02.978Z","level":"info","message":"llm_call_metrics","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:02.979Z","level":"info","message":"generation_section_rewrite_completed","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","generationRunId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:02.980Z","level":"info","message":"llm_call_metrics","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:02.984Z","level":"info","message":"generation_resume_verified","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","generationRunId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:07:02.989Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","generationRunId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
          at runMicrotasks (<anonymous>)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:02.996Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","generationRunId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
          at runMicrotasks (<anonymous>)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:03.004Z","level":"info","message":"generation_cover_letters_completed","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","generationRunId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","variants":2,"fallbackApplied":true,"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.006Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","generationRunId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/866ca4ad-beb0-4662-a783-85e9107cf0f7/","originalUploadKey":"cv/docx_text/866ca4ad-beb0-4662-a783-85e9107cf0f7/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.007Z","level":"info","message":"original_upload_pdf_generated","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","generationRunId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","storageKey":"cv/docx_text/866ca4ad-beb0-4662-a783-85e9107cf0f7/original/original_upload.pdf","originalUploadKey":"cv/docx_text/866ca4ad-beb0-4662-a783-85e9107cf0f7/original.docx","originalUploadExtension":".docx","template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.008Z","level":"info","message":"pdf_generation_attempt","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","generationRunId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/866ca4ad-beb0-4662-a783-85e9107cf0f7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/866ca4ad-beb0-4662-a783-85e9107cf0f7/enhanced_modern.pdf","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.009Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","generationRunId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/866ca4ad-beb0-4662-a783-85e9107cf0f7/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.010Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","generationRunId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/866ca4ad-beb0-4662-a783-85e9107cf0f7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/866ca4ad-beb0-4662-a783-85e9107cf0f7/enhanced_modern.pdf","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.011Z","level":"info","message":"pdf_generation_attempt","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","generationRunId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/866ca4ad-beb0-4662-a783-85e9107cf0f7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/866ca4ad-beb0-4662-a783-85e9107cf0f7/enhanced_professional.pdf","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.012Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","generationRunId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/866ca4ad-beb0-4662-a783-85e9107cf0f7/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.013Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","generationRunId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/866ca4ad-beb0-4662-a783-85e9107cf0f7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/866ca4ad-beb0-4662-a783-85e9107cf0f7/enhanced_professional.pdf","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.013Z","level":"info","message":"pdf_generation_attempt","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","generationRunId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/866ca4ad-beb0-4662-a783-85e9107cf0f7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/866ca4ad-beb0-4662-a783-85e9107cf0f7/cover_letter_cover_modern.pdf","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.014Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","generationRunId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/866ca4ad-beb0-4662-a783-85e9107cf0f7/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.015Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","generationRunId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/866ca4ad-beb0-4662-a783-85e9107cf0f7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/866ca4ad-beb0-4662-a783-85e9107cf0f7/cover_letter_cover_modern.pdf","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.016Z","level":"info","message":"pdf_generation_attempt","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","generationRunId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/866ca4ad-beb0-4662-a783-85e9107cf0f7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/866ca4ad-beb0-4662-a783-85e9107cf0f7/cover_letter_cover_professional.pdf","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.017Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","generationRunId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/866ca4ad-beb0-4662-a783-85e9107cf0f7/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.018Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","generationRunId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/866ca4ad-beb0-4662-a783-85e9107cf0f7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/866ca4ad-beb0-4662-a783-85e9107cf0f7/cover_letter_cover_professional.pdf","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.021Z","level":"info","message":"llm_call_metrics","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.023Z","level":"info","message":"generation_completed","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","generationRunId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","enhancedScore":80,"outputs":6,"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.025Z","level":"info","message":"placeholder_record_deleted","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","jobId":"724263f4-86e3-40a1-a280-883a7a10e5b7","placeholderIdentifier":"866ca4ad-beb0-4662-a783-85e9107cf0f7","template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724263f4-86e3-40a1-a280-883a7a10e5b7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.029Z","level":"info","message":"http_request_completed","requestId":"866ca4ad-beb0-4662-a783-85e9107cf0f7","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":97,"contentLength":"58696","template":"unknown","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"866ca4ad-beb0-4662-a783-85e9107cf0f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:03.032Z","level":"info","message":"http_request_received","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","method":"POST","path":"/api/process-cv","template":"unknown","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:03.039Z","level":"info","message":"process_cv_started","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","manualJobDescriptionProvided":true,"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:03.040Z","level":"info","message":"template_selection","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:03.042Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:07:03.051Z","level":"info","message":"initial_upload_completed","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","bucket":"test-bucket","key":"cv/candidate/e063a7dc-d864-4228-ace6-27776113c1e3/incoming/original.pdf","template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.051Z","level":"info","message":"resume_text_extracted","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","characters":57,"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.052Z","level":"info","message":"resume_classified","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.053Z","level":"info","message":"raw_upload_relocated","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","bucket":"test-bucket","fromKey":"cv/candidate/e063a7dc-d864-4228-ace6-27776113c1e3/incoming/original.pdf","toKey":"cv/professional_summary/e063a7dc-d864-4228-ace6-27776113c1e3/original.pdf","template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.054Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","bucket":"test-bucket","key":"cv/professional_summary/e063a7dc-d864-4228-ace6-27776113c1e3/original.pdf","template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.054Z","level":"info","message":"dynamo_initial_record_written","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","bucket":"test-bucket","key":"cv/professional_summary/e063a7dc-d864-4228-ace6-27776113c1e3/original.pdf","template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.055Z","level":"info","message":"upload_metadata_written","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","bucket":"test-bucket","key":"cv/professional_summary/e063a7dc-d864-4228-ace6-27776113c1e3/logs/log.json","template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.056Z","level":"info","message":"job_description_supplied_manually","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","characters":174,"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.057Z","level":"info","message":"job_description_analyzed","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","jobTitle":"","jobSkills":5,"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.059Z","level":"info","message":"resume_skills_analyzed","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.060Z","level":"info","message":"llm_call_metrics","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.061Z","level":"info","message":"process_cv_scoring_completed","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.067Z","level":"info","message":"llm_call_metrics","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.068Z","level":"info","message":"generation_section_rewrite_completed","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","generationRunId":"e063a7dc-d864-4228-ace6-27776113c1e3","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.069Z","level":"info","message":"llm_call_metrics","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.072Z","level":"info","message":"generation_resume_verified","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","generationRunId":"e063a7dc-d864-4228-ace6-27776113c1e3","template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:07:03.077Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","generationRunId":"e063a7dc-d864-4228-ace6-27776113c1e3","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
          at runMicrotasks (<anonymous>)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:03.086Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","generationRunId":"e063a7dc-d864-4228-ace6-27776113c1e3","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
          at runMicrotasks (<anonymous>)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:03.094Z","level":"info","message":"generation_cover_letters_completed","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","generationRunId":"e063a7dc-d864-4228-ace6-27776113c1e3","variants":2,"fallbackApplied":true,"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.098Z","level":"info","message":"pdf_generation_attempt","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","generationRunId":"e063a7dc-d864-4228-ace6-27776113c1e3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e063a7dc-d864-4228-ace6-27776113c1e3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e063a7dc-d864-4228-ace6-27776113c1e3/enhanced_modern.pdf","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.099Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","generationRunId":"e063a7dc-d864-4228-ace6-27776113c1e3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e063a7dc-d864-4228-ace6-27776113c1e3/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.100Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","generationRunId":"e063a7dc-d864-4228-ace6-27776113c1e3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e063a7dc-d864-4228-ace6-27776113c1e3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e063a7dc-d864-4228-ace6-27776113c1e3/enhanced_modern.pdf","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.102Z","level":"info","message":"pdf_generation_attempt","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","generationRunId":"e063a7dc-d864-4228-ace6-27776113c1e3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e063a7dc-d864-4228-ace6-27776113c1e3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e063a7dc-d864-4228-ace6-27776113c1e3/enhanced_professional.pdf","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.103Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","generationRunId":"e063a7dc-d864-4228-ace6-27776113c1e3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e063a7dc-d864-4228-ace6-27776113c1e3/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.105Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","generationRunId":"e063a7dc-d864-4228-ace6-27776113c1e3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e063a7dc-d864-4228-ace6-27776113c1e3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e063a7dc-d864-4228-ace6-27776113c1e3/enhanced_professional.pdf","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.106Z","level":"info","message":"pdf_generation_attempt","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","generationRunId":"e063a7dc-d864-4228-ace6-27776113c1e3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e063a7dc-d864-4228-ace6-27776113c1e3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e063a7dc-d864-4228-ace6-27776113c1e3/cover_letter_cover_modern.pdf","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.108Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","generationRunId":"e063a7dc-d864-4228-ace6-27776113c1e3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e063a7dc-d864-4228-ace6-27776113c1e3/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.109Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","generationRunId":"e063a7dc-d864-4228-ace6-27776113c1e3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e063a7dc-d864-4228-ace6-27776113c1e3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e063a7dc-d864-4228-ace6-27776113c1e3/cover_letter_cover_modern.pdf","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.110Z","level":"info","message":"pdf_generation_attempt","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","generationRunId":"e063a7dc-d864-4228-ace6-27776113c1e3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e063a7dc-d864-4228-ace6-27776113c1e3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e063a7dc-d864-4228-ace6-27776113c1e3/cover_letter_cover_professional.pdf","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.111Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","generationRunId":"e063a7dc-d864-4228-ace6-27776113c1e3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e063a7dc-d864-4228-ace6-27776113c1e3/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.112Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","generationRunId":"e063a7dc-d864-4228-ace6-27776113c1e3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e063a7dc-d864-4228-ace6-27776113c1e3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e063a7dc-d864-4228-ace6-27776113c1e3/cover_letter_cover_professional.pdf","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.115Z","level":"info","message":"llm_call_metrics","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.116Z","level":"info","message":"generation_completed","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","generationRunId":"e063a7dc-d864-4228-ace6-27776113c1e3","enhancedScore":80,"outputs":5,"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.118Z","level":"info","message":"placeholder_record_deleted","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","jobId":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","placeholderIdentifier":"e063a7dc-d864-4228-ace6-27776113c1e3","template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a06b53b4-0e6e-45f5-9d5c-8bab845849f2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.119Z","level":"info","message":"http_request_completed","requestId":"e063a7dc-d864-4228-ace6-27776113c1e3","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":87,"contentLength":"58133","template":"unknown","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e063a7dc-d864-4228-ace6-27776113c1e3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:03.123Z","level":"info","message":"http_request_received","requestId":"87398649-f43e-4216-9917-5bb1391064ec","method":"POST","path":"/api/process-cv","template":"unknown","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:03.230Z","level":"info","message":"process_cv_started","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","manualJobDescriptionProvided":true,"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:03.244Z","level":"info","message":"template_selection","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:03.247Z","level":"info","message":"initial_upload_completed","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","bucket":"test-bucket","key":"cv/candidate/87398649-f43e-4216-9917-5bb1391064ec/incoming/original.pdf","template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.248Z","level":"info","message":"resume_text_extracted","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","characters":9,"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.249Z","level":"info","message":"document_classification_ai_metrics","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.250Z","level":"info","message":"resume_classified","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.254Z","level":"info","message":"raw_upload_relocated","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","bucket":"test-bucket","fromKey":"cv/candidate/87398649-f43e-4216-9917-5bb1391064ec/incoming/original.pdf","toKey":"cv/docx_text/87398649-f43e-4216-9917-5bb1391064ec/original.docx","template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.256Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","bucket":"test-bucket","key":"cv/docx_text/87398649-f43e-4216-9917-5bb1391064ec/original.docx","template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.257Z","level":"info","message":"dynamo_initial_record_written","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","bucket":"test-bucket","key":"cv/docx_text/87398649-f43e-4216-9917-5bb1391064ec/original.docx","template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.259Z","level":"info","message":"upload_metadata_written","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","bucket":"test-bucket","key":"cv/docx_text/87398649-f43e-4216-9917-5bb1391064ec/logs/log.json","template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.260Z","level":"info","message":"job_description_supplied_manually","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","characters":174,"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.262Z","level":"info","message":"job_description_analyzed","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","jobTitle":"","jobSkills":5,"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.266Z","level":"info","message":"resume_skills_analyzed","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.268Z","level":"info","message":"llm_call_metrics","requestId":"87398649-f43e-4216-9917-5bb1391064ec","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.270Z","level":"info","message":"process_cv_scoring_completed","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.292Z","level":"info","message":"llm_call_metrics","requestId":"87398649-f43e-4216-9917-5bb1391064ec","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.293Z","level":"info","message":"generation_section_rewrite_completed","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","generationRunId":"87398649-f43e-4216-9917-5bb1391064ec","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.295Z","level":"info","message":"llm_call_metrics","requestId":"87398649-f43e-4216-9917-5bb1391064ec","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.304Z","level":"info","message":"generation_resume_verified","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","generationRunId":"87398649-f43e-4216-9917-5bb1391064ec","template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:07:03.321Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","generationRunId":"87398649-f43e-4216-9917-5bb1391064ec","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
          at runMicrotasks (<anonymous>)
      at server.js:26523:26

  console.warn
    {"timestamp":"2025-11-29T11:07:03.333Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","generationRunId":"87398649-f43e-4216-9917-5bb1391064ec","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
          at runMicrotasks (<anonymous>)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:03.344Z","level":"info","message":"generation_cover_letters_completed","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","generationRunId":"87398649-f43e-4216-9917-5bb1391064ec","variants":2,"fallbackApplied":true,"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.348Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","generationRunId":"87398649-f43e-4216-9917-5bb1391064ec","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/87398649-f43e-4216-9917-5bb1391064ec/","originalUploadKey":"cv/docx_text/87398649-f43e-4216-9917-5bb1391064ec/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.350Z","level":"info","message":"original_upload_pdf_generated","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","generationRunId":"87398649-f43e-4216-9917-5bb1391064ec","storageKey":"cv/docx_text/87398649-f43e-4216-9917-5bb1391064ec/original/original_upload.pdf","originalUploadKey":"cv/docx_text/87398649-f43e-4216-9917-5bb1391064ec/original.docx","originalUploadExtension":".docx","template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.351Z","level":"info","message":"pdf_generation_attempt","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","generationRunId":"87398649-f43e-4216-9917-5bb1391064ec","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/87398649-f43e-4216-9917-5bb1391064ec/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/87398649-f43e-4216-9917-5bb1391064ec/enhanced_modern.pdf","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.353Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","generationRunId":"87398649-f43e-4216-9917-5bb1391064ec","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/87398649-f43e-4216-9917-5bb1391064ec/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.355Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","generationRunId":"87398649-f43e-4216-9917-5bb1391064ec","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/87398649-f43e-4216-9917-5bb1391064ec/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/87398649-f43e-4216-9917-5bb1391064ec/enhanced_modern.pdf","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.356Z","level":"info","message":"pdf_generation_attempt","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","generationRunId":"87398649-f43e-4216-9917-5bb1391064ec","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/87398649-f43e-4216-9917-5bb1391064ec/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/87398649-f43e-4216-9917-5bb1391064ec/enhanced_professional.pdf","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.358Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","generationRunId":"87398649-f43e-4216-9917-5bb1391064ec","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/87398649-f43e-4216-9917-5bb1391064ec/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.360Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","generationRunId":"87398649-f43e-4216-9917-5bb1391064ec","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/87398649-f43e-4216-9917-5bb1391064ec/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/87398649-f43e-4216-9917-5bb1391064ec/enhanced_professional.pdf","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.362Z","level":"info","message":"pdf_generation_attempt","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","generationRunId":"87398649-f43e-4216-9917-5bb1391064ec","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/87398649-f43e-4216-9917-5bb1391064ec/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/87398649-f43e-4216-9917-5bb1391064ec/cover_letter_cover_modern.pdf","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.364Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","generationRunId":"87398649-f43e-4216-9917-5bb1391064ec","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/87398649-f43e-4216-9917-5bb1391064ec/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.366Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","generationRunId":"87398649-f43e-4216-9917-5bb1391064ec","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/87398649-f43e-4216-9917-5bb1391064ec/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/87398649-f43e-4216-9917-5bb1391064ec/cover_letter_cover_modern.pdf","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.368Z","level":"info","message":"pdf_generation_attempt","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","generationRunId":"87398649-f43e-4216-9917-5bb1391064ec","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/87398649-f43e-4216-9917-5bb1391064ec/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/87398649-f43e-4216-9917-5bb1391064ec/cover_letter_cover_professional.pdf","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.369Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","generationRunId":"87398649-f43e-4216-9917-5bb1391064ec","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/87398649-f43e-4216-9917-5bb1391064ec/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.371Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","generationRunId":"87398649-f43e-4216-9917-5bb1391064ec","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/87398649-f43e-4216-9917-5bb1391064ec/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/87398649-f43e-4216-9917-5bb1391064ec/cover_letter_cover_professional.pdf","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.382Z","level":"info","message":"llm_call_metrics","requestId":"87398649-f43e-4216-9917-5bb1391064ec","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.386Z","level":"info","message":"generation_completed","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","generationRunId":"87398649-f43e-4216-9917-5bb1391064ec","enhancedScore":80,"outputs":6,"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.389Z","level":"info","message":"placeholder_record_deleted","requestId":"87398649-f43e-4216-9917-5bb1391064ec","jobId":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","placeholderIdentifier":"87398649-f43e-4216-9917-5bb1391064ec","template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac3f4eb4-1da2-4ebf-8db1-3ce3a808884c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.392Z","level":"info","message":"http_request_completed","requestId":"87398649-f43e-4216-9917-5bb1391064ec","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":269,"contentLength":"58696","template":"unknown","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87398649-f43e-4216-9917-5bb1391064ec","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:03.400Z","level":"info","message":"http_request_received","requestId":"66e1e151-2e8e-4987-bb54-35e26b3ac473","method":"POST","path":"/api/process-cv","template":"unknown","session":"66e1e151-2e8e-4987-bb54-35e26b3ac473","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66e1e151-2e8e-4987-bb54-35e26b3ac473","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:03.418Z","level":"warn","message":"resume_upload_failed","requestId":"66e1e151-2e8e-4987-bb54-35e26b3ac473","jobId":"d542e6eb-5dbf-4fdd-a927-be9d2257df98","storageError":false,"error":{"name":"MulterError","message":"File too large","code":"LIMIT_FILE_SIZE","stack":"MulterError: File too large\n    at abortWithCode (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:73:22)\n    at FileStream.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:136:11)\n    at FileStream.emit (node:events:513:28)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:479:32)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at addChunk (node:internal/streams/readable:315:12)\n    at readableAddChunk (node:internal/streams/readable:289:9)\n    at IncomingMessage.Readable.push (node:internal/streams/readable:228:10)\n    at HTTPParser.parserOnBody (node:_http_common:140:24)"},"template":"unknown","session":"d542e6eb-5dbf-4fdd-a927-be9d2257df98","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d542e6eb-5dbf-4fdd-a927-be9d2257df98","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24572:7)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:152:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:136:11)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:07:03.432Z","level":"warn","message":"api_error_response","requestId":"66e1e151-2e8e-4987-bb54-35e26b3ac473","jobId":"d542e6eb-5dbf-4fdd-a927-be9d2257df98","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"File too large","details":{"field":"resume"},"requestId":"66e1e151-2e8e-4987-bb54-35e26b3ac473","jobId":"d542e6eb-5dbf-4fdd-a927-be9d2257df98"},"template":"unknown","session":"d542e6eb-5dbf-4fdd-a927-be9d2257df98","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d542e6eb-5dbf-4fdd-a927-be9d2257df98","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:3812:3)
      at sendError (server.js:24580:9)
      at respond (server.js:24584:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:152:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:136:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.442Z","level":"info","message":"http_request_completed","requestId":"66e1e151-2e8e-4987-bb54-35e26b3ac473","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":42,"contentLength":"215","template":"unknown","session":"66e1e151-2e8e-4987-bb54-35e26b3ac473","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66e1e151-2e8e-4987-bb54-35e26b3ac473","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:03.448Z","level":"info","message":"http_request_received","requestId":"7f7c66d4-0eee-4a0d-bf7e-bc61183ed5c2","method":"POST","path":"/api/process-cv","template":"unknown","session":"7f7c66d4-0eee-4a0d-bf7e-bc61183ed5c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7f7c66d4-0eee-4a0d-bf7e-bc61183ed5c2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:03.451Z","level":"info","message":"process_cv_started","requestId":"7f7c66d4-0eee-4a0d-bf7e-bc61183ed5c2","jobId":"83ae60c4-032a-4317-a7cb-1910891bb0f9","manualJobDescriptionProvided":true,"template":"unknown","session":"83ae60c4-032a-4317-a7cb-1910891bb0f9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83ae60c4-032a-4317-a7cb-1910891bb0f9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:03.452Z","level":"info","message":"template_selection","requestId":"7f7c66d4-0eee-4a0d-bf7e-bc61183ed5c2","jobId":"83ae60c4-032a-4317-a7cb-1910891bb0f9","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"83ae60c4-032a-4317-a7cb-1910891bb0f9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"83ae60c4-032a-4317-a7cb-1910891bb0f9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:03.452Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"7f7c66d4-0eee-4a0d-bf7e-bc61183ed5c2","jobId":"83ae60c4-032a-4317-a7cb-1910891bb0f9","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"83ae60c4-032a-4317-a7cb-1910891bb0f9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83ae60c4-032a-4317-a7cb-1910891bb0f9","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:07:03.460Z","level":"info","message":"initial_upload_completed","requestId":"7f7c66d4-0eee-4a0d-bf7e-bc61183ed5c2","jobId":"83ae60c4-032a-4317-a7cb-1910891bb0f9","bucket":"test-bucket","key":"cv/candidate/7f7c66d4-0eee-4a0d-bf7e-bc61183ed5c2/incoming/original.pdf","template":"unknown","session":"83ae60c4-032a-4317-a7cb-1910891bb0f9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83ae60c4-032a-4317-a7cb-1910891bb0f9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.460Z","level":"info","message":"resume_text_extracted","requestId":"7f7c66d4-0eee-4a0d-bf7e-bc61183ed5c2","jobId":"83ae60c4-032a-4317-a7cb-1910891bb0f9","characters":70,"template":"unknown","session":"83ae60c4-032a-4317-a7cb-1910891bb0f9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83ae60c4-032a-4317-a7cb-1910891bb0f9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.462Z","level":"info","message":"document_classification_ai_metrics","requestId":"7f7c66d4-0eee-4a0d-bf7e-bc61183ed5c2","jobId":"83ae60c4-032a-4317-a7cb-1910891bb0f9","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"6e7cfda39efd36ecdd0998d74c5dc8668e761fe838cd589d1b8e87517f67efbf","latencyMs":1,"outcome":"no_parse","template":"document_classification","session":"83ae60c4-032a-4317-a7cb-1910891bb0f9","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"83ae60c4-032a-4317-a7cb-1910891bb0f9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.463Z","level":"info","message":"resume_classified","requestId":"7f7c66d4-0eee-4a0d-bf7e-bc61183ed5c2","jobId":"83ae60c4-032a-4317-a7cb-1910891bb0f9","isResume":false,"description":"an invoice document","confidence":0.4,"accepted":false,"overridden":false,"template":"unknown","session":"83ae60c4-032a-4317-a7cb-1910891bb0f9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83ae60c4-032a-4317-a7cb-1910891bb0f9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:07:03.464Z","level":"warn","message":"resume_validation_failed","requestId":"7f7c66d4-0eee-4a0d-bf7e-bc61183ed5c2","jobId":"83ae60c4-032a-4317-a7cb-1910891bb0f9","reason":"not_identified_as_resume","description":"an invoice document","confidence":0.4,"wordCount":12,"invalidKey":"invalid/candidate/2025-11-29/7f7c66d4-0eee-4a0d-bf7e-bc61183ed5c2/an-invoice-a8fc1d3a-bac5-4e92-97f9-633a9d521d1f.pdf","classification":"an invoice","template":"unknown","session":"83ae60c4-032a-4317-a7cb-1910891bb0f9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83ae60c4-032a-4317-a7cb-1910891bb0f9","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:25459:7)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:07:03.471Z","level":"warn","message":"api_error_response","requestId":"7f7c66d4-0eee-4a0d-bf7e-bc61183ed5c2","jobId":"83ae60c4-032a-4317-a7cb-1910891bb0f9","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded an invoice document (classified as \"invoice\"). Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\". Please upload a correct CV or resume to continue.","details":{"description":"an invoice document","confidence":0.4,"reason":"Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\".","classification":"an invoice","className":"invoice","storageKey":"invalid/candidate/2025-11-29/7f7c66d4-0eee-4a0d-bf7e-bc61183ed5c2/an-invoice-a8fc1d3a-bac5-4e92-97f9-633a9d521d1f.pdf","invalidStorageKey":"invalid/candidate/2025-11-29/7f7c66d4-0eee-4a0d-bf7e-bc61183ed5c2/an-invoice-a8fc1d3a-bac5-4e92-97f9-633a9d521d1f.pdf"},"requestId":"7f7c66d4-0eee-4a0d-bf7e-bc61183ed5c2","jobId":"83ae60c4-032a-4317-a7cb-1910891bb0f9"},"template":"unknown","session":"83ae60c4-032a-4317-a7cb-1910891bb0f9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83ae60c4-032a-4317-a7cb-1910891bb0f9","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:3812:3)
      at sendError (server.js:25534:12)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.484Z","level":"info","message":"http_request_completed","requestId":"7f7c66d4-0eee-4a0d-bf7e-bc61183ed5c2","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":36,"contentLength":"871","template":"unknown","session":"7f7c66d4-0eee-4a0d-bf7e-bc61183ed5c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7f7c66d4-0eee-4a0d-bf7e-bc61183ed5c2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:03.491Z","level":"info","message":"http_request_received","requestId":"8a28310d-cc3a-49cc-8198-a5c5eae9abbd","method":"POST","path":"/api/process-cv","template":"unknown","session":"8a28310d-cc3a-49cc-8198-a5c5eae9abbd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a28310d-cc3a-49cc-8198-a5c5eae9abbd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:03.497Z","level":"info","message":"process_cv_started","requestId":"8a28310d-cc3a-49cc-8198-a5c5eae9abbd","jobId":"5f4f9ec4-7f96-42f3-83be-54fd19199c01","manualJobDescriptionProvided":true,"template":"unknown","session":"5f4f9ec4-7f96-42f3-83be-54fd19199c01","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5f4f9ec4-7f96-42f3-83be-54fd19199c01","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:03.498Z","level":"info","message":"template_selection","requestId":"8a28310d-cc3a-49cc-8198-a5c5eae9abbd","jobId":"5f4f9ec4-7f96-42f3-83be-54fd19199c01","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"5f4f9ec4-7f96-42f3-83be-54fd19199c01","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5f4f9ec4-7f96-42f3-83be-54fd19199c01","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:03.499Z","level":"info","message":"initial_upload_completed","requestId":"8a28310d-cc3a-49cc-8198-a5c5eae9abbd","jobId":"5f4f9ec4-7f96-42f3-83be-54fd19199c01","bucket":"test-bucket","key":"cv/candidate/8a28310d-cc3a-49cc-8198-a5c5eae9abbd/incoming/original.pdf","template":"unknown","session":"5f4f9ec4-7f96-42f3-83be-54fd19199c01","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5f4f9ec4-7f96-42f3-83be-54fd19199c01","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.500Z","level":"info","message":"resume_text_extracted","requestId":"8a28310d-cc3a-49cc-8198-a5c5eae9abbd","jobId":"5f4f9ec4-7f96-42f3-83be-54fd19199c01","characters":52,"template":"unknown","session":"5f4f9ec4-7f96-42f3-83be-54fd19199c01","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5f4f9ec4-7f96-42f3-83be-54fd19199c01","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.501Z","level":"info","message":"document_classification_ai_metrics","requestId":"8a28310d-cc3a-49cc-8198-a5c5eae9abbd","jobId":"5f4f9ec4-7f96-42f3-83be-54fd19199c01","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"b660b3e8ecbc83aad9e6543dcb4a0d862627f82012d98cdb58b183fb5f0cc539","outputDigest":"ce4b8bd954f55aa4d760051876705884299536b3f182fa6f09cbd2aaee0a6b16","latencyMs":0,"isResume":false,"confidence":0.2,"template":"document_classification","session":"5f4f9ec4-7f96-42f3-83be-54fd19199c01","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"5f4f9ec4-7f96-42f3-83be-54fd19199c01","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.502Z","level":"info","message":"resume_classified","requestId":"8a28310d-cc3a-49cc-8198-a5c5eae9abbd","jobId":"5f4f9ec4-7f96-42f3-83be-54fd19199c01","isResume":false,"description":"a short memo","confidence":0.2,"accepted":false,"overridden":false,"template":"unknown","session":"5f4f9ec4-7f96-42f3-83be-54fd19199c01","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5f4f9ec4-7f96-42f3-83be-54fd19199c01","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:07:03.503Z","level":"warn","message":"resume_validation_failed","requestId":"8a28310d-cc3a-49cc-8198-a5c5eae9abbd","jobId":"5f4f9ec4-7f96-42f3-83be-54fd19199c01","reason":"not_identified_as_resume","description":"a short memo","confidence":0.2,"wordCount":9,"invalidKey":"invalid/candidate/2025-11-29/8a28310d-cc3a-49cc-8198-a5c5eae9abbd/a-short-memo-bfad8412-a722-4541-83d1-df1f4d6cdb22.docx","classification":"a short memo","template":"unknown","session":"5f4f9ec4-7f96-42f3-83be-54fd19199c01","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5f4f9ec4-7f96-42f3-83be-54fd19199c01","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:25459:7)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:07:03.510Z","level":"warn","message":"api_error_response","requestId":"8a28310d-cc3a-49cc-8198-a5c5eae9abbd","jobId":"5f4f9ec4-7f96-42f3-83be-54fd19199c01","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded a short memo document (classified as \"short_memo\"). Missing resume structure. Please upload a correct CV or resume to continue.","details":{"description":"a short memo","confidence":0.2,"reason":"Missing resume structure.","classification":"a short memo","className":"short_memo","storageKey":"invalid/candidate/2025-11-29/8a28310d-cc3a-49cc-8198-a5c5eae9abbd/a-short-memo-bfad8412-a722-4541-83d1-df1f4d6cdb22.docx","invalidStorageKey":"invalid/candidate/2025-11-29/8a28310d-cc3a-49cc-8198-a5c5eae9abbd/a-short-memo-bfad8412-a722-4541-83d1-df1f4d6cdb22.docx"},"requestId":"8a28310d-cc3a-49cc-8198-a5c5eae9abbd","jobId":"5f4f9ec4-7f96-42f3-83be-54fd19199c01"},"template":"unknown","session":"5f4f9ec4-7f96-42f3-83be-54fd19199c01","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5f4f9ec4-7f96-42f3-83be-54fd19199c01","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:3812:3)
      at sendError (server.js:25534:12)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.517Z","level":"info","message":"http_request_completed","requestId":"8a28310d-cc3a-49cc-8198-a5c5eae9abbd","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":26,"contentLength":"748","template":"unknown","session":"8a28310d-cc3a-49cc-8198-a5c5eae9abbd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a28310d-cc3a-49cc-8198-a5c5eae9abbd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:03.520Z","level":"info","message":"http_request_received","requestId":"6ce97082-2316-41fb-8ee0-4095cd585695","method":"POST","path":"/api/process-cv","template":"unknown","session":"6ce97082-2316-41fb-8ee0-4095cd585695","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6ce97082-2316-41fb-8ee0-4095cd585695","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:03.523Z","level":"info","message":"process_cv_started","requestId":"6ce97082-2316-41fb-8ee0-4095cd585695","jobId":"96c00dca-3f18-4eca-b52b-06fe91b34f5a","manualJobDescriptionProvided":false,"template":"unknown","session":"96c00dca-3f18-4eca-b52b-06fe91b34f5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96c00dca-3f18-4eca-b52b-06fe91b34f5a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:03.523Z","level":"info","message":"template_selection","requestId":"6ce97082-2316-41fb-8ee0-4095cd585695","jobId":"96c00dca-3f18-4eca-b52b-06fe91b34f5a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"96c00dca-3f18-4eca-b52b-06fe91b34f5a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"96c00dca-3f18-4eca-b52b-06fe91b34f5a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:03.524Z","level":"warn","message":"job_description_missing","requestId":"6ce97082-2316-41fb-8ee0-4095cd585695","jobId":"96c00dca-3f18-4eca-b52b-06fe91b34f5a","template":"unknown","session":"96c00dca-3f18-4eca-b52b-06fe91b34f5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96c00dca-3f18-4eca-b52b-06fe91b34f5a","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24888:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-11-29T11:07:03.532Z","level":"warn","message":"api_error_response","requestId":"6ce97082-2316-41fb-8ee0-4095cd585695","jobId":"96c00dca-3f18-4eca-b52b-06fe91b34f5a","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"6ce97082-2316-41fb-8ee0-4095cd585695","jobId":"96c00dca-3f18-4eca-b52b-06fe91b34f5a"},"template":"unknown","session":"96c00dca-3f18-4eca-b52b-06fe91b34f5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96c00dca-3f18-4eca-b52b-06fe91b34f5a","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:3812:3)
      at sendError (server.js:24889:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:07:03.540Z","level":"info","message":"http_request_completed","requestId":"6ce97082-2316-41fb-8ee0-4095cd585695","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":20,"contentLength":"244","template":"unknown","session":"6ce97082-2316-41fb-8ee0-4095cd585695","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6ce97082-2316-41fb-8ee0-4095cd585695","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:03.544Z","level":"info","message":"http_request_received","requestId":"53451625-4d6c-4e6b-b409-bd385bbbdae7","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"53451625-4d6c-4e6b-b409-bd385bbbdae7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"53451625-4d6c-4e6b-b409-bd385bbbdae7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:03.548Z","level":"warn","message":"api_error_response","requestId":"53451625-4d6c-4e6b-b409-bd385bbbdae7","jobId":"91f1dffd-7191-4553-bcbc-bd6b8554090b","status":400,"error":{"code":"JOB_ID_REQUIRED","message":"jobId is required to generate enhanced documents.","details":{},"requestId":"53451625-4d6c-4e6b-b409-bd385bbbdae7","jobId":"91f1dffd-7191-4553-bcbc-bd6b8554090b"},"template":"unknown","session":"91f1dffd-7191-4553-bcbc-bd6b8554090b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"91f1dffd-7191-4553-bcbc-bd6b8554090b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:3812:3)
      at sendError (server.js:22298:14)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:16215:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveStatic (node_modules/serve-static/index.js:75:16)
      at clientStaticMiddleware (server.js:4749:14)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:1110:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:1441:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:4730:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at urlencodedParser (node_modules/body-parser/lib/types/urlencoded.js:85:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

  console.log
    {"timestamp":"2025-11-29T11:07:03.560Z","level":"info","message":"http_request_completed","requestId":"53451625-4d6c-4e6b-b409-bd385bbbdae7","method":"POST","path":"/api/generate-enhanced-docs","statusCode":400,"durationMs":16,"contentLength":"225","template":"unknown","session":"53451625-4d6c-4e6b-b409-bd385bbbdae7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"53451625-4d6c-4e6b-b409-bd385bbbdae7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:03.566Z","level":"info","message":"http_request_received","requestId":"966e79ab-07ee-45ab-83de-1a22d31713a4","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:03.568Z","level":"warn","message":"generation_job_context_missing","requestId":"966e79ab-07ee-45ab-83de-1a22d31713a4","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:22490:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.580Z","level":"info","message":"llm_call_metrics","requestId":"966e79ab-07ee-45ab-83de-1a22d31713a4","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"7ff1a2fe49f8d71808c8d1fdb99db5320bf5a75739ee80e7efed665ea9588077","outputDigest":"5af248b63fed3c73350376c1d32988fbeb95f6a40181a19b7e450c5651a56ea6","addedSkillCount":0,"template":"resume_rewrite","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.581Z","level":"info","message":"generation_section_rewrite_completed","requestId":"966e79ab-07ee-45ab-83de-1a22d31713a4","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"966e79ab-07ee-45ab-83de-1a22d31713a4","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.587Z","level":"info","message":"generation_resume_verified","requestId":"966e79ab-07ee-45ab-83de-1a22d31713a4","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"966e79ab-07ee-45ab-83de-1a22d31713a4","template":"unknown","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:07:03.596Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"966e79ab-07ee-45ab-83de-1a22d31713a4","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"966e79ab-07ee-45ab-83de-1a22d31713a4","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
          at runMicrotasks (<anonymous>)
      at server.js:22793:28

  console.log
    {"timestamp":"2025-11-29T11:07:03.603Z","level":"info","message":"generation_cover_letters_completed","requestId":"966e79ab-07ee-45ab-83de-1a22d31713a4","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"966e79ab-07ee-45ab-83de-1a22d31713a4","variants":2,"fallbackApplied":true,"template":"unknown","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.604Z","level":"info","message":"pdf_generation_attempt","requestId":"966e79ab-07ee-45ab-83de-1a22d31713a4","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"966e79ab-07ee-45ab-83de-1a22d31713a4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/966e79ab-07ee-45ab-83de-1a22d31713a4/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/966e79ab-07ee-45ab-83de-1a22d31713a4/enhanced_modern.pdf","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.606Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"966e79ab-07ee-45ab-83de-1a22d31713a4","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"966e79ab-07ee-45ab-83de-1a22d31713a4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/966e79ab-07ee-45ab-83de-1a22d31713a4/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.607Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"966e79ab-07ee-45ab-83de-1a22d31713a4","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"966e79ab-07ee-45ab-83de-1a22d31713a4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/966e79ab-07ee-45ab-83de-1a22d31713a4/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/966e79ab-07ee-45ab-83de-1a22d31713a4/enhanced_modern.pdf","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.607Z","level":"info","message":"pdf_generation_attempt","requestId":"966e79ab-07ee-45ab-83de-1a22d31713a4","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"966e79ab-07ee-45ab-83de-1a22d31713a4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/966e79ab-07ee-45ab-83de-1a22d31713a4/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/966e79ab-07ee-45ab-83de-1a22d31713a4/enhanced_professional.pdf","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.608Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"966e79ab-07ee-45ab-83de-1a22d31713a4","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"966e79ab-07ee-45ab-83de-1a22d31713a4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/966e79ab-07ee-45ab-83de-1a22d31713a4/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.609Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"966e79ab-07ee-45ab-83de-1a22d31713a4","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"966e79ab-07ee-45ab-83de-1a22d31713a4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/966e79ab-07ee-45ab-83de-1a22d31713a4/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/966e79ab-07ee-45ab-83de-1a22d31713a4/enhanced_professional.pdf","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.610Z","level":"info","message":"pdf_generation_attempt","requestId":"966e79ab-07ee-45ab-83de-1a22d31713a4","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"966e79ab-07ee-45ab-83de-1a22d31713a4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/966e79ab-07ee-45ab-83de-1a22d31713a4/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/966e79ab-07ee-45ab-83de-1a22d31713a4/cover_letter_cover_modern.pdf","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.611Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"966e79ab-07ee-45ab-83de-1a22d31713a4","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"966e79ab-07ee-45ab-83de-1a22d31713a4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/966e79ab-07ee-45ab-83de-1a22d31713a4/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.612Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"966e79ab-07ee-45ab-83de-1a22d31713a4","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"966e79ab-07ee-45ab-83de-1a22d31713a4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/966e79ab-07ee-45ab-83de-1a22d31713a4/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/966e79ab-07ee-45ab-83de-1a22d31713a4/cover_letter_cover_modern.pdf","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.614Z","level":"info","message":"pdf_generation_attempt","requestId":"966e79ab-07ee-45ab-83de-1a22d31713a4","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"966e79ab-07ee-45ab-83de-1a22d31713a4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/966e79ab-07ee-45ab-83de-1a22d31713a4/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/966e79ab-07ee-45ab-83de-1a22d31713a4/cover_letter_cover_professional.pdf","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.615Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"966e79ab-07ee-45ab-83de-1a22d31713a4","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"966e79ab-07ee-45ab-83de-1a22d31713a4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/966e79ab-07ee-45ab-83de-1a22d31713a4/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.616Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"966e79ab-07ee-45ab-83de-1a22d31713a4","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"966e79ab-07ee-45ab-83de-1a22d31713a4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/966e79ab-07ee-45ab-83de-1a22d31713a4/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/966e79ab-07ee-45ab-83de-1a22d31713a4/cover_letter_cover_professional.pdf","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.619Z","level":"info","message":"llm_call_metrics","requestId":"966e79ab-07ee-45ab-83de-1a22d31713a4","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.620Z","level":"info","message":"generation_completed","requestId":"966e79ab-07ee-45ab-83de-1a22d31713a4","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"966e79ab-07ee-45ab-83de-1a22d31713a4","enhancedScore":0,"outputs":4,"template":"unknown","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.623Z","level":"info","message":"http_request_completed","requestId":"966e79ab-07ee-45ab-83de-1a22d31713a4","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":57,"contentLength":"55422","template":"unknown","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"966e79ab-07ee-45ab-83de-1a22d31713a4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:03.629Z","level":"info","message":"http_request_received","requestId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:03.631Z","level":"warn","message":"generation_job_context_missing","requestId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:22490:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.648Z","level":"info","message":"llm_call_metrics","requestId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.649Z","level":"info","message":"generation_section_rewrite_completed","requestId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.656Z","level":"info","message":"generation_resume_verified","requestId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","template":"unknown","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:07:03.671Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
          at runMicrotasks (<anonymous>)
      at server.js:22793:28

  console.log
    {"timestamp":"2025-11-29T11:07:03.678Z","level":"info","message":"generation_cover_letters_completed","requestId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","variants":2,"fallbackApplied":true,"template":"unknown","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.680Z","level":"info","message":"pdf_generation_attempt","requestId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/7255fdad-fc53-42e3-b838-5f44ba9e357f/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/7255fdad-fc53-42e3-b838-5f44ba9e357f/enhanced_modern.pdf","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.681Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/7255fdad-fc53-42e3-b838-5f44ba9e357f/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.682Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/7255fdad-fc53-42e3-b838-5f44ba9e357f/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/7255fdad-fc53-42e3-b838-5f44ba9e357f/enhanced_modern.pdf","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.683Z","level":"info","message":"pdf_generation_attempt","requestId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/7255fdad-fc53-42e3-b838-5f44ba9e357f/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/7255fdad-fc53-42e3-b838-5f44ba9e357f/enhanced_professional.pdf","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.684Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/7255fdad-fc53-42e3-b838-5f44ba9e357f/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.685Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/7255fdad-fc53-42e3-b838-5f44ba9e357f/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/7255fdad-fc53-42e3-b838-5f44ba9e357f/enhanced_professional.pdf","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.686Z","level":"info","message":"pdf_generation_attempt","requestId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/7255fdad-fc53-42e3-b838-5f44ba9e357f/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/7255fdad-fc53-42e3-b838-5f44ba9e357f/cover_letter_cover_modern.pdf","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.687Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/7255fdad-fc53-42e3-b838-5f44ba9e357f/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.688Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/7255fdad-fc53-42e3-b838-5f44ba9e357f/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/7255fdad-fc53-42e3-b838-5f44ba9e357f/cover_letter_cover_modern.pdf","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.689Z","level":"info","message":"pdf_generation_attempt","requestId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/7255fdad-fc53-42e3-b838-5f44ba9e357f/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/7255fdad-fc53-42e3-b838-5f44ba9e357f/cover_letter_cover_professional.pdf","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.690Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/7255fdad-fc53-42e3-b838-5f44ba9e357f/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.691Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/7255fdad-fc53-42e3-b838-5f44ba9e357f/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/7255fdad-fc53-42e3-b838-5f44ba9e357f/cover_letter_cover_professional.pdf","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.697Z","level":"info","message":"llm_call_metrics","requestId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.699Z","level":"info","message":"generation_completed","requestId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","enhancedScore":0,"outputs":4,"template":"unknown","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.702Z","level":"info","message":"http_request_completed","requestId":"7255fdad-fc53-42e3-b838-5f44ba9e357f","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":73,"contentLength":"60025","template":"unknown","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7255fdad-fc53-42e3-b838-5f44ba9e357f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:03.707Z","level":"info","message":"http_request_received","requestId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:03.709Z","level":"warn","message":"generation_job_context_missing","requestId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:22490:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.722Z","level":"info","message":"llm_call_metrics","requestId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.723Z","level":"info","message":"generation_section_rewrite_completed","requestId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.728Z","level":"info","message":"generation_resume_verified","requestId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","template":"unknown","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:07:03.738Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","invalidLetters":[{"key":"cover_letter1","issues":["placeholder_detected","weak_closing","section_heading_without_content"]}],"template":"unknown","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
          at runMicrotasks (<anonymous>)
      at server.js:22793:28

  console.warn
    {"timestamp":"2025-11-29T11:07:03.747Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","missing":["cover_letter1"],"template":"unknown","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
          at runMicrotasks (<anonymous>)
      at server.js:22793:28

  console.log
    {"timestamp":"2025-11-29T11:07:03.754Z","level":"info","message":"generation_cover_letters_completed","requestId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","variants":2,"fallbackApplied":true,"template":"unknown","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.755Z","level":"info","message":"pdf_generation_attempt","requestId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/756e11dd-1ee9-4c64-8908-f2378b0ed00c/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/756e11dd-1ee9-4c64-8908-f2378b0ed00c/enhanced_modern.pdf","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.756Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/756e11dd-1ee9-4c64-8908-f2378b0ed00c/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.757Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/756e11dd-1ee9-4c64-8908-f2378b0ed00c/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/756e11dd-1ee9-4c64-8908-f2378b0ed00c/enhanced_modern.pdf","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.758Z","level":"info","message":"pdf_generation_attempt","requestId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/756e11dd-1ee9-4c64-8908-f2378b0ed00c/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/756e11dd-1ee9-4c64-8908-f2378b0ed00c/enhanced_professional.pdf","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.759Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/756e11dd-1ee9-4c64-8908-f2378b0ed00c/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.760Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/756e11dd-1ee9-4c64-8908-f2378b0ed00c/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/756e11dd-1ee9-4c64-8908-f2378b0ed00c/enhanced_professional.pdf","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.760Z","level":"info","message":"pdf_generation_attempt","requestId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/756e11dd-1ee9-4c64-8908-f2378b0ed00c/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/756e11dd-1ee9-4c64-8908-f2378b0ed00c/cover_letter_cover_modern.pdf","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.762Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/756e11dd-1ee9-4c64-8908-f2378b0ed00c/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.763Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/756e11dd-1ee9-4c64-8908-f2378b0ed00c/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/756e11dd-1ee9-4c64-8908-f2378b0ed00c/cover_letter_cover_modern.pdf","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.764Z","level":"info","message":"pdf_generation_attempt","requestId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/756e11dd-1ee9-4c64-8908-f2378b0ed00c/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/756e11dd-1ee9-4c64-8908-f2378b0ed00c/cover_letter_cover_professional.pdf","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.765Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/756e11dd-1ee9-4c64-8908-f2378b0ed00c/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.766Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/756e11dd-1ee9-4c64-8908-f2378b0ed00c/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/756e11dd-1ee9-4c64-8908-f2378b0ed00c/cover_letter_cover_professional.pdf","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.770Z","level":"info","message":"llm_call_metrics","requestId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.771Z","level":"info","message":"generation_completed","requestId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","enhancedScore":0,"outputs":4,"template":"unknown","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.774Z","level":"info","message":"http_request_completed","requestId":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":67,"contentLength":"52626","template":"unknown","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"756e11dd-1ee9-4c64-8908-f2378b0ed00c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:03.780Z","level":"info","message":"http_request_received","requestId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:03.782Z","level":"warn","message":"generation_job_context_missing","requestId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:22490:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.795Z","level":"info","message":"llm_call_metrics","requestId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.797Z","level":"info","message":"generation_section_rewrite_completed","requestId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.803Z","level":"info","message":"generation_resume_verified","requestId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","template":"unknown","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:07:03.816Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
          at runMicrotasks (<anonymous>)
      at server.js:22793:28

  console.log
    {"timestamp":"2025-11-29T11:07:03.825Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","variants":["cover_letter1"],"template":"unknown","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.829Z","level":"info","message":"generation_cover_letters_completed","requestId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","variants":2,"fallbackApplied":true,"template":"unknown","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.831Z","level":"info","message":"pdf_generation_attempt","requestId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/80dcc2bd-7178-4a0d-9423-0f2f689e80e4/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/80dcc2bd-7178-4a0d-9423-0f2f689e80e4/enhanced_modern.pdf","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.832Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/80dcc2bd-7178-4a0d-9423-0f2f689e80e4/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.834Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/80dcc2bd-7178-4a0d-9423-0f2f689e80e4/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/80dcc2bd-7178-4a0d-9423-0f2f689e80e4/enhanced_modern.pdf","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.835Z","level":"info","message":"pdf_generation_attempt","requestId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/80dcc2bd-7178-4a0d-9423-0f2f689e80e4/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/80dcc2bd-7178-4a0d-9423-0f2f689e80e4/enhanced_professional.pdf","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.836Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/80dcc2bd-7178-4a0d-9423-0f2f689e80e4/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.837Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/80dcc2bd-7178-4a0d-9423-0f2f689e80e4/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/80dcc2bd-7178-4a0d-9423-0f2f689e80e4/enhanced_professional.pdf","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.838Z","level":"info","message":"pdf_generation_attempt","requestId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/80dcc2bd-7178-4a0d-9423-0f2f689e80e4/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/80dcc2bd-7178-4a0d-9423-0f2f689e80e4/cover_letter_cover_modern.pdf","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.839Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/80dcc2bd-7178-4a0d-9423-0f2f689e80e4/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.841Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/80dcc2bd-7178-4a0d-9423-0f2f689e80e4/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/80dcc2bd-7178-4a0d-9423-0f2f689e80e4/cover_letter_cover_modern.pdf","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.842Z","level":"info","message":"pdf_generation_attempt","requestId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/80dcc2bd-7178-4a0d-9423-0f2f689e80e4/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/80dcc2bd-7178-4a0d-9423-0f2f689e80e4/cover_letter_cover_professional.pdf","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.843Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/80dcc2bd-7178-4a0d-9423-0f2f689e80e4/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.845Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/80dcc2bd-7178-4a0d-9423-0f2f689e80e4/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/80dcc2bd-7178-4a0d-9423-0f2f689e80e4/cover_letter_cover_professional.pdf","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.855Z","level":"info","message":"llm_call_metrics","requestId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.857Z","level":"info","message":"generation_completed","requestId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","enhancedScore":0,"outputs":4,"template":"unknown","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.863Z","level":"info","message":"http_request_completed","requestId":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":83,"contentLength":"48347","template":"unknown","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80dcc2bd-7178-4a0d-9423-0f2f689e80e4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:03.870Z","level":"info","message":"http_request_received","requestId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:03.873Z","level":"warn","message":"generation_job_context_missing","requestId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:22490:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.890Z","level":"info","message":"llm_call_metrics","requestId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.891Z","level":"info","message":"generation_section_rewrite_completed","requestId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.899Z","level":"info","message":"generation_resume_verified","requestId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","template":"unknown","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:07:03.929Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","invalidLetters":[{"key":"cover_letter1","issues":["exceeds_word_limit"]},{"key":"cover_letter2","issues":["exceeds_word_limit"]}],"template":"unknown","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
          at runMicrotasks (<anonymous>)
      at server.js:22793:28

  console.warn
    {"timestamp":"2025-11-29T11:07:03.941Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
          at runMicrotasks (<anonymous>)
      at server.js:22793:28

  console.log
    {"timestamp":"2025-11-29T11:07:03.952Z","level":"info","message":"generation_cover_letters_completed","requestId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","variants":2,"fallbackApplied":true,"template":"unknown","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.953Z","level":"info","message":"pdf_generation_attempt","requestId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/3932096e-56e3-4fc6-a2e1-cdf2b4be923d/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/3932096e-56e3-4fc6-a2e1-cdf2b4be923d/enhanced_modern.pdf","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.955Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/3932096e-56e3-4fc6-a2e1-cdf2b4be923d/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.957Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/3932096e-56e3-4fc6-a2e1-cdf2b4be923d/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/3932096e-56e3-4fc6-a2e1-cdf2b4be923d/enhanced_modern.pdf","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.958Z","level":"info","message":"pdf_generation_attempt","requestId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/3932096e-56e3-4fc6-a2e1-cdf2b4be923d/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/3932096e-56e3-4fc6-a2e1-cdf2b4be923d/enhanced_professional.pdf","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.959Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/3932096e-56e3-4fc6-a2e1-cdf2b4be923d/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.960Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/3932096e-56e3-4fc6-a2e1-cdf2b4be923d/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/3932096e-56e3-4fc6-a2e1-cdf2b4be923d/enhanced_professional.pdf","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.961Z","level":"info","message":"pdf_generation_attempt","requestId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/3932096e-56e3-4fc6-a2e1-cdf2b4be923d/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/3932096e-56e3-4fc6-a2e1-cdf2b4be923d/cover_letter_cover_modern.pdf","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.962Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/3932096e-56e3-4fc6-a2e1-cdf2b4be923d/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.964Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/3932096e-56e3-4fc6-a2e1-cdf2b4be923d/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/3932096e-56e3-4fc6-a2e1-cdf2b4be923d/cover_letter_cover_modern.pdf","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.965Z","level":"info","message":"pdf_generation_attempt","requestId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/3932096e-56e3-4fc6-a2e1-cdf2b4be923d/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/3932096e-56e3-4fc6-a2e1-cdf2b4be923d/cover_letter_cover_professional.pdf","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.966Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/3932096e-56e3-4fc6-a2e1-cdf2b4be923d/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.967Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/3932096e-56e3-4fc6-a2e1-cdf2b4be923d/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/3932096e-56e3-4fc6-a2e1-cdf2b4be923d/cover_letter_cover_professional.pdf","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.977Z","level":"info","message":"llm_call_metrics","requestId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.978Z","level":"info","message":"generation_completed","requestId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","enhancedScore":0,"outputs":4,"template":"unknown","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:03.983Z","level":"info","message":"http_request_completed","requestId":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":113,"contentLength":"60025","template":"unknown","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3932096e-56e3-4fc6-a2e1-cdf2b4be923d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:03.987Z","level":"info","message":"http_request_received","requestId":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:03.990Z","level":"warn","message":"generation_job_context_missing","requestId":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:22490:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.001Z","level":"info","message":"llm_call_metrics","requestId":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d49fc3c9f3e6b68c516d8ed2277f352be0cdf73d24dc9159a6ddd8d2156f86c9","outputDigest":"df45602e27dd18441258611754779b1df94aaddbe2a7ac6965c12432f6053bc4","addedSkillCount":0,"template":"resume_rewrite","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.002Z","level":"info","message":"generation_section_rewrite_completed","requestId":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.011Z","level":"info","message":"generation_resume_verified","requestId":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","template":"unknown","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:07:04.017Z","level":"warn","message":"generation_cover_letters_unavailable","requestId":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","unavailable":["cover_letter1","cover_letter2"],"template":"unknown","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20533:5)
          at runMicrotasks (<anonymous>)
      at server.js:22793:28

  console.log
    {"timestamp":"2025-11-29T11:07:04.025Z","level":"info","message":"generation_cover_letters_completed","requestId":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","variants":0,"fallbackApplied":false,"template":"unknown","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.026Z","level":"info","message":"pdf_generation_attempt","requestId":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2/enhanced_modern.pdf","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.027Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.028Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2/enhanced_modern.pdf","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.029Z","level":"info","message":"pdf_generation_attempt","requestId":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2/enhanced_professional.pdf","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.030Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.031Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2/enhanced_professional.pdf","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.034Z","level":"info","message":"llm_call_metrics","requestId":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.035Z","level":"info","message":"generation_completed","requestId":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","enhancedScore":0,"outputs":2,"template":"unknown","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.039Z","level":"info","message":"http_request_completed","requestId":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":52,"contentLength":"32129","template":"unknown","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ce7bcf8-286c-4c9f-91fc-ccd2d3df00c2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:04.043Z","level":"info","message":"http_request_received","requestId":"7091f139-dddb-4489-82d1-ff9104397c14","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:04.051Z","level":"warn","message":"generation_change_log_load_failed","requestId":"7091f139-dddb-4489-82d1-ff9104397c14","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22556:33\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:22558:13)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.059Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"7091f139-dddb-4489-82d1-ff9104397c14","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.064Z","level":"info","message":"llm_call_metrics","requestId":"7091f139-dddb-4489-82d1-ff9104397c14","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"acf1b9378acb575b229122bd0509d239fb40292b5a2de638f8974b10630dddf9","outputDigest":"d38deb915a9824cbd24a0a21322f3421cffa08850deba8b630d4c012e36accc6","addedSkillCount":0,"template":"resume_rewrite","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.065Z","level":"info","message":"generation_section_rewrite_completed","requestId":"7091f139-dddb-4489-82d1-ff9104397c14","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7091f139-dddb-4489-82d1-ff9104397c14","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.066Z","level":"info","message":"llm_call_metrics","requestId":"7091f139-dddb-4489-82d1-ff9104397c14","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"a89c45c951abfe25af2671eb78aaf142165e3f6bd78d4b83089b4f9a78e64f20","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.072Z","level":"info","message":"generation_resume_verified","requestId":"7091f139-dddb-4489-82d1-ff9104397c14","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7091f139-dddb-4489-82d1-ff9104397c14","template":"unknown","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:07:04.077Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"7091f139-dddb-4489-82d1-ff9104397c14","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7091f139-dddb-4489-82d1-ff9104397c14","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
          at runMicrotasks (<anonymous>)
      at server.js:22793:28

  console.warn
    {"timestamp":"2025-11-29T11:07:04.085Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"7091f139-dddb-4489-82d1-ff9104397c14","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7091f139-dddb-4489-82d1-ff9104397c14","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
          at runMicrotasks (<anonymous>)
      at server.js:22793:28

  console.log
    {"timestamp":"2025-11-29T11:07:04.092Z","level":"info","message":"generation_cover_letters_completed","requestId":"7091f139-dddb-4489-82d1-ff9104397c14","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7091f139-dddb-4489-82d1-ff9104397c14","variants":2,"fallbackApplied":true,"template":"unknown","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.093Z","level":"info","message":"pdf_generation_attempt","requestId":"7091f139-dddb-4489-82d1-ff9104397c14","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7091f139-dddb-4489-82d1-ff9104397c14","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.094Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7091f139-dddb-4489-82d1-ff9104397c14","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7091f139-dddb-4489-82d1-ff9104397c14","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.095Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7091f139-dddb-4489-82d1-ff9104397c14","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7091f139-dddb-4489-82d1-ff9104397c14","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.097Z","level":"info","message":"pdf_generation_attempt","requestId":"7091f139-dddb-4489-82d1-ff9104397c14","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7091f139-dddb-4489-82d1-ff9104397c14","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.098Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7091f139-dddb-4489-82d1-ff9104397c14","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7091f139-dddb-4489-82d1-ff9104397c14","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.099Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7091f139-dddb-4489-82d1-ff9104397c14","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7091f139-dddb-4489-82d1-ff9104397c14","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.100Z","level":"info","message":"pdf_generation_attempt","requestId":"7091f139-dddb-4489-82d1-ff9104397c14","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7091f139-dddb-4489-82d1-ff9104397c14","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.101Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7091f139-dddb-4489-82d1-ff9104397c14","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7091f139-dddb-4489-82d1-ff9104397c14","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.102Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7091f139-dddb-4489-82d1-ff9104397c14","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7091f139-dddb-4489-82d1-ff9104397c14","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.103Z","level":"info","message":"pdf_generation_attempt","requestId":"7091f139-dddb-4489-82d1-ff9104397c14","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7091f139-dddb-4489-82d1-ff9104397c14","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.104Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7091f139-dddb-4489-82d1-ff9104397c14","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7091f139-dddb-4489-82d1-ff9104397c14","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.105Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7091f139-dddb-4489-82d1-ff9104397c14","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7091f139-dddb-4489-82d1-ff9104397c14","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.109Z","level":"info","message":"llm_call_metrics","requestId":"7091f139-dddb-4489-82d1-ff9104397c14","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"6daad81d53ca29e2440dbdfd5e7ac149ac9bc677f5bd5a926b958a85793be6c1","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.110Z","level":"info","message":"generation_completed","requestId":"7091f139-dddb-4489-82d1-ff9104397c14","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7091f139-dddb-4489-82d1-ff9104397c14","enhancedScore":0,"outputs":5,"template":"unknown","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.113Z","level":"info","message":"http_request_completed","requestId":"7091f139-dddb-4489-82d1-ff9104397c14","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":70,"contentLength":"52667","template":"unknown","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7091f139-dddb-4489-82d1-ff9104397c14","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:04.118Z","level":"info","message":"http_request_received","requestId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:04.120Z","level":"warn","message":"generation_change_log_load_failed","requestId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22556:33\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:22558:13)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.127Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.131Z","level":"info","message":"llm_call_metrics","requestId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"fc71d2d7420045c9674c39d1bc893139670e4554452723b0b8930f14ae74efd1","outputDigest":"994365ee088ebf4da994d91479825476737b8633f45dc9441cf82f317f739457","addedSkillCount":0,"template":"resume_rewrite","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.132Z","level":"info","message":"generation_section_rewrite_completed","requestId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.133Z","level":"info","message":"llm_call_metrics","requestId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"2941229673895ce87f4eb2dd47c041b77270273e0250170302676d5a10351fbf","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.137Z","level":"info","message":"generation_resume_verified","requestId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","template":"unknown","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:07:04.143Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20327:5)
          at runMicrotasks (<anonymous>)
      at server.js:22793:28

  console.warn
    {"timestamp":"2025-11-29T11:07:04.150Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
          at runMicrotasks (<anonymous>)
      at server.js:22793:28

  console.log
    {"timestamp":"2025-11-29T11:07:04.157Z","level":"info","message":"generation_cover_letters_completed","requestId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","variants":2,"fallbackApplied":true,"template":"unknown","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.158Z","level":"info","message":"pdf_generation_attempt","requestId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.159Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.160Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.161Z","level":"info","message":"pdf_generation_attempt","requestId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.161Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.162Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.163Z","level":"info","message":"pdf_generation_attempt","requestId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.164Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.165Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.165Z","level":"info","message":"pdf_generation_attempt","requestId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.166Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.167Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.170Z","level":"info","message":"llm_call_metrics","requestId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"bb70bada40357e7ad85703e98908783ac38c79f83207e1ee038136c2f4863594","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.171Z","level":"info","message":"generation_completed","requestId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","enhancedScore":0,"outputs":5,"template":"unknown","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.174Z","level":"info","message":"http_request_completed","requestId":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":56,"contentLength":"50998","template":"unknown","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"77623b68-d6be-40b0-ba6d-a9bcde56e23b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:04.179Z","level":"info","message":"http_request_received","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","method":"POST","path":"/api/process-cv","template":"unknown","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:04.181Z","level":"info","message":"process_cv_started","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","manualJobDescriptionProvided":true,"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:04.181Z","level":"info","message":"template_selection","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:04.182Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:24924:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24564:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:07:04.189Z","level":"info","message":"initial_upload_completed","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","bucket":"test-bucket","key":"cv/candidate/0f16316b-d49d-48fd-8b34-3f9876bc263a/incoming/original.pdf","template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.190Z","level":"info","message":"resume_text_extracted","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","characters":57,"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.190Z","level":"info","message":"resume_classified","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.192Z","level":"info","message":"raw_upload_relocated","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","bucket":"test-bucket","fromKey":"cv/candidate/0f16316b-d49d-48fd-8b34-3f9876bc263a/incoming/original.pdf","toKey":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/original.pdf","template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.192Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","bucket":"test-bucket","key":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/original.pdf","template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.193Z","level":"info","message":"dynamo_initial_record_written","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","bucket":"test-bucket","key":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/original.pdf","template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.193Z","level":"info","message":"upload_metadata_written","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","bucket":"test-bucket","key":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/logs/log.json","template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.194Z","level":"info","message":"job_description_supplied_manually","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","characters":174,"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.196Z","level":"info","message":"job_description_analyzed","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","jobTitle":"","jobSkills":5,"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.197Z","level":"info","message":"resume_skills_analyzed","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.199Z","level":"info","message":"llm_call_metrics","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.200Z","level":"info","message":"process_cv_scoring_completed","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.204Z","level":"info","message":"llm_call_metrics","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"e0b0f289a004a53fc90e2f086b7a8368b36f3cb57e330732da1cad386d479cd5","addedSkillCount":0,"template":"resume_rewrite","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.204Z","level":"info","message":"generation_section_rewrite_completed","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","generationRunId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.207Z","level":"info","message":"generation_resume_verified","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","generationRunId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:07:04.216Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","generationRunId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:20516:5)
          at runMicrotasks (<anonymous>)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:04.223Z","level":"info","message":"generation_cover_letters_completed","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","generationRunId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","variants":2,"fallbackApplied":true,"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.224Z","level":"info","message":"pdf_generation_attempt","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","generationRunId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/enhanced_modern.pdf","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.225Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","generationRunId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-11-29T11:07:04.227Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","generationRunId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3295:27)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/enhanced_modern.pdf","environment":{"nodeEnv":"development","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10806:7)
          at runMicrotasks (<anonymous>)
      at generateEnhancedDocumentsResponse (server.js:21094:9)
      at server.js:26523:26

  console.log
    {"timestamp":"2025-11-29T11:07:04.235Z","level":"info","message":"pdf_generation_attempt","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","generationRunId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/enhanced_professional.pdf","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.236Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","generationRunId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.237Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","generationRunId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/","sessionId":"[REDACTED]","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/enhanced_professional.pdf","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.238Z","level":"info","message":"pdf_generation_attempt","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","generationRunId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/enhanced_professional.pdf","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.239Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","generationRunId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.240Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","generationRunId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/enhanced_professional.pdf","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.241Z","level":"info","message":"pdf_generation_attempt","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","generationRunId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/cover_letter_cover_modern.pdf","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.242Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","generationRunId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.244Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","generationRunId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":16,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/cover_letter_cover_modern.pdf","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.245Z","level":"info","message":"pdf_generation_attempt","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","generationRunId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/cover_letter_cover_professional.pdf","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.246Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","generationRunId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.248Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","generationRunId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":22,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/0f16316b-d49d-48fd-8b34-3f9876bc263a/cover_letter_cover_professional.pdf","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.252Z","level":"info","message":"llm_call_metrics","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"b81624598eca82514b81f4fd0ef858c4f8eda9605bf4a3b33ed31144fa2daed3","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.254Z","level":"info","message":"generation_completed","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","generationRunId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","enhancedScore":80,"outputs":5,"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.256Z","level":"info","message":"placeholder_record_deleted","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","jobId":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","placeholderIdentifier":"0f16316b-d49d-48fd-8b34-3f9876bc263a","template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27c39ca2-1ebd-4e02-9a5e-48b52431334a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.257Z","level":"info","message":"http_request_completed","requestId":"0f16316b-d49d-48fd-8b34-3f9876bc263a","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":78,"contentLength":"59519","template":"unknown","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0f16316b-d49d-48fd-8b34-3f9876bc263a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:04.260Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":2,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.292Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-11-29T11:07:04.294Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3400:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10806:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3414:20)

  console.log
    {"timestamp":"2025-11-29T11:07:04.303Z","level":"info","message":"pdf_generation_backstop_succeeded","documentType":"resume","template":"2025","templatesBackstopped":["2025"],"backstopResults":[{"templateId":"2025","bytes":1024}],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.304Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":2,"totalAttempts":2,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.304Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.305Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"modern","attempt":2,"bytes":10,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.310Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.313Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-11-29T11:07:04.315Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"modern","attempt":1,"error":{"name":"Error","message":"Modern renderer unavailable","stack":"Error: Modern renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3439:30)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10806:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3443:20)

  console.log
    {"timestamp":"2025-11-29T11:07:04.322Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.323Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.324Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.325Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.326Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-11-29T11:07:04.328Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3461:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10806:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3474:20)

  console.log
    {"timestamp":"2025-11-29T11:07:04.336Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.337Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.337Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.339Z","level":"info","message":"pdf_generation_attempt","documentType":"cover_letter","template":"cover_modern","attempt":1,"totalAttempts":1,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.340Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"cover_letter","template":"cover_modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-11-29T11:07:04.341Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"cover_letter","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"Primary renderer offline","stack":"Error: Primary renderer offline\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3492:48)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10806:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3529:5)

  console.warn
    {"timestamp":"2025-11-29T11:07:04.350Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10950:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3529:5)

  console.error
    {"timestamp":"2025-11-29T11:07:04.357Z","level":"error","message":"pdf_generation_plain_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","error":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3494:13\n    at plainPdfFallbackOverride (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9586:12)\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:10954:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3529:5)"},"forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:10999:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3529:5)

  console.error
    {"timestamp":"2025-11-29T11:07:04.366Z","level":"error","message":"pdf_generation_minimal_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3497:13\n    at minimalPlainPdfBufferGenerator (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11020:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3529:5)"},"previousError":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3494:13\n    at plainPdfFallbackOverride (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9586:12)\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:10954:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3529:5)"},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:11043:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3529:5)

  console.error
    {"timestamp":"2025-11-29T11:07:04.379Z","level":"error","message":"pdf_generation_all_attempts_failed","documentType":"cover_letter","templates":["cover_modern"],"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3497:13\n    at minimalPlainPdfBufferGenerator (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11020:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3529:5)"},"targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"summary":"Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable","messages":["Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable"],"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3301 |     const safePayload = sanitizeLogPayload(payload);
      3302 |     const serialised = JSON.stringify(safePayload);
    > 3303 |     logFn(serialised);
           |     ^
      3304 |     if (level === 'error') {
      3305 |       scheduleErrorLog(safePayload);
      3306 |     }

      at logFn (server.js:3303:5)
      at logStructured (server.js:11065:3)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3529:5)

  console.log
    {"timestamp":"2025-11-29T11:07:04.425Z","level":"info","message":"http_request_received","requestId":"3c9ce917-178a-469b-ab4e-37f606272350","method":"POST","path":"/api/change-log","template":"unknown","session":"3c9ce917-178a-469b-ab4e-37f606272350","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3c9ce917-178a-469b-ab4e-37f606272350","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:04.433Z","level":"info","message":"change_log_updated","requestId":"3c9ce917-178a-469b-ab4e-37f606272350","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.434Z","level":"info","message":"http_request_completed","requestId":"3c9ce917-178a-469b-ab4e-37f606272350","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":9,"contentLength":"48197","template":"unknown","session":"3c9ce917-178a-469b-ab4e-37f606272350","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3c9ce917-178a-469b-ab4e-37f606272350","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:04.441Z","level":"info","message":"http_request_received","requestId":"53df3d55-4a3b-4894-8b18-68e8c0cd256a","method":"POST","path":"/api/change-log","template":"unknown","session":"53df3d55-4a3b-4894-8b18-68e8c0cd256a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"53df3d55-4a3b-4894-8b18-68e8c0cd256a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:04.445Z","level":"info","message":"change_log_updated","requestId":"53df3d55-4a3b-4894-8b18-68e8c0cd256a","jobId":"job-321","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-321","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-321","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.447Z","level":"info","message":"http_request_completed","requestId":"53df3d55-4a3b-4894-8b18-68e8c0cd256a","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":6,"contentLength":"1958","template":"unknown","session":"53df3d55-4a3b-4894-8b18-68e8c0cd256a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"53df3d55-4a3b-4894-8b18-68e8c0cd256a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:04.451Z","level":"info","message":"http_request_received","requestId":"788ac2e2-2c22-4278-ade5-550caea30e52","method":"POST","path":"/api/change-log","template":"unknown","session":"788ac2e2-2c22-4278-ade5-550caea30e52","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"788ac2e2-2c22-4278-ade5-550caea30e52","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:04.458Z","level":"info","message":"change_log_updated","requestId":"788ac2e2-2c22-4278-ade5-550caea30e52","jobId":"job-789","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-789","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-789","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.459Z","level":"info","message":"http_request_completed","requestId":"788ac2e2-2c22-4278-ade5-550caea30e52","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":8,"contentLength":"6061","template":"unknown","session":"788ac2e2-2c22-4278-ade5-550caea30e52","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"788ac2e2-2c22-4278-ade5-550caea30e52","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:04.463Z","level":"info","message":"http_request_received","requestId":"b0d8ee2f-952a-47e8-851a-0740b5562d9c","method":"POST","path":"/api/change-log","template":"unknown","session":"b0d8ee2f-952a-47e8-851a-0740b5562d9c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b0d8ee2f-952a-47e8-851a-0740b5562d9c","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:04.468Z","level":"info","message":"change_log_updated","requestId":"b0d8ee2f-952a-47e8-851a-0740b5562d9c","jobId":"job-session","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-session","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-session","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.473Z","level":"info","message":"http_request_completed","requestId":"b0d8ee2f-952a-47e8-851a-0740b5562d9c","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":10,"contentLength":"1213","template":"unknown","session":"b0d8ee2f-952a-47e8-851a-0740b5562d9c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b0d8ee2f-952a-47e8-851a-0740b5562d9c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:04.476Z","level":"info","message":"http_request_received","requestId":"0b3b6a47-0db8-4a50-89bf-09b4c8269e96","method":"POST","path":"/api/change-log","template":"unknown","session":"0b3b6a47-0db8-4a50-89bf-09b4c8269e96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b3b6a47-0db8-4a50-89bf-09b4c8269e96","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:04.480Z","level":"info","message":"change_log_updated","requestId":"0b3b6a47-0db8-4a50-89bf-09b4c8269e96","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.481Z","level":"info","message":"http_request_completed","requestId":"0b3b6a47-0db8-4a50-89bf-09b4c8269e96","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":5,"contentLength":"789","template":"unknown","session":"0b3b6a47-0db8-4a50-89bf-09b4c8269e96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b3b6a47-0db8-4a50-89bf-09b4c8269e96","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:04.484Z","level":"info","message":"http_request_received","requestId":"148f8cb9-d8d3-47d1-adc7-cc275abceaa9","method":"POST","path":"/api/change-log","template":"unknown","session":"148f8cb9-d8d3-47d1-adc7-cc275abceaa9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"148f8cb9-d8d3-47d1-adc7-cc275abceaa9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:04.488Z","level":"info","message":"change_log_updated","requestId":"148f8cb9-d8d3-47d1-adc7-cc275abceaa9","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.488Z","level":"info","message":"http_request_completed","requestId":"148f8cb9-d8d3-47d1-adc7-cc275abceaa9","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":4,"contentLength":"350","template":"unknown","session":"148f8cb9-d8d3-47d1-adc7-cc275abceaa9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"148f8cb9-d8d3-47d1-adc7-cc275abceaa9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:04.492Z","level":"info","message":"http_request_received","requestId":"eb8b9436-4d85-4c06-8bf2-1a1723e08243","method":"POST","path":"/api/change-log","template":"unknown","session":"eb8b9436-4d85-4c06-8bf2-1a1723e08243","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb8b9436-4d85-4c06-8bf2-1a1723e08243","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:04.496Z","level":"info","message":"change_log_updated","requestId":"eb8b9436-4d85-4c06-8bf2-1a1723e08243","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.497Z","level":"info","message":"http_request_completed","requestId":"eb8b9436-4d85-4c06-8bf2-1a1723e08243","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":5,"contentLength":"1151","template":"unknown","session":"eb8b9436-4d85-4c06-8bf2-1a1723e08243","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb8b9436-4d85-4c06-8bf2-1a1723e08243","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:04.503Z","level":"info","message":"http_request_received","requestId":"3c08b16c-14bd-4b53-a64f-7b7dff932570","method":"POST","path":"/api/change-log","template":"unknown","session":"3c08b16c-14bd-4b53-a64f-7b7dff932570","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3c08b16c-14bd-4b53-a64f-7b7dff932570","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:04.508Z","level":"info","message":"change_log_updated","requestId":"3c08b16c-14bd-4b53-a64f-7b7dff932570","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.509Z","level":"info","message":"http_request_completed","requestId":"3c08b16c-14bd-4b53-a64f-7b7dff932570","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":6,"contentLength":"596","template":"unknown","session":"3c08b16c-14bd-4b53-a64f-7b7dff932570","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3c08b16c-14bd-4b53-a64f-7b7dff932570","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:04.514Z","level":"info","message":"http_request_received","requestId":"b3d726e7-1772-4b0b-b96d-c9fd2ef360f5","method":"POST","path":"/api/change-log","template":"unknown","session":"b3d726e7-1772-4b0b-b96d-c9fd2ef360f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b3d726e7-1772-4b0b-b96d-c9fd2ef360f5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

  console.log
    {"timestamp":"2025-11-29T11:07:04.522Z","level":"info","message":"change_log_updated","requestId":"b3d726e7-1772-4b0b-b96d-c9fd2ef360f5","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:07:04.523Z","level":"info","message":"http_request_completed","requestId":"b3d726e7-1772-4b0b-b96d-c9fd2ef360f5","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":9,"contentLength":"2337","template":"unknown","session":"b3d726e7-1772-4b0b-b96d-c9fd2ef360f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b3d726e7-1772-4b0b-b96d-c9fd2ef360f5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3303:5)

FAIL tests/server.test.js (11.701 s)
  health check
     GET /healthz (639 ms)
  static asset fallbacks
     GET /favicon.ico returns 204 (13 ms)
     serves hashed index asset from S3 when local file is missing (17 ms)
     serves hashed index asset directly from the bundled client when available (22 ms)
     strips API Gateway stage prefixes before resolving static index aliases (15 ms)
     performs HEAD lookup against S3 for hashed index asset metadata (15 ms)
     serves the latest index asset alias via S3 when local files are unavailable (15 ms)
     serves the index asset alias via the S3 manifest when the local manifest is missing (11 ms)
     serves the index asset alias when the manifest contains prefixed S3 keys (969 ms)
     serves the index asset alias via manifest fallback when the primary bundle is missing from S3 (27 ms)
  static asset proxy endpoint
     serves the index alias via the local build (20 ms)
     normalizes stray punctuation in proxy asset queries (9 ms)
     strips inline alias annotations from hashed proxy asset queries (14 ms)
     falls back to S3 when the hashed bundle is unavailable locally (14 ms)
     degrades hashed proxy requests to the index alias when upstream assets are missing (42 ms)
     degrades direct hashed asset requests to the index alias when upstream bundles are missing (40 ms)
     rejects invalid asset paths (31 ms)
  static asset manifest endpoint
     returns manifest data when available (11 ms)
     allows forcing a manifest refresh via query parameter (14 ms)
     returns 503 when manifest is unavailable (35 ms)
  /api/process-cv
     handles DynamoDB table lifecycle (630 ms)
     removes stale session change logs when starting a new upload session (156 ms)
     removes session change log data when the session prefix is reused (96 ms)
     requires manual job description input (154 ms)
     sanitizes manual job description input before analysis (103 ms)
     rejects manual job description input containing prohibited HTML tags (27 ms)
     stores sanitized job description as session input metadata (81 ms)
     accepts uploads without a LinkedIn profile URL (147 ms)
     malformed AI response (233 ms)
     handles code-fenced JSON with extra text (141 ms)
     handles JSON surrounded by text (135 ms)
     returns presigned PDF URLs with labeled asset types (177 ms)
     returns a structured error when download URLs cannot be generated (198 ms)
     cover letter urls include structured metadata (118 ms)
     uses provided templates in preferred order (98 ms)
     uses templates array (99 ms)
     filters AI guidance lines (106 ms)
     resume prompt asks for a project matching job skills (104 ms)
     inserts project into resume text (84 ms)
     adds project section when job description provided (76 ms)
     cover letters omit placeholder sections (133 ms)
     normalizes structured cover letter responses into text (105 ms)
     uses sanitized resume fallback when AI returns plain text for versions (89 ms)
     falls back to plain PDFs when template rendering fails (316 ms)
     final CV includes updated title, project, and skills (78 ms)
     missing file (25 ms)
     unsupported file type (25 ms)
     rejects non-resume content with descriptive feedback (43 ms)
     requires re-upload when classification does not identify a CV (29 ms)
     missing job description text (23 ms)
    download link refresh
       resigns an existing artifact key for the active job (22 ms)
       returns not found when the storage key does not match the job context (12 ms)
    resume size handling
       accepts tiny PDF (32 KB) uploads up to 5 MB (81 ms)
       accepts small DOCX (256 KB) uploads up to 5 MB (103 ms)
       accepts mid-sized PDF (2 MB) uploads up to 5 MB (90 ms)
       accepts near-limit DOCX (just under 5 MB) uploads up to 5 MB (274 ms)
       rejects resumes larger than 5 MB (48 ms)
  /api/generate-enhanced-docs
     responds with structured details when jobId is missing (22 ms)
     queues message when fallback cover letters are used (61 ms)
     replaces whitespace cover letters with fallback copy (81 ms)
     audits cover letters for placeholders and applies fallback (72 ms)
     replaces weak closing cover letters with confident fallback copy (90 ms)
     replaces cover letters exceeding the word limit with confident fallback copy (118 ms)
     surfaces message when cover letters remain unavailable (55 ms)
     refreshes session artifacts when job description changes for a new enhancement (75 ms)
     refreshes session artifacts automatically when job description changes (61 ms)
     persists template vs population errors in stage metadata (83 ms)
  generatePdfWithFallback
     records retry message when 2025 renderer fails (50 ms)
     announces next template when fallback occurs for non-2025 resume (15 ms)
     announces actual next template when 2025 fallback prefers contrast option (13 ms)
     throws explicit PdfGenerationError with summary when all strategies fail (50 ms)
  classifyDocument
     identifies resumes by section structure
     detects cover letters (1 ms)
     rejects job descriptions that mimic resume sections (1 ms)
  extractText
     extracts text from pdf
     extracts text from docx
     guides user when pdf parsing fails (26 ms)
     guides user when docx parsing fails
     extracts text from doc (3 ms)
     rejects plain text files (1 ms)
  client download labels
     App displays correct labels for each file type (3 ms)
  change log persistence safeguards
     truncates oversized change log fields before persisting (13 ms)
     persists category changelog details for ATS, skills, and related sections (11 ms)
     captures rescore summary and updates session score snapshot (13 ms)
     stores session change logs under a user session prefix when no prior key exists (13 ms)
  change log session visibility
     persists reverted entries when updating the change log (8 ms)
     stores rejected entries in the session change log dismissed list (7 ms)
     persists cover letter change log payloads to S3 (9 ms)
     removing a cover letter entry records dismissal state in S3 (11 ms)
     persists activity logs from nested payloads into the session change log (15 ms)

   static asset fallbacks  serves the index asset alias when the manifest contains prefixed S3 keys

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 502

      457 |     try {
      458 |       const res = await request(app).get('/assets/index-latest.css');
    > 459 |       expect(res.status).toBe(200);
          |                          ^
      460 |       expect(res.text).toBe(cssBody);
      461 |       expect(res.headers['cache-control']).toBe('no-cache, no-store, must-revalidate');
      462 |       expect(mockS3Send).toHaveBeenCalledTimes(2);

      at Object.toBe (tests/server.test.js:459:26)

-------------------------------|---------|----------|---------|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
File                           | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
-------------------------------|---------|----------|---------|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
All files                      |   45.84 |    34.66 |   50.39 |   46.93 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
 ResumeForge                   |   54.44 |    40.85 |   61.29 |   55.61 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
  logger.js                    |       0 |        0 |       0 |       0 | 16-187                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
  server.js                    |   54.68 |       41 |   62.11 |   55.84 | 144,167,195-197,202,207,211,232,256-287,303-308,313,318,332,337,369,377,389,398,402,411,432-433,437-438,442-463,467-469,482-487,493,499-508,516,526,532-535,541-543,556-558,565,602,611,642,655,679,689,731,745,749,753,757-760,767-770,779,785,802-805,813,836,843,854-863,875,894,934,943,980,1005-1007,1016,1038,1115,1176-1183,1193,1208,1248,1252,1256-1262,1267,1271-1288,1299-1302,1326-1327,1363,1370,1390-1391,1416-1423,1433,1446-1447,1460,1465,1482,1492,1505,1513,1518,1527,1535,1551-1555,1566,1586,1589,1601,1632,1654-1659,1685,1694-1697,1703,1713-1756,1765,1804,1808,1813-1816,1841-1843,1927,1933,1939-1941,1947,1953,1957,1961,2013,2017,2035,2059,2089,2156-2172,2194-2292,2303,2307-2308,2326-2417,2426-2430,2552-2700,2710-2711,2729-2741,2751-2773,2780,2785,2796-2803,2878,2885,2889,2897,2903-2904,2915,2919,2923,2927,2931-2933,2937,2941,2953,2963,2967,2971,2975,2979,2983,2994-2995,3000-3018,3022-3030,3080,3097,3106,3110,3134-3142,3179,3189-3197,3203,3207,3242-3261,3269,3296-3297,3308-3315,3321,3323,3368-3371,3379,3405-3422,3435,3441,3444,3449-3561,3568,3572,3576,3584,3591,3597,3611,3614,3621-3628,3634-3637,3641-3644,3673,3707-3723,3737,3767,3781-3786,3810,3824-3827,3840,3843,3854,3868-3996,4015,4021,4027,4033,4040,4048-4058,4073,4080-4115,4122-4356,4364,4396,4437-4445,4454,4471-4479,4495-4507,4516-4520,4530,4535,4545,4561-4566,4624,4641-4654,4667-4682,4688-4716,4747,4752-4767,4791,4798,4803-4810,4877,4882-4893,4904-4907,4949-5041,5052,5056,5062-5078,5084,5141-5146,5166-5170,5175-5182,5201,5236-5237,5266,5314-5432,5442-5472,5478-5498,5519-5526,5557,5562-5565,5573-5577,5589,5603,5608,5620-5623,5640-5664,5669,5675,5682,5689-5711,5731-5756,5791-5898,5903,5909-6463,6534-7577,7601,7616-7619,7658,7662,7700,7713,7737-7744,7758,7823-7829,7837,7841,7856,7860,7863,7891,7894,7906,7909,7918,7928-7936,7942,7982,7985,7988,7999-8001,8006,8035,8169,8219,8252-8260,8386-8394,8488-8493,8511-8533,8633-8706,8787-8900,8926,8933-8940,8953-9100,9121,9125,9131-9132,9141,9146,9149,9152,9164,9168,9172,9180,9190,9201-9209,9238-9249,9272-9273,9288-9289,9338-9345,9410-9415,9424-9571,9588,9602-10580,10601,10604,10641,10644-10646,10674-10696,10861,10959-10962,10969-10983,11007-11008,11028-11037,11102,11108-11177,11202,11284,11287,11291,11317-11325,11330,11338,11340,11342,11346,11348,11354,11358,11416-11419,11448-11469,11500-11506,11514-11515,11526,11540-11541,11548,11551,11556-11559,11563-11564,11575,11679,11694-11695,11698-11699,11701-11702,11776-11778,11789-11794,11847,11864,11878,11886,11888,11890,11898,11905-11906,11910,11912,11920,12021,12074-12108,12127,12161,12218-12219,12224,12262,12278,12367,12478,12483,12488,12537-12545,12556,12560,12563,12654-12658,12690,12756,12761,12769,12860,12872,12917-12921,12926,12974,12977,12997,13018-13022,13030,13045,13048,13051,13108,13114,13137-13147,13197-13208,13213-13226,13247,13250,13265,13285-13288,13293,13307,13346-13350,13370,13374-13377,13383,13414,13422,13432,13436,13445,13457,13465,13469-13491,13498,13509,13522-13523,13547,13561,13604-13605,13616-13617,13646-13658,13691-13692,13708-13713,13720-13724,13768-13772,13788,13805-13808,13964,14025-14031,14062,14079,14118,14169-14336,14355-14363,14368,14375,14380-14392,14397,14400-14401,14404-14405,14410,14415,14420,14426,14538,14663,14667,14675,14685,14692,14793,14801,14806,14809-14812,14820,14849,14883,14894,15128,15201,15209,15216,15250,15256-15275,15284,15292,15299-15302,15307,15323-15324,15339-15341,15494,15501,15509,15532,15566,15579-15581,15594,15605-15615,15622,15650-15651,15677,15704-15705,15809-15810,15848-15849,15855,15930-15931,15953,15982,15994,16039,16053-16060,16068-16075,16083,16088,16092,16185-16202,16248-16548,16573,16578,16589,16601,16619,16626,16629,16632,16639,16642,16645-16648,16660,16669,16676,16686,16729,16734,16760,16771,16781,16789,16798,16807,16810,16813,16819,16825-16847,16863-16870,16879-16895,16906,16919,16928,16938,16943,16949-16951,16960,16973,16978,16982,16995,17002,17006-17008,17016-17019,17029-17049,17063,17115-17118,17133,17147,17155-17167,17176,17194,17212-17219,17225,17240,17245-17250,17255-17258,17274,17279,17316,17352,17366,17389,17393,17428-17430,17465-17572,17588-17621,17672,17681,17715,17724,17751-17754,17768-18819,18831-18856,18888-18889,18909-18917,18958,18981-18989,19000-19001,19033-19036,19046-19082,19093-19113,19126-19160,19164-19215,19252,19257-19269,19274,19319,19327-19510,19566-19573,19592-19595,19624-19630,19641,19676,19701,19711-19714,19754,19790,19795,19804,19811-19813,19895,19898,19928,20012-20016,20097,20125-20132,20143-20159,20259-20265,20286,20345,20357,20360,20364,20372,20376,20380,20411,20418-20453,20462,20499,20507-20509,20669,20699,20715,20732,20765,20842,20851-20862,20939-20948,20995,21218,21220,21222,21224,21266-21267,21330,21483,21487,21491,21495,21499,21503,21549,21572-21600,21623-21639,21697-21698,21710-21739,21818,21888,21962,21973,21987,22194,22280-22283,22308,22319,22380,22391-22396,22402,22430-22436,22451-22455,22502-22506,22517,22575-22579,22588-22589,22649-22679,22743-22744,22747,22784,22787,22838,22843-22929,22941-23406,23417-23504,23516,23542-23546,23606,23678-23703,23726,23749,23771,23779,23808,23814-23867,23879,24080-24086,24104-24136,24184-24190,24217,24228,24237,24265-24269,24293,24318-24331,24366,24372-24380,24400-24401,24418-24422,24439-24449,24465-24470,24503-24516,24520-24522,24596-24620,24637-24639,24665-24666,24694-24700,24714,24733,24742-24754,24832,24861,24864,24946-24952,24973-24977,25013-25035,25069-25200,25211,25258-25262,25268,25283-25288,25296-25300,25450,25485-25516,25554,25637-25683,25755,25911,26000,26016-26069,26137,26151-26181,26194-26233,26305,26347,26359,26402,26464,26525-26527,26534-26546,26581,26594-26684,26695-26736,26747-26748 
 ResumeForge/lib               |   14.47 |    14.02 |   20.28 |   14.45 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
  buildMetadata.js             |   84.37 |     58.2 |     100 |   84.37 | 22-27,35,76,93,120,125,130                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
  cloudfrontAssetCheck.js      |       0 |        0 |       0 |       0 | 3-896                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
  cloudfrontAssetPrefixes.js   |       0 |        0 |       0 |       0 | 4-67                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
  cloudfrontHealthCheck.js     |       0 |        0 |       0 |       0 | 4-120                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
  handlebars.js                |      50 |      100 |       0 |   66.66 | 9                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
  postDeploymentApiTests.js    |       0 |        0 |       0 |       0 | 4-93                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
  retry.js                     |      50 |    44.66 |   55.55 |   49.36 | 30,35,38,41,47,50,53,65,69,73,77,90,94,97,101,105,111-144,158-172                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
 ResumeForge/lib/cloudfront    |    2.08 |        0 |       0 |    2.12 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
  metadata.js                  |    2.08 |        0 |       0 |    2.12 | 6-62,68-219                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
 ResumeForge/lib/deploy        |    4.34 |        0 |       0 |    4.34 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
  notifications.js             |    4.34 |        0 |       0 |    4.34 | 53-251                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
 ResumeForge/lib/http          |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
  parseEventBody.js            |       0 |        0 |       0 |       0 | 10-24                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
 ResumeForge/lib/llm           |   49.71 |    47.23 |   47.36 |   51.19 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
  gemini.js                    |    43.9 |    45.61 |   33.33 |   45.29 | 15-34,44,57,77-82,145,157-210,229-250                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
  templates.js                 |   63.46 |    51.02 |     100 |    64.7 | 8,13-22,30,37-44,56,59,73,86                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
 ResumeForge/lib/logging       |   74.64 |    52.94 |   83.33 |   74.28 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
  attributes.js                |   74.64 |    52.94 |   83.33 |   74.28 | 8-11,94-103,120,170,181-195                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
 ResumeForge/lib/observability |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
  lambda.js                    |       0 |        0 |       0 |       0 | 7-984                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
 ResumeForge/lib/pdf           |   10.43 |     8.24 |   12.12 |   11.16 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
  backstop.js                  |    2.04 |        0 |       0 |    2.17 | 11-169                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
  index.js                     |       5 |        0 |       0 |    5.55 | 8-36                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
  resume.js                    |       0 |        0 |       0 |       0 | 12-19                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
  utils.js                     |   14.66 |     12.8 |   26.66 |      16 | 12-19,25-137,142-156,162-163,173-174,188,195-204                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
 ResumeForge/lib/pdf/templates |    1.96 |     0.24 |       4 |    1.98 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
  2025.js                      |    1.96 |     0.24 |       4 |    1.98 | 11-42,163-1177                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
 ResumeForge/lib/resume        |   47.52 |    33.51 |   50.17 |   48.63 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
  content.js                   |   68.12 |    47.29 |   75.17 |   71.28 | 11,20-25,44-45,91-94,106-108,121,173,180,191-299,316-317,320-321,332-334,354-359,377-382,395-397,415,421-422,435-451,458,530-531,554,609-610,633-635,667-669,699-701,734,768-782,796-801,805,817-827,832-836,844-849,851,917-923,927-932,952-953,967-973,988-989,1004-1005,1009-1013,1026,1029,1070-1071,1076-1077,1092-1096,1134-1137,1157,1220,1238-1245,1301,1348-1365,1400,1434-1438,1460-1461,1466,1479-1501,1506-1526,1537-1539,1542-1543,1546-1547,1550-1552                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
  enhancement.js               |    0.99 |        0 |       0 |     1.1 | 28-445                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
  jobEvaluation.js             |       0 |        0 |       0 |       0 | 9-120                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
  parsing.js                   |   73.43 |    53.62 |   75.75 |   74.14 | 161,165,175,179,183,188,197-228,239,242,279,286,291,307,330,334-337,355,380,404,409,435-464,501,515,526,555,595,621,625,629,634,638-641,658,699,721,725                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
  scoring.js                   |    0.86 |        0 |       0 |    0.88 | 27-819                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
  skills.js                    |    36.2 |     8.82 |      40 |   33.33 | 81-143                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
  utils.js                     |   83.33 |       75 |     100 |   83.33 | 12                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
 ResumeForge/lib/scoring       |     1.3 |        0 |    1.42 |     1.4 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
  atsMetrics.js                |     1.3 |        0 |    1.42 |     1.4 | 24-202,226-956                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
 ResumeForge/lib/static        |   20.43 |     8.47 |   16.66 |   20.43 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
  hashedIndexAssetRetention.js |       0 |        0 |       0 |       0 | 1-220                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
  normalization.js             |   90.32 |    71.42 |     100 |   90.32 | 3,8,30                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
 ResumeForge/lib/uploads       |   54.13 |    40.42 |      60 |   54.96 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
  metadata.js                  |   48.52 |    33.33 |      50 |   48.52 | 14,19-22,29,33,52-87,95-105,115,124-125,131                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
  s3StreamingStorage.js        |      60 |    44.82 |      70 |    61.9 | 8,11,17-31,41,47-52,58-64,67-73,91,108,128-132,144                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
-------------------------------|---------|----------|---------|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Test Suites: 1 failed, 1 total
Tests:       1 failed, 89 passed, 90 total
Snapshots:   0 total
Time:        15.468 s
Ran all test suites matching /tests\/server.test.js/i.
