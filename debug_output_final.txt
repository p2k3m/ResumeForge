
> resumeforge@1.0.0 test
> node --experimental-vm-modules node_modules/jest/bin/jest.js tests/server.test.mjs

[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
(node:12395) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
  console.log
    {"timestamp":"2025-12-04T14:06:49.840Z","level":"info","message":"http_request_received","requestId":"bbcd4f61-4f9c-48bf-a969-1ac28f6ffeed","method":"GET","path":"/healthz","template":"unknown","session":"bbcd4f61-4f9c-48bf-a969-1ac28f6ffeed","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bbcd4f61-4f9c-48bf-a969-1ac28f6ffeed","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.868Z","level":"info","message":"path_restoration_debug","reqPath":"/healthz","reqUrl":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.870Z","level":"info","message":"request_received","path":"/healthz","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.874Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.878Z","level":"info","message":"client_app_routes_entered","path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.881Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.888Z","level":"info","message":"http_request_completed","requestId":"bbcd4f61-4f9c-48bf-a969-1ac28f6ffeed","method":"GET","path":"/healthz","statusCode":200,"durationMs":48,"contentLength":"15","template":"unknown","session":"bbcd4f61-4f9c-48bf-a969-1ac28f6ffeed","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bbcd4f61-4f9c-48bf-a969-1ac28f6ffeed","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.896Z","level":"info","message":"http_request_received","requestId":"e1a79a06-09b3-4148-b0a5-03bb1a767610","method":"GET","path":"/favicon.ico","template":"unknown","session":"e1a79a06-09b3-4148-b0a5-03bb1a767610","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e1a79a06-09b3-4148-b0a5-03bb1a767610","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.898Z","level":"info","message":"path_restoration_debug","reqPath":"/favicon.ico","reqUrl":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.901Z","level":"info","message":"request_received","path":"/favicon.ico","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.902Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.904Z","level":"info","message":"client_app_routes_entered","path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.907Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.910Z","level":"info","message":"http_request_completed","requestId":"e1a79a06-09b3-4148-b0a5-03bb1a767610","method":"GET","path":"/favicon.ico","statusCode":204,"durationMs":14,"template":"unknown","session":"e1a79a06-09b3-4148-b0a5-03bb1a767610","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e1a79a06-09b3-4148-b0a5-03bb1a767610","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.913Z","level":"info","message":"http_request_received","requestId":"d2116011-70a9-453a-b91d-9d2953624ac9","method":"GET","path":"/assets/index-missing.css","template":"unknown","session":"d2116011-70a9-453a-b91d-9d2953624ac9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d2116011-70a9-453a-b91d-9d2953624ac9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.914Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-missing.css","reqUrl":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.916Z","level":"info","message":"request_received","path":"/assets/index-missing.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.918Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.920Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.925Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1011:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1023:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60","ETag":"\"etag-css\""}

      at applyS3ResponseHeaders (server.js:615:11)

  console.log
    {"timestamp":"2025-12-04T14:06:49.938Z","level":"info","message":"http_request_completed","requestId":"d2116011-70a9-453a-b91d-9d2953624ac9","method":"GET","path":"/assets/index-missing.css","statusCode":200,"durationMs":25,"contentLength":"18","template":"unknown","session":"d2116011-70a9-453a-b91d-9d2953624ac9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d2116011-70a9-453a-b91d-9d2953624ac9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.938Z","level":"info","message":"client_asset_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-missing.css","path":"/assets/index-missing.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.944Z","level":"info","message":"http_request_received","requestId":"ac37272a-20a6-4bd3-8d33-06a63797d23d","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"ac37272a-20a6-4bd3-8d33-06a63797d23d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac37272a-20a6-4bd3-8d33-06a63797d23d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.945Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.946Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.948Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.950Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1011:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1023:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    {"timestamp":"2025-12-04T14:06:49.966Z","level":"info","message":"http_request_completed","requestId":"ac37272a-20a6-4bd3-8d33-06a63797d23d","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":22,"contentLength":"106285","template":"unknown","session":"ac37272a-20a6-4bd3-8d33-06a63797d23d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac37272a-20a6-4bd3-8d33-06a63797d23d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.967Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.970Z","level":"info","message":"http_request_received","requestId":"d52dac48-1f95-409d-abe8-cf7596a85032","method":"GET","path":"/prod/assets/index-latest.css","template":"unknown","session":"d52dac48-1f95-409d-abe8-cf7596a85032","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d52dac48-1f95-409d-abe8-cf7596a85032","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.972Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.973Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.975Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.976Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1011:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1023:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    {"timestamp":"2025-12-04T14:06:49.985Z","level":"info","message":"http_request_completed","requestId":"d52dac48-1f95-409d-abe8-cf7596a85032","method":"GET","path":"/prod/assets/index-latest.css","statusCode":200,"durationMs":15,"contentLength":"106285","template":"unknown","session":"d52dac48-1f95-409d-abe8-cf7596a85032","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d52dac48-1f95-409d-abe8-cf7596a85032","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.986Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.988Z","level":"info","message":"http_request_received","requestId":"578b6361-860f-4cef-807f-3b4688c596f2","method":"HEAD","path":"/assets/index-meta.js","template":"unknown","session":"578b6361-860f-4cef-807f-3b4688c596f2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"578b6361-860f-4cef-807f-3b4688c596f2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.990Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-meta.js","reqUrl":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.991Z","level":"info","message":"request_received","path":"/assets/index-meta.js","method":"HEAD","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.992Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.994Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:49.999Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1011:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1023:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=1234 resolved=1234 metadata={"ContentType":"application/javascript","ContentLength":1234,"CacheControl":"public, max-age=31536000, immutable","ETag":"\"etag-js\"","LastModified":"2024-05-01T00:00:00.000Z"}

      at applyS3ResponseHeaders (server.js:615:11)

  console.log
    {"timestamp":"2025-12-04T14:06:50.009Z","level":"info","message":"client_asset_s3_head_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-meta.js","path":"/assets/index-meta.js","method":"HEAD","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.009Z","level":"info","message":"http_request_completed","requestId":"578b6361-860f-4cef-807f-3b4688c596f2","method":"HEAD","path":"/assets/index-meta.js","statusCode":200,"durationMs":21,"contentLength":"1234","template":"unknown","session":"578b6361-860f-4cef-807f-3b4688c596f2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"578b6361-860f-4cef-807f-3b4688c596f2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.013Z","level":"info","message":"http_request_received","requestId":"9f988187-034e-40e3-a926-354bcc6f9638","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"9f988187-034e-40e3-a926-354bcc6f9638","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9f988187-034e-40e3-a926-354bcc6f9638","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.014Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.016Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.017Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.019Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1011:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1023:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-test-alias.css'

      at resolveClientDistAssetPath (server.js:1011:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-test-alias.css'

      at resolveClientDistAssetPath (server.js:1023:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-test-alias.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:615:11)

  console.log
    {"timestamp":"2025-12-04T14:06:50.037Z","level":"info","message":"http_request_completed","requestId":"9f988187-034e-40e3-a926-354bcc6f9638","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":24,"contentLength":"23","template":"unknown","session":"9f988187-034e-40e3-a926-354bcc6f9638","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9f988187-034e-40e3-a926-354bcc6f9638","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.038Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-test-alias.css","path":"assets/index-test-alias.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-test-alias.css","s3Key":"assets/index-test-alias.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.040Z","level":"info","message":"http_request_received","requestId":"f13ba01a-1888-4423-a286-ed08d774f591","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"f13ba01a-1888-4423-a286-ed08d774f591","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f13ba01a-1888-4423-a286-ed08d774f591","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.041Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.042Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.044Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.045Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1011:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1023:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-manifest-only.css'

      at resolveClientDistAssetPath (server.js:1011:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-manifest-only.css'

      at resolveClientDistAssetPath (server.js:1023:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-manifest-only.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:615:11)

  console.log
    {"timestamp":"2025-12-04T14:06:50.054Z","level":"info","message":"http_request_completed","requestId":"f13ba01a-1888-4423-a286-ed08d774f591","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":14,"contentLength":"31","template":"unknown","session":"f13ba01a-1888-4423-a286-ed08d774f591","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f13ba01a-1888-4423-a286-ed08d774f591","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.055Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-manifest-only.css","path":"assets/index-manifest-only.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-manifest-only.css","s3Key":"assets/index-manifest-only.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.060Z","level":"info","message":"http_request_received","requestId":"06e9c1f6-8de8-4169-b089-30be1f69bc5d","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"06e9c1f6-8de8-4169-b089-30be1f69bc5d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"06e9c1f6-8de8-4169-b089-30be1f69bc5d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.062Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.063Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.064Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.065Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1011:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1023:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-prefixed.css'

      at resolveClientDistAssetPath (server.js:1011:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-prefixed.css'

      at resolveClientDistAssetPath (server.js:1023:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-prefixed.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:615:11)

  console.log
    {"timestamp":"2025-12-04T14:06:50.075Z","level":"info","message":"http_request_completed","requestId":"06e9c1f6-8de8-4169-b089-30be1f69bc5d","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":15,"contentLength":"26","template":"unknown","session":"06e9c1f6-8de8-4169-b089-30be1f69bc5d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"06e9c1f6-8de8-4169-b089-30be1f69bc5d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.075Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/prod/latest/assets/index-prefixed.css","path":"static/client/prod/latest/assets/index-prefixed.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-prefixed.css","s3Key":"static/client/prod/latest/assets/index-prefixed.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.078Z","level":"info","message":"http_request_received","requestId":"3f2f172b-8eaf-4f6f-ac8c-578fabf35215","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"3f2f172b-8eaf-4f6f-ac8c-578fabf35215","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3f2f172b-8eaf-4f6f-ac8c-578fabf35215","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.079Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.081Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.082Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.083Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1011:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1023:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1011:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1023:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.warn
    {"timestamp":"2025-12-04T14:06:50.095Z","level":"warn","message":"client_asset_alias_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-missing.css","path":"assets/index-missing.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-missing.css","s3Key":"assets/index-missing.css","error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:582:23)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1150:41)\n    at handleIndexAssetAliasRequest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1418:13)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at serveIndexAssetAlias (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1527:3)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at serveHashedIndexAssetFromS3 (server.js:1170:5)
      at handleIndexAssetAliasRequest (server.js:1418:7)
      at serveIndexAssetAlias (server.js:1527:3)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-existing.css'

      at resolveClientDistAssetPath (server.js:1011:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-existing.css'

      at resolveClientDistAssetPath (server.js:1023:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-existing.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:615:11)

  console.log
    {"timestamp":"2025-12-04T14:06:50.105Z","level":"info","message":"http_request_completed","requestId":"3f2f172b-8eaf-4f6f-ac8c-578fabf35215","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":27,"contentLength":"26","template":"unknown","session":"3f2f172b-8eaf-4f6f-ac8c-578fabf35215","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3f2f172b-8eaf-4f6f-ac8c-578fabf35215","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.106Z","level":"info","message":"client_asset_alias_fallback_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-existing.css","path":"assets/index-existing.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-existing.css","s3Key":"assets/index-existing.css","manifestFallback":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.109Z","level":"info","message":"http_request_received","requestId":"67770b42-93cd-4fa6-aa45-8ede00a6126c","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"67770b42-93cd-4fa6-aa45-8ede00a6126c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67770b42-93cd-4fa6-aa45-8ede00a6126c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.110Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.111Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.113Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.114Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.116Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-latest.css' candidate='assets/index-latest.css'

      at normalizeStaticProxyAssetPath (server.js:1604:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1011:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1023:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    {"timestamp":"2025-12-04T14:06:50.122Z","level":"info","message":"http_request_completed","requestId":"67770b42-93cd-4fa6-aa45-8ede00a6126c","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","statusCode":200,"durationMs":13,"contentLength":"106285","template":"unknown","session":"67770b42-93cd-4fa6-aa45-8ede00a6126c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67770b42-93cd-4fa6-aa45-8ede00a6126c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.122Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.125Z","level":"info","message":"http_request_received","requestId":"80e702af-fddb-4097-af21-968e3122dd31","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","template":"unknown","session":"80e702af-fddb-4097-af21-968e3122dd31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80e702af-fddb-4097-af21-968e3122dd31","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.126Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.127Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.128Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.131Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.133Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-latest.css,,' candidate='assets/index-latest.css,,'

      at normalizeStaticProxyAssetPath (server.js:1604:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1011:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1023:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    {"timestamp":"2025-12-04T14:06:50.139Z","level":"info","message":"http_request_completed","requestId":"80e702af-fddb-4097-af21-968e3122dd31","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","statusCode":200,"durationMs":14,"contentLength":"106285","template":"unknown","session":"80e702af-fddb-4097-af21-968e3122dd31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80e702af-fddb-4097-af21-968e3122dd31","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.139Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.143Z","level":"info","message":"http_request_received","requestId":"17078284-ba4b-435d-86e9-1abbfe78f830","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","template":"unknown","session":"17078284-ba4b-435d-86e9-1abbfe78f830","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"17078284-ba4b-435d-86e9-1abbfe78f830","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.144Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.145Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.147Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.148Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.150Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='/assets/index-latest.css' candidate='/assets/index-latest.css'

      at normalizeStaticProxyAssetPath (server.js:1604:11)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-0da4b4af.css,, {"alias":"/assets/index-latest.css"}' candidate='assets/index-0da4b4af.css,, {"alias":"/assets/index-latest.css"}'

      at normalizeStaticProxyAssetPath (server.js:1604:11)

  console.log
    DEBUG: proxy handler { normalizedAssetPath: '/assets/index-0da4b4af.css' }

      at server.js:19142:11

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1011:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1023:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    {"timestamp":"2025-12-04T14:06:50.157Z","level":"info","message":"http_request_completed","requestId":"17078284-ba4b-435d-86e9-1abbfe78f830","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","statusCode":200,"durationMs":14,"contentLength":"106285","template":"unknown","session":"17078284-ba4b-435d-86e9-1abbfe78f830","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"17078284-ba4b-435d-86e9-1abbfe78f830","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.157Z","level":"info","message":"client_asset_alias_local_served","path":"/assets/index-0da4b4af.css","method":"GET","proxy":true,"aliasPath":"/assets/index-latest.css","annotatedAlias":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.160Z","level":"info","message":"http_request_received","requestId":"43ee5cca-ea3c-4820-9229-94dd8d8da411","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"43ee5cca-ea3c-4820-9229-94dd8d8da411","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"43ee5cca-ea3c-4820-9229-94dd8d8da411","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.161Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.166Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.167Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.168Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.171Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-latest.css' candidate='assets/index-latest.css'

      at normalizeStaticProxyAssetPath (server.js:1604:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1011:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1023:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1011:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1023:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:615:11)

  console.log
    {"timestamp":"2025-12-04T14:06:50.178Z","level":"info","message":"http_request_completed","requestId":"43ee5cca-ea3c-4820-9229-94dd8d8da411","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","statusCode":200,"durationMs":18,"contentLength":"32","template":"unknown","session":"43ee5cca-ea3c-4820-9229-94dd8d8da411","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"43ee5cca-ea3c-4820-9229-94dd8d8da411","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.179Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-0da4b4af.css","path":"assets/index-0da4b4af.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-0da4b4af.css","s3Key":"assets/index-0da4b4af.css","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.181Z","level":"info","message":"http_request_received","requestId":"455c86a2-fe9a-4220-a53c-d8b6339eb5c1","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css","template":"unknown","session":"455c86a2-fe9a-4220-a53c-d8b6339eb5c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"455c86a2-fe9a-4220-a53c-d8b6339eb5c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.182Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.184Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.185Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.186Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.188Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-0da4b4af.css' candidate='assets/index-0da4b4af.css'

      at normalizeStaticProxyAssetPath (server.js:1604:11)

  console.log
    DEBUG: proxy handler { normalizedAssetPath: '/assets/index-0da4b4af.css' }

      at server.js:19142:11

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1011:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1023:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.warn
    {"timestamp":"2025-12-04T14:06:50.192Z","level":"warn","message":"client_asset_proxy_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-0da4b4af.css","path":"/assets/index-0da4b4af.css","method":"GET","proxy":true,"error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:762:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1150:41)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19155:30\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at serveHashedIndexAssetFromS3 (server.js:1170:5)
      at server.js:19155:30

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1011:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1023:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    {"timestamp":"2025-12-04T14:06:50.200Z","level":"info","message":"http_request_completed","requestId":"455c86a2-fe9a-4220-a53c-d8b6339eb5c1","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css","statusCode":200,"durationMs":19,"contentLength":"106285","template":"unknown","session":"455c86a2-fe9a-4220-a53c-d8b6339eb5c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"455c86a2-fe9a-4220-a53c-d8b6339eb5c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.201Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","path":"/assets/index-0da4b4af.css","proxy":true,"degradedFrom":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:50.201Z","level":"warn","message":"client_asset_proxy_degraded_to_alias","path":"/assets/index-0da4b4af.css","method":"GET","proxy":true,"aliasPath":"/assets/index-latest.css","degradedFrom":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:19211:9

  console.log
    {"timestamp":"2025-12-04T14:06:50.209Z","level":"info","message":"http_request_received","requestId":"93e824c7-8918-47d0-a04c-595b59086d4d","method":"GET","path":"/assets/index-0da4b4af.css","template":"unknown","session":"93e824c7-8918-47d0-a04c-595b59086d4d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"93e824c7-8918-47d0-a04c-595b59086d4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.210Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-0da4b4af.css","reqUrl":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.212Z","level":"info","message":"request_received","path":"/assets/index-0da4b4af.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.213Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.214Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.217Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1011:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1023:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.warn
    {"timestamp":"2025-12-04T14:06:50.224Z","level":"warn","message":"client_asset_s3_fallback_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-0da4b4af.css","path":"/assets/index-0da4b4af.css","method":"GET","error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:808:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1150:41)\n    at tryServeHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1211:24)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at serveHashedIndexAssetFromS3 (server.js:1170:5)
      at tryServeHashedIndexAssetFromS3 (server.js:1211:24)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1011:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1023:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    {"timestamp":"2025-12-04T14:06:50.231Z","level":"info","message":"http_request_completed","requestId":"93e824c7-8918-47d0-a04c-595b59086d4d","method":"GET","path":"/assets/index-0da4b4af.css","statusCode":200,"durationMs":22,"contentLength":"106285","template":"unknown","session":"93e824c7-8918-47d0-a04c-595b59086d4d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"93e824c7-8918-47d0-a04c-595b59086d4d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.231Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","hashedPath":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:50.232Z","level":"warn","message":"hashed_index_asset_degraded_to_alias","hashedPath":"/assets/index-0da4b4af.css","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at tryServeHashedIndexAssetFromS3 (server.js:1263:7)

  console.log
    {"timestamp":"2025-12-04T14:06:50.238Z","level":"info","message":"http_request_received","requestId":"b4bd6036-d634-459c-b523-0bfc8565557b","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","template":"unknown","session":"b4bd6036-d634-459c-b523-0bfc8565557b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4bd6036-d634-459c-b523-0bfc8565557b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.239Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=..%2Fsecrets.txt","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.240Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.241Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.243Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.244Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='../secrets.txt' candidate='../secrets.txt'

      at normalizeStaticProxyAssetPath (server.js:1604:11)

  console.warn
    {"timestamp":"2025-12-04T14:06:50.247Z","level":"warn","message":"api_error_response","requestId":"b4bd6036-d634-459c-b523-0bfc8565557b","status":400,"error":{"code":"INVALID_STATIC_ASSET_PATH","message":"Provide a valid static asset path to proxy.","details":{},"requestId":"b4bd6036-d634-459c-b523-0bfc8565557b"},"template":"unknown","session":"b4bd6036-d634-459c-b523-0bfc8565557b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4bd6036-d634-459c-b523-0bfc8565557b","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at sendError (server.js:3965:3)
      at server.js:19081:12
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at SendStream.error (node_modules/serve-static/index.js:121:7)
      at SendStream.error (node_modules/send/index.js:270:17)
      at SendStream.onStatError (node_modules/send/index.js:417:12)
      at next (node_modules/send/index.js:730:16)
      at onstat (node_modules/send/index.js:719:14)

  console.log
    {"timestamp":"2025-12-04T14:06:50.254Z","level":"info","message":"http_request_completed","requestId":"b4bd6036-d634-459c-b523-0bfc8565557b","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","statusCode":400,"durationMs":16,"contentLength":"182","template":"unknown","session":"b4bd6036-d634-459c-b523-0bfc8565557b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4bd6036-d634-459c-b523-0bfc8565557b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.257Z","level":"info","message":"http_request_received","requestId":"62ee2ce0-6f69-41e9-971b-c9a54546f27e","method":"GET","path":"/api/static-manifest","template":"unknown","session":"62ee2ce0-6f69-41e9-971b-c9a54546f27e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62ee2ce0-6f69-41e9-971b-c9a54546f27e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.258Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.259Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.261Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.262Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.264Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.266Z","level":"info","message":"http_request_completed","requestId":"62ee2ce0-6f69-41e9-971b-c9a54546f27e","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":9,"contentLength":"301","template":"unknown","session":"62ee2ce0-6f69-41e9-971b-c9a54546f27e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62ee2ce0-6f69-41e9-971b-c9a54546f27e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.269Z","level":"info","message":"http_request_received","requestId":"6da0888b-3e39-41b7-9a0d-ab9a0464007a","method":"GET","path":"/api/static-manifest","template":"unknown","session":"6da0888b-3e39-41b7-9a0d-ab9a0464007a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6da0888b-3e39-41b7-9a0d-ab9a0464007a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.270Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.271Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.272Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.273Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.275Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.277Z","level":"info","message":"http_request_completed","requestId":"6da0888b-3e39-41b7-9a0d-ab9a0464007a","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":8,"contentLength":"195","template":"unknown","session":"6da0888b-3e39-41b7-9a0d-ab9a0464007a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6da0888b-3e39-41b7-9a0d-ab9a0464007a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.279Z","level":"info","message":"http_request_received","requestId":"b61c288a-52e8-4bc7-836b-1ec24086e2b9","method":"GET","path":"/api/static-manifest?refresh=1","template":"unknown","session":"b61c288a-52e8-4bc7-836b-1ec24086e2b9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b61c288a-52e8-4bc7-836b-1ec24086e2b9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.280Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest?refresh=1","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.281Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.282Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.283Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.285Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.287Z","level":"info","message":"http_request_completed","requestId":"b61c288a-52e8-4bc7-836b-1ec24086e2b9","method":"GET","path":"/api/static-manifest?refresh=1","statusCode":200,"durationMs":8,"contentLength":"195","template":"unknown","session":"b61c288a-52e8-4bc7-836b-1ec24086e2b9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b61c288a-52e8-4bc7-836b-1ec24086e2b9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.290Z","level":"info","message":"http_request_received","requestId":"59d3e9fe-f284-48d6-bbce-115e516948d7","method":"GET","path":"/api/static-manifest","template":"unknown","session":"59d3e9fe-f284-48d6-bbce-115e516948d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59d3e9fe-f284-48d6-bbce-115e516948d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.291Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.292Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.293Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.294Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.296Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:50.305Z","level":"warn","message":"client_asset_manifest_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/manifest.json","error":{"name":"Error","message":"manifest not found","stack":"Error: manifest not found\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:906:22)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7809:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7812:16)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:866:30\n    at loadStaticAssetManifestFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:949:5)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19231:28\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/serve-static/index.js:121:7)\n    at SendStream.emit (node:events:513:28)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:270:17)\n    at SendStream.onStatError (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:417:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:730:16)\n    at onstat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:719:14)\n    at FSReqCallback.oncomplete (node:fs:206:21)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:941:7
      at loadStaticAssetManifestFromS3 (server.js:956:12)
      at server.js:19231:22

  console.error
    {"timestamp":"2025-12-04T14:06:50.310Z","level":"error","message":"api_error_response","requestId":"59d3e9fe-f284-48d6-bbce-115e516948d7","status":503,"error":{"code":"STATIC_MANIFEST_UNAVAILABLE","message":"Static asset manifest is not currently available. Please try again shortly.","details":{},"requestId":"59d3e9fe-f284-48d6-bbce-115e516948d7"},"template":"unknown","session":"59d3e9fe-f284-48d6-bbce-115e516948d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59d3e9fe-f284-48d6-bbce-115e516948d7","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at sendError (server.js:3965:3)
      at server.js:19236:14

  console.log
    {"timestamp":"2025-12-04T14:06:50.316Z","level":"info","message":"http_request_completed","requestId":"59d3e9fe-f284-48d6-bbce-115e516948d7","method":"GET","path":"/api/static-manifest","statusCode":503,"durationMs":26,"contentLength":"216","template":"unknown","session":"59d3e9fe-f284-48d6-bbce-115e516948d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59d3e9fe-f284-48d6-bbce-115e516948d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.320Z","level":"info","message":"http_request_received","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","method":"POST","path":"/api/process-cv","template":"unknown","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.321Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.322Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.324Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.326Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.327Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/84fe7522-ceae-46b4-95df-7ac24e2063e5/incoming/original.pdf","chunks":1,"timestamp":1764857210333}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/84fe7522-ceae-46b4-95df-7ac24e2063e5/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/84fe7522-ceae-46b4-95df-7ac24e2063e5/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":7}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:06:50.348Z","level":"info","message":"process_cv_started","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","manualJobDescriptionProvided":true,"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.349Z","level":"info","message":"template_selection","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:50.351Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:50.359Z","level":"info","message":"initial_upload_completed","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","bucket":"test-bucket","key":"cv/candidate/84fe7522-ceae-46b4-95df-7ac24e2063e5/incoming/original.pdf","template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.372Z","level":"info","message":"resume_text_extracted","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","characters":57,"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.373Z","level":"info","message":"resume_classified","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.375Z","level":"info","message":"raw_upload_relocated","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","bucket":"test-bucket","fromKey":"cv/candidate/84fe7522-ceae-46b4-95df-7ac24e2063e5/incoming/original.pdf","toKey":"cv/professional_summary/84fe7522-ceae-46b4-95df-7ac24e2063e5/original.pdf","template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.375Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","bucket":"test-bucket","key":"cv/professional_summary/84fe7522-ceae-46b4-95df-7ac24e2063e5/original.pdf","template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.376Z","level":"info","message":"dynamo_initial_record_written","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","bucket":"test-bucket","key":"cv/professional_summary/84fe7522-ceae-46b4-95df-7ac24e2063e5/original.pdf","template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.376Z","level":"info","message":"upload_metadata_written","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","bucket":"test-bucket","key":"cv/professional_summary/84fe7522-ceae-46b4-95df-7ac24e2063e5/logs/log.json","template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.377Z","level":"info","message":"job_description_supplied_manually","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","characters":174,"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.378Z","level":"info","message":"job_description_analyzed","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","jobTitle":"","jobSkills":5,"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.382Z","level":"info","message":"resume_skills_analyzed","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.384Z","level":"info","message":"llm_call_metrics","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.386Z","level":"info","message":"process_cv_scoring_completed","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.401Z","level":"info","message":"llm_call_metrics","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.402Z","level":"info","message":"generation_section_rewrite_completed","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","generationRunId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.403Z","level":"info","message":"llm_call_metrics","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.408Z","level":"info","message":"generation_resume_verified","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","generationRunId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:50.425Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","generationRunId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:50.435Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","generationRunId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:50.441Z","level":"info","message":"generation_cover_letters_completed","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","generationRunId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","variants":2,"fallbackApplied":true,"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.443Z","level":"info","message":"pdf_generation_attempt","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","generationRunId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/84fe7522-ceae-46b4-95df-7ac24e2063e5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/84fe7522-ceae-46b4-95df-7ac24e2063e5/enhanced_modern.pdf","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.444Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","generationRunId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/84fe7522-ceae-46b4-95df-7ac24e2063e5/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.444Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","generationRunId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/84fe7522-ceae-46b4-95df-7ac24e2063e5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/84fe7522-ceae-46b4-95df-7ac24e2063e5/enhanced_modern.pdf","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.445Z","level":"info","message":"pdf_generation_attempt","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","generationRunId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/84fe7522-ceae-46b4-95df-7ac24e2063e5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/84fe7522-ceae-46b4-95df-7ac24e2063e5/enhanced_professional.pdf","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.446Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","generationRunId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/84fe7522-ceae-46b4-95df-7ac24e2063e5/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.446Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","generationRunId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/84fe7522-ceae-46b4-95df-7ac24e2063e5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/84fe7522-ceae-46b4-95df-7ac24e2063e5/enhanced_professional.pdf","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.447Z","level":"info","message":"pdf_generation_attempt","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","generationRunId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/84fe7522-ceae-46b4-95df-7ac24e2063e5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/84fe7522-ceae-46b4-95df-7ac24e2063e5/cover_letter_cover_modern.pdf","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.447Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","generationRunId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/84fe7522-ceae-46b4-95df-7ac24e2063e5/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.448Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","generationRunId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/84fe7522-ceae-46b4-95df-7ac24e2063e5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/84fe7522-ceae-46b4-95df-7ac24e2063e5/cover_letter_cover_modern.pdf","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.449Z","level":"info","message":"pdf_generation_attempt","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","generationRunId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/84fe7522-ceae-46b4-95df-7ac24e2063e5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/84fe7522-ceae-46b4-95df-7ac24e2063e5/cover_letter_cover_professional.pdf","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.449Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","generationRunId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/84fe7522-ceae-46b4-95df-7ac24e2063e5/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.450Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","generationRunId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/84fe7522-ceae-46b4-95df-7ac24e2063e5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/84fe7522-ceae-46b4-95df-7ac24e2063e5/cover_letter_cover_professional.pdf","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.456Z","level":"info","message":"llm_call_metrics","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.457Z","level":"info","message":"generation_completed","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","generationRunId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","enhancedScore":80,"outputs":5,"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.459Z","level":"info","message":"placeholder_record_deleted","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","jobId":"4c194b25-ae76-410d-b669-68407c62b1a9","placeholderIdentifier":"84fe7522-ceae-46b4-95df-7ac24e2063e5","template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c194b25-ae76-410d-b669-68407c62b1a9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.460Z","level":"info","message":"http_request_completed","requestId":"84fe7522-ceae-46b4-95df-7ac24e2063e5","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":140,"contentLength":"58133","template":"unknown","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"84fe7522-ceae-46b4-95df-7ac24e2063e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.466Z","level":"info","message":"http_request_received","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","method":"POST","path":"/api/process-cv","template":"unknown","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.467Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.468Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.470Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.472Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.474Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/30e79afc-ac51-4fba-b091-1fe8432d8abc/incoming/original.pdf","chunks":1,"timestamp":1764857210478}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/30e79afc-ac51-4fba-b091-1fe8432d8abc/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/30e79afc-ac51-4fba-b091-1fe8432d8abc/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:06:50.488Z","level":"info","message":"process_cv_started","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","manualJobDescriptionProvided":true,"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.488Z","level":"info","message":"template_selection","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:50.489Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:50.497Z","level":"info","message":"initial_upload_completed","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","bucket":"test-bucket","key":"cv/candidate/30e79afc-ac51-4fba-b091-1fe8432d8abc/incoming/original.pdf","template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.502Z","level":"info","message":"resume_text_extracted","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","characters":57,"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.503Z","level":"info","message":"resume_classified","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.503Z","level":"info","message":"raw_upload_relocated","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","bucket":"test-bucket","fromKey":"cv/candidate/30e79afc-ac51-4fba-b091-1fe8432d8abc/incoming/original.pdf","toKey":"cv/professional_summary/30e79afc-ac51-4fba-b091-1fe8432d8abc/original.pdf","template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.504Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","bucket":"test-bucket","key":"cv/professional_summary/30e79afc-ac51-4fba-b091-1fe8432d8abc/original.pdf","template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.504Z","level":"info","message":"dynamo_initial_record_written","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","bucket":"test-bucket","key":"cv/professional_summary/30e79afc-ac51-4fba-b091-1fe8432d8abc/original.pdf","template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.505Z","level":"info","message":"upload_metadata_written","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","bucket":"test-bucket","key":"cv/professional_summary/30e79afc-ac51-4fba-b091-1fe8432d8abc/logs/log.json","template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.505Z","level":"info","message":"job_description_supplied_manually","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","characters":174,"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.505Z","level":"info","message":"job_description_analyzed","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","jobTitle":"","jobSkills":5,"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.506Z","level":"info","message":"resume_skills_analyzed","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.507Z","level":"info","message":"llm_call_metrics","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.508Z","level":"info","message":"process_cv_scoring_completed","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.511Z","level":"info","message":"llm_call_metrics","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.511Z","level":"info","message":"generation_section_rewrite_completed","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","generationRunId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.512Z","level":"info","message":"llm_call_metrics","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.516Z","level":"info","message":"generation_resume_verified","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","generationRunId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:50.521Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","generationRunId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:50.530Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","generationRunId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:50.536Z","level":"info","message":"generation_cover_letters_completed","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","generationRunId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","variants":2,"fallbackApplied":true,"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.537Z","level":"info","message":"pdf_generation_attempt","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","generationRunId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/30e79afc-ac51-4fba-b091-1fe8432d8abc/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/30e79afc-ac51-4fba-b091-1fe8432d8abc/enhanced_modern.pdf","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.538Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","generationRunId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/30e79afc-ac51-4fba-b091-1fe8432d8abc/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.538Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","generationRunId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/30e79afc-ac51-4fba-b091-1fe8432d8abc/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/30e79afc-ac51-4fba-b091-1fe8432d8abc/enhanced_modern.pdf","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.539Z","level":"info","message":"pdf_generation_attempt","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","generationRunId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/30e79afc-ac51-4fba-b091-1fe8432d8abc/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/30e79afc-ac51-4fba-b091-1fe8432d8abc/enhanced_professional.pdf","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.539Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","generationRunId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/30e79afc-ac51-4fba-b091-1fe8432d8abc/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.540Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","generationRunId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/30e79afc-ac51-4fba-b091-1fe8432d8abc/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/30e79afc-ac51-4fba-b091-1fe8432d8abc/enhanced_professional.pdf","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.541Z","level":"info","message":"pdf_generation_attempt","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","generationRunId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/30e79afc-ac51-4fba-b091-1fe8432d8abc/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/30e79afc-ac51-4fba-b091-1fe8432d8abc/cover_letter_cover_modern.pdf","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.541Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","generationRunId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/30e79afc-ac51-4fba-b091-1fe8432d8abc/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.542Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","generationRunId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/30e79afc-ac51-4fba-b091-1fe8432d8abc/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/30e79afc-ac51-4fba-b091-1fe8432d8abc/cover_letter_cover_modern.pdf","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.543Z","level":"info","message":"pdf_generation_attempt","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","generationRunId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/30e79afc-ac51-4fba-b091-1fe8432d8abc/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/30e79afc-ac51-4fba-b091-1fe8432d8abc/cover_letter_cover_professional.pdf","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.543Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","generationRunId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/30e79afc-ac51-4fba-b091-1fe8432d8abc/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.544Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","generationRunId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/30e79afc-ac51-4fba-b091-1fe8432d8abc/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/30e79afc-ac51-4fba-b091-1fe8432d8abc/cover_letter_cover_professional.pdf","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.547Z","level":"info","message":"llm_call_metrics","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.548Z","level":"info","message":"generation_completed","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","generationRunId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","enhancedScore":80,"outputs":5,"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.549Z","level":"info","message":"placeholder_record_deleted","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","jobId":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","placeholderIdentifier":"30e79afc-ac51-4fba-b091-1fe8432d8abc","template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e60b4ca-a5a9-4016-975a-27cbbceb9524","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.550Z","level":"info","message":"http_request_completed","requestId":"30e79afc-ac51-4fba-b091-1fe8432d8abc","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":84,"contentLength":"58133","template":"unknown","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"30e79afc-ac51-4fba-b091-1fe8432d8abc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.562Z","level":"info","message":"http_request_received","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","method":"POST","path":"/api/process-cv","template":"unknown","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.563Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.564Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.566Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.568Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.570Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/97b56bef-6f19-4e70-a49a-e0fe348174be/incoming/original.pdf","chunks":1,"timestamp":1764857210573}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/97b56bef-6f19-4e70-a49a-e0fe348174be/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/97b56bef-6f19-4e70-a49a-e0fe348174be/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:06:50.574Z","level":"info","message":"process_cv_started","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","manualJobDescriptionProvided":true,"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.575Z","level":"info","message":"template_selection","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:50.576Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:50.583Z","level":"info","message":"initial_upload_completed","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","bucket":"test-bucket","key":"cv/candidate/97b56bef-6f19-4e70-a49a-e0fe348174be/incoming/original.pdf","template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.583Z","level":"info","message":"resume_text_extracted","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","characters":57,"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.584Z","level":"info","message":"resume_classified","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.584Z","level":"info","message":"raw_upload_relocated","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","bucket":"test-bucket","fromKey":"cv/candidate/97b56bef-6f19-4e70-a49a-e0fe348174be/incoming/original.pdf","toKey":"cv/professional_summary/97b56bef-6f19-4e70-a49a-e0fe348174be/original.pdf","template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.586Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","bucket":"test-bucket","key":"cv/professional_summary/97b56bef-6f19-4e70-a49a-e0fe348174be/original.pdf","template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.587Z","level":"info","message":"dynamo_initial_record_written","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","bucket":"test-bucket","key":"cv/professional_summary/97b56bef-6f19-4e70-a49a-e0fe348174be/original.pdf","template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.587Z","level":"info","message":"upload_metadata_written","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","bucket":"test-bucket","key":"cv/professional_summary/97b56bef-6f19-4e70-a49a-e0fe348174be/logs/log.json","template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.588Z","level":"info","message":"session_transition_change_log_removed","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","bucket":"test-bucket","removedKeys":["cv/candidate/session-old/logs/change-log.json","cv/candidate/session-old/artifacts/changelog.json"],"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.588Z","level":"info","message":"job_description_supplied_manually","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","characters":174,"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.588Z","level":"info","message":"job_description_analyzed","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","jobTitle":"","jobSkills":5,"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.589Z","level":"info","message":"resume_skills_analyzed","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.590Z","level":"info","message":"llm_call_metrics","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.591Z","level":"info","message":"process_cv_scoring_completed","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.593Z","level":"info","message":"llm_call_metrics","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.594Z","level":"info","message":"generation_section_rewrite_completed","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","generationRunId":"97b56bef-6f19-4e70-a49a-e0fe348174be","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.594Z","level":"info","message":"llm_call_metrics","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.599Z","level":"info","message":"generation_resume_verified","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","generationRunId":"97b56bef-6f19-4e70-a49a-e0fe348174be","template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:50.602Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","generationRunId":"97b56bef-6f19-4e70-a49a-e0fe348174be","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:50.610Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","generationRunId":"97b56bef-6f19-4e70-a49a-e0fe348174be","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:50.616Z","level":"info","message":"generation_cover_letters_completed","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","generationRunId":"97b56bef-6f19-4e70-a49a-e0fe348174be","variants":2,"fallbackApplied":true,"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.617Z","level":"info","message":"pdf_generation_attempt","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","generationRunId":"97b56bef-6f19-4e70-a49a-e0fe348174be","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/97b56bef-6f19-4e70-a49a-e0fe348174be/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/97b56bef-6f19-4e70-a49a-e0fe348174be/enhanced_modern.pdf","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.618Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","generationRunId":"97b56bef-6f19-4e70-a49a-e0fe348174be","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/97b56bef-6f19-4e70-a49a-e0fe348174be/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.618Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","generationRunId":"97b56bef-6f19-4e70-a49a-e0fe348174be","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/97b56bef-6f19-4e70-a49a-e0fe348174be/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/97b56bef-6f19-4e70-a49a-e0fe348174be/enhanced_modern.pdf","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.619Z","level":"info","message":"pdf_generation_attempt","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","generationRunId":"97b56bef-6f19-4e70-a49a-e0fe348174be","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/97b56bef-6f19-4e70-a49a-e0fe348174be/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/97b56bef-6f19-4e70-a49a-e0fe348174be/enhanced_professional.pdf","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.619Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","generationRunId":"97b56bef-6f19-4e70-a49a-e0fe348174be","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/97b56bef-6f19-4e70-a49a-e0fe348174be/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.620Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","generationRunId":"97b56bef-6f19-4e70-a49a-e0fe348174be","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/97b56bef-6f19-4e70-a49a-e0fe348174be/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/97b56bef-6f19-4e70-a49a-e0fe348174be/enhanced_professional.pdf","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.621Z","level":"info","message":"pdf_generation_attempt","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","generationRunId":"97b56bef-6f19-4e70-a49a-e0fe348174be","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/97b56bef-6f19-4e70-a49a-e0fe348174be/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/97b56bef-6f19-4e70-a49a-e0fe348174be/cover_letter_cover_modern.pdf","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.622Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","generationRunId":"97b56bef-6f19-4e70-a49a-e0fe348174be","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/97b56bef-6f19-4e70-a49a-e0fe348174be/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.622Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","generationRunId":"97b56bef-6f19-4e70-a49a-e0fe348174be","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/97b56bef-6f19-4e70-a49a-e0fe348174be/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/97b56bef-6f19-4e70-a49a-e0fe348174be/cover_letter_cover_modern.pdf","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.623Z","level":"info","message":"pdf_generation_attempt","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","generationRunId":"97b56bef-6f19-4e70-a49a-e0fe348174be","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/97b56bef-6f19-4e70-a49a-e0fe348174be/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/97b56bef-6f19-4e70-a49a-e0fe348174be/cover_letter_cover_professional.pdf","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.624Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","generationRunId":"97b56bef-6f19-4e70-a49a-e0fe348174be","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/97b56bef-6f19-4e70-a49a-e0fe348174be/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.624Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","generationRunId":"97b56bef-6f19-4e70-a49a-e0fe348174be","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/97b56bef-6f19-4e70-a49a-e0fe348174be/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/97b56bef-6f19-4e70-a49a-e0fe348174be/cover_letter_cover_professional.pdf","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.627Z","level":"info","message":"llm_call_metrics","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.628Z","level":"info","message":"generation_completed","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","generationRunId":"97b56bef-6f19-4e70-a49a-e0fe348174be","enhancedScore":80,"outputs":5,"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.629Z","level":"info","message":"placeholder_record_deleted","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","jobId":"081ab41f-8bea-43aa-bf1a-0fbb24add089","placeholderIdentifier":"97b56bef-6f19-4e70-a49a-e0fe348174be","template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"081ab41f-8bea-43aa-bf1a-0fbb24add089","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.630Z","level":"info","message":"http_request_completed","requestId":"97b56bef-6f19-4e70-a49a-e0fe348174be","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":68,"contentLength":"58133","template":"unknown","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"97b56bef-6f19-4e70-a49a-e0fe348174be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.634Z","level":"info","message":"http_request_received","requestId":"repeat","method":"POST","path":"/api/process-cv","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.635Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.637Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.638Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.640Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.642Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","chunks":1,"timestamp":1764857210645}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:06:50.650Z","level":"info","message":"process_cv_started","requestId":"repeat","jobId":"repeat","manualJobDescriptionProvided":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.651Z","level":"info","message":"template_selection","requestId":"repeat","jobId":"repeat","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:50.652Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"repeat","jobId":"repeat","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:50.660Z","level":"info","message":"initial_upload_completed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.661Z","level":"info","message":"resume_text_extracted","requestId":"repeat","jobId":"repeat","characters":57,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.662Z","level":"info","message":"resume_classified","requestId":"repeat","jobId":"repeat","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.662Z","level":"info","message":"raw_upload_relocated","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","fromKey":"cv/candidate/repeat/incoming/original.pdf","toKey":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.663Z","level":"info","message":"dynamo_initial_record_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.663Z","level":"info","message":"upload_metadata_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/logs/log.json","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.664Z","level":"info","message":"session_transition_change_log_removed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","removedKeys":["cv/candidate/repeat/logs/change-log.json","cv/candidate/repeat/artifacts/changelog.json"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.664Z","level":"info","message":"job_description_supplied_manually","requestId":"repeat","jobId":"repeat","characters":174,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.665Z","level":"info","message":"job_description_analyzed","requestId":"repeat","jobId":"repeat","jobTitle":"","jobSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.665Z","level":"info","message":"resume_skills_analyzed","requestId":"repeat","jobId":"repeat","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.666Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.667Z","level":"info","message":"process_cv_scoring_completed","requestId":"repeat","jobId":"repeat","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.671Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.672Z","level":"info","message":"generation_section_rewrite_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.673Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.676Z","level":"info","message":"generation_resume_verified","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:50.680Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:50.690Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:50.699Z","level":"info","message":"generation_cover_letters_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","variants":2,"fallbackApplied":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.700Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.700Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.701Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.702Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.702Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.703Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.703Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.704Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.704Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.706Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.706Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.707Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.718Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.719Z","level":"info","message":"generation_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","enhancedScore":80,"outputs":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.722Z","level":"info","message":"http_request_completed","requestId":"repeat","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":88,"contentLength":"57353","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.728Z","level":"info","message":"http_request_received","requestId":"d4501943-ac6f-4888-be71-17c22916c057","method":"POST","path":"/api/process-cv","template":"unknown","session":"d4501943-ac6f-4888-be71-17c22916c057","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d4501943-ac6f-4888-be71-17c22916c057","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.730Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.732Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.734Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.736Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.739Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/d4501943-ac6f-4888-be71-17c22916c057/incoming/original.pdf","chunks":1,"timestamp":1764857210743}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/d4501943-ac6f-4888-be71-17c22916c057/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/d4501943-ac6f-4888-be71-17c22916c057/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:06:50.746Z","level":"info","message":"process_cv_started","requestId":"d4501943-ac6f-4888-be71-17c22916c057","jobId":"3b1b7c50-fb66-494a-8bf7-1eb6a3949d47","manualJobDescriptionProvided":false,"template":"unknown","session":"3b1b7c50-fb66-494a-8bf7-1eb6a3949d47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b1b7c50-fb66-494a-8bf7-1eb6a3949d47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.747Z","level":"info","message":"template_selection","requestId":"d4501943-ac6f-4888-be71-17c22916c057","jobId":"3b1b7c50-fb66-494a-8bf7-1eb6a3949d47","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"3b1b7c50-fb66-494a-8bf7-1eb6a3949d47","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3b1b7c50-fb66-494a-8bf7-1eb6a3949d47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:50.748Z","level":"warn","message":"job_description_missing","requestId":"d4501943-ac6f-4888-be71-17c22916c057","jobId":"3b1b7c50-fb66-494a-8bf7-1eb6a3949d47","template":"unknown","session":"3b1b7c50-fb66-494a-8bf7-1eb6a3949d47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b1b7c50-fb66-494a-8bf7-1eb6a3949d47","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25105:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T14:06:50.756Z","level":"warn","message":"api_error_response","requestId":"d4501943-ac6f-4888-be71-17c22916c057","jobId":"3b1b7c50-fb66-494a-8bf7-1eb6a3949d47","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"d4501943-ac6f-4888-be71-17c22916c057","jobId":"3b1b7c50-fb66-494a-8bf7-1eb6a3949d47"},"template":"unknown","session":"3b1b7c50-fb66-494a-8bf7-1eb6a3949d47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b1b7c50-fb66-494a-8bf7-1eb6a3949d47","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at sendError (server.js:3965:3)
      at server.js:25106:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:50.766Z","level":"info","message":"http_request_completed","requestId":"d4501943-ac6f-4888-be71-17c22916c057","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":38,"contentLength":"244","template":"unknown","session":"d4501943-ac6f-4888-be71-17c22916c057","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d4501943-ac6f-4888-be71-17c22916c057","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.770Z","level":"info","message":"http_request_received","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","method":"POST","path":"/api/process-cv","template":"unknown","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.771Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.773Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.776Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.778Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.782Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/274cae90-2d78-4002-a5e5-ac749aad67b7/incoming/original.pdf","chunks":1,"timestamp":1764857210788}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/274cae90-2d78-4002-a5e5-ac749aad67b7/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/274cae90-2d78-4002-a5e5-ac749aad67b7/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":37}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:06:50.826Z","level":"info","message":"process_cv_started","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","manualJobDescriptionProvided":true,"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.827Z","level":"info","message":"template_selection","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:50.828Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:50.837Z","level":"info","message":"initial_upload_completed","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","bucket":"test-bucket","key":"cv/candidate/274cae90-2d78-4002-a5e5-ac749aad67b7/incoming/original.pdf","template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.840Z","level":"info","message":"resume_text_extracted","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","characters":57,"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.841Z","level":"info","message":"resume_classified","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.842Z","level":"info","message":"raw_upload_relocated","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","bucket":"test-bucket","fromKey":"cv/candidate/274cae90-2d78-4002-a5e5-ac749aad67b7/incoming/original.pdf","toKey":"cv/professional_summary/274cae90-2d78-4002-a5e5-ac749aad67b7/original.pdf","template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.843Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","bucket":"test-bucket","key":"cv/professional_summary/274cae90-2d78-4002-a5e5-ac749aad67b7/original.pdf","template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.843Z","level":"info","message":"dynamo_initial_record_written","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","bucket":"test-bucket","key":"cv/professional_summary/274cae90-2d78-4002-a5e5-ac749aad67b7/original.pdf","template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.844Z","level":"info","message":"upload_metadata_written","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","bucket":"test-bucket","key":"cv/professional_summary/274cae90-2d78-4002-a5e5-ac749aad67b7/logs/log.json","template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.845Z","level":"info","message":"job_description_supplied_manually","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","characters":59,"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.845Z","level":"info","message":"job_description_analyzed","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","jobTitle":"","jobSkills":5,"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.847Z","level":"info","message":"resume_skills_analyzed","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.848Z","level":"info","message":"llm_call_metrics","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.849Z","level":"info","message":"process_cv_scoring_completed","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.853Z","level":"info","message":"llm_call_metrics","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"ea2430c235b24028819e3e632af324e68724bbc1d27bee61065e3e4452249d1c","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.854Z","level":"info","message":"generation_section_rewrite_completed","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","generationRunId":"274cae90-2d78-4002-a5e5-ac749aad67b7","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.855Z","level":"info","message":"llm_call_metrics","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"5ccfe9db3e82fa26357ec9c5a8fa36d7c5cf260bf775e906492a22db0355a609","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.859Z","level":"info","message":"generation_resume_verified","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","generationRunId":"274cae90-2d78-4002-a5e5-ac749aad67b7","template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:50.863Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","generationRunId":"274cae90-2d78-4002-a5e5-ac749aad67b7","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:50.873Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","generationRunId":"274cae90-2d78-4002-a5e5-ac749aad67b7","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:50.882Z","level":"info","message":"generation_cover_letters_completed","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","generationRunId":"274cae90-2d78-4002-a5e5-ac749aad67b7","variants":2,"fallbackApplied":true,"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.883Z","level":"info","message":"pdf_generation_attempt","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","generationRunId":"274cae90-2d78-4002-a5e5-ac749aad67b7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/274cae90-2d78-4002-a5e5-ac749aad67b7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/274cae90-2d78-4002-a5e5-ac749aad67b7/enhanced_modern.pdf","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.884Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","generationRunId":"274cae90-2d78-4002-a5e5-ac749aad67b7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/274cae90-2d78-4002-a5e5-ac749aad67b7/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.885Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","generationRunId":"274cae90-2d78-4002-a5e5-ac749aad67b7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/274cae90-2d78-4002-a5e5-ac749aad67b7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/274cae90-2d78-4002-a5e5-ac749aad67b7/enhanced_modern.pdf","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.886Z","level":"info","message":"pdf_generation_attempt","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","generationRunId":"274cae90-2d78-4002-a5e5-ac749aad67b7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/274cae90-2d78-4002-a5e5-ac749aad67b7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/274cae90-2d78-4002-a5e5-ac749aad67b7/enhanced_professional.pdf","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.886Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","generationRunId":"274cae90-2d78-4002-a5e5-ac749aad67b7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/274cae90-2d78-4002-a5e5-ac749aad67b7/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.887Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","generationRunId":"274cae90-2d78-4002-a5e5-ac749aad67b7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/274cae90-2d78-4002-a5e5-ac749aad67b7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/274cae90-2d78-4002-a5e5-ac749aad67b7/enhanced_professional.pdf","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.888Z","level":"info","message":"pdf_generation_attempt","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","generationRunId":"274cae90-2d78-4002-a5e5-ac749aad67b7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/274cae90-2d78-4002-a5e5-ac749aad67b7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/274cae90-2d78-4002-a5e5-ac749aad67b7/cover_letter_cover_modern.pdf","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.889Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","generationRunId":"274cae90-2d78-4002-a5e5-ac749aad67b7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/274cae90-2d78-4002-a5e5-ac749aad67b7/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.889Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","generationRunId":"274cae90-2d78-4002-a5e5-ac749aad67b7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/274cae90-2d78-4002-a5e5-ac749aad67b7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/274cae90-2d78-4002-a5e5-ac749aad67b7/cover_letter_cover_modern.pdf","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.890Z","level":"info","message":"pdf_generation_attempt","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","generationRunId":"274cae90-2d78-4002-a5e5-ac749aad67b7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/274cae90-2d78-4002-a5e5-ac749aad67b7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/274cae90-2d78-4002-a5e5-ac749aad67b7/cover_letter_cover_professional.pdf","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.891Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","generationRunId":"274cae90-2d78-4002-a5e5-ac749aad67b7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/274cae90-2d78-4002-a5e5-ac749aad67b7/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.891Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","generationRunId":"274cae90-2d78-4002-a5e5-ac749aad67b7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/274cae90-2d78-4002-a5e5-ac749aad67b7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/274cae90-2d78-4002-a5e5-ac749aad67b7/cover_letter_cover_professional.pdf","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.896Z","level":"info","message":"llm_call_metrics","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.897Z","level":"info","message":"generation_completed","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","generationRunId":"274cae90-2d78-4002-a5e5-ac749aad67b7","enhancedScore":80,"outputs":5,"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.899Z","level":"info","message":"placeholder_record_deleted","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","jobId":"5fa84354-9230-4cb4-b247-d522352f6795","placeholderIdentifier":"274cae90-2d78-4002-a5e5-ac749aad67b7","template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5fa84354-9230-4cb4-b247-d522352f6795","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.901Z","level":"info","message":"http_request_completed","requestId":"274cae90-2d78-4002-a5e5-ac749aad67b7","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":131,"contentLength":"55048","template":"unknown","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"274cae90-2d78-4002-a5e5-ac749aad67b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.907Z","level":"info","message":"http_request_received","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","method":"POST","path":"/api/process-cv","template":"unknown","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.909Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.911Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.913Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.915Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.918Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/incoming/original.pdf","chunks":1,"timestamp":1764857210922}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:06:50.924Z","level":"info","message":"process_cv_started","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","manualJobDescriptionProvided":true,"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.925Z","level":"info","message":"template_selection","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:50.925Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:50.935Z","level":"info","message":"initial_upload_completed","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","bucket":"test-bucket","key":"cv/candidate/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/incoming/original.pdf","template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.937Z","level":"info","message":"resume_text_extracted","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","characters":57,"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.938Z","level":"info","message":"resume_classified","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.939Z","level":"info","message":"raw_upload_relocated","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","bucket":"test-bucket","fromKey":"cv/candidate/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/incoming/original.pdf","toKey":"cv/professional_summary/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/original.pdf","template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.940Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","bucket":"test-bucket","key":"cv/professional_summary/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/original.pdf","template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.940Z","level":"info","message":"dynamo_initial_record_written","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","bucket":"test-bucket","key":"cv/professional_summary/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/original.pdf","template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.941Z","level":"info","message":"upload_metadata_written","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","bucket":"test-bucket","key":"cv/professional_summary/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/logs/log.json","template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.942Z","level":"info","message":"job_description_supplied_manually","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","characters":32,"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.942Z","level":"info","message":"job_description_analyzed","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","jobTitle":"","jobSkills":5,"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.943Z","level":"info","message":"resume_skills_analyzed","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.944Z","level":"info","message":"llm_call_metrics","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.945Z","level":"info","message":"process_cv_scoring_completed","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.948Z","level":"info","message":"llm_call_metrics","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"4ee429ea92424e8e19e4720211137d476a19f7274074e1702e9c42fe53b6fed7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.949Z","level":"info","message":"generation_section_rewrite_completed","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","generationRunId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.949Z","level":"info","message":"llm_call_metrics","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"b847d6e14d4cae3ee14cd5dbb7c4a4ca1658d965fe5c0b4564eb95e9b23995e3","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.953Z","level":"info","message":"generation_resume_verified","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","generationRunId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:50.957Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","generationRunId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:50.972Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","generationRunId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:50.982Z","level":"info","message":"generation_cover_letters_completed","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","generationRunId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","variants":2,"fallbackApplied":true,"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.984Z","level":"info","message":"pdf_generation_attempt","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","generationRunId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/enhanced_modern.pdf","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.984Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","generationRunId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.985Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","generationRunId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/enhanced_modern.pdf","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.986Z","level":"info","message":"pdf_generation_attempt","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","generationRunId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/enhanced_professional.pdf","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.987Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","generationRunId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.988Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","generationRunId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/enhanced_professional.pdf","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.989Z","level":"info","message":"pdf_generation_attempt","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","generationRunId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/cover_letter_cover_modern.pdf","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.989Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","generationRunId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.990Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","generationRunId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/cover_letter_cover_modern.pdf","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.991Z","level":"info","message":"pdf_generation_attempt","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","generationRunId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/cover_letter_cover_professional.pdf","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.992Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","generationRunId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.992Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","generationRunId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a7246ecf-8b82-4acc-8b9c-a2ba9e956d78/cover_letter_cover_professional.pdf","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.996Z","level":"info","message":"llm_call_metrics","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.998Z","level":"info","message":"generation_completed","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","generationRunId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","enhancedScore":80,"outputs":5,"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:50.999Z","level":"info","message":"placeholder_record_deleted","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","jobId":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","placeholderIdentifier":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7252debd-7d2e-4b80-97dc-b8e3ea350ced","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.001Z","level":"info","message":"http_request_completed","requestId":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":94,"contentLength":"53771","template":"unknown","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7246ecf-8b82-4acc-8b9c-a2ba9e956d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.006Z","level":"info","message":"http_request_received","requestId":"62a30083-cb6c-4060-a478-d65f60f47081","method":"POST","path":"/api/process-cv","template":"unknown","session":"62a30083-cb6c-4060-a478-d65f60f47081","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62a30083-cb6c-4060-a478-d65f60f47081","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.007Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.009Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.012Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.015Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.018Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/62a30083-cb6c-4060-a478-d65f60f47081/incoming/original.pdf","chunks":1,"timestamp":1764857211022}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/62a30083-cb6c-4060-a478-d65f60f47081/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/62a30083-cb6c-4060-a478-d65f60f47081/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.warn
    {"timestamp":"2025-12-04T14:06:51.024Z","level":"warn","message":"job_description_prohibited_html_detected","requestId":"62a30083-cb6c-4060-a478-d65f60f47081","jobId":"8d27a99f-039c-4e8a-bb98-2eacc881125c","template":"unknown","session":"8d27a99f-039c-4e8a-bb98-2eacc881125c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d27a99f-039c-4e8a-bb98-2eacc881125c","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:24998:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T14:06:51.034Z","level":"warn","message":"api_error_response","requestId":"62a30083-cb6c-4060-a478-d65f60f47081","jobId":"8d27a99f-039c-4e8a-bb98-2eacc881125c","status":400,"error":{"code":"JOB_DESCRIPTION_PROHIBITED_TAGS","message":"Remove HTML tags like <script> before continuing.","details":{"field":"manualJobDescription"},"requestId":"62a30083-cb6c-4060-a478-d65f60f47081","jobId":"8d27a99f-039c-4e8a-bb98-2eacc881125c"},"template":"unknown","session":"8d27a99f-039c-4e8a-bb98-2eacc881125c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d27a99f-039c-4e8a-bb98-2eacc881125c","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at sendError (server.js:3965:3)
      at server.js:24999:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:51.043Z","level":"info","message":"http_request_completed","requestId":"62a30083-cb6c-4060-a478-d65f60f47081","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":37,"contentLength":"271","template":"unknown","session":"62a30083-cb6c-4060-a478-d65f60f47081","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62a30083-cb6c-4060-a478-d65f60f47081","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.049Z","level":"info","message":"http_request_received","requestId":"75940b90-2895-48c0-98e9-2334deb45689","method":"POST","path":"/api/process-cv","template":"unknown","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.051Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.053Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.055Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.057Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.060Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/75940b90-2895-48c0-98e9-2334deb45689/incoming/original.pdf","chunks":1,"timestamp":1764857211064}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/75940b90-2895-48c0-98e9-2334deb45689/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/75940b90-2895-48c0-98e9-2334deb45689/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:06:51.066Z","level":"info","message":"process_cv_started","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","manualJobDescriptionProvided":true,"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.067Z","level":"info","message":"template_selection","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:51.068Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:51.077Z","level":"info","message":"initial_upload_completed","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","bucket":"test-bucket","key":"cv/candidate/75940b90-2895-48c0-98e9-2334deb45689/incoming/original.pdf","template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.077Z","level":"info","message":"resume_text_extracted","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","characters":57,"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.078Z","level":"info","message":"resume_classified","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.078Z","level":"info","message":"raw_upload_relocated","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","bucket":"test-bucket","fromKey":"cv/candidate/75940b90-2895-48c0-98e9-2334deb45689/incoming/original.pdf","toKey":"cv/professional_summary/75940b90-2895-48c0-98e9-2334deb45689/original.pdf","template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.079Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","bucket":"test-bucket","key":"cv/professional_summary/75940b90-2895-48c0-98e9-2334deb45689/original.pdf","template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.079Z","level":"info","message":"dynamo_initial_record_written","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","bucket":"test-bucket","key":"cv/professional_summary/75940b90-2895-48c0-98e9-2334deb45689/original.pdf","template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.080Z","level":"info","message":"upload_metadata_written","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","bucket":"test-bucket","key":"cv/professional_summary/75940b90-2895-48c0-98e9-2334deb45689/logs/log.json","template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.080Z","level":"info","message":"job_description_supplied_manually","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","characters":31,"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.081Z","level":"info","message":"job_description_analyzed","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","jobTitle":"","jobSkills":5,"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.081Z","level":"info","message":"resume_skills_analyzed","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.082Z","level":"info","message":"llm_call_metrics","requestId":"75940b90-2895-48c0-98e9-2334deb45689","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.084Z","level":"info","message":"process_cv_scoring_completed","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.087Z","level":"info","message":"llm_call_metrics","requestId":"75940b90-2895-48c0-98e9-2334deb45689","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"3b6fa31427cfe80be95734691ddba88dda63de26496df29477f91bd398cefbfa","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.088Z","level":"info","message":"generation_section_rewrite_completed","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","generationRunId":"75940b90-2895-48c0-98e9-2334deb45689","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.088Z","level":"info","message":"llm_call_metrics","requestId":"75940b90-2895-48c0-98e9-2334deb45689","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"eedd7612e0b87e24dbfb4e165754c9448ec3573f7db56a3242654c71c3ca223b","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.091Z","level":"info","message":"generation_resume_verified","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","generationRunId":"75940b90-2895-48c0-98e9-2334deb45689","template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:51.095Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","generationRunId":"75940b90-2895-48c0-98e9-2334deb45689","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:51.105Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","generationRunId":"75940b90-2895-48c0-98e9-2334deb45689","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:51.115Z","level":"info","message":"generation_cover_letters_completed","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","generationRunId":"75940b90-2895-48c0-98e9-2334deb45689","variants":2,"fallbackApplied":true,"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.116Z","level":"info","message":"pdf_generation_attempt","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","generationRunId":"75940b90-2895-48c0-98e9-2334deb45689","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/75940b90-2895-48c0-98e9-2334deb45689/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/75940b90-2895-48c0-98e9-2334deb45689/enhanced_modern.pdf","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.116Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","generationRunId":"75940b90-2895-48c0-98e9-2334deb45689","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/75940b90-2895-48c0-98e9-2334deb45689/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.117Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","generationRunId":"75940b90-2895-48c0-98e9-2334deb45689","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/75940b90-2895-48c0-98e9-2334deb45689/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/75940b90-2895-48c0-98e9-2334deb45689/enhanced_modern.pdf","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.118Z","level":"info","message":"pdf_generation_attempt","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","generationRunId":"75940b90-2895-48c0-98e9-2334deb45689","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/75940b90-2895-48c0-98e9-2334deb45689/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/75940b90-2895-48c0-98e9-2334deb45689/enhanced_professional.pdf","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.118Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","generationRunId":"75940b90-2895-48c0-98e9-2334deb45689","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/75940b90-2895-48c0-98e9-2334deb45689/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.119Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","generationRunId":"75940b90-2895-48c0-98e9-2334deb45689","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/75940b90-2895-48c0-98e9-2334deb45689/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/75940b90-2895-48c0-98e9-2334deb45689/enhanced_professional.pdf","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.119Z","level":"info","message":"pdf_generation_attempt","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","generationRunId":"75940b90-2895-48c0-98e9-2334deb45689","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/75940b90-2895-48c0-98e9-2334deb45689/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/75940b90-2895-48c0-98e9-2334deb45689/cover_letter_cover_modern.pdf","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.120Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","generationRunId":"75940b90-2895-48c0-98e9-2334deb45689","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/75940b90-2895-48c0-98e9-2334deb45689/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.120Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","generationRunId":"75940b90-2895-48c0-98e9-2334deb45689","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/75940b90-2895-48c0-98e9-2334deb45689/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/75940b90-2895-48c0-98e9-2334deb45689/cover_letter_cover_modern.pdf","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.121Z","level":"info","message":"pdf_generation_attempt","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","generationRunId":"75940b90-2895-48c0-98e9-2334deb45689","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/75940b90-2895-48c0-98e9-2334deb45689/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/75940b90-2895-48c0-98e9-2334deb45689/cover_letter_cover_professional.pdf","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.122Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","generationRunId":"75940b90-2895-48c0-98e9-2334deb45689","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/75940b90-2895-48c0-98e9-2334deb45689/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.122Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","generationRunId":"75940b90-2895-48c0-98e9-2334deb45689","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/75940b90-2895-48c0-98e9-2334deb45689/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/75940b90-2895-48c0-98e9-2334deb45689/cover_letter_cover_professional.pdf","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.125Z","level":"info","message":"llm_call_metrics","requestId":"75940b90-2895-48c0-98e9-2334deb45689","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.130Z","level":"info","message":"generation_completed","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","generationRunId":"75940b90-2895-48c0-98e9-2334deb45689","enhancedScore":80,"outputs":5,"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.132Z","level":"info","message":"placeholder_record_deleted","requestId":"75940b90-2895-48c0-98e9-2334deb45689","jobId":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","placeholderIdentifier":"75940b90-2895-48c0-98e9-2334deb45689","template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ffcdfb2-2f0e-4073-a8c5-26a78b9c83e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.134Z","level":"info","message":"http_request_completed","requestId":"75940b90-2895-48c0-98e9-2334deb45689","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":85,"contentLength":"53718","template":"unknown","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75940b90-2895-48c0-98e9-2334deb45689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.142Z","level":"info","message":"http_request_received","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","method":"POST","path":"/api/process-cv","template":"unknown","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.144Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.146Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.148Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.150Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.153Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/aa17dd47-101a-43ee-9444-9166e5e4efae/incoming/original.pdf","chunks":1,"timestamp":1764857211157}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/aa17dd47-101a-43ee-9444-9166e5e4efae/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/aa17dd47-101a-43ee-9444-9166e5e4efae/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:06:51.160Z","level":"info","message":"process_cv_started","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","manualJobDescriptionProvided":true,"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.161Z","level":"info","message":"template_selection","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:51.161Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:51.169Z","level":"info","message":"initial_upload_completed","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","bucket":"test-bucket","key":"cv/candidate/aa17dd47-101a-43ee-9444-9166e5e4efae/incoming/original.pdf","template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.170Z","level":"info","message":"resume_text_extracted","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","characters":57,"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.171Z","level":"info","message":"resume_classified","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.171Z","level":"info","message":"raw_upload_relocated","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","bucket":"test-bucket","fromKey":"cv/candidate/aa17dd47-101a-43ee-9444-9166e5e4efae/incoming/original.pdf","toKey":"cv/professional_summary/aa17dd47-101a-43ee-9444-9166e5e4efae/original.pdf","template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.172Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","bucket":"test-bucket","key":"cv/professional_summary/aa17dd47-101a-43ee-9444-9166e5e4efae/original.pdf","template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.172Z","level":"info","message":"dynamo_initial_record_written","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","bucket":"test-bucket","key":"cv/professional_summary/aa17dd47-101a-43ee-9444-9166e5e4efae/original.pdf","template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.173Z","level":"info","message":"upload_metadata_written","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","bucket":"test-bucket","key":"cv/professional_summary/aa17dd47-101a-43ee-9444-9166e5e4efae/logs/log.json","template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.173Z","level":"info","message":"job_description_supplied_manually","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","characters":174,"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.174Z","level":"info","message":"job_description_analyzed","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","jobTitle":"","jobSkills":5,"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.175Z","level":"info","message":"resume_skills_analyzed","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.176Z","level":"info","message":"llm_call_metrics","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.177Z","level":"info","message":"process_cv_scoring_completed","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.181Z","level":"info","message":"llm_call_metrics","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.182Z","level":"info","message":"generation_section_rewrite_completed","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","generationRunId":"aa17dd47-101a-43ee-9444-9166e5e4efae","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.183Z","level":"info","message":"llm_call_metrics","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.188Z","level":"info","message":"generation_resume_verified","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","generationRunId":"aa17dd47-101a-43ee-9444-9166e5e4efae","template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:51.193Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","generationRunId":"aa17dd47-101a-43ee-9444-9166e5e4efae","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:51.212Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","generationRunId":"aa17dd47-101a-43ee-9444-9166e5e4efae","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:51.223Z","level":"info","message":"generation_cover_letters_completed","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","generationRunId":"aa17dd47-101a-43ee-9444-9166e5e4efae","variants":2,"fallbackApplied":true,"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.224Z","level":"info","message":"pdf_generation_attempt","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","generationRunId":"aa17dd47-101a-43ee-9444-9166e5e4efae","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/aa17dd47-101a-43ee-9444-9166e5e4efae/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/aa17dd47-101a-43ee-9444-9166e5e4efae/enhanced_modern.pdf","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.225Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","generationRunId":"aa17dd47-101a-43ee-9444-9166e5e4efae","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/aa17dd47-101a-43ee-9444-9166e5e4efae/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.226Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","generationRunId":"aa17dd47-101a-43ee-9444-9166e5e4efae","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/aa17dd47-101a-43ee-9444-9166e5e4efae/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/aa17dd47-101a-43ee-9444-9166e5e4efae/enhanced_modern.pdf","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.227Z","level":"info","message":"pdf_generation_attempt","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","generationRunId":"aa17dd47-101a-43ee-9444-9166e5e4efae","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/aa17dd47-101a-43ee-9444-9166e5e4efae/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/aa17dd47-101a-43ee-9444-9166e5e4efae/enhanced_professional.pdf","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.228Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","generationRunId":"aa17dd47-101a-43ee-9444-9166e5e4efae","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/aa17dd47-101a-43ee-9444-9166e5e4efae/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.229Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","generationRunId":"aa17dd47-101a-43ee-9444-9166e5e4efae","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/aa17dd47-101a-43ee-9444-9166e5e4efae/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/aa17dd47-101a-43ee-9444-9166e5e4efae/enhanced_professional.pdf","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.229Z","level":"info","message":"pdf_generation_attempt","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","generationRunId":"aa17dd47-101a-43ee-9444-9166e5e4efae","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/aa17dd47-101a-43ee-9444-9166e5e4efae/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/aa17dd47-101a-43ee-9444-9166e5e4efae/cover_letter_cover_modern.pdf","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.230Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","generationRunId":"aa17dd47-101a-43ee-9444-9166e5e4efae","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/aa17dd47-101a-43ee-9444-9166e5e4efae/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.231Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","generationRunId":"aa17dd47-101a-43ee-9444-9166e5e4efae","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/aa17dd47-101a-43ee-9444-9166e5e4efae/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/aa17dd47-101a-43ee-9444-9166e5e4efae/cover_letter_cover_modern.pdf","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.232Z","level":"info","message":"pdf_generation_attempt","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","generationRunId":"aa17dd47-101a-43ee-9444-9166e5e4efae","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/aa17dd47-101a-43ee-9444-9166e5e4efae/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/aa17dd47-101a-43ee-9444-9166e5e4efae/cover_letter_cover_professional.pdf","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.233Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","generationRunId":"aa17dd47-101a-43ee-9444-9166e5e4efae","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/aa17dd47-101a-43ee-9444-9166e5e4efae/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.233Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","generationRunId":"aa17dd47-101a-43ee-9444-9166e5e4efae","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/aa17dd47-101a-43ee-9444-9166e5e4efae/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/aa17dd47-101a-43ee-9444-9166e5e4efae/cover_letter_cover_professional.pdf","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.237Z","level":"info","message":"llm_call_metrics","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.238Z","level":"info","message":"generation_completed","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","generationRunId":"aa17dd47-101a-43ee-9444-9166e5e4efae","enhancedScore":80,"outputs":5,"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.240Z","level":"info","message":"placeholder_record_deleted","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","jobId":"b8abbe97-fd91-407a-88e4-f074dd86efcf","placeholderIdentifier":"aa17dd47-101a-43ee-9444-9166e5e4efae","template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8abbe97-fd91-407a-88e4-f074dd86efcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.241Z","level":"info","message":"http_request_completed","requestId":"aa17dd47-101a-43ee-9444-9166e5e4efae","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":99,"contentLength":"58133","template":"unknown","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa17dd47-101a-43ee-9444-9166e5e4efae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.246Z","level":"info","message":"http_request_received","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","method":"POST","path":"/api/process-cv","template":"unknown","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.247Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.249Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.252Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.254Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.258Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/212884db-9f64-4f7f-a933-e26e3a73fa1b/incoming/original.pdf","chunks":1,"timestamp":1764857211261}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/212884db-9f64-4f7f-a933-e26e3a73fa1b/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/212884db-9f64-4f7f-a933-e26e3a73fa1b/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:06:51.265Z","level":"info","message":"process_cv_started","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","manualJobDescriptionProvided":true,"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.266Z","level":"info","message":"template_selection","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:51.267Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:51.280Z","level":"info","message":"initial_upload_completed","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","bucket":"test-bucket","key":"cv/candidate/212884db-9f64-4f7f-a933-e26e3a73fa1b/incoming/original.pdf","template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.281Z","level":"info","message":"resume_text_extracted","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","characters":57,"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.281Z","level":"info","message":"resume_classified","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.282Z","level":"info","message":"raw_upload_relocated","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","bucket":"test-bucket","fromKey":"cv/candidate/212884db-9f64-4f7f-a933-e26e3a73fa1b/incoming/original.pdf","toKey":"cv/professional_summary/212884db-9f64-4f7f-a933-e26e3a73fa1b/original.pdf","template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.283Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","bucket":"test-bucket","key":"cv/professional_summary/212884db-9f64-4f7f-a933-e26e3a73fa1b/original.pdf","template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.284Z","level":"info","message":"dynamo_initial_record_written","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","bucket":"test-bucket","key":"cv/professional_summary/212884db-9f64-4f7f-a933-e26e3a73fa1b/original.pdf","template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.284Z","level":"info","message":"upload_metadata_written","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","bucket":"test-bucket","key":"cv/professional_summary/212884db-9f64-4f7f-a933-e26e3a73fa1b/logs/log.json","template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.285Z","level":"info","message":"job_description_supplied_manually","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","characters":174,"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.286Z","level":"info","message":"job_description_analyzed","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","jobTitle":"","jobSkills":5,"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.287Z","level":"info","message":"resume_skills_analyzed","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.287Z","level":"info","message":"llm_call_metrics","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.288Z","level":"info","message":"process_cv_scoring_completed","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:51.297Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","sample":"not json","template":"unknown","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8533:20)
      at generateEnhancedDocumentsResponse (server.js:20182:26)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:51.313Z","level":"info","message":"llm_call_metrics","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.314Z","level":"info","message":"llm_call_metrics","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.315Z","level":"info","message":"generation_section_rewrite_completed","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","generationRunId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.316Z","level":"info","message":"llm_call_metrics","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"89e63aad97eee35da336c4707bebe46001a38648f790cb26108fe67f8c6eef15","skillCount":5,"template":"project_summary","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:51.323Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","generationRunId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:51.334Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","generationRunId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:51.341Z","level":"info","message":"generation_cover_letters_completed","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","generationRunId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","variants":2,"fallbackApplied":true,"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.343Z","level":"info","message":"pdf_generation_attempt","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","generationRunId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/212884db-9f64-4f7f-a933-e26e3a73fa1b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/212884db-9f64-4f7f-a933-e26e3a73fa1b/enhanced_modern.pdf","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.343Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","generationRunId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/212884db-9f64-4f7f-a933-e26e3a73fa1b/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.344Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","generationRunId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/212884db-9f64-4f7f-a933-e26e3a73fa1b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/212884db-9f64-4f7f-a933-e26e3a73fa1b/enhanced_modern.pdf","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.345Z","level":"info","message":"pdf_generation_attempt","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","generationRunId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/212884db-9f64-4f7f-a933-e26e3a73fa1b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/212884db-9f64-4f7f-a933-e26e3a73fa1b/enhanced_professional.pdf","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.346Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","generationRunId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/212884db-9f64-4f7f-a933-e26e3a73fa1b/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.347Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","generationRunId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/212884db-9f64-4f7f-a933-e26e3a73fa1b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/212884db-9f64-4f7f-a933-e26e3a73fa1b/enhanced_professional.pdf","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.348Z","level":"info","message":"pdf_generation_attempt","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","generationRunId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/212884db-9f64-4f7f-a933-e26e3a73fa1b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/212884db-9f64-4f7f-a933-e26e3a73fa1b/cover_letter_cover_modern.pdf","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.348Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","generationRunId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/212884db-9f64-4f7f-a933-e26e3a73fa1b/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.349Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","generationRunId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/212884db-9f64-4f7f-a933-e26e3a73fa1b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/212884db-9f64-4f7f-a933-e26e3a73fa1b/cover_letter_cover_modern.pdf","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.351Z","level":"info","message":"pdf_generation_attempt","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","generationRunId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/212884db-9f64-4f7f-a933-e26e3a73fa1b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/212884db-9f64-4f7f-a933-e26e3a73fa1b/cover_letter_cover_professional.pdf","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.352Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","generationRunId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/212884db-9f64-4f7f-a933-e26e3a73fa1b/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.353Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","generationRunId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/212884db-9f64-4f7f-a933-e26e3a73fa1b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/212884db-9f64-4f7f-a933-e26e3a73fa1b/cover_letter_cover_professional.pdf","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.356Z","level":"info","message":"llm_call_metrics","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.358Z","level":"info","message":"generation_completed","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","generationRunId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","enhancedScore":80,"outputs":5,"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.362Z","level":"info","message":"placeholder_record_deleted","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","jobId":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","placeholderIdentifier":"212884db-9f64-4f7f-a933-e26e3a73fa1b","template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8288a136-e8b0-4d14-8b4c-1ae3eccba755","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.366Z","level":"info","message":"http_request_completed","requestId":"212884db-9f64-4f7f-a933-e26e3a73fa1b","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":120,"contentLength":"58091","template":"unknown","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"212884db-9f64-4f7f-a933-e26e3a73fa1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.374Z","level":"info","message":"http_request_received","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","method":"POST","path":"/api/process-cv","template":"unknown","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.376Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.378Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.380Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.382Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.385Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/dace16c4-a972-428d-96bb-568c3ffb94b3/incoming/original.pdf","chunks":1,"timestamp":1764857211389}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/dace16c4-a972-428d-96bb-568c3ffb94b3/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/dace16c4-a972-428d-96bb-568c3ffb94b3/incoming/original.pdf","uploadDurationMs":1,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:06:51.391Z","level":"info","message":"process_cv_started","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","manualJobDescriptionProvided":true,"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.392Z","level":"info","message":"template_selection","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:51.393Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:51.402Z","level":"info","message":"initial_upload_completed","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","bucket":"test-bucket","key":"cv/candidate/dace16c4-a972-428d-96bb-568c3ffb94b3/incoming/original.pdf","template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.403Z","level":"info","message":"resume_text_extracted","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","characters":57,"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.404Z","level":"info","message":"resume_classified","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.404Z","level":"info","message":"raw_upload_relocated","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","bucket":"test-bucket","fromKey":"cv/candidate/dace16c4-a972-428d-96bb-568c3ffb94b3/incoming/original.pdf","toKey":"cv/professional_summary/dace16c4-a972-428d-96bb-568c3ffb94b3/original.pdf","template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.405Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","bucket":"test-bucket","key":"cv/professional_summary/dace16c4-a972-428d-96bb-568c3ffb94b3/original.pdf","template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.405Z","level":"info","message":"dynamo_initial_record_written","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","bucket":"test-bucket","key":"cv/professional_summary/dace16c4-a972-428d-96bb-568c3ffb94b3/original.pdf","template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.406Z","level":"info","message":"upload_metadata_written","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","bucket":"test-bucket","key":"cv/professional_summary/dace16c4-a972-428d-96bb-568c3ffb94b3/logs/log.json","template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.406Z","level":"info","message":"job_description_supplied_manually","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","characters":174,"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.407Z","level":"info","message":"job_description_analyzed","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","jobTitle":"","jobSkills":5,"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.407Z","level":"info","message":"resume_skills_analyzed","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.408Z","level":"info","message":"llm_call_metrics","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.409Z","level":"info","message":"process_cv_scoring_completed","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.415Z","level":"info","message":"llm_call_metrics","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.416Z","level":"info","message":"generation_section_rewrite_completed","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","generationRunId":"dace16c4-a972-428d-96bb-568c3ffb94b3","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.416Z","level":"info","message":"llm_call_metrics","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.417Z","level":"info","message":"llm_call_metrics","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.419Z","level":"info","message":"generation_resume_verified","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","generationRunId":"dace16c4-a972-428d-96bb-568c3ffb94b3","template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:51.424Z","level":"error","message":"ai_response_missing_json","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","generationRunId":"dace16c4-a972-428d-96bb-568c3ffb94b3","template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20464:26)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:51.431Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","generationRunId":"dace16c4-a972-428d-96bb-568c3ffb94b3","attempt":1,"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20469:11)
      at server.js:26740:28

  console.error
    {"timestamp":"2025-12-04T14:06:51.447Z","level":"error","message":"ai_response_missing_json","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","generationRunId":"dace16c4-a972-428d-96bb-568c3ffb94b3","template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20464:26)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:51.454Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","generationRunId":"dace16c4-a972-428d-96bb-568c3ffb94b3","attempt":2,"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20469:11)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:51.464Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","generationRunId":"dace16c4-a972-428d-96bb-568c3ffb94b3","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:51.482Z","level":"info","message":"generation_cover_letters_completed","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","generationRunId":"dace16c4-a972-428d-96bb-568c3ffb94b3","variants":2,"fallbackApplied":true,"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.483Z","level":"info","message":"pdf_generation_attempt","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","generationRunId":"dace16c4-a972-428d-96bb-568c3ffb94b3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/dace16c4-a972-428d-96bb-568c3ffb94b3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/dace16c4-a972-428d-96bb-568c3ffb94b3/enhanced_modern.pdf","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.484Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","generationRunId":"dace16c4-a972-428d-96bb-568c3ffb94b3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/dace16c4-a972-428d-96bb-568c3ffb94b3/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.485Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","generationRunId":"dace16c4-a972-428d-96bb-568c3ffb94b3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/dace16c4-a972-428d-96bb-568c3ffb94b3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/dace16c4-a972-428d-96bb-568c3ffb94b3/enhanced_modern.pdf","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.486Z","level":"info","message":"pdf_generation_attempt","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","generationRunId":"dace16c4-a972-428d-96bb-568c3ffb94b3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/dace16c4-a972-428d-96bb-568c3ffb94b3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/dace16c4-a972-428d-96bb-568c3ffb94b3/enhanced_professional.pdf","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.486Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","generationRunId":"dace16c4-a972-428d-96bb-568c3ffb94b3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/dace16c4-a972-428d-96bb-568c3ffb94b3/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.487Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","generationRunId":"dace16c4-a972-428d-96bb-568c3ffb94b3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/dace16c4-a972-428d-96bb-568c3ffb94b3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/dace16c4-a972-428d-96bb-568c3ffb94b3/enhanced_professional.pdf","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.488Z","level":"info","message":"pdf_generation_attempt","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","generationRunId":"dace16c4-a972-428d-96bb-568c3ffb94b3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/dace16c4-a972-428d-96bb-568c3ffb94b3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/dace16c4-a972-428d-96bb-568c3ffb94b3/cover_letter_cover_modern.pdf","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.488Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","generationRunId":"dace16c4-a972-428d-96bb-568c3ffb94b3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/dace16c4-a972-428d-96bb-568c3ffb94b3/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.489Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","generationRunId":"dace16c4-a972-428d-96bb-568c3ffb94b3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/dace16c4-a972-428d-96bb-568c3ffb94b3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/dace16c4-a972-428d-96bb-568c3ffb94b3/cover_letter_cover_modern.pdf","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.491Z","level":"info","message":"pdf_generation_attempt","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","generationRunId":"dace16c4-a972-428d-96bb-568c3ffb94b3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/dace16c4-a972-428d-96bb-568c3ffb94b3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/dace16c4-a972-428d-96bb-568c3ffb94b3/cover_letter_cover_professional.pdf","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.491Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","generationRunId":"dace16c4-a972-428d-96bb-568c3ffb94b3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/dace16c4-a972-428d-96bb-568c3ffb94b3/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.492Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","generationRunId":"dace16c4-a972-428d-96bb-568c3ffb94b3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/dace16c4-a972-428d-96bb-568c3ffb94b3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/dace16c4-a972-428d-96bb-568c3ffb94b3/cover_letter_cover_professional.pdf","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.496Z","level":"info","message":"llm_call_metrics","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.497Z","level":"info","message":"generation_completed","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","generationRunId":"dace16c4-a972-428d-96bb-568c3ffb94b3","enhancedScore":80,"outputs":5,"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.504Z","level":"info","message":"placeholder_record_deleted","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","jobId":"363b6c05-577f-41a4-b69f-be7777f13903","placeholderIdentifier":"dace16c4-a972-428d-96bb-568c3ffb94b3","template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"363b6c05-577f-41a4-b69f-be7777f13903","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.507Z","level":"info","message":"http_request_completed","requestId":"dace16c4-a972-428d-96bb-568c3ffb94b3","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":133,"contentLength":"59498","template":"unknown","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dace16c4-a972-428d-96bb-568c3ffb94b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.511Z","level":"info","message":"http_request_received","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","method":"POST","path":"/api/process-cv","template":"unknown","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.513Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.515Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.517Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.519Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.522Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/incoming/original.pdf","chunks":1,"timestamp":1764857211527}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:06:51.529Z","level":"info","message":"process_cv_started","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","manualJobDescriptionProvided":true,"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.530Z","level":"info","message":"template_selection","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:51.531Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:51.541Z","level":"info","message":"initial_upload_completed","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","bucket":"test-bucket","key":"cv/candidate/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/incoming/original.pdf","template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.541Z","level":"info","message":"resume_text_extracted","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","characters":57,"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.542Z","level":"info","message":"resume_classified","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.542Z","level":"info","message":"raw_upload_relocated","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","bucket":"test-bucket","fromKey":"cv/candidate/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/incoming/original.pdf","toKey":"cv/professional_summary/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/original.pdf","template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.543Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","bucket":"test-bucket","key":"cv/professional_summary/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/original.pdf","template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.544Z","level":"info","message":"dynamo_initial_record_written","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","bucket":"test-bucket","key":"cv/professional_summary/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/original.pdf","template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.545Z","level":"info","message":"upload_metadata_written","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","bucket":"test-bucket","key":"cv/professional_summary/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/logs/log.json","template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.545Z","level":"info","message":"job_description_supplied_manually","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","characters":174,"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.546Z","level":"info","message":"job_description_analyzed","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","jobTitle":"","jobSkills":5,"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.547Z","level":"info","message":"resume_skills_analyzed","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.548Z","level":"info","message":"llm_call_metrics","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.549Z","level":"info","message":"process_cv_scoring_completed","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.553Z","level":"info","message":"llm_call_metrics","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.553Z","level":"info","message":"generation_section_rewrite_completed","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","generationRunId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.554Z","level":"info","message":"llm_call_metrics","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.555Z","level":"info","message":"llm_call_metrics","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.557Z","level":"info","message":"generation_resume_verified","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","generationRunId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:51.561Z","level":"error","message":"ai_response_missing_json","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","generationRunId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20464:26)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:51.570Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","generationRunId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","attempt":1,"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20469:11)
      at server.js:26740:28

  console.error
    {"timestamp":"2025-12-04T14:06:51.578Z","level":"error","message":"ai_response_missing_json","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","generationRunId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20464:26)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:51.587Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","generationRunId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","attempt":2,"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20469:11)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:51.596Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","generationRunId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:51.604Z","level":"info","message":"generation_cover_letters_completed","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","generationRunId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","variants":2,"fallbackApplied":true,"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.605Z","level":"info","message":"pdf_generation_attempt","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","generationRunId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/enhanced_modern.pdf","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.610Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","generationRunId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.611Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","generationRunId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/enhanced_modern.pdf","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.612Z","level":"info","message":"pdf_generation_attempt","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","generationRunId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/enhanced_professional.pdf","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.612Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","generationRunId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.613Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","generationRunId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/enhanced_professional.pdf","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.614Z","level":"info","message":"pdf_generation_attempt","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","generationRunId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/cover_letter_cover_modern.pdf","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.615Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","generationRunId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.615Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","generationRunId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/cover_letter_cover_modern.pdf","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.619Z","level":"info","message":"pdf_generation_attempt","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","generationRunId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/cover_letter_cover_professional.pdf","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.620Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","generationRunId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.622Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","generationRunId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/67fb1df0-3970-4f4f-9ae8-a4ee87323e8a/cover_letter_cover_professional.pdf","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.625Z","level":"info","message":"llm_call_metrics","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.627Z","level":"info","message":"generation_completed","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","generationRunId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","enhancedScore":80,"outputs":5,"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.634Z","level":"info","message":"placeholder_record_deleted","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","jobId":"05efa416-4851-4e7c-9375-ec12c4de326a","placeholderIdentifier":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05efa416-4851-4e7c-9375-ec12c4de326a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.641Z","level":"info","message":"http_request_completed","requestId":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":130,"contentLength":"59498","template":"unknown","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67fb1df0-3970-4f4f-9ae8-a4ee87323e8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.648Z","level":"info","message":"http_request_received","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","method":"POST","path":"/api/process-cv","template":"unknown","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.649Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.652Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.656Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.659Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.662Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/61b825a5-fde0-4aa3-8fec-63195dc2115f/incoming/original.pdf","chunks":1,"timestamp":1764857211666}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/61b825a5-fde0-4aa3-8fec-63195dc2115f/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/61b825a5-fde0-4aa3-8fec-63195dc2115f/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:06:51.668Z","level":"info","message":"process_cv_started","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","manualJobDescriptionProvided":true,"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.669Z","level":"info","message":"template_selection","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:51.670Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:51.683Z","level":"info","message":"initial_upload_completed","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","bucket":"test-bucket","key":"cv/candidate/61b825a5-fde0-4aa3-8fec-63195dc2115f/incoming/original.pdf","template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.683Z","level":"info","message":"resume_text_extracted","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","characters":57,"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.684Z","level":"info","message":"resume_classified","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.684Z","level":"info","message":"raw_upload_relocated","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","bucket":"test-bucket","fromKey":"cv/candidate/61b825a5-fde0-4aa3-8fec-63195dc2115f/incoming/original.pdf","toKey":"cv/professional_summary/61b825a5-fde0-4aa3-8fec-63195dc2115f/original.pdf","template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.685Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","bucket":"test-bucket","key":"cv/professional_summary/61b825a5-fde0-4aa3-8fec-63195dc2115f/original.pdf","template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.685Z","level":"info","message":"dynamo_initial_record_written","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","bucket":"test-bucket","key":"cv/professional_summary/61b825a5-fde0-4aa3-8fec-63195dc2115f/original.pdf","template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.686Z","level":"info","message":"upload_metadata_written","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","bucket":"test-bucket","key":"cv/professional_summary/61b825a5-fde0-4aa3-8fec-63195dc2115f/logs/log.json","template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.686Z","level":"info","message":"job_description_supplied_manually","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","characters":174,"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.687Z","level":"info","message":"job_description_analyzed","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","jobTitle":"","jobSkills":5,"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.687Z","level":"info","message":"resume_skills_analyzed","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.688Z","level":"info","message":"llm_call_metrics","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.689Z","level":"info","message":"process_cv_scoring_completed","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:51.692Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","template":"unknown","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8533:20)
      at generateEnhancedDocumentsResponse (server.js:20182:26)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:51.702Z","level":"info","message":"llm_call_metrics","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.702Z","level":"info","message":"llm_call_metrics","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.703Z","level":"info","message":"generation_section_rewrite_completed","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","generationRunId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.704Z","level":"info","message":"llm_call_metrics","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.704Z","level":"info","message":"llm_call_metrics","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:51.712Z","level":"error","message":"ai_response_missing_json","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","generationRunId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20464:26)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:51.723Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","generationRunId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","attempt":1,"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20469:11)
      at server.js:26740:28

  console.error
    {"timestamp":"2025-12-04T14:06:51.731Z","level":"error","message":"ai_response_missing_json","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","generationRunId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20464:26)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:51.739Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","generationRunId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","attempt":2,"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20469:11)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:51.749Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","generationRunId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:51.757Z","level":"info","message":"generation_cover_letters_completed","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","generationRunId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","variants":2,"fallbackApplied":true,"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.758Z","level":"info","message":"pdf_generation_attempt","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","generationRunId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/61b825a5-fde0-4aa3-8fec-63195dc2115f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/61b825a5-fde0-4aa3-8fec-63195dc2115f/enhanced_modern.pdf","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.759Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","generationRunId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/61b825a5-fde0-4aa3-8fec-63195dc2115f/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.760Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","generationRunId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/61b825a5-fde0-4aa3-8fec-63195dc2115f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/61b825a5-fde0-4aa3-8fec-63195dc2115f/enhanced_modern.pdf","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.761Z","level":"info","message":"pdf_generation_attempt","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","generationRunId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/61b825a5-fde0-4aa3-8fec-63195dc2115f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/61b825a5-fde0-4aa3-8fec-63195dc2115f/enhanced_professional.pdf","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.761Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","generationRunId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/61b825a5-fde0-4aa3-8fec-63195dc2115f/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.762Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","generationRunId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/61b825a5-fde0-4aa3-8fec-63195dc2115f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/61b825a5-fde0-4aa3-8fec-63195dc2115f/enhanced_professional.pdf","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.763Z","level":"info","message":"pdf_generation_attempt","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","generationRunId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/61b825a5-fde0-4aa3-8fec-63195dc2115f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/61b825a5-fde0-4aa3-8fec-63195dc2115f/cover_letter_cover_modern.pdf","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.763Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","generationRunId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/61b825a5-fde0-4aa3-8fec-63195dc2115f/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.764Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","generationRunId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/61b825a5-fde0-4aa3-8fec-63195dc2115f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/61b825a5-fde0-4aa3-8fec-63195dc2115f/cover_letter_cover_modern.pdf","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.765Z","level":"info","message":"pdf_generation_attempt","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","generationRunId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/61b825a5-fde0-4aa3-8fec-63195dc2115f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/61b825a5-fde0-4aa3-8fec-63195dc2115f/cover_letter_cover_professional.pdf","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.766Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","generationRunId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/61b825a5-fde0-4aa3-8fec-63195dc2115f/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.766Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","generationRunId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/61b825a5-fde0-4aa3-8fec-63195dc2115f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/61b825a5-fde0-4aa3-8fec-63195dc2115f/cover_letter_cover_professional.pdf","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.769Z","level":"info","message":"llm_call_metrics","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.770Z","level":"info","message":"generation_completed","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","generationRunId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","enhancedScore":80,"outputs":5,"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.772Z","level":"info","message":"placeholder_record_deleted","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","jobId":"345a6840-06f4-4a86-8b92-62f770f98498","placeholderIdentifier":"61b825a5-fde0-4aa3-8fec-63195dc2115f","template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"345a6840-06f4-4a86-8b92-62f770f98498","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.774Z","level":"info","message":"http_request_completed","requestId":"61b825a5-fde0-4aa3-8fec-63195dc2115f","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":126,"contentLength":"58301","template":"unknown","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61b825a5-fde0-4aa3-8fec-63195dc2115f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.787Z","level":"info","message":"http_request_received","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","method":"POST","path":"/api/process-cv","template":"unknown","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.789Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.791Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.793Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.796Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.799Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/c8d52010-8323-4f15-85d8-a146f81651c4/incoming/original.pdf","chunks":1,"timestamp":1764857211802}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/c8d52010-8323-4f15-85d8-a146f81651c4/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/c8d52010-8323-4f15-85d8-a146f81651c4/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:06:51.804Z","level":"info","message":"process_cv_started","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","manualJobDescriptionProvided":true,"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.805Z","level":"info","message":"template_selection","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:51.806Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:51.814Z","level":"info","message":"initial_upload_completed","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","bucket":"test-bucket","key":"cv/candidate/c8d52010-8323-4f15-85d8-a146f81651c4/incoming/original.pdf","template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.815Z","level":"info","message":"resume_text_extracted","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","characters":57,"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.815Z","level":"info","message":"resume_classified","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.816Z","level":"info","message":"raw_upload_relocated","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","bucket":"test-bucket","fromKey":"cv/candidate/c8d52010-8323-4f15-85d8-a146f81651c4/incoming/original.pdf","toKey":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/original.pdf","template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.817Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","bucket":"test-bucket","key":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/original.pdf","template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.819Z","level":"info","message":"dynamo_initial_record_written","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","bucket":"test-bucket","key":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/original.pdf","template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.819Z","level":"info","message":"upload_metadata_written","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","bucket":"test-bucket","key":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/logs/log.json","template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.820Z","level":"info","message":"job_description_supplied_manually","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","characters":174,"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.821Z","level":"info","message":"job_description_analyzed","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","jobTitle":"","jobSkills":5,"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.821Z","level":"info","message":"resume_skills_analyzed","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.822Z","level":"info","message":"llm_call_metrics","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.823Z","level":"info","message":"process_cv_scoring_completed","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:51.826Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","template":"unknown","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8533:20)
      at generateEnhancedDocumentsResponse (server.js:20182:26)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:51.834Z","level":"info","message":"llm_call_metrics","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.835Z","level":"info","message":"llm_call_metrics","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.835Z","level":"info","message":"generation_section_rewrite_completed","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","generationRunId":"c8d52010-8323-4f15-85d8-a146f81651c4","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.836Z","level":"info","message":"llm_call_metrics","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.837Z","level":"info","message":"llm_call_metrics","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:51.842Z","level":"error","message":"ai_response_missing_json","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","generationRunId":"c8d52010-8323-4f15-85d8-a146f81651c4","template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20464:26)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:51.851Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","generationRunId":"c8d52010-8323-4f15-85d8-a146f81651c4","attempt":1,"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20469:11)
      at server.js:26740:28

  console.error
    {"timestamp":"2025-12-04T14:06:51.858Z","level":"error","message":"ai_response_missing_json","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","generationRunId":"c8d52010-8323-4f15-85d8-a146f81651c4","template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20464:26)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:51.866Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","generationRunId":"c8d52010-8323-4f15-85d8-a146f81651c4","attempt":2,"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20469:11)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:51.876Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","generationRunId":"c8d52010-8323-4f15-85d8-a146f81651c4","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:51.884Z","level":"info","message":"generation_cover_letters_completed","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","generationRunId":"c8d52010-8323-4f15-85d8-a146f81651c4","variants":2,"fallbackApplied":true,"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.885Z","level":"info","message":"pdf_generation_attempt","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","generationRunId":"c8d52010-8323-4f15-85d8-a146f81651c4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/enhanced_modern.pdf","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.886Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","generationRunId":"c8d52010-8323-4f15-85d8-a146f81651c4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.887Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","generationRunId":"c8d52010-8323-4f15-85d8-a146f81651c4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/enhanced_modern.pdf","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.888Z","level":"info","message":"pdf_generation_attempt","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","generationRunId":"c8d52010-8323-4f15-85d8-a146f81651c4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/enhanced_professional.pdf","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.889Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","generationRunId":"c8d52010-8323-4f15-85d8-a146f81651c4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.890Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","generationRunId":"c8d52010-8323-4f15-85d8-a146f81651c4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/enhanced_professional.pdf","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.891Z","level":"info","message":"pdf_generation_attempt","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","generationRunId":"c8d52010-8323-4f15-85d8-a146f81651c4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/cover_letter_cover_modern.pdf","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.891Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","generationRunId":"c8d52010-8323-4f15-85d8-a146f81651c4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.892Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","generationRunId":"c8d52010-8323-4f15-85d8-a146f81651c4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/cover_letter_cover_modern.pdf","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.893Z","level":"info","message":"pdf_generation_attempt","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","generationRunId":"c8d52010-8323-4f15-85d8-a146f81651c4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/cover_letter_cover_professional.pdf","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.894Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","generationRunId":"c8d52010-8323-4f15-85d8-a146f81651c4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.894Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","generationRunId":"c8d52010-8323-4f15-85d8-a146f81651c4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/cover_letter_cover_professional.pdf","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:51.899Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","generationRunId":"c8d52010-8323-4f15-85d8-a146f81651c4","artifactType":"original_upload","storageKey":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/original.pdf","template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","metadata":{"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"original_upload"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:21870:9)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:51.908Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","generationRunId":"c8d52010-8323-4f15-85d8-a146f81651c4","artifactType":"version1","storageKey":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/modern/version1.pdf","template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","metadata":{"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"version1"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:21870:9)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:51.916Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","generationRunId":"c8d52010-8323-4f15-85d8-a146f81651c4","artifactType":"version2","storageKey":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/professional/version2.pdf","template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","metadata":{"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"version2"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:21870:9)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:51.925Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","generationRunId":"c8d52010-8323-4f15-85d8-a146f81651c4","artifactType":"cover_letter1","storageKey":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/cover_modern/cover_letter1.pdf","template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","metadata":{"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"cover_letter1"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:21870:9)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:51.933Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","generationRunId":"c8d52010-8323-4f15-85d8-a146f81651c4","artifactType":"cover_letter2","storageKey":"cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/cover_professional/cover_letter2.pdf","template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","metadata":{"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"cover_letter2"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:21870:9)
      at server.js:26740:28

  console.error
    {"timestamp":"2025-12-04T14:06:51.942Z","level":"error","message":"generation_urls_missing","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","generationRunId":"c8d52010-8323-4f15-85d8-a146f81651c4","requestedUrlCount":0,"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:21971:7)
      at server.js:26740:28

  console.error
    {"timestamp":"2025-12-04T14:06:51.951Z","level":"error","message":"api_error_response","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","status":500,"error":{"code":"AI_RESPONSE_INVALID","message":"Unable to prepare download links for the generated documents.","details":{"logs":{"s3":{"bucket":"test-bucket","key":"logs/errors/2025-12-04/2025-12-04t14-06-51-951z-c8d52010-8323-4f15-85d8-a146f81651c4.json","status":"pending"}}},"requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148"},"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at sendError (server.js:3965:3)
      at generateEnhancedDocumentsResponse (server.js:21975:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:51.964Z","level":"warn","message":"generation_artifacts_cleaned_up","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","jobId":"9269307a-087f-44d5-9cf1-5d1c4131e148","generationRunId":"c8d52010-8323-4f15-85d8-a146f81651c4","reason":"no_valid_urls","deletedKeys":["cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/modern/version1.pdf","cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/professional/version2.pdf","cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/cover_modern/cover_letter1.pdf","cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/cover_professional/cover_letter2.pdf","cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/artifacts/original.json","cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/artifacts/version1.json","cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/artifacts/version2.json","cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/artifacts/cover-letter1.json","cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/artifacts/cover-letter2.json","cv/professional_summary/c8d52010-8323-4f15-85d8-a146f81651c4/artifacts/changelog.json"],"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9269307a-087f-44d5-9cf1-5d1c4131e148","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:19898:9
      at generateEnhancedDocumentsResponse (server.js:22503:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:51.973Z","level":"info","message":"http_request_completed","requestId":"c8d52010-8323-4f15-85d8-a146f81651c4","method":"POST","path":"/api/process-cv","statusCode":500,"durationMs":186,"contentLength":"396","template":"unknown","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8d52010-8323-4f15-85d8-a146f81651c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.977Z","level":"info","message":"http_request_received","requestId":"5e9af5dc-4989-4d7a-b6e4-0d700b7fa4bd","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"5e9af5dc-4989-4d7a-b6e4-0d700b7fa4bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e9af5dc-4989-4d7a-b6e4-0d700b7fa4bd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.979Z","level":"info","message":"path_restoration_debug","reqPath":"/api/refresh-download-link","reqUrl":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.981Z","level":"info","message":"request_received","path":"/api/refresh-download-link","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.983Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.997Z","level":"info","message":"client_app_routes_entered","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:51.999Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.003Z","level":"info","message":"http_request_completed","requestId":"5e9af5dc-4989-4d7a-b6e4-0d700b7fa4bd","method":"POST","path":"/api/refresh-download-link","statusCode":200,"durationMs":26,"contentLength":"232","template":"unknown","session":"5e9af5dc-4989-4d7a-b6e4-0d700b7fa4bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e9af5dc-4989-4d7a-b6e4-0d700b7fa4bd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.006Z","level":"info","message":"http_request_received","requestId":"b8cad7c2-fda2-4578-acc0-2eda033bebb7","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"b8cad7c2-fda2-4578-acc0-2eda033bebb7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8cad7c2-fda2-4578-acc0-2eda033bebb7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.008Z","level":"info","message":"path_restoration_debug","reqPath":"/api/refresh-download-link","reqUrl":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.010Z","level":"info","message":"request_received","path":"/api/refresh-download-link","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.013Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.015Z","level":"info","message":"client_app_routes_entered","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.017Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:52.018Z","level":"warn","message":"api_error_response","requestId":"b8cad7c2-fda2-4578-acc0-2eda033bebb7","jobId":"job-123","status":404,"error":{"code":"DOWNLOAD_NOT_FOUND","message":"The requested download link is no longer available.","details":{},"requestId":"b8cad7c2-fda2-4578-acc0-2eda033bebb7","jobId":"job-123"},"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at sendError (server.js:3965:3)
      at server.js:24608:12

  console.log
    {"timestamp":"2025-12-04T14:06:52.028Z","level":"info","message":"http_request_completed","requestId":"b8cad7c2-fda2-4578-acc0-2eda033bebb7","method":"POST","path":"/api/refresh-download-link","statusCode":404,"durationMs":22,"contentLength":"201","template":"unknown","session":"b8cad7c2-fda2-4578-acc0-2eda033bebb7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8cad7c2-fda2-4578-acc0-2eda033bebb7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.033Z","level":"info","message":"http_request_received","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","method":"POST","path":"/api/process-cv","template":"unknown","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.035Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.037Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.039Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.042Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.046Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/45a4eb60-d44a-4866-a206-0127ecd53224/incoming/original.pdf","chunks":1,"timestamp":1764857212051}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/45a4eb60-d44a-4866-a206-0127ecd53224/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/45a4eb60-d44a-4866-a206-0127ecd53224/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:06:52.054Z","level":"info","message":"process_cv_started","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","manualJobDescriptionProvided":true,"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.055Z","level":"info","message":"template_selection","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:52.056Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:52.066Z","level":"info","message":"initial_upload_completed","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","bucket":"test-bucket","key":"cv/candidate/45a4eb60-d44a-4866-a206-0127ecd53224/incoming/original.pdf","template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.066Z","level":"info","message":"resume_text_extracted","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","characters":57,"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.067Z","level":"info","message":"resume_classified","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.068Z","level":"info","message":"raw_upload_relocated","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","bucket":"test-bucket","fromKey":"cv/candidate/45a4eb60-d44a-4866-a206-0127ecd53224/incoming/original.pdf","toKey":"cv/professional_summary/45a4eb60-d44a-4866-a206-0127ecd53224/original.pdf","template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.069Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","bucket":"test-bucket","key":"cv/professional_summary/45a4eb60-d44a-4866-a206-0127ecd53224/original.pdf","template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.069Z","level":"info","message":"dynamo_initial_record_written","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","bucket":"test-bucket","key":"cv/professional_summary/45a4eb60-d44a-4866-a206-0127ecd53224/original.pdf","template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.071Z","level":"info","message":"upload_metadata_written","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","bucket":"test-bucket","key":"cv/professional_summary/45a4eb60-d44a-4866-a206-0127ecd53224/logs/log.json","template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.072Z","level":"info","message":"job_description_supplied_manually","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","characters":174,"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.072Z","level":"info","message":"job_description_analyzed","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","jobTitle":"","jobSkills":5,"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.073Z","level":"info","message":"resume_skills_analyzed","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.074Z","level":"info","message":"llm_call_metrics","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.075Z","level":"info","message":"process_cv_scoring_completed","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:52.079Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","template":"unknown","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8533:20)
      at generateEnhancedDocumentsResponse (server.js:20182:26)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:52.087Z","level":"info","message":"llm_call_metrics","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.088Z","level":"info","message":"llm_call_metrics","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.089Z","level":"info","message":"generation_section_rewrite_completed","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","generationRunId":"45a4eb60-d44a-4866-a206-0127ecd53224","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.089Z","level":"info","message":"llm_call_metrics","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.090Z","level":"info","message":"llm_call_metrics","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:52.094Z","level":"error","message":"ai_response_missing_json","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","generationRunId":"45a4eb60-d44a-4866-a206-0127ecd53224","template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20464:26)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:52.103Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","generationRunId":"45a4eb60-d44a-4866-a206-0127ecd53224","attempt":1,"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20469:11)
      at server.js:26740:28

  console.error
    {"timestamp":"2025-12-04T14:06:52.115Z","level":"error","message":"ai_response_missing_json","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","generationRunId":"45a4eb60-d44a-4866-a206-0127ecd53224","template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20464:26)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:52.124Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","generationRunId":"45a4eb60-d44a-4866-a206-0127ecd53224","attempt":2,"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20469:11)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:52.134Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","generationRunId":"45a4eb60-d44a-4866-a206-0127ecd53224","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:52.144Z","level":"info","message":"generation_cover_letters_completed","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","generationRunId":"45a4eb60-d44a-4866-a206-0127ecd53224","variants":2,"fallbackApplied":true,"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.146Z","level":"info","message":"pdf_generation_attempt","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","generationRunId":"45a4eb60-d44a-4866-a206-0127ecd53224","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/45a4eb60-d44a-4866-a206-0127ecd53224/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/45a4eb60-d44a-4866-a206-0127ecd53224/enhanced_modern.pdf","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.146Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","generationRunId":"45a4eb60-d44a-4866-a206-0127ecd53224","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/45a4eb60-d44a-4866-a206-0127ecd53224/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.147Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","generationRunId":"45a4eb60-d44a-4866-a206-0127ecd53224","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/45a4eb60-d44a-4866-a206-0127ecd53224/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/45a4eb60-d44a-4866-a206-0127ecd53224/enhanced_modern.pdf","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.148Z","level":"info","message":"pdf_generation_attempt","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","generationRunId":"45a4eb60-d44a-4866-a206-0127ecd53224","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/45a4eb60-d44a-4866-a206-0127ecd53224/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/45a4eb60-d44a-4866-a206-0127ecd53224/enhanced_professional.pdf","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.149Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","generationRunId":"45a4eb60-d44a-4866-a206-0127ecd53224","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/45a4eb60-d44a-4866-a206-0127ecd53224/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.150Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","generationRunId":"45a4eb60-d44a-4866-a206-0127ecd53224","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/45a4eb60-d44a-4866-a206-0127ecd53224/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/45a4eb60-d44a-4866-a206-0127ecd53224/enhanced_professional.pdf","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.150Z","level":"info","message":"pdf_generation_attempt","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","generationRunId":"45a4eb60-d44a-4866-a206-0127ecd53224","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/45a4eb60-d44a-4866-a206-0127ecd53224/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/45a4eb60-d44a-4866-a206-0127ecd53224/cover_letter_cover_modern.pdf","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.151Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","generationRunId":"45a4eb60-d44a-4866-a206-0127ecd53224","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/45a4eb60-d44a-4866-a206-0127ecd53224/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.152Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","generationRunId":"45a4eb60-d44a-4866-a206-0127ecd53224","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/45a4eb60-d44a-4866-a206-0127ecd53224/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/45a4eb60-d44a-4866-a206-0127ecd53224/cover_letter_cover_modern.pdf","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.153Z","level":"info","message":"pdf_generation_attempt","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","generationRunId":"45a4eb60-d44a-4866-a206-0127ecd53224","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/45a4eb60-d44a-4866-a206-0127ecd53224/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/45a4eb60-d44a-4866-a206-0127ecd53224/cover_letter_cover_professional.pdf","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.153Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","generationRunId":"45a4eb60-d44a-4866-a206-0127ecd53224","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/45a4eb60-d44a-4866-a206-0127ecd53224/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.154Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","generationRunId":"45a4eb60-d44a-4866-a206-0127ecd53224","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/45a4eb60-d44a-4866-a206-0127ecd53224/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/45a4eb60-d44a-4866-a206-0127ecd53224/cover_letter_cover_professional.pdf","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.157Z","level":"info","message":"llm_call_metrics","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.159Z","level":"info","message":"generation_completed","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","generationRunId":"45a4eb60-d44a-4866-a206-0127ecd53224","enhancedScore":80,"outputs":5,"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.161Z","level":"info","message":"placeholder_record_deleted","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","jobId":"625ac5fb-75a3-4886-adce-7ed151f4ad70","placeholderIdentifier":"45a4eb60-d44a-4866-a206-0127ecd53224","template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"625ac5fb-75a3-4886-adce-7ed151f4ad70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.163Z","level":"info","message":"http_request_completed","requestId":"45a4eb60-d44a-4866-a206-0127ecd53224","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":130,"contentLength":"58301","template":"unknown","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"45a4eb60-d44a-4866-a206-0127ecd53224","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.173Z","level":"info","message":"http_request_received","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","method":"POST","path":"/api/process-cv","template":"unknown","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.178Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.182Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.186Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.190Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.197Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/a71f4316-b0f0-46fa-8a10-6c1060d8171b/incoming/original.pdf","chunks":1,"timestamp":1764857212204}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/a71f4316-b0f0-46fa-8a10-6c1060d8171b/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/a71f4316-b0f0-46fa-8a10-6c1060d8171b/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:06:52.207Z","level":"info","message":"process_cv_started","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","manualJobDescriptionProvided":true,"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.208Z","level":"info","message":"template_selection","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:52.210Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:52.224Z","level":"info","message":"initial_upload_completed","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","bucket":"test-bucket","key":"cv/candidate/a71f4316-b0f0-46fa-8a10-6c1060d8171b/incoming/original.pdf","template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.224Z","level":"info","message":"resume_text_extracted","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","characters":57,"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.225Z","level":"info","message":"resume_classified","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.226Z","level":"info","message":"raw_upload_relocated","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","bucket":"test-bucket","fromKey":"cv/candidate/a71f4316-b0f0-46fa-8a10-6c1060d8171b/incoming/original.pdf","toKey":"cv/professional_summary/a71f4316-b0f0-46fa-8a10-6c1060d8171b/original.pdf","template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.226Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","bucket":"test-bucket","key":"cv/professional_summary/a71f4316-b0f0-46fa-8a10-6c1060d8171b/original.pdf","template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.227Z","level":"info","message":"dynamo_initial_record_written","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","bucket":"test-bucket","key":"cv/professional_summary/a71f4316-b0f0-46fa-8a10-6c1060d8171b/original.pdf","template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.228Z","level":"info","message":"upload_metadata_written","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","bucket":"test-bucket","key":"cv/professional_summary/a71f4316-b0f0-46fa-8a10-6c1060d8171b/logs/log.json","template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.228Z","level":"info","message":"job_description_supplied_manually","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","characters":174,"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.229Z","level":"info","message":"job_description_analyzed","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","jobTitle":"","jobSkills":5,"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.230Z","level":"info","message":"resume_skills_analyzed","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.231Z","level":"info","message":"llm_call_metrics","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.232Z","level":"info","message":"process_cv_scoring_completed","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.236Z","level":"info","message":"llm_call_metrics","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.237Z","level":"info","message":"generation_section_rewrite_completed","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","generationRunId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.238Z","level":"info","message":"llm_call_metrics","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.243Z","level":"info","message":"generation_resume_verified","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","generationRunId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:52.249Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","generationRunId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:52.270Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","generationRunId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:52.279Z","level":"info","message":"generation_cover_letters_completed","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","generationRunId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","variants":2,"fallbackApplied":true,"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.280Z","level":"info","message":"pdf_generation_attempt","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","generationRunId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a71f4316-b0f0-46fa-8a10-6c1060d8171b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a71f4316-b0f0-46fa-8a10-6c1060d8171b/enhanced_modern.pdf","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.281Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","generationRunId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a71f4316-b0f0-46fa-8a10-6c1060d8171b/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.282Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","generationRunId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a71f4316-b0f0-46fa-8a10-6c1060d8171b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a71f4316-b0f0-46fa-8a10-6c1060d8171b/enhanced_modern.pdf","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.283Z","level":"info","message":"pdf_generation_attempt","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","generationRunId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a71f4316-b0f0-46fa-8a10-6c1060d8171b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a71f4316-b0f0-46fa-8a10-6c1060d8171b/enhanced_professional.pdf","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.283Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","generationRunId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a71f4316-b0f0-46fa-8a10-6c1060d8171b/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.284Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","generationRunId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a71f4316-b0f0-46fa-8a10-6c1060d8171b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a71f4316-b0f0-46fa-8a10-6c1060d8171b/enhanced_professional.pdf","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.285Z","level":"info","message":"pdf_generation_attempt","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","generationRunId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a71f4316-b0f0-46fa-8a10-6c1060d8171b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a71f4316-b0f0-46fa-8a10-6c1060d8171b/cover_letter_cover_modern.pdf","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.285Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","generationRunId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a71f4316-b0f0-46fa-8a10-6c1060d8171b/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.286Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","generationRunId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a71f4316-b0f0-46fa-8a10-6c1060d8171b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a71f4316-b0f0-46fa-8a10-6c1060d8171b/cover_letter_cover_modern.pdf","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.287Z","level":"info","message":"pdf_generation_attempt","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","generationRunId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a71f4316-b0f0-46fa-8a10-6c1060d8171b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a71f4316-b0f0-46fa-8a10-6c1060d8171b/cover_letter_cover_professional.pdf","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.288Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","generationRunId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a71f4316-b0f0-46fa-8a10-6c1060d8171b/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.288Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","generationRunId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a71f4316-b0f0-46fa-8a10-6c1060d8171b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a71f4316-b0f0-46fa-8a10-6c1060d8171b/cover_letter_cover_professional.pdf","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.295Z","level":"info","message":"llm_call_metrics","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.296Z","level":"info","message":"generation_completed","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","generationRunId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","enhancedScore":80,"outputs":5,"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.298Z","level":"info","message":"placeholder_record_deleted","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","jobId":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","placeholderIdentifier":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a43c46a-2abb-4ad9-9239-c5a512e0b1d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.299Z","level":"info","message":"http_request_completed","requestId":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":126,"contentLength":"58133","template":"unknown","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a71f4316-b0f0-46fa-8a10-6c1060d8171b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.304Z","level":"info","message":"http_request_received","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","method":"POST","path":"/api/process-cv","template":"unknown","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.305Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.308Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.310Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.312Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.315Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/789cf087-1876-4cc7-86b2-d0eef4803366/incoming/original.pdf","chunks":1,"timestamp":1764857212319}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/789cf087-1876-4cc7-86b2-d0eef4803366/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/789cf087-1876-4cc7-86b2-d0eef4803366/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:06:52.323Z","level":"info","message":"process_cv_started","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","manualJobDescriptionProvided":true,"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.323Z","level":"info","message":"template_selection","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","template1":"classic","template2":"ats","coverTemplate1":"cover_classic","coverTemplate2":"cover_ats","availableCvTemplates":["classic","ats","modern","professional","2025"],"availableCoverTemplates":["cover_classic","cover_ats","cover_modern","cover_professional","cover_2025"],"template":"classic","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:52.324Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:52.333Z","level":"info","message":"initial_upload_completed","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","bucket":"test-bucket","key":"cv/candidate/789cf087-1876-4cc7-86b2-d0eef4803366/incoming/original.pdf","template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.334Z","level":"info","message":"resume_text_extracted","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","characters":57,"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.335Z","level":"info","message":"resume_classified","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.336Z","level":"info","message":"raw_upload_relocated","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","bucket":"test-bucket","fromKey":"cv/candidate/789cf087-1876-4cc7-86b2-d0eef4803366/incoming/original.pdf","toKey":"cv/professional_summary/789cf087-1876-4cc7-86b2-d0eef4803366/original.pdf","template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.337Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","bucket":"test-bucket","key":"cv/professional_summary/789cf087-1876-4cc7-86b2-d0eef4803366/original.pdf","template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.342Z","level":"info","message":"dynamo_initial_record_written","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","bucket":"test-bucket","key":"cv/professional_summary/789cf087-1876-4cc7-86b2-d0eef4803366/original.pdf","template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.343Z","level":"info","message":"upload_metadata_written","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","bucket":"test-bucket","key":"cv/professional_summary/789cf087-1876-4cc7-86b2-d0eef4803366/logs/log.json","template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.343Z","level":"info","message":"job_description_supplied_manually","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","characters":174,"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.344Z","level":"info","message":"job_description_analyzed","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","jobTitle":"","jobSkills":5,"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.345Z","level":"info","message":"resume_skills_analyzed","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.346Z","level":"info","message":"llm_call_metrics","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.346Z","level":"info","message":"process_cv_scoring_completed","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.350Z","level":"info","message":"llm_call_metrics","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.351Z","level":"info","message":"generation_section_rewrite_completed","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","generationRunId":"789cf087-1876-4cc7-86b2-d0eef4803366","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.352Z","level":"info","message":"llm_call_metrics","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.360Z","level":"info","message":"generation_resume_verified","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","generationRunId":"789cf087-1876-4cc7-86b2-d0eef4803366","template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:52.365Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","generationRunId":"789cf087-1876-4cc7-86b2-d0eef4803366","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:52.376Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","generationRunId":"789cf087-1876-4cc7-86b2-d0eef4803366","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:52.385Z","level":"info","message":"generation_cover_letters_completed","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","generationRunId":"789cf087-1876-4cc7-86b2-d0eef4803366","variants":2,"fallbackApplied":true,"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.387Z","level":"info","message":"pdf_generation_attempt","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","generationRunId":"789cf087-1876-4cc7-86b2-d0eef4803366","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/789cf087-1876-4cc7-86b2-d0eef4803366/","sessionId":"[REDACTED]","template":"classic","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/789cf087-1876-4cc7-86b2-d0eef4803366/enhanced_classic.pdf","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.387Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","generationRunId":"789cf087-1876-4cc7-86b2-d0eef4803366","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/789cf087-1876-4cc7-86b2-d0eef4803366/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.388Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","generationRunId":"789cf087-1876-4cc7-86b2-d0eef4803366","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/789cf087-1876-4cc7-86b2-d0eef4803366/","sessionId":"[REDACTED]","template":"classic","attempt":1,"bytes":3,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/789cf087-1876-4cc7-86b2-d0eef4803366/enhanced_classic.pdf","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.389Z","level":"info","message":"pdf_generation_attempt","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","generationRunId":"789cf087-1876-4cc7-86b2-d0eef4803366","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/789cf087-1876-4cc7-86b2-d0eef4803366/","sessionId":"[REDACTED]","template":"ats","attempt":1,"totalAttempts":1,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/789cf087-1876-4cc7-86b2-d0eef4803366/enhanced_ats.pdf","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.391Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","generationRunId":"789cf087-1876-4cc7-86b2-d0eef4803366","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/789cf087-1876-4cc7-86b2-d0eef4803366/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":["mode","atsMode"],"session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.392Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","generationRunId":"789cf087-1876-4cc7-86b2-d0eef4803366","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/789cf087-1876-4cc7-86b2-d0eef4803366/","sessionId":"[REDACTED]","template":"ats","attempt":1,"bytes":3,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/789cf087-1876-4cc7-86b2-d0eef4803366/enhanced_ats.pdf","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.393Z","level":"info","message":"pdf_generation_attempt","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","generationRunId":"789cf087-1876-4cc7-86b2-d0eef4803366","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/789cf087-1876-4cc7-86b2-d0eef4803366/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/789cf087-1876-4cc7-86b2-d0eef4803366/cover_letter_cover_classic.pdf","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.394Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","generationRunId":"789cf087-1876-4cc7-86b2-d0eef4803366","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/789cf087-1876-4cc7-86b2-d0eef4803366/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.395Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","generationRunId":"789cf087-1876-4cc7-86b2-d0eef4803366","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/789cf087-1876-4cc7-86b2-d0eef4803366/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/789cf087-1876-4cc7-86b2-d0eef4803366/cover_letter_cover_classic.pdf","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.397Z","level":"info","message":"pdf_generation_attempt","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","generationRunId":"789cf087-1876-4cc7-86b2-d0eef4803366","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/789cf087-1876-4cc7-86b2-d0eef4803366/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/789cf087-1876-4cc7-86b2-d0eef4803366/cover_letter_cover_ats.pdf","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.398Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","generationRunId":"789cf087-1876-4cc7-86b2-d0eef4803366","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/789cf087-1876-4cc7-86b2-d0eef4803366/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.399Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","generationRunId":"789cf087-1876-4cc7-86b2-d0eef4803366","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/789cf087-1876-4cc7-86b2-d0eef4803366/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/789cf087-1876-4cc7-86b2-d0eef4803366/cover_letter_cover_ats.pdf","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.404Z","level":"info","message":"llm_call_metrics","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.405Z","level":"info","message":"generation_completed","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","generationRunId":"789cf087-1876-4cc7-86b2-d0eef4803366","enhancedScore":80,"outputs":5,"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.408Z","level":"info","message":"placeholder_record_deleted","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","jobId":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","placeholderIdentifier":"789cf087-1876-4cc7-86b2-d0eef4803366","template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ee9dc2a-52ca-4f9e-ac0e-f5b87ebed1e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.414Z","level":"info","message":"http_request_completed","requestId":"789cf087-1876-4cc7-86b2-d0eef4803366","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":110,"contentLength":"57992","template":"unknown","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"789cf087-1876-4cc7-86b2-d0eef4803366","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.422Z","level":"info","message":"http_request_received","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","method":"POST","path":"/api/process-cv","template":"unknown","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.425Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.428Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.431Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.438Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.443Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/9a24069f-473c-4ce9-b907-50b6a92e06e8/incoming/original.pdf","chunks":1,"timestamp":1764857212452}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/9a24069f-473c-4ce9-b907-50b6a92e06e8/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/9a24069f-473c-4ce9-b907-50b6a92e06e8/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":6}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:06:52.458Z","level":"info","message":"process_cv_started","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","manualJobDescriptionProvided":true,"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.459Z","level":"info","message":"template_selection","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:52.463Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:52.473Z","level":"info","message":"initial_upload_completed","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","bucket":"test-bucket","key":"cv/candidate/9a24069f-473c-4ce9-b907-50b6a92e06e8/incoming/original.pdf","template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.474Z","level":"info","message":"resume_text_extracted","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","characters":57,"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.475Z","level":"info","message":"resume_classified","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.475Z","level":"info","message":"raw_upload_relocated","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","bucket":"test-bucket","fromKey":"cv/candidate/9a24069f-473c-4ce9-b907-50b6a92e06e8/incoming/original.pdf","toKey":"cv/professional_summary/9a24069f-473c-4ce9-b907-50b6a92e06e8/original.pdf","template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.476Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","bucket":"test-bucket","key":"cv/professional_summary/9a24069f-473c-4ce9-b907-50b6a92e06e8/original.pdf","template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.476Z","level":"info","message":"dynamo_initial_record_written","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","bucket":"test-bucket","key":"cv/professional_summary/9a24069f-473c-4ce9-b907-50b6a92e06e8/original.pdf","template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.477Z","level":"info","message":"upload_metadata_written","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","bucket":"test-bucket","key":"cv/professional_summary/9a24069f-473c-4ce9-b907-50b6a92e06e8/logs/log.json","template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.478Z","level":"info","message":"job_description_supplied_manually","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","characters":174,"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.478Z","level":"info","message":"job_description_analyzed","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","jobTitle":"","jobSkills":5,"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.480Z","level":"info","message":"resume_skills_analyzed","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.481Z","level":"info","message":"llm_call_metrics","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.482Z","level":"info","message":"process_cv_scoring_completed","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.489Z","level":"info","message":"llm_call_metrics","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"02d97c4de2dc6045a8d84c10e35b0b09be1fff3da32b47fa5d4c293317deef58","addedSkillCount":0,"template":"resume_rewrite","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.490Z","level":"info","message":"generation_section_rewrite_completed","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","generationRunId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.491Z","level":"info","message":"llm_call_metrics","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"3cb5bda2be537250e5bef0d91034f772d9c2c805c99b7e04ba145ecb904d5893","skillCount":5,"template":"project_summary","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.496Z","level":"info","message":"generation_resume_verified","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","generationRunId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:52.503Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","generationRunId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:52.513Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","generationRunId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:52.520Z","level":"info","message":"generation_cover_letters_completed","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","generationRunId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","variants":2,"fallbackApplied":true,"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.521Z","level":"info","message":"pdf_generation_attempt","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","generationRunId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9a24069f-473c-4ce9-b907-50b6a92e06e8/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9a24069f-473c-4ce9-b907-50b6a92e06e8/enhanced_modern.pdf","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.522Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","generationRunId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9a24069f-473c-4ce9-b907-50b6a92e06e8/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.523Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","generationRunId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9a24069f-473c-4ce9-b907-50b6a92e06e8/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9a24069f-473c-4ce9-b907-50b6a92e06e8/enhanced_modern.pdf","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.524Z","level":"info","message":"pdf_generation_attempt","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","generationRunId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9a24069f-473c-4ce9-b907-50b6a92e06e8/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9a24069f-473c-4ce9-b907-50b6a92e06e8/enhanced_professional.pdf","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.525Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","generationRunId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9a24069f-473c-4ce9-b907-50b6a92e06e8/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.526Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","generationRunId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9a24069f-473c-4ce9-b907-50b6a92e06e8/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9a24069f-473c-4ce9-b907-50b6a92e06e8/enhanced_professional.pdf","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.527Z","level":"info","message":"pdf_generation_attempt","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","generationRunId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9a24069f-473c-4ce9-b907-50b6a92e06e8/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9a24069f-473c-4ce9-b907-50b6a92e06e8/cover_letter_cover_modern.pdf","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.527Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","generationRunId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9a24069f-473c-4ce9-b907-50b6a92e06e8/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.529Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","generationRunId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9a24069f-473c-4ce9-b907-50b6a92e06e8/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9a24069f-473c-4ce9-b907-50b6a92e06e8/cover_letter_cover_modern.pdf","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.530Z","level":"info","message":"pdf_generation_attempt","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","generationRunId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9a24069f-473c-4ce9-b907-50b6a92e06e8/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9a24069f-473c-4ce9-b907-50b6a92e06e8/cover_letter_cover_professional.pdf","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.531Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","generationRunId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9a24069f-473c-4ce9-b907-50b6a92e06e8/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.532Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","generationRunId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9a24069f-473c-4ce9-b907-50b6a92e06e8/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9a24069f-473c-4ce9-b907-50b6a92e06e8/cover_letter_cover_professional.pdf","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.536Z","level":"info","message":"llm_call_metrics","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.537Z","level":"info","message":"generation_completed","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","generationRunId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","enhancedScore":80,"outputs":5,"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.539Z","level":"info","message":"placeholder_record_deleted","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","jobId":"a7101db6-da94-4c9b-9522-50c87123d6de","placeholderIdentifier":"9a24069f-473c-4ce9-b907-50b6a92e06e8","template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7101db6-da94-4c9b-9522-50c87123d6de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.542Z","level":"info","message":"http_request_completed","requestId":"9a24069f-473c-4ce9-b907-50b6a92e06e8","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":120,"contentLength":"59354","template":"unknown","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a24069f-473c-4ce9-b907-50b6a92e06e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.551Z","level":"info","message":"http_request_received","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","method":"POST","path":"/api/process-cv","template":"unknown","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.553Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.555Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.558Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.561Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.568Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/aea28050-ca2a-46ce-b668-f1a7a89253d3/incoming/original.pdf","chunks":1,"timestamp":1764857212578}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/aea28050-ca2a-46ce-b668-f1a7a89253d3/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/aea28050-ca2a-46ce-b668-f1a7a89253d3/incoming/original.pdf","uploadDurationMs":1,"totalDurationMs":39}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:06:52.656Z","level":"info","message":"process_cv_started","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","manualJobDescriptionProvided":true,"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.662Z","level":"info","message":"template_selection","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:52.677Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:52.715Z","level":"info","message":"initial_upload_completed","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","bucket":"test-bucket","key":"cv/candidate/aea28050-ca2a-46ce-b668-f1a7a89253d3/incoming/original.pdf","template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.724Z","level":"info","message":"resume_text_extracted","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","characters":57,"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.731Z","level":"info","message":"resume_classified","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.740Z","level":"info","message":"raw_upload_relocated","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","bucket":"test-bucket","fromKey":"cv/candidate/aea28050-ca2a-46ce-b668-f1a7a89253d3/incoming/original.pdf","toKey":"cv/professional_summary/aea28050-ca2a-46ce-b668-f1a7a89253d3/original.pdf","template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.743Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","bucket":"test-bucket","key":"cv/professional_summary/aea28050-ca2a-46ce-b668-f1a7a89253d3/original.pdf","template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.746Z","level":"info","message":"dynamo_initial_record_written","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","bucket":"test-bucket","key":"cv/professional_summary/aea28050-ca2a-46ce-b668-f1a7a89253d3/original.pdf","template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.749Z","level":"info","message":"upload_metadata_written","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","bucket":"test-bucket","key":"cv/professional_summary/aea28050-ca2a-46ce-b668-f1a7a89253d3/logs/log.json","template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.771Z","level":"info","message":"job_description_supplied_manually","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","characters":174,"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.779Z","level":"info","message":"job_description_analyzed","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","jobTitle":"","jobSkills":5,"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.782Z","level":"info","message":"resume_skills_analyzed","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.783Z","level":"info","message":"llm_call_metrics","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.785Z","level":"info","message":"process_cv_scoring_completed","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.800Z","level":"info","message":"llm_call_metrics","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.803Z","level":"info","message":"generation_section_rewrite_completed","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","generationRunId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.806Z","level":"info","message":"llm_call_metrics","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"9f21e6c3bcbaef44e0e62da79c13bb8790b57affdb114dc9f59fc273f882540c","skillCount":5,"template":"project_summary","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.815Z","level":"info","message":"generation_resume_verified","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","generationRunId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:52.829Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","generationRunId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:52.844Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","generationRunId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:52.859Z","level":"info","message":"generation_cover_letters_completed","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","generationRunId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","variants":2,"fallbackApplied":true,"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.860Z","level":"info","message":"pdf_generation_attempt","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","generationRunId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/aea28050-ca2a-46ce-b668-f1a7a89253d3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/aea28050-ca2a-46ce-b668-f1a7a89253d3/enhanced_modern.pdf","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.861Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","generationRunId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/aea28050-ca2a-46ce-b668-f1a7a89253d3/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.862Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","generationRunId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/aea28050-ca2a-46ce-b668-f1a7a89253d3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/aea28050-ca2a-46ce-b668-f1a7a89253d3/enhanced_modern.pdf","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.864Z","level":"info","message":"pdf_generation_attempt","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","generationRunId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/aea28050-ca2a-46ce-b668-f1a7a89253d3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/aea28050-ca2a-46ce-b668-f1a7a89253d3/enhanced_professional.pdf","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.866Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","generationRunId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/aea28050-ca2a-46ce-b668-f1a7a89253d3/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.867Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","generationRunId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/aea28050-ca2a-46ce-b668-f1a7a89253d3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/aea28050-ca2a-46ce-b668-f1a7a89253d3/enhanced_professional.pdf","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.869Z","level":"info","message":"pdf_generation_attempt","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","generationRunId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/aea28050-ca2a-46ce-b668-f1a7a89253d3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/aea28050-ca2a-46ce-b668-f1a7a89253d3/cover_letter_cover_modern.pdf","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.870Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","generationRunId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/aea28050-ca2a-46ce-b668-f1a7a89253d3/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.871Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","generationRunId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/aea28050-ca2a-46ce-b668-f1a7a89253d3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/aea28050-ca2a-46ce-b668-f1a7a89253d3/cover_letter_cover_modern.pdf","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.874Z","level":"info","message":"pdf_generation_attempt","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","generationRunId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/aea28050-ca2a-46ce-b668-f1a7a89253d3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/aea28050-ca2a-46ce-b668-f1a7a89253d3/cover_letter_cover_professional.pdf","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.877Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","generationRunId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/aea28050-ca2a-46ce-b668-f1a7a89253d3/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.878Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","generationRunId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/aea28050-ca2a-46ce-b668-f1a7a89253d3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/aea28050-ca2a-46ce-b668-f1a7a89253d3/cover_letter_cover_professional.pdf","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.883Z","level":"info","message":"llm_call_metrics","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.884Z","level":"info","message":"generation_completed","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","generationRunId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","enhancedScore":80,"outputs":5,"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.887Z","level":"info","message":"placeholder_record_deleted","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","jobId":"579f1656-cd15-4579-8d72-ba0ab47780b2","placeholderIdentifier":"aea28050-ca2a-46ce-b668-f1a7a89253d3","template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"579f1656-cd15-4579-8d72-ba0ab47780b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.895Z","level":"info","message":"http_request_completed","requestId":"aea28050-ca2a-46ce-b668-f1a7a89253d3","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":344,"contentLength":"57968","template":"unknown","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aea28050-ca2a-46ce-b668-f1a7a89253d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.908Z","level":"info","message":"http_request_received","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","method":"POST","path":"/api/process-cv","template":"unknown","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.910Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.921Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.928Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.931Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.934Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/incoming/original.pdf","chunks":1,"timestamp":1764857212941}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:06:52.944Z","level":"info","message":"process_cv_started","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","manualJobDescriptionProvided":true,"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.945Z","level":"info","message":"template_selection","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:52.947Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:52.955Z","level":"info","message":"initial_upload_completed","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","bucket":"test-bucket","key":"cv/candidate/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/incoming/original.pdf","template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.956Z","level":"info","message":"resume_text_extracted","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","characters":57,"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.957Z","level":"info","message":"resume_classified","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.958Z","level":"info","message":"raw_upload_relocated","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","bucket":"test-bucket","fromKey":"cv/candidate/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/incoming/original.pdf","toKey":"cv/professional_summary/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/original.pdf","template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.959Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","bucket":"test-bucket","key":"cv/professional_summary/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/original.pdf","template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.959Z","level":"info","message":"dynamo_initial_record_written","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","bucket":"test-bucket","key":"cv/professional_summary/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/original.pdf","template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.960Z","level":"info","message":"upload_metadata_written","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","bucket":"test-bucket","key":"cv/professional_summary/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/logs/log.json","template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.961Z","level":"info","message":"job_description_supplied_manually","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","characters":174,"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.962Z","level":"info","message":"job_description_analyzed","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","jobTitle":"","jobSkills":5,"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.973Z","level":"info","message":"resume_skills_analyzed","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.974Z","level":"info","message":"llm_call_metrics","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.985Z","level":"info","message":"process_cv_scoring_completed","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.990Z","level":"info","message":"llm_call_metrics","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.992Z","level":"info","message":"generation_section_rewrite_completed","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","generationRunId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:52.994Z","level":"info","message":"llm_call_metrics","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"78ddb280a2cb83c23c85b1035eed8b3d5fbcd26529ae4529d14b4e3768cf61d3","skillCount":5,"template":"project_summary","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.005Z","level":"info","message":"generation_resume_verified","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","generationRunId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:53.017Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","generationRunId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:53.035Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","generationRunId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:53.052Z","level":"info","message":"generation_cover_letters_completed","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","generationRunId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","variants":2,"fallbackApplied":true,"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.055Z","level":"info","message":"pdf_generation_attempt","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","generationRunId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/enhanced_modern.pdf","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.057Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","generationRunId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.059Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","generationRunId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/enhanced_modern.pdf","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.060Z","level":"info","message":"pdf_generation_attempt","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","generationRunId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/enhanced_professional.pdf","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.061Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","generationRunId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.062Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","generationRunId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/enhanced_professional.pdf","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.066Z","level":"info","message":"pdf_generation_attempt","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","generationRunId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/cover_letter_cover_modern.pdf","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.067Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","generationRunId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.068Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","generationRunId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/cover_letter_cover_modern.pdf","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.070Z","level":"info","message":"pdf_generation_attempt","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","generationRunId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/cover_letter_cover_professional.pdf","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.071Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","generationRunId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.073Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","generationRunId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c97fbafd-1a6a-4894-ba63-138bcad0d5bc/cover_letter_cover_professional.pdf","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.080Z","level":"info","message":"llm_call_metrics","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.082Z","level":"info","message":"generation_completed","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","generationRunId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","enhancedScore":80,"outputs":5,"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.086Z","level":"info","message":"placeholder_record_deleted","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","jobId":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","placeholderIdentifier":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a7363d4-a6ba-4567-8b28-fb05c8c4693b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.090Z","level":"info","message":"http_request_completed","requestId":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":182,"contentLength":"59302","template":"unknown","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c97fbafd-1a6a-4894-ba63-138bcad0d5bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.098Z","level":"info","message":"http_request_received","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","method":"POST","path":"/api/process-cv","template":"unknown","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.101Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.104Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.109Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.113Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.119Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/b3ba96a5-a8ed-40de-a940-440137ff9b4e/incoming/original.pdf","chunks":1,"timestamp":1764857213125}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/b3ba96a5-a8ed-40de-a940-440137ff9b4e/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/b3ba96a5-a8ed-40de-a940-440137ff9b4e/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:06:53.128Z","level":"info","message":"process_cv_started","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","manualJobDescriptionProvided":true,"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.129Z","level":"info","message":"template_selection","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:53.130Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:53.146Z","level":"info","message":"initial_upload_completed","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","bucket":"test-bucket","key":"cv/candidate/b3ba96a5-a8ed-40de-a940-440137ff9b4e/incoming/original.pdf","template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.147Z","level":"info","message":"resume_text_extracted","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","characters":57,"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.147Z","level":"info","message":"resume_classified","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.148Z","level":"info","message":"raw_upload_relocated","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","bucket":"test-bucket","fromKey":"cv/candidate/b3ba96a5-a8ed-40de-a940-440137ff9b4e/incoming/original.pdf","toKey":"cv/professional_summary/b3ba96a5-a8ed-40de-a940-440137ff9b4e/original.pdf","template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.149Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","bucket":"test-bucket","key":"cv/professional_summary/b3ba96a5-a8ed-40de-a940-440137ff9b4e/original.pdf","template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.150Z","level":"info","message":"dynamo_initial_record_written","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","bucket":"test-bucket","key":"cv/professional_summary/b3ba96a5-a8ed-40de-a940-440137ff9b4e/original.pdf","template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.151Z","level":"info","message":"upload_metadata_written","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","bucket":"test-bucket","key":"cv/professional_summary/b3ba96a5-a8ed-40de-a940-440137ff9b4e/logs/log.json","template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.152Z","level":"info","message":"job_description_supplied_manually","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","characters":174,"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.153Z","level":"info","message":"job_description_analyzed","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","jobTitle":"","jobSkills":5,"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.154Z","level":"info","message":"resume_skills_analyzed","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.155Z","level":"info","message":"llm_call_metrics","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.158Z","level":"info","message":"process_cv_scoring_completed","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.169Z","level":"info","message":"llm_call_metrics","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.171Z","level":"info","message":"generation_section_rewrite_completed","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","generationRunId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.171Z","level":"info","message":"llm_call_metrics","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"968eb1ed4b9ef5f26cd87ba7e60f108acaf8c335efc2ef153d4aaa0b022ea8c8","skillCount":5,"template":"project_summary","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.176Z","level":"info","message":"generation_resume_verified","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","generationRunId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:53.187Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","generationRunId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:53.208Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","generationRunId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:53.220Z","level":"info","message":"generation_cover_letters_completed","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","generationRunId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","variants":2,"fallbackApplied":true,"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.222Z","level":"info","message":"pdf_generation_attempt","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","generationRunId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b3ba96a5-a8ed-40de-a940-440137ff9b4e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b3ba96a5-a8ed-40de-a940-440137ff9b4e/enhanced_modern.pdf","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.223Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","generationRunId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b3ba96a5-a8ed-40de-a940-440137ff9b4e/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.225Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","generationRunId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b3ba96a5-a8ed-40de-a940-440137ff9b4e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b3ba96a5-a8ed-40de-a940-440137ff9b4e/enhanced_modern.pdf","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.226Z","level":"info","message":"pdf_generation_attempt","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","generationRunId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b3ba96a5-a8ed-40de-a940-440137ff9b4e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b3ba96a5-a8ed-40de-a940-440137ff9b4e/enhanced_professional.pdf","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.227Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","generationRunId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b3ba96a5-a8ed-40de-a940-440137ff9b4e/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.230Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","generationRunId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b3ba96a5-a8ed-40de-a940-440137ff9b4e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b3ba96a5-a8ed-40de-a940-440137ff9b4e/enhanced_professional.pdf","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.233Z","level":"info","message":"pdf_generation_attempt","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","generationRunId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b3ba96a5-a8ed-40de-a940-440137ff9b4e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b3ba96a5-a8ed-40de-a940-440137ff9b4e/cover_letter_cover_modern.pdf","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.234Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","generationRunId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b3ba96a5-a8ed-40de-a940-440137ff9b4e/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.235Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","generationRunId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b3ba96a5-a8ed-40de-a940-440137ff9b4e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b3ba96a5-a8ed-40de-a940-440137ff9b4e/cover_letter_cover_modern.pdf","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.237Z","level":"info","message":"pdf_generation_attempt","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","generationRunId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b3ba96a5-a8ed-40de-a940-440137ff9b4e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b3ba96a5-a8ed-40de-a940-440137ff9b4e/cover_letter_cover_professional.pdf","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.238Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","generationRunId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b3ba96a5-a8ed-40de-a940-440137ff9b4e/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.239Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","generationRunId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b3ba96a5-a8ed-40de-a940-440137ff9b4e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b3ba96a5-a8ed-40de-a940-440137ff9b4e/cover_letter_cover_professional.pdf","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.246Z","level":"info","message":"llm_call_metrics","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.247Z","level":"info","message":"generation_completed","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","generationRunId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","enhancedScore":80,"outputs":5,"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.249Z","level":"info","message":"placeholder_record_deleted","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","jobId":"18571cbd-41a7-4957-8ffb-e2002b16bb29","placeholderIdentifier":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18571cbd-41a7-4957-8ffb-e2002b16bb29","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.255Z","level":"info","message":"http_request_completed","requestId":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":157,"contentLength":"59835","template":"unknown","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b3ba96a5-a8ed-40de-a940-440137ff9b4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.270Z","level":"info","message":"http_request_received","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","method":"POST","path":"/api/process-cv","template":"unknown","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.273Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.275Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.278Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.280Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.284Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/incoming/original.pdf","chunks":1,"timestamp":1764857213288}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:06:53.292Z","level":"info","message":"process_cv_started","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","manualJobDescriptionProvided":true,"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.293Z","level":"info","message":"template_selection","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:53.294Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:53.306Z","level":"info","message":"initial_upload_completed","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","bucket":"test-bucket","key":"cv/candidate/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/incoming/original.pdf","template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.307Z","level":"info","message":"resume_text_extracted","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","characters":57,"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.308Z","level":"info","message":"resume_classified","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.308Z","level":"info","message":"raw_upload_relocated","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","bucket":"test-bucket","fromKey":"cv/candidate/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/incoming/original.pdf","toKey":"cv/professional_summary/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/original.pdf","template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.309Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","bucket":"test-bucket","key":"cv/professional_summary/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/original.pdf","template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.310Z","level":"info","message":"dynamo_initial_record_written","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","bucket":"test-bucket","key":"cv/professional_summary/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/original.pdf","template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.311Z","level":"info","message":"upload_metadata_written","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","bucket":"test-bucket","key":"cv/professional_summary/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/logs/log.json","template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.311Z","level":"info","message":"job_description_supplied_manually","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","characters":174,"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.312Z","level":"info","message":"job_description_analyzed","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","jobTitle":"","jobSkills":5,"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.313Z","level":"info","message":"resume_skills_analyzed","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.314Z","level":"info","message":"llm_call_metrics","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.315Z","level":"info","message":"process_cv_scoring_completed","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.319Z","level":"info","message":"llm_call_metrics","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.320Z","level":"info","message":"generation_section_rewrite_completed","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","generationRunId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.321Z","level":"info","message":"llm_call_metrics","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.326Z","level":"info","message":"generation_resume_verified","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","generationRunId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:53.329Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","generationRunId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:53.339Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","generationRunId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:53.354Z","level":"info","message":"generation_cover_letters_completed","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","generationRunId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","variants":2,"fallbackApplied":true,"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.355Z","level":"info","message":"pdf_generation_attempt","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","generationRunId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/enhanced_modern.pdf","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.356Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","generationRunId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.358Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","generationRunId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/enhanced_modern.pdf","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.359Z","level":"info","message":"pdf_generation_attempt","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","generationRunId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/enhanced_professional.pdf","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.359Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","generationRunId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.362Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","generationRunId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/enhanced_professional.pdf","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.362Z","level":"info","message":"pdf_generation_attempt","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","generationRunId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/cover_letter_cover_modern.pdf","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.363Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","generationRunId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.365Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","generationRunId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/cover_letter_cover_modern.pdf","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.365Z","level":"info","message":"pdf_generation_attempt","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","generationRunId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/cover_letter_cover_professional.pdf","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.366Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","generationRunId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.368Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","generationRunId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/8ae1807a-e3ae-4d77-a63d-f8ad6264a44a/cover_letter_cover_professional.pdf","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.370Z","level":"info","message":"llm_call_metrics","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.371Z","level":"info","message":"generation_completed","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","generationRunId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","enhancedScore":80,"outputs":5,"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.373Z","level":"info","message":"placeholder_record_deleted","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","jobId":"98637781-297b-41ec-990b-6aa1bce1f496","placeholderIdentifier":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98637781-297b-41ec-990b-6aa1bce1f496","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.375Z","level":"info","message":"http_request_completed","requestId":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":105,"contentLength":"58133","template":"unknown","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ae1807a-e3ae-4d77-a63d-f8ad6264a44a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.379Z","level":"info","message":"http_request_received","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","method":"POST","path":"/api/process-cv","template":"unknown","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.381Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.383Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.386Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.391Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.406Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/incoming/original.pdf","chunks":1,"timestamp":1764857213410}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:06:53.413Z","level":"info","message":"process_cv_started","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","manualJobDescriptionProvided":true,"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.414Z","level":"info","message":"template_selection","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:53.415Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:53.429Z","level":"info","message":"initial_upload_completed","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","bucket":"test-bucket","key":"cv/candidate/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/incoming/original.pdf","template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.430Z","level":"info","message":"resume_text_extracted","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","characters":57,"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.431Z","level":"info","message":"resume_classified","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.432Z","level":"info","message":"raw_upload_relocated","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","bucket":"test-bucket","fromKey":"cv/candidate/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/incoming/original.pdf","toKey":"cv/professional_summary/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/original.pdf","template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.433Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","bucket":"test-bucket","key":"cv/professional_summary/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/original.pdf","template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.435Z","level":"info","message":"dynamo_initial_record_written","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","bucket":"test-bucket","key":"cv/professional_summary/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/original.pdf","template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.436Z","level":"info","message":"upload_metadata_written","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","bucket":"test-bucket","key":"cv/professional_summary/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/logs/log.json","template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.439Z","level":"info","message":"job_description_supplied_manually","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","characters":174,"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.440Z","level":"info","message":"job_description_analyzed","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","jobTitle":"","jobSkills":5,"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.443Z","level":"info","message":"resume_skills_analyzed","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.444Z","level":"info","message":"llm_call_metrics","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.445Z","level":"info","message":"process_cv_scoring_completed","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.454Z","level":"info","message":"llm_call_metrics","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"9a6d2d1a9ce924151b6a4db0f761d85550b399b0c2990ac5bc2d2ac9b952bd0d","addedSkillCount":0,"template":"resume_rewrite","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.456Z","level":"info","message":"generation_section_rewrite_completed","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","generationRunId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.465Z","level":"info","message":"generation_resume_verified","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","generationRunId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.474Z","level":"info","message":"generation_cover_letters_normalized","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","generationRunId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","variants":["cover_letter1","cover_letter2"],"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:53.475Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","generationRunId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:53.486Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","generationRunId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","variants":["cover_letter1"],"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.489Z","level":"info","message":"generation_cover_letters_completed","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","generationRunId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","variants":2,"fallbackApplied":true,"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.492Z","level":"info","message":"pdf_generation_attempt","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","generationRunId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/enhanced_modern.pdf","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.494Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","generationRunId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.496Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","generationRunId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/enhanced_modern.pdf","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.498Z","level":"info","message":"pdf_generation_attempt","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","generationRunId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/enhanced_professional.pdf","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.500Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","generationRunId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.501Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","generationRunId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/enhanced_professional.pdf","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.502Z","level":"info","message":"pdf_generation_attempt","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","generationRunId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/cover_letter_cover_modern.pdf","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.504Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","generationRunId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.505Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","generationRunId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/cover_letter_cover_modern.pdf","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.506Z","level":"info","message":"pdf_generation_attempt","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","generationRunId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/cover_letter_cover_professional.pdf","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.507Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","generationRunId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.508Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","generationRunId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/882a8557-a3a1-46af-82d2-93ec5ee5ffe2/cover_letter_cover_professional.pdf","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.512Z","level":"info","message":"llm_call_metrics","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.513Z","level":"info","message":"generation_completed","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","generationRunId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","enhancedScore":80,"outputs":5,"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.515Z","level":"info","message":"placeholder_record_deleted","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","jobId":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","placeholderIdentifier":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b0ddeae-9195-4141-a62b-3ac45974c5e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.517Z","level":"info","message":"http_request_completed","requestId":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":138,"contentLength":"46262","template":"unknown","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"882a8557-a3a1-46af-82d2-93ec5ee5ffe2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.546Z","level":"info","message":"http_request_received","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","method":"POST","path":"/api/process-cv","template":"unknown","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.552Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.554Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.558Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.562Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.566Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/incoming/original.pdf","chunks":1,"timestamp":1764857213574}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:06:53.577Z","level":"info","message":"process_cv_started","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","manualJobDescriptionProvided":true,"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.578Z","level":"info","message":"template_selection","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:53.579Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:53.598Z","level":"info","message":"initial_upload_completed","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","bucket":"test-bucket","key":"cv/candidate/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/incoming/original.pdf","template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.600Z","level":"info","message":"resume_text_extracted","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","characters":57,"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.601Z","level":"info","message":"resume_classified","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.603Z","level":"info","message":"raw_upload_relocated","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","bucket":"test-bucket","fromKey":"cv/candidate/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/incoming/original.pdf","toKey":"cv/professional_summary/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/original.pdf","template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.604Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","bucket":"test-bucket","key":"cv/professional_summary/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/original.pdf","template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.605Z","level":"info","message":"dynamo_initial_record_written","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","bucket":"test-bucket","key":"cv/professional_summary/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/original.pdf","template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.606Z","level":"info","message":"upload_metadata_written","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","bucket":"test-bucket","key":"cv/professional_summary/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/logs/log.json","template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.607Z","level":"info","message":"job_description_supplied_manually","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","characters":174,"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.607Z","level":"info","message":"job_description_analyzed","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","jobTitle":"","jobSkills":5,"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.608Z","level":"info","message":"resume_skills_analyzed","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.609Z","level":"info","message":"llm_call_metrics","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.610Z","level":"info","message":"process_cv_scoring_completed","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:53.614Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","sample":"Here is your revised resume text without JSON formatting.","template":"unknown","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8533:20)
      at generateEnhancedDocumentsResponse (server.js:20182:26)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:53.627Z","level":"info","message":"llm_call_metrics","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.627Z","level":"info","message":"llm_call_metrics","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.628Z","level":"info","message":"generation_section_rewrite_completed","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","generationRunId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.629Z","level":"info","message":"llm_call_metrics","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"d230fd9d3c6f4e6f7bb7c385f22b3a147a5c937619c1919bfb6f5e09096df674","skillCount":5,"template":"project_summary","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:53.633Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","generationRunId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:53.643Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","generationRunId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:53.657Z","level":"info","message":"generation_cover_letters_completed","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","generationRunId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","variants":2,"fallbackApplied":true,"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.659Z","level":"info","message":"pdf_generation_attempt","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","generationRunId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/enhanced_modern.pdf","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.661Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","generationRunId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.662Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","generationRunId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/enhanced_modern.pdf","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.663Z","level":"info","message":"pdf_generation_attempt","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","generationRunId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/enhanced_professional.pdf","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.664Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","generationRunId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.665Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","generationRunId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/enhanced_professional.pdf","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.666Z","level":"info","message":"pdf_generation_attempt","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","generationRunId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/cover_letter_cover_modern.pdf","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.666Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","generationRunId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.668Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","generationRunId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/cover_letter_cover_modern.pdf","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.669Z","level":"info","message":"pdf_generation_attempt","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","generationRunId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/cover_letter_cover_professional.pdf","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.670Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","generationRunId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.672Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","generationRunId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8/cover_letter_cover_professional.pdf","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.679Z","level":"info","message":"llm_call_metrics","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.682Z","level":"info","message":"generation_completed","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","generationRunId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","enhancedScore":80,"outputs":5,"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.683Z","level":"info","message":"placeholder_record_deleted","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","jobId":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","placeholderIdentifier":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b6cce79-c6f2-4a4b-8dcc-f8c97dade984","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.686Z","level":"info","message":"http_request_completed","requestId":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":140,"contentLength":"57871","template":"unknown","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c05fa1d2-6c6e-49ca-a7f2-4ea2621853a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.699Z","level":"info","message":"http_request_received","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","method":"POST","path":"/api/process-cv","template":"unknown","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.702Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.705Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.709Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.714Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.718Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/071f0562-f72a-4f2e-976c-82a3324cdbc5/incoming/original.pdf","chunks":1,"timestamp":1764857213724}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/071f0562-f72a-4f2e-976c-82a3324cdbc5/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/071f0562-f72a-4f2e-976c-82a3324cdbc5/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:06:53.727Z","level":"info","message":"process_cv_started","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","manualJobDescriptionProvided":true,"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.728Z","level":"info","message":"template_selection","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:53.729Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:53.741Z","level":"info","message":"initial_upload_completed","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","bucket":"test-bucket","key":"cv/candidate/071f0562-f72a-4f2e-976c-82a3324cdbc5/incoming/original.pdf","template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.742Z","level":"info","message":"resume_text_extracted","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","characters":57,"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.747Z","level":"info","message":"resume_classified","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.749Z","level":"info","message":"raw_upload_relocated","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","bucket":"test-bucket","fromKey":"cv/candidate/071f0562-f72a-4f2e-976c-82a3324cdbc5/incoming/original.pdf","toKey":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/original.pdf","template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.750Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","bucket":"test-bucket","key":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/original.pdf","template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.751Z","level":"info","message":"dynamo_initial_record_written","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","bucket":"test-bucket","key":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/original.pdf","template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.753Z","level":"info","message":"upload_metadata_written","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","bucket":"test-bucket","key":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/logs/log.json","template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.753Z","level":"info","message":"job_description_supplied_manually","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","characters":174,"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.754Z","level":"info","message":"job_description_analyzed","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","jobTitle":"","jobSkills":5,"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.755Z","level":"info","message":"resume_skills_analyzed","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.758Z","level":"info","message":"llm_call_metrics","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.760Z","level":"info","message":"process_cv_scoring_completed","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.768Z","level":"info","message":"llm_call_metrics","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.769Z","level":"info","message":"generation_section_rewrite_completed","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.770Z","level":"info","message":"llm_call_metrics","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.777Z","level":"info","message":"generation_resume_verified","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:53.789Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:53.811Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:53.892Z","level":"info","message":"generation_cover_letters_completed","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","variants":2,"fallbackApplied":true,"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.901Z","level":"info","message":"pdf_generation_attempt","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/enhanced_modern.pdf","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.903Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:53.919Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:53.939Z","level":"info","message":"pdf_generation_attempt","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/enhanced_professional.pdf","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.942Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:53.944Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:53.983Z","level":"info","message":"pdf_generation_attempt","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"classic","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/enhanced_classic.pdf","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:53.985Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:53.987Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:54.007Z","level":"info","message":"pdf_generation_attempt","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"ats","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/enhanced_ats.pdf","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.009Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:54.013Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:54.038Z","level":"info","message":"pdf_generation_attempt","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"2025","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/enhanced_2025.pdf","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.040Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:54.043Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:54.066Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/enhanced_2025.pdf","forcedFallback":true,"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11153:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:54.085Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/enhanced_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"2025","requestedTemplateId":"2025","engine":"pdf-lib","bytes":9,"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.087Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/enhanced_2025.pdf","bytes":9,"forcedFallback":true,"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.089Z","level":"info","message":"pdf_generation_attempt","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/enhanced_professional.pdf","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.090Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:54.091Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:54.105Z","level":"info","message":"pdf_generation_attempt","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"modern","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/enhanced_modern.pdf","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.106Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:54.107Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:54.117Z","level":"info","message":"pdf_generation_attempt","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"2025","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/enhanced_2025.pdf","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.118Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:54.121Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:54.132Z","level":"info","message":"pdf_generation_attempt","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"classic","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/enhanced_classic.pdf","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.133Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:54.134Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:54.152Z","level":"info","message":"pdf_generation_attempt","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"ats","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/enhanced_ats.pdf","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.154Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:54.156Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:54.168Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/enhanced_ats.pdf","forcedFallback":true,"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11153:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:54.185Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/enhanced_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"ats","requestedTemplateId":"ats","engine":"pdf-lib","bytes":9,"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.186Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/enhanced_ats.pdf","bytes":9,"forcedFallback":true,"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.188Z","level":"info","message":"pdf_generation_attempt","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/cover_letter_cover_modern.pdf","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.190Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:54.191Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:54.208Z","level":"info","message":"pdf_generation_attempt","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/cover_letter_cover_professional.pdf","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.209Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:54.209Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:54.223Z","level":"info","message":"pdf_generation_attempt","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/cover_letter_cover_classic.pdf","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.225Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:54.226Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:54.237Z","level":"info","message":"pdf_generation_attempt","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/cover_letter_cover_ats.pdf","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.238Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:54.239Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:54.258Z","level":"info","message":"pdf_generation_attempt","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/cover_letter_cover_2025.pdf","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.259Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:54.262Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:54.284Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/cover_letter_cover_2025.pdf","forcedFallback":true,"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11153:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:54.302Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/cover_letter_cover_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_2025","requestedTemplateId":"cover_2025","engine":"pdf-lib","bytes":9,"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.305Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/cover_letter_cover_2025.pdf","bytes":9,"forcedFallback":true,"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.308Z","level":"info","message":"pdf_generation_attempt","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/cover_letter_cover_professional.pdf","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.309Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:54.310Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:54.326Z","level":"info","message":"pdf_generation_attempt","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/cover_letter_cover_modern.pdf","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.327Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:54.329Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:54.344Z","level":"info","message":"pdf_generation_attempt","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/cover_letter_cover_2025.pdf","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.345Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:54.346Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:54.355Z","level":"info","message":"pdf_generation_attempt","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/cover_letter_cover_classic.pdf","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.356Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:54.357Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:54.377Z","level":"info","message":"pdf_generation_attempt","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/cover_letter_cover_ats.pdf","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.379Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T14:06:54.380Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:54.401Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/cover_letter_cover_ats.pdf","forcedFallback":true,"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11153:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:54.451Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/cover_letter_cover_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_ats","requestedTemplateId":"cover_ats","engine":"pdf-lib","bytes":9,"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.453Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/071f0562-f72a-4f2e-976c-82a3324cdbc5/cover_letter_cover_ats.pdf","bytes":9,"forcedFallback":true,"session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.458Z","level":"info","message":"llm_call_metrics","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.459Z","level":"info","message":"generation_completed","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","generationRunId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","enhancedScore":80,"outputs":5,"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.463Z","level":"info","message":"placeholder_record_deleted","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","jobId":"47100a2c-484c-45f6-adb3-771de077059a","placeholderIdentifier":"071f0562-f72a-4f2e-976c-82a3324cdbc5","template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47100a2c-484c-45f6-adb3-771de077059a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.492Z","level":"info","message":"http_request_completed","requestId":"071f0562-f72a-4f2e-976c-82a3324cdbc5","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":793,"contentLength":"60620","template":"unknown","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"071f0562-f72a-4f2e-976c-82a3324cdbc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.505Z","level":"info","message":"http_request_received","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","method":"POST","path":"/api/process-cv","template":"unknown","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.508Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.510Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.513Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.516Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.520Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/40d494c6-b9c0-48b6-9af5-1a8fe660444e/incoming/original.pdf","chunks":1,"timestamp":1764857214525}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/40d494c6-b9c0-48b6-9af5-1a8fe660444e/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/40d494c6-b9c0-48b6-9af5-1a8fe660444e/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.537Z","level":"info","message":"process_cv_started","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","manualJobDescriptionProvided":true,"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.538Z","level":"info","message":"template_selection","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:54.540Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:54.553Z","level":"info","message":"initial_upload_completed","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","bucket":"test-bucket","key":"cv/candidate/40d494c6-b9c0-48b6-9af5-1a8fe660444e/incoming/original.pdf","template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.554Z","level":"info","message":"resume_text_extracted","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","characters":57,"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.554Z","level":"info","message":"resume_classified","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.555Z","level":"info","message":"raw_upload_relocated","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","bucket":"test-bucket","fromKey":"cv/candidate/40d494c6-b9c0-48b6-9af5-1a8fe660444e/incoming/original.pdf","toKey":"cv/professional_summary/40d494c6-b9c0-48b6-9af5-1a8fe660444e/original.pdf","template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.556Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","bucket":"test-bucket","key":"cv/professional_summary/40d494c6-b9c0-48b6-9af5-1a8fe660444e/original.pdf","template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.557Z","level":"info","message":"dynamo_initial_record_written","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","bucket":"test-bucket","key":"cv/professional_summary/40d494c6-b9c0-48b6-9af5-1a8fe660444e/original.pdf","template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.558Z","level":"info","message":"upload_metadata_written","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","bucket":"test-bucket","key":"cv/professional_summary/40d494c6-b9c0-48b6-9af5-1a8fe660444e/logs/log.json","template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.558Z","level":"info","message":"job_description_supplied_manually","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","characters":174,"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.559Z","level":"info","message":"job_description_analyzed","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","jobTitle":"","jobSkills":5,"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.561Z","level":"info","message":"resume_skills_analyzed","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.562Z","level":"info","message":"llm_call_metrics","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.563Z","level":"info","message":"process_cv_scoring_completed","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.568Z","level":"info","message":"llm_call_metrics","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"083bf06ffdad2254495e6ab02d51602dd213ec7860f8066358ba6750acc9f49a","addedSkillCount":1,"template":"resume_rewrite","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.569Z","level":"info","message":"generation_section_rewrite_completed","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","generationRunId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","modifiedTitle":"Revised Title","addedSkills":1,"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.575Z","level":"info","message":"generation_resume_verified","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","generationRunId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:06:54.582Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","generationRunId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
          at runMicrotasks (<anonymous>)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:54.593Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","generationRunId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
          at runMicrotasks (<anonymous>)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:54.604Z","level":"info","message":"generation_cover_letters_completed","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","generationRunId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","variants":2,"fallbackApplied":true,"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.606Z","level":"info","message":"pdf_generation_attempt","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","generationRunId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/40d494c6-b9c0-48b6-9af5-1a8fe660444e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/40d494c6-b9c0-48b6-9af5-1a8fe660444e/enhanced_modern.pdf","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.607Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","generationRunId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/40d494c6-b9c0-48b6-9af5-1a8fe660444e/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.619Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","generationRunId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/40d494c6-b9c0-48b6-9af5-1a8fe660444e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/40d494c6-b9c0-48b6-9af5-1a8fe660444e/enhanced_modern.pdf","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.620Z","level":"info","message":"pdf_generation_attempt","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","generationRunId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/40d494c6-b9c0-48b6-9af5-1a8fe660444e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/40d494c6-b9c0-48b6-9af5-1a8fe660444e/enhanced_professional.pdf","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.621Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","generationRunId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/40d494c6-b9c0-48b6-9af5-1a8fe660444e/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.622Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","generationRunId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/40d494c6-b9c0-48b6-9af5-1a8fe660444e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/40d494c6-b9c0-48b6-9af5-1a8fe660444e/enhanced_professional.pdf","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.623Z","level":"info","message":"pdf_generation_attempt","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","generationRunId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/40d494c6-b9c0-48b6-9af5-1a8fe660444e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/40d494c6-b9c0-48b6-9af5-1a8fe660444e/cover_letter_cover_modern.pdf","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.625Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","generationRunId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/40d494c6-b9c0-48b6-9af5-1a8fe660444e/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.627Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","generationRunId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/40d494c6-b9c0-48b6-9af5-1a8fe660444e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/40d494c6-b9c0-48b6-9af5-1a8fe660444e/cover_letter_cover_modern.pdf","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.629Z","level":"info","message":"pdf_generation_attempt","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","generationRunId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/40d494c6-b9c0-48b6-9af5-1a8fe660444e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/40d494c6-b9c0-48b6-9af5-1a8fe660444e/cover_letter_cover_professional.pdf","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.630Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","generationRunId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/40d494c6-b9c0-48b6-9af5-1a8fe660444e/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.632Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","generationRunId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/40d494c6-b9c0-48b6-9af5-1a8fe660444e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/40d494c6-b9c0-48b6-9af5-1a8fe660444e/cover_letter_cover_professional.pdf","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.640Z","level":"info","message":"llm_call_metrics","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"1075df15bec8b8fc718989e1c7ca31af0c39036b671cabbdfc22628f8e2e250f","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.641Z","level":"info","message":"generation_completed","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","generationRunId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","enhancedScore":80,"outputs":5,"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.642Z","level":"info","message":"placeholder_record_deleted","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","jobId":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","placeholderIdentifier":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6736f49-e044-4d27-a6b7-a5eb6d6f4397","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.644Z","level":"info","message":"http_request_completed","requestId":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":139,"contentLength":"59251","template":"unknown","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40d494c6-b9c0-48b6-9af5-1a8fe660444e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.650Z","level":"info","message":"http_request_received","requestId":"cd0bb098-8ab6-4a43-9b12-59b7ea96a43c","method":"POST","path":"/api/process-cv","template":"unknown","session":"cd0bb098-8ab6-4a43-9b12-59b7ea96a43c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd0bb098-8ab6-4a43-9b12-59b7ea96a43c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.653Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.656Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.658Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.662Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.665Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.679Z","level":"info","message":"process_cv_started","requestId":"cd0bb098-8ab6-4a43-9b12-59b7ea96a43c","jobId":"5e5a38ba-7820-470a-a431-865bc514b7fd","manualJobDescriptionProvided":true,"template":"unknown","session":"5e5a38ba-7820-470a-a431-865bc514b7fd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e5a38ba-7820-470a-a431-865bc514b7fd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.681Z","level":"info","message":"template_selection","requestId":"cd0bb098-8ab6-4a43-9b12-59b7ea96a43c","jobId":"5e5a38ba-7820-470a-a431-865bc514b7fd","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"5e5a38ba-7820-470a-a431-865bc514b7fd","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5e5a38ba-7820-470a-a431-865bc514b7fd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:54.683Z","level":"warn","message":"resume_missing","requestId":"cd0bb098-8ab6-4a43-9b12-59b7ea96a43c","jobId":"5e5a38ba-7820-470a-a431-865bc514b7fd","template":"unknown","session":"5e5a38ba-7820-470a-a431-865bc514b7fd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e5a38ba-7820-470a-a431-865bc514b7fd","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25095:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T14:06:54.696Z","level":"warn","message":"api_error_response","requestId":"cd0bb098-8ab6-4a43-9b12-59b7ea96a43c","jobId":"5e5a38ba-7820-470a-a431-865bc514b7fd","status":400,"error":{"code":"RESUME_FILE_REQUIRED","message":"resume file required","details":{"field":"resume"},"requestId":"cd0bb098-8ab6-4a43-9b12-59b7ea96a43c","jobId":"5e5a38ba-7820-470a-a431-865bc514b7fd"},"template":"unknown","session":"5e5a38ba-7820-470a-a431-865bc514b7fd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e5a38ba-7820-470a-a431-865bc514b7fd","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at sendError (server.js:3965:3)
      at server.js:25096:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:54.713Z","level":"info","message":"http_request_completed","requestId":"cd0bb098-8ab6-4a43-9b12-59b7ea96a43c","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":63,"contentLength":"217","template":"unknown","session":"cd0bb098-8ab6-4a43-9b12-59b7ea96a43c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd0bb098-8ab6-4a43-9b12-59b7ea96a43c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.723Z","level":"info","message":"http_request_received","requestId":"7b803c5c-988b-40bf-afe6-74f209987288","method":"POST","path":"/api/process-cv","template":"unknown","session":"7b803c5c-988b-40bf-afe6-74f209987288","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b803c5c-988b-40bf-afe6-74f209987288","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.725Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.727Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.730Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.733Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.736Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:54.743Z","level":"warn","message":"resume_upload_failed","requestId":"7b803c5c-988b-40bf-afe6-74f209987288","jobId":"105ccba3-7ecc-4f09-9bf9-20a4a4762443","storageError":false,"error":{"name":"Error","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","stack":"Error: Unsupported resume format. Please upload a PDF, DOC, or DOCX file.\n    at fileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4987:9)\n    at wrappedFileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/index.js:44:7)\n    at Multipart.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:109:7)\n    at Multipart.emit (node:events:513:28)\n    at HeaderParser.cb (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:358:14)\n    at HeaderParser.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:394:37)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at IncomingMessage.Readable.read (node:internal/streams/readable:527:10)\n    at flow (node:internal/streams/readable:1011:34)\n    at resume_ (node:internal/streams/readable:992:3)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)"},"template":"unknown","session":"105ccba3-7ecc-4f09-9bf9-20a4a4762443","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"105ccba3-7ecc-4f09-9bf9-20a4a4762443","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:24789:7
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at fileFilter (server.js:4986:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.warn
    {"timestamp":"2025-12-04T14:06:54.756Z","level":"warn","message":"api_error_response","requestId":"7b803c5c-988b-40bf-afe6-74f209987288","jobId":"105ccba3-7ecc-4f09-9bf9-20a4a4762443","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","details":{"field":"resume"},"requestId":"7b803c5c-988b-40bf-afe6-74f209987288","jobId":"105ccba3-7ecc-4f09-9bf9-20a4a4762443"},"template":"unknown","session":"105ccba3-7ecc-4f09-9bf9-20a4a4762443","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"105ccba3-7ecc-4f09-9bf9-20a4a4762443","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at sendError (server.js:3965:3)
      at respond (server.js:24797:9)
      at server.js:24801:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at fileFilter (server.js:4986:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.log
    {"timestamp":"2025-12-04T14:06:54.771Z","level":"info","message":"http_request_completed","requestId":"7b803c5c-988b-40bf-afe6-74f209987288","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":48,"contentLength":"267","template":"unknown","session":"7b803c5c-988b-40bf-afe6-74f209987288","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b803c5c-988b-40bf-afe6-74f209987288","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.780Z","level":"info","message":"http_request_received","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","method":"POST","path":"/api/process-cv","template":"unknown","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.782Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.784Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.787Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.789Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.793Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/d3309131-19a3-4422-a79f-fee5bbc4ade7/incoming/original.pdf","chunks":1,"timestamp":1764857214799}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":32768}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":32768,"newSize":32768,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/d3309131-19a3-4422-a79f-fee5bbc4ade7/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/d3309131-19a3-4422-a79f-fee5bbc4ade7/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.802Z","level":"info","message":"process_cv_started","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","manualJobDescriptionProvided":true,"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:54.803Z","level":"info","message":"template_selection","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:54.804Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:54.817Z","level":"info","message":"initial_upload_completed","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","bucket":"test-bucket","key":"cv/candidate/d3309131-19a3-4422-a79f-fee5bbc4ade7/incoming/original.pdf","template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.819Z","level":"info","message":"resume_text_extracted","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","characters":57,"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.820Z","level":"info","message":"resume_classified","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.821Z","level":"info","message":"raw_upload_relocated","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","bucket":"test-bucket","fromKey":"cv/candidate/d3309131-19a3-4422-a79f-fee5bbc4ade7/incoming/original.pdf","toKey":"cv/professional_summary/d3309131-19a3-4422-a79f-fee5bbc4ade7/original.pdf","template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.823Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","bucket":"test-bucket","key":"cv/professional_summary/d3309131-19a3-4422-a79f-fee5bbc4ade7/original.pdf","template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.823Z","level":"info","message":"dynamo_initial_record_written","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","bucket":"test-bucket","key":"cv/professional_summary/d3309131-19a3-4422-a79f-fee5bbc4ade7/original.pdf","template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.824Z","level":"info","message":"upload_metadata_written","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","bucket":"test-bucket","key":"cv/professional_summary/d3309131-19a3-4422-a79f-fee5bbc4ade7/logs/log.json","template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.824Z","level":"info","message":"job_description_supplied_manually","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","characters":174,"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.825Z","level":"info","message":"job_description_analyzed","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","jobTitle":"","jobSkills":5,"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.826Z","level":"info","message":"resume_skills_analyzed","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.828Z","level":"info","message":"llm_call_metrics","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.832Z","level":"info","message":"process_cv_scoring_completed","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.842Z","level":"info","message":"llm_call_metrics","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.843Z","level":"info","message":"generation_section_rewrite_completed","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","generationRunId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.844Z","level":"info","message":"llm_call_metrics","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.850Z","level":"info","message":"generation_resume_verified","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","generationRunId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:06:54.867Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","generationRunId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
          at runMicrotasks (<anonymous>)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:54.889Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","generationRunId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
          at runMicrotasks (<anonymous>)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:54.965Z","level":"info","message":"generation_cover_letters_completed","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","generationRunId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","variants":2,"fallbackApplied":true,"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.979Z","level":"info","message":"pdf_generation_attempt","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","generationRunId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d3309131-19a3-4422-a79f-fee5bbc4ade7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/d3309131-19a3-4422-a79f-fee5bbc4ade7/enhanced_modern.pdf","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.994Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","generationRunId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d3309131-19a3-4422-a79f-fee5bbc4ade7/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.995Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","generationRunId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d3309131-19a3-4422-a79f-fee5bbc4ade7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/d3309131-19a3-4422-a79f-fee5bbc4ade7/enhanced_modern.pdf","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.996Z","level":"info","message":"pdf_generation_attempt","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","generationRunId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d3309131-19a3-4422-a79f-fee5bbc4ade7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/d3309131-19a3-4422-a79f-fee5bbc4ade7/enhanced_professional.pdf","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.997Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","generationRunId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d3309131-19a3-4422-a79f-fee5bbc4ade7/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.998Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","generationRunId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d3309131-19a3-4422-a79f-fee5bbc4ade7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/d3309131-19a3-4422-a79f-fee5bbc4ade7/enhanced_professional.pdf","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:54.999Z","level":"info","message":"pdf_generation_attempt","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","generationRunId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d3309131-19a3-4422-a79f-fee5bbc4ade7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/d3309131-19a3-4422-a79f-fee5bbc4ade7/cover_letter_cover_modern.pdf","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.000Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","generationRunId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d3309131-19a3-4422-a79f-fee5bbc4ade7/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.002Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","generationRunId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d3309131-19a3-4422-a79f-fee5bbc4ade7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/d3309131-19a3-4422-a79f-fee5bbc4ade7/cover_letter_cover_modern.pdf","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.003Z","level":"info","message":"pdf_generation_attempt","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","generationRunId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d3309131-19a3-4422-a79f-fee5bbc4ade7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/d3309131-19a3-4422-a79f-fee5bbc4ade7/cover_letter_cover_professional.pdf","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.004Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","generationRunId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d3309131-19a3-4422-a79f-fee5bbc4ade7/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.005Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","generationRunId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d3309131-19a3-4422-a79f-fee5bbc4ade7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/d3309131-19a3-4422-a79f-fee5bbc4ade7/cover_letter_cover_professional.pdf","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.008Z","level":"info","message":"llm_call_metrics","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.011Z","level":"info","message":"generation_completed","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","generationRunId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","enhancedScore":80,"outputs":5,"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.015Z","level":"info","message":"placeholder_record_deleted","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","jobId":"52a9f304-6479-4d27-a240-7eea42a357a7","placeholderIdentifier":"d3309131-19a3-4422-a79f-fee5bbc4ade7","template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"52a9f304-6479-4d27-a240-7eea42a357a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.018Z","level":"info","message":"http_request_completed","requestId":"d3309131-19a3-4422-a79f-fee5bbc4ade7","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":238,"contentLength":"58133","template":"unknown","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3309131-19a3-4422-a79f-fee5bbc4ade7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.024Z","level":"info","message":"http_request_received","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","method":"POST","path":"/api/process-cv","template":"unknown","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.025Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.029Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.033Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.035Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.038Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/incoming/original.pdf","chunks":5,"timestamp":1764857215045}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":262144}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":262144,"newSize":262144,"durationMs":14}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":15}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.061Z","level":"info","message":"process_cv_started","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","manualJobDescriptionProvided":true,"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.062Z","level":"info","message":"template_selection","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.065Z","level":"info","message":"initial_upload_completed","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","bucket":"test-bucket","key":"cv/candidate/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/incoming/original.pdf","template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.066Z","level":"info","message":"resume_text_extracted","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","characters":9,"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.067Z","level":"info","message":"document_classification_ai_metrics","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.095Z","level":"info","message":"resume_classified","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.096Z","level":"info","message":"raw_upload_relocated","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","bucket":"test-bucket","fromKey":"cv/candidate/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/incoming/original.pdf","toKey":"cv/docx_text/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/original.docx","template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.097Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","bucket":"test-bucket","key":"cv/docx_text/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/original.docx","template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.099Z","level":"info","message":"dynamo_initial_record_written","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","bucket":"test-bucket","key":"cv/docx_text/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/original.docx","template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.100Z","level":"info","message":"upload_metadata_written","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","bucket":"test-bucket","key":"cv/docx_text/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/logs/log.json","template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.101Z","level":"info","message":"job_description_supplied_manually","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","characters":174,"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.102Z","level":"info","message":"job_description_analyzed","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","jobTitle":"","jobSkills":5,"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.103Z","level":"info","message":"resume_skills_analyzed","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.104Z","level":"info","message":"llm_call_metrics","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.105Z","level":"info","message":"process_cv_scoring_completed","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.109Z","level":"info","message":"llm_call_metrics","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.109Z","level":"info","message":"generation_section_rewrite_completed","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","generationRunId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.110Z","level":"info","message":"llm_call_metrics","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.113Z","level":"info","message":"generation_resume_verified","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","generationRunId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:06:55.118Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","generationRunId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
          at runMicrotasks (<anonymous>)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:55.127Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","generationRunId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
          at runMicrotasks (<anonymous>)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:55.138Z","level":"info","message":"generation_cover_letters_completed","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","generationRunId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","variants":2,"fallbackApplied":true,"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.140Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","generationRunId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/","originalUploadKey":"cv/docx_text/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.141Z","level":"info","message":"original_upload_pdf_generated","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","generationRunId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","storageKey":"cv/docx_text/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/original/original_upload.pdf","originalUploadKey":"cv/docx_text/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/original.docx","originalUploadExtension":".docx","template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.142Z","level":"info","message":"pdf_generation_attempt","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","generationRunId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/enhanced_modern.pdf","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.143Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","generationRunId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.144Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","generationRunId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/enhanced_modern.pdf","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.146Z","level":"info","message":"pdf_generation_attempt","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","generationRunId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/enhanced_professional.pdf","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.148Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","generationRunId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.149Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","generationRunId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/enhanced_professional.pdf","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.150Z","level":"info","message":"pdf_generation_attempt","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","generationRunId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/cover_letter_cover_modern.pdf","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.151Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","generationRunId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.152Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","generationRunId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/cover_letter_cover_modern.pdf","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.153Z","level":"info","message":"pdf_generation_attempt","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","generationRunId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/cover_letter_cover_professional.pdf","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.154Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","generationRunId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.155Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","generationRunId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/f85755a4-b857-4d79-9a7d-fb37c9e1dcc1/cover_letter_cover_professional.pdf","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.159Z","level":"info","message":"llm_call_metrics","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.160Z","level":"info","message":"generation_completed","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","generationRunId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","enhancedScore":80,"outputs":6,"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.162Z","level":"info","message":"placeholder_record_deleted","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","jobId":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","placeholderIdentifier":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8050c17a-ea0a-4f13-8d2d-efb8ef9c60da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.164Z","level":"info","message":"http_request_completed","requestId":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":140,"contentLength":"58696","template":"unknown","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f85755a4-b857-4d79-9a7d-fb37c9e1dcc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.176Z","level":"info","message":"http_request_received","requestId":"eab300e8-c198-402d-91a0-000810b766f3","method":"POST","path":"/api/process-cv","template":"unknown","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.178Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.180Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.182Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.184Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.188Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/eab300e8-c198-402d-91a0-000810b766f3/incoming/original.pdf","chunks":33,"timestamp":1764857215200}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":2097152}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":2097152,"newSize":2097152,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/eab300e8-c198-402d-91a0-000810b766f3/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/eab300e8-c198-402d-91a0-000810b766f3/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.204Z","level":"info","message":"process_cv_started","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","manualJobDescriptionProvided":true,"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.205Z","level":"info","message":"template_selection","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:55.206Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:55.216Z","level":"info","message":"initial_upload_completed","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","bucket":"test-bucket","key":"cv/candidate/eab300e8-c198-402d-91a0-000810b766f3/incoming/original.pdf","template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.217Z","level":"info","message":"resume_text_extracted","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","characters":57,"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.218Z","level":"info","message":"resume_classified","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.219Z","level":"info","message":"raw_upload_relocated","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","bucket":"test-bucket","fromKey":"cv/candidate/eab300e8-c198-402d-91a0-000810b766f3/incoming/original.pdf","toKey":"cv/professional_summary/eab300e8-c198-402d-91a0-000810b766f3/original.pdf","template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.220Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","bucket":"test-bucket","key":"cv/professional_summary/eab300e8-c198-402d-91a0-000810b766f3/original.pdf","template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.220Z","level":"info","message":"dynamo_initial_record_written","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","bucket":"test-bucket","key":"cv/professional_summary/eab300e8-c198-402d-91a0-000810b766f3/original.pdf","template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.221Z","level":"info","message":"upload_metadata_written","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","bucket":"test-bucket","key":"cv/professional_summary/eab300e8-c198-402d-91a0-000810b766f3/logs/log.json","template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.221Z","level":"info","message":"job_description_supplied_manually","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","characters":174,"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.222Z","level":"info","message":"job_description_analyzed","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","jobTitle":"","jobSkills":5,"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.223Z","level":"info","message":"resume_skills_analyzed","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.224Z","level":"info","message":"llm_call_metrics","requestId":"eab300e8-c198-402d-91a0-000810b766f3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.225Z","level":"info","message":"process_cv_scoring_completed","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.228Z","level":"info","message":"llm_call_metrics","requestId":"eab300e8-c198-402d-91a0-000810b766f3","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.230Z","level":"info","message":"generation_section_rewrite_completed","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","generationRunId":"eab300e8-c198-402d-91a0-000810b766f3","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.232Z","level":"info","message":"llm_call_metrics","requestId":"eab300e8-c198-402d-91a0-000810b766f3","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.237Z","level":"info","message":"generation_resume_verified","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","generationRunId":"eab300e8-c198-402d-91a0-000810b766f3","template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:06:55.241Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","generationRunId":"eab300e8-c198-402d-91a0-000810b766f3","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
          at runMicrotasks (<anonymous>)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:55.256Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","generationRunId":"eab300e8-c198-402d-91a0-000810b766f3","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
          at runMicrotasks (<anonymous>)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:55.265Z","level":"info","message":"generation_cover_letters_completed","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","generationRunId":"eab300e8-c198-402d-91a0-000810b766f3","variants":2,"fallbackApplied":true,"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.267Z","level":"info","message":"pdf_generation_attempt","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","generationRunId":"eab300e8-c198-402d-91a0-000810b766f3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/eab300e8-c198-402d-91a0-000810b766f3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/eab300e8-c198-402d-91a0-000810b766f3/enhanced_modern.pdf","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.267Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","generationRunId":"eab300e8-c198-402d-91a0-000810b766f3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/eab300e8-c198-402d-91a0-000810b766f3/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.268Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","generationRunId":"eab300e8-c198-402d-91a0-000810b766f3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/eab300e8-c198-402d-91a0-000810b766f3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/eab300e8-c198-402d-91a0-000810b766f3/enhanced_modern.pdf","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.269Z","level":"info","message":"pdf_generation_attempt","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","generationRunId":"eab300e8-c198-402d-91a0-000810b766f3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/eab300e8-c198-402d-91a0-000810b766f3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/eab300e8-c198-402d-91a0-000810b766f3/enhanced_professional.pdf","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.269Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","generationRunId":"eab300e8-c198-402d-91a0-000810b766f3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/eab300e8-c198-402d-91a0-000810b766f3/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.270Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","generationRunId":"eab300e8-c198-402d-91a0-000810b766f3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/eab300e8-c198-402d-91a0-000810b766f3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/eab300e8-c198-402d-91a0-000810b766f3/enhanced_professional.pdf","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.271Z","level":"info","message":"pdf_generation_attempt","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","generationRunId":"eab300e8-c198-402d-91a0-000810b766f3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/eab300e8-c198-402d-91a0-000810b766f3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/eab300e8-c198-402d-91a0-000810b766f3/cover_letter_cover_modern.pdf","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.272Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","generationRunId":"eab300e8-c198-402d-91a0-000810b766f3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/eab300e8-c198-402d-91a0-000810b766f3/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.272Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","generationRunId":"eab300e8-c198-402d-91a0-000810b766f3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/eab300e8-c198-402d-91a0-000810b766f3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/eab300e8-c198-402d-91a0-000810b766f3/cover_letter_cover_modern.pdf","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.273Z","level":"info","message":"pdf_generation_attempt","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","generationRunId":"eab300e8-c198-402d-91a0-000810b766f3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/eab300e8-c198-402d-91a0-000810b766f3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/eab300e8-c198-402d-91a0-000810b766f3/cover_letter_cover_professional.pdf","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.274Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","generationRunId":"eab300e8-c198-402d-91a0-000810b766f3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/eab300e8-c198-402d-91a0-000810b766f3/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.275Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","generationRunId":"eab300e8-c198-402d-91a0-000810b766f3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/eab300e8-c198-402d-91a0-000810b766f3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/eab300e8-c198-402d-91a0-000810b766f3/cover_letter_cover_professional.pdf","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.278Z","level":"info","message":"llm_call_metrics","requestId":"eab300e8-c198-402d-91a0-000810b766f3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.279Z","level":"info","message":"generation_completed","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","generationRunId":"eab300e8-c198-402d-91a0-000810b766f3","enhancedScore":80,"outputs":5,"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.280Z","level":"info","message":"placeholder_record_deleted","requestId":"eab300e8-c198-402d-91a0-000810b766f3","jobId":"fdbf84db-1f24-44db-8108-3586cfe172ec","placeholderIdentifier":"eab300e8-c198-402d-91a0-000810b766f3","template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fdbf84db-1f24-44db-8108-3586cfe172ec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.282Z","level":"info","message":"http_request_completed","requestId":"eab300e8-c198-402d-91a0-000810b766f3","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":106,"contentLength":"58133","template":"unknown","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eab300e8-c198-402d-91a0-000810b766f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.293Z","level":"info","message":"http_request_received","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","method":"POST","path":"/api/process-cv","template":"unknown","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.296Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.300Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.307Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.313Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.320Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/3db3c6da-8483-40f5-a33f-e92084099080/incoming/original.pdf","chunks":81,"timestamp":1764857215345}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5241856}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5241856,"newSize":5241856,"durationMs":130}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/3db3c6da-8483-40f5-a33f-e92084099080/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/3db3c6da-8483-40f5-a33f-e92084099080/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":133}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.489Z","level":"info","message":"process_cv_started","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","manualJobDescriptionProvided":true,"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.490Z","level":"info","message":"template_selection","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.492Z","level":"info","message":"initial_upload_completed","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","bucket":"test-bucket","key":"cv/candidate/3db3c6da-8483-40f5-a33f-e92084099080/incoming/original.pdf","template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.493Z","level":"info","message":"resume_text_extracted","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","characters":9,"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.494Z","level":"info","message":"document_classification_ai_metrics","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.495Z","level":"info","message":"resume_classified","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.495Z","level":"info","message":"raw_upload_relocated","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","bucket":"test-bucket","fromKey":"cv/candidate/3db3c6da-8483-40f5-a33f-e92084099080/incoming/original.pdf","toKey":"cv/docx_text/3db3c6da-8483-40f5-a33f-e92084099080/original.docx","template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.496Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","bucket":"test-bucket","key":"cv/docx_text/3db3c6da-8483-40f5-a33f-e92084099080/original.docx","template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.497Z","level":"info","message":"dynamo_initial_record_written","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","bucket":"test-bucket","key":"cv/docx_text/3db3c6da-8483-40f5-a33f-e92084099080/original.docx","template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.497Z","level":"info","message":"upload_metadata_written","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","bucket":"test-bucket","key":"cv/docx_text/3db3c6da-8483-40f5-a33f-e92084099080/logs/log.json","template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.498Z","level":"info","message":"job_description_supplied_manually","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","characters":174,"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.499Z","level":"info","message":"job_description_analyzed","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","jobTitle":"","jobSkills":5,"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.502Z","level":"info","message":"resume_skills_analyzed","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.504Z","level":"info","message":"llm_call_metrics","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.506Z","level":"info","message":"process_cv_scoring_completed","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.512Z","level":"info","message":"llm_call_metrics","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.513Z","level":"info","message":"generation_section_rewrite_completed","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","generationRunId":"3db3c6da-8483-40f5-a33f-e92084099080","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.514Z","level":"info","message":"llm_call_metrics","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.522Z","level":"info","message":"generation_resume_verified","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","generationRunId":"3db3c6da-8483-40f5-a33f-e92084099080","template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:06:55.532Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","generationRunId":"3db3c6da-8483-40f5-a33f-e92084099080","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
          at runMicrotasks (<anonymous>)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:06:55.544Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","generationRunId":"3db3c6da-8483-40f5-a33f-e92084099080","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
          at runMicrotasks (<anonymous>)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:55.553Z","level":"info","message":"generation_cover_letters_completed","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","generationRunId":"3db3c6da-8483-40f5-a33f-e92084099080","variants":2,"fallbackApplied":true,"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.557Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","generationRunId":"3db3c6da-8483-40f5-a33f-e92084099080","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/3db3c6da-8483-40f5-a33f-e92084099080/","originalUploadKey":"cv/docx_text/3db3c6da-8483-40f5-a33f-e92084099080/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.559Z","level":"info","message":"original_upload_pdf_generated","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","generationRunId":"3db3c6da-8483-40f5-a33f-e92084099080","storageKey":"cv/docx_text/3db3c6da-8483-40f5-a33f-e92084099080/original/original_upload.pdf","originalUploadKey":"cv/docx_text/3db3c6da-8483-40f5-a33f-e92084099080/original.docx","originalUploadExtension":".docx","template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.560Z","level":"info","message":"pdf_generation_attempt","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","generationRunId":"3db3c6da-8483-40f5-a33f-e92084099080","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/3db3c6da-8483-40f5-a33f-e92084099080/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/3db3c6da-8483-40f5-a33f-e92084099080/enhanced_modern.pdf","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.561Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","generationRunId":"3db3c6da-8483-40f5-a33f-e92084099080","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/3db3c6da-8483-40f5-a33f-e92084099080/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.562Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","generationRunId":"3db3c6da-8483-40f5-a33f-e92084099080","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/3db3c6da-8483-40f5-a33f-e92084099080/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/3db3c6da-8483-40f5-a33f-e92084099080/enhanced_modern.pdf","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.563Z","level":"info","message":"pdf_generation_attempt","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","generationRunId":"3db3c6da-8483-40f5-a33f-e92084099080","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/3db3c6da-8483-40f5-a33f-e92084099080/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/3db3c6da-8483-40f5-a33f-e92084099080/enhanced_professional.pdf","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.564Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","generationRunId":"3db3c6da-8483-40f5-a33f-e92084099080","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/3db3c6da-8483-40f5-a33f-e92084099080/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.565Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","generationRunId":"3db3c6da-8483-40f5-a33f-e92084099080","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/3db3c6da-8483-40f5-a33f-e92084099080/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/3db3c6da-8483-40f5-a33f-e92084099080/enhanced_professional.pdf","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.566Z","level":"info","message":"pdf_generation_attempt","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","generationRunId":"3db3c6da-8483-40f5-a33f-e92084099080","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/3db3c6da-8483-40f5-a33f-e92084099080/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/3db3c6da-8483-40f5-a33f-e92084099080/cover_letter_cover_modern.pdf","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.566Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","generationRunId":"3db3c6da-8483-40f5-a33f-e92084099080","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/3db3c6da-8483-40f5-a33f-e92084099080/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.567Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","generationRunId":"3db3c6da-8483-40f5-a33f-e92084099080","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/3db3c6da-8483-40f5-a33f-e92084099080/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/3db3c6da-8483-40f5-a33f-e92084099080/cover_letter_cover_modern.pdf","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.569Z","level":"info","message":"pdf_generation_attempt","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","generationRunId":"3db3c6da-8483-40f5-a33f-e92084099080","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/3db3c6da-8483-40f5-a33f-e92084099080/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/3db3c6da-8483-40f5-a33f-e92084099080/cover_letter_cover_professional.pdf","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.570Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","generationRunId":"3db3c6da-8483-40f5-a33f-e92084099080","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/3db3c6da-8483-40f5-a33f-e92084099080/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.572Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","generationRunId":"3db3c6da-8483-40f5-a33f-e92084099080","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/3db3c6da-8483-40f5-a33f-e92084099080/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/3db3c6da-8483-40f5-a33f-e92084099080/cover_letter_cover_professional.pdf","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.579Z","level":"info","message":"llm_call_metrics","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.583Z","level":"info","message":"generation_completed","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","generationRunId":"3db3c6da-8483-40f5-a33f-e92084099080","enhancedScore":80,"outputs":6,"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.587Z","level":"info","message":"placeholder_record_deleted","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","jobId":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","placeholderIdentifier":"3db3c6da-8483-40f5-a33f-e92084099080","template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e15319a-1d29-4fc3-b42e-bb1df93392ad","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.592Z","level":"info","message":"http_request_completed","requestId":"3db3c6da-8483-40f5-a33f-e92084099080","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":299,"contentLength":"58696","template":"unknown","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3db3c6da-8483-40f5-a33f-e92084099080","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.613Z","level":"info","message":"http_request_received","requestId":"0ff57682-bb59-4853-a759-d90d114a429c","method":"POST","path":"/api/process-cv","template":"unknown","session":"0ff57682-bb59-4853-a759-d90d114a429c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ff57682-bb59-4853-a759-d90d114a429c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.615Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.617Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.619Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.622Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.625Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/0ff57682-bb59-4853-a759-d90d114a429c/incoming/original.pdf","chunks":81,"timestamp":1764857215638}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5242880}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5242880,"newSize":5242880,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/0ff57682-bb59-4853-a759-d90d114a429c/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/0ff57682-bb59-4853-a759-d90d114a429c/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":8}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:06:55.647Z","level":"warn","message":"resume_upload_failed","requestId":"0ff57682-bb59-4853-a759-d90d114a429c","jobId":"c4bcabba-686c-4053-9bf9-d39d9eb1b334","storageError":false,"error":{"name":"MulterError","message":"File too large","code":"LIMIT_FILE_SIZE","stack":"MulterError: File too large\n    at abortWithCode (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:73:22)\n    at FileStream.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:136:11)\n    at FileStream.emit (node:events:513:28)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:479:32)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:248:10)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at addChunk (node:internal/streams/readable:315:12)\n    at readableAddChunk (node:internal/streams/readable:289:9)\n    at IncomingMessage.Readable.push (node:internal/streams/readable:228:10)\n    at HTTPParser.parserOnBody (node:_http_common:140:24)"},"template":"unknown","session":"c4bcabba-686c-4053-9bf9-d39d9eb1b334","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4bcabba-686c-4053-9bf9-d39d9eb1b334","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:24789:7
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:166:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:149:11)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:06:55.660Z","level":"warn","message":"api_error_response","requestId":"0ff57682-bb59-4853-a759-d90d114a429c","jobId":"c4bcabba-686c-4053-9bf9-d39d9eb1b334","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"File too large","details":{"field":"resume"},"requestId":"0ff57682-bb59-4853-a759-d90d114a429c","jobId":"c4bcabba-686c-4053-9bf9-d39d9eb1b334"},"template":"unknown","session":"c4bcabba-686c-4053-9bf9-d39d9eb1b334","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4bcabba-686c-4053-9bf9-d39d9eb1b334","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at sendError (server.js:3965:3)
      at respond (server.js:24797:9)
      at server.js:24801:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:166:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:149:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.675Z","level":"info","message":"http_request_completed","requestId":"0ff57682-bb59-4853-a759-d90d114a429c","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":62,"contentLength":"215","template":"unknown","session":"0ff57682-bb59-4853-a759-d90d114a429c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ff57682-bb59-4853-a759-d90d114a429c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.681Z","level":"info","message":"http_request_received","requestId":"7d82fbde-dd61-43bc-a4bc-600fe9a3cd91","method":"POST","path":"/api/process-cv","template":"unknown","session":"7d82fbde-dd61-43bc-a4bc-600fe9a3cd91","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7d82fbde-dd61-43bc-a4bc-600fe9a3cd91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.686Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.688Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.691Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.693Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.697Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/7d82fbde-dd61-43bc-a4bc-600fe9a3cd91/incoming/original.pdf","chunks":1,"timestamp":1764857215704}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/7d82fbde-dd61-43bc-a4bc-600fe9a3cd91/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/7d82fbde-dd61-43bc-a4bc-600fe9a3cd91/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.723Z","level":"info","message":"process_cv_started","requestId":"7d82fbde-dd61-43bc-a4bc-600fe9a3cd91","jobId":"468543a9-67ba-4008-8c22-ff31a99f5c3a","manualJobDescriptionProvided":true,"template":"unknown","session":"468543a9-67ba-4008-8c22-ff31a99f5c3a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"468543a9-67ba-4008-8c22-ff31a99f5c3a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.724Z","level":"info","message":"template_selection","requestId":"7d82fbde-dd61-43bc-a4bc-600fe9a3cd91","jobId":"468543a9-67ba-4008-8c22-ff31a99f5c3a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"468543a9-67ba-4008-8c22-ff31a99f5c3a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"468543a9-67ba-4008-8c22-ff31a99f5c3a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:55.725Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"7d82fbde-dd61-43bc-a4bc-600fe9a3cd91","jobId":"468543a9-67ba-4008-8c22-ff31a99f5c3a","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"468543a9-67ba-4008-8c22-ff31a99f5c3a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"468543a9-67ba-4008-8c22-ff31a99f5c3a","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:55.740Z","level":"info","message":"initial_upload_completed","requestId":"7d82fbde-dd61-43bc-a4bc-600fe9a3cd91","jobId":"468543a9-67ba-4008-8c22-ff31a99f5c3a","bucket":"test-bucket","key":"cv/candidate/7d82fbde-dd61-43bc-a4bc-600fe9a3cd91/incoming/original.pdf","template":"unknown","session":"468543a9-67ba-4008-8c22-ff31a99f5c3a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"468543a9-67ba-4008-8c22-ff31a99f5c3a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.741Z","level":"info","message":"resume_text_extracted","requestId":"7d82fbde-dd61-43bc-a4bc-600fe9a3cd91","jobId":"468543a9-67ba-4008-8c22-ff31a99f5c3a","characters":70,"template":"unknown","session":"468543a9-67ba-4008-8c22-ff31a99f5c3a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"468543a9-67ba-4008-8c22-ff31a99f5c3a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.742Z","level":"info","message":"document_classification_ai_metrics","requestId":"7d82fbde-dd61-43bc-a4bc-600fe9a3cd91","jobId":"468543a9-67ba-4008-8c22-ff31a99f5c3a","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"6e7cfda39efd36ecdd0998d74c5dc8668e761fe838cd589d1b8e87517f67efbf","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"468543a9-67ba-4008-8c22-ff31a99f5c3a","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"468543a9-67ba-4008-8c22-ff31a99f5c3a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.743Z","level":"info","message":"resume_classified","requestId":"7d82fbde-dd61-43bc-a4bc-600fe9a3cd91","jobId":"468543a9-67ba-4008-8c22-ff31a99f5c3a","isResume":false,"description":"an invoice document","confidence":0.4,"accepted":false,"overridden":false,"template":"unknown","session":"468543a9-67ba-4008-8c22-ff31a99f5c3a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"468543a9-67ba-4008-8c22-ff31a99f5c3a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:06:55.744Z","level":"warn","message":"resume_validation_failed","requestId":"7d82fbde-dd61-43bc-a4bc-600fe9a3cd91","jobId":"468543a9-67ba-4008-8c22-ff31a99f5c3a","reason":"not_identified_as_resume","description":"an invoice document","confidence":0.4,"wordCount":12,"invalidKey":"invalid/candidate/2025-12-04/7d82fbde-dd61-43bc-a4bc-600fe9a3cd91/an-invoice-8a7aa840-ed2a-480c-a964-711783e30a18.pdf","classification":"an invoice","template":"unknown","session":"468543a9-67ba-4008-8c22-ff31a99f5c3a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"468543a9-67ba-4008-8c22-ff31a99f5c3a","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25676:9
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:06:55.755Z","level":"warn","message":"api_error_response","requestId":"7d82fbde-dd61-43bc-a4bc-600fe9a3cd91","jobId":"468543a9-67ba-4008-8c22-ff31a99f5c3a","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded an invoice document (classified as \"invoice\"). Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\". Please upload a correct CV or resume to continue.","details":{"description":"an invoice document","confidence":0.4,"reason":"Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\".","classification":"an invoice","className":"invoice","storageKey":"invalid/candidate/2025-12-04/7d82fbde-dd61-43bc-a4bc-600fe9a3cd91/an-invoice-8a7aa840-ed2a-480c-a964-711783e30a18.pdf","invalidStorageKey":"invalid/candidate/2025-12-04/7d82fbde-dd61-43bc-a4bc-600fe9a3cd91/an-invoice-8a7aa840-ed2a-480c-a964-711783e30a18.pdf"},"requestId":"7d82fbde-dd61-43bc-a4bc-600fe9a3cd91","jobId":"468543a9-67ba-4008-8c22-ff31a99f5c3a"},"template":"unknown","session":"468543a9-67ba-4008-8c22-ff31a99f5c3a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"468543a9-67ba-4008-8c22-ff31a99f5c3a","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at sendError (server.js:3965:3)
      at server.js:25751:14
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.765Z","level":"info","message":"http_request_completed","requestId":"7d82fbde-dd61-43bc-a4bc-600fe9a3cd91","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":84,"contentLength":"871","template":"unknown","session":"7d82fbde-dd61-43bc-a4bc-600fe9a3cd91","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7d82fbde-dd61-43bc-a4bc-600fe9a3cd91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.769Z","level":"info","message":"http_request_received","requestId":"b36973da-e2f8-44b9-8487-a9d211e7aeef","method":"POST","path":"/api/process-cv","template":"unknown","session":"b36973da-e2f8-44b9-8487-a9d211e7aeef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b36973da-e2f8-44b9-8487-a9d211e7aeef","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.771Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.773Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.792Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.804Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.808Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/b36973da-e2f8-44b9-8487-a9d211e7aeef/incoming/original.pdf","chunks":1,"timestamp":1764857215812}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":203,"durationMs":4}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/b36973da-e2f8-44b9-8487-a9d211e7aeef/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/b36973da-e2f8-44b9-8487-a9d211e7aeef/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":7}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.851Z","level":"info","message":"process_cv_started","requestId":"b36973da-e2f8-44b9-8487-a9d211e7aeef","jobId":"3738bba6-56b5-40fe-bcf6-82c32b9c791c","manualJobDescriptionProvided":true,"template":"unknown","session":"3738bba6-56b5-40fe-bcf6-82c32b9c791c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3738bba6-56b5-40fe-bcf6-82c32b9c791c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.852Z","level":"info","message":"template_selection","requestId":"b36973da-e2f8-44b9-8487-a9d211e7aeef","jobId":"3738bba6-56b5-40fe-bcf6-82c32b9c791c","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"3738bba6-56b5-40fe-bcf6-82c32b9c791c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3738bba6-56b5-40fe-bcf6-82c32b9c791c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.854Z","level":"info","message":"initial_upload_completed","requestId":"b36973da-e2f8-44b9-8487-a9d211e7aeef","jobId":"3738bba6-56b5-40fe-bcf6-82c32b9c791c","bucket":"test-bucket","key":"cv/candidate/b36973da-e2f8-44b9-8487-a9d211e7aeef/incoming/original.pdf","template":"unknown","session":"3738bba6-56b5-40fe-bcf6-82c32b9c791c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3738bba6-56b5-40fe-bcf6-82c32b9c791c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.855Z","level":"info","message":"resume_text_extracted","requestId":"b36973da-e2f8-44b9-8487-a9d211e7aeef","jobId":"3738bba6-56b5-40fe-bcf6-82c32b9c791c","characters":52,"template":"unknown","session":"3738bba6-56b5-40fe-bcf6-82c32b9c791c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3738bba6-56b5-40fe-bcf6-82c32b9c791c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.856Z","level":"info","message":"document_classification_ai_metrics","requestId":"b36973da-e2f8-44b9-8487-a9d211e7aeef","jobId":"3738bba6-56b5-40fe-bcf6-82c32b9c791c","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"b660b3e8ecbc83aad9e6543dcb4a0d862627f82012d98cdb58b183fb5f0cc539","outputDigest":"ce4b8bd954f55aa4d760051876705884299536b3f182fa6f09cbd2aaee0a6b16","latencyMs":0,"isResume":false,"confidence":0.2,"template":"document_classification","session":"3738bba6-56b5-40fe-bcf6-82c32b9c791c","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"3738bba6-56b5-40fe-bcf6-82c32b9c791c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.857Z","level":"info","message":"resume_classified","requestId":"b36973da-e2f8-44b9-8487-a9d211e7aeef","jobId":"3738bba6-56b5-40fe-bcf6-82c32b9c791c","isResume":false,"description":"a short memo","confidence":0.2,"accepted":false,"overridden":false,"template":"unknown","session":"3738bba6-56b5-40fe-bcf6-82c32b9c791c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3738bba6-56b5-40fe-bcf6-82c32b9c791c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:06:55.858Z","level":"warn","message":"resume_validation_failed","requestId":"b36973da-e2f8-44b9-8487-a9d211e7aeef","jobId":"3738bba6-56b5-40fe-bcf6-82c32b9c791c","reason":"not_identified_as_resume","description":"a short memo","confidence":0.2,"wordCount":9,"invalidKey":"invalid/candidate/2025-12-04/b36973da-e2f8-44b9-8487-a9d211e7aeef/a-short-memo-8dfe001f-ca74-4630-8c3d-a3c1c42e53a6.docx","classification":"a short memo","template":"unknown","session":"3738bba6-56b5-40fe-bcf6-82c32b9c791c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3738bba6-56b5-40fe-bcf6-82c32b9c791c","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25676:9
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:06:55.870Z","level":"warn","message":"api_error_response","requestId":"b36973da-e2f8-44b9-8487-a9d211e7aeef","jobId":"3738bba6-56b5-40fe-bcf6-82c32b9c791c","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded a short memo document (classified as \"short_memo\"). Missing resume structure. Please upload a correct CV or resume to continue.","details":{"description":"a short memo","confidence":0.2,"reason":"Missing resume structure.","classification":"a short memo","className":"short_memo","storageKey":"invalid/candidate/2025-12-04/b36973da-e2f8-44b9-8487-a9d211e7aeef/a-short-memo-8dfe001f-ca74-4630-8c3d-a3c1c42e53a6.docx","invalidStorageKey":"invalid/candidate/2025-12-04/b36973da-e2f8-44b9-8487-a9d211e7aeef/a-short-memo-8dfe001f-ca74-4630-8c3d-a3c1c42e53a6.docx"},"requestId":"b36973da-e2f8-44b9-8487-a9d211e7aeef","jobId":"3738bba6-56b5-40fe-bcf6-82c32b9c791c"},"template":"unknown","session":"3738bba6-56b5-40fe-bcf6-82c32b9c791c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3738bba6-56b5-40fe-bcf6-82c32b9c791c","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at sendError (server.js:3965:3)
      at server.js:25751:14
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.881Z","level":"info","message":"http_request_completed","requestId":"b36973da-e2f8-44b9-8487-a9d211e7aeef","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":112,"contentLength":"748","template":"unknown","session":"b36973da-e2f8-44b9-8487-a9d211e7aeef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b36973da-e2f8-44b9-8487-a9d211e7aeef","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.888Z","level":"info","message":"http_request_received","requestId":"21a324f6-3704-497e-b5a2-636b1809449a","method":"POST","path":"/api/process-cv","template":"unknown","session":"21a324f6-3704-497e-b5a2-636b1809449a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21a324f6-3704-497e-b5a2-636b1809449a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.891Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.892Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.895Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.897Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.901Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/21a324f6-3704-497e-b5a2-636b1809449a/incoming/original.pdf","chunks":1,"timestamp":1764857215905}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/21a324f6-3704-497e-b5a2-636b1809449a/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/21a324f6-3704-497e-b5a2-636b1809449a/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:55.908Z","level":"info","message":"process_cv_started","requestId":"21a324f6-3704-497e-b5a2-636b1809449a","jobId":"1b22f2fd-35d5-47ca-87cc-b10a6fd07ff9","manualJobDescriptionProvided":false,"template":"unknown","session":"1b22f2fd-35d5-47ca-87cc-b10a6fd07ff9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b22f2fd-35d5-47ca-87cc-b10a6fd07ff9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.909Z","level":"info","message":"template_selection","requestId":"21a324f6-3704-497e-b5a2-636b1809449a","jobId":"1b22f2fd-35d5-47ca-87cc-b10a6fd07ff9","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"1b22f2fd-35d5-47ca-87cc-b10a6fd07ff9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1b22f2fd-35d5-47ca-87cc-b10a6fd07ff9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:55.910Z","level":"warn","message":"job_description_missing","requestId":"21a324f6-3704-497e-b5a2-636b1809449a","jobId":"1b22f2fd-35d5-47ca-87cc-b10a6fd07ff9","template":"unknown","session":"1b22f2fd-35d5-47ca-87cc-b10a6fd07ff9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b22f2fd-35d5-47ca-87cc-b10a6fd07ff9","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25105:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T14:06:55.921Z","level":"warn","message":"api_error_response","requestId":"21a324f6-3704-497e-b5a2-636b1809449a","jobId":"1b22f2fd-35d5-47ca-87cc-b10a6fd07ff9","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"21a324f6-3704-497e-b5a2-636b1809449a","jobId":"1b22f2fd-35d5-47ca-87cc-b10a6fd07ff9"},"template":"unknown","session":"1b22f2fd-35d5-47ca-87cc-b10a6fd07ff9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b22f2fd-35d5-47ca-87cc-b10a6fd07ff9","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at sendError (server.js:3965:3)
      at server.js:25106:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:55.931Z","level":"info","message":"http_request_completed","requestId":"21a324f6-3704-497e-b5a2-636b1809449a","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":43,"contentLength":"244","template":"unknown","session":"21a324f6-3704-497e-b5a2-636b1809449a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21a324f6-3704-497e-b5a2-636b1809449a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.935Z","level":"info","message":"http_request_received","requestId":"87d21fb5-8745-4264-978f-a922059fe27b","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"87d21fb5-8745-4264-978f-a922059fe27b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87d21fb5-8745-4264-978f-a922059fe27b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.937Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.940Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.942Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.953Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.954Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:55.957Z","level":"warn","message":"api_error_response","requestId":"87d21fb5-8745-4264-978f-a922059fe27b","jobId":"06e7e4f8-25f0-4dc6-a7a3-c815b924ec91","status":400,"error":{"code":"JOB_ID_REQUIRED","message":"jobId is required to generate enhanced documents.","details":{},"requestId":"87d21fb5-8745-4264-978f-a922059fe27b","jobId":"06e7e4f8-25f0-4dc6-a7a3-c815b924ec91"},"template":"unknown","session":"06e7e4f8-25f0-4dc6-a7a3-c815b924ec91","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"06e7e4f8-25f0-4dc6-a7a3-c815b924ec91","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at sendError (server.js:3965:3)
      at server.js:22515:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at assignJobContext (server.js:16418:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveStatic (node_modules/serve-static/index.js:75:16)
      at server.js:4953:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at tryServeHashedIndexAssetFromS3 (server.js:1185:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveIndexAssetAlias (server.js:1518:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4935:5
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4929:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at urlencodedParser (node_modules/body-parser/lib/types/urlencoded.js:85:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

  console.log
    {"timestamp":"2025-12-04T14:06:55.976Z","level":"info","message":"http_request_completed","requestId":"87d21fb5-8745-4264-978f-a922059fe27b","method":"POST","path":"/api/generate-enhanced-docs","statusCode":400,"durationMs":41,"contentLength":"225","template":"unknown","session":"87d21fb5-8745-4264-978f-a922059fe27b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87d21fb5-8745-4264-978f-a922059fe27b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.979Z","level":"info","message":"http_request_received","requestId":"44229ecd-3e19-40ff-a63b-795340623f5b","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.981Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.983Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:55.985Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.004Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.005Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:56.007Z","level":"warn","message":"generation_job_context_missing","requestId":"44229ecd-3e19-40ff-a63b-795340623f5b","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:22707:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.019Z","level":"info","message":"llm_call_metrics","requestId":"44229ecd-3e19-40ff-a63b-795340623f5b","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"7ff1a2fe49f8d71808c8d1fdb99db5320bf5a75739ee80e7efed665ea9588077","outputDigest":"5af248b63fed3c73350376c1d32988fbeb95f6a40181a19b7e450c5651a56ea6","addedSkillCount":0,"template":"resume_rewrite","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.020Z","level":"info","message":"generation_section_rewrite_completed","requestId":"44229ecd-3e19-40ff-a63b-795340623f5b","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"44229ecd-3e19-40ff-a63b-795340623f5b","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.024Z","level":"info","message":"generation_resume_verified","requestId":"44229ecd-3e19-40ff-a63b-795340623f5b","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"44229ecd-3e19-40ff-a63b-795340623f5b","template":"unknown","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:06:56.029Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"44229ecd-3e19-40ff-a63b-795340623f5b","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"44229ecd-3e19-40ff-a63b-795340623f5b","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
          at runMicrotasks (<anonymous>)
      at server.js:23010:28

  console.log
    {"timestamp":"2025-12-04T14:06:56.036Z","level":"info","message":"generation_cover_letters_completed","requestId":"44229ecd-3e19-40ff-a63b-795340623f5b","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"44229ecd-3e19-40ff-a63b-795340623f5b","variants":2,"fallbackApplied":true,"template":"unknown","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.037Z","level":"info","message":"pdf_generation_attempt","requestId":"44229ecd-3e19-40ff-a63b-795340623f5b","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"44229ecd-3e19-40ff-a63b-795340623f5b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/44229ecd-3e19-40ff-a63b-795340623f5b/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/44229ecd-3e19-40ff-a63b-795340623f5b/enhanced_modern.pdf","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.038Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"44229ecd-3e19-40ff-a63b-795340623f5b","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"44229ecd-3e19-40ff-a63b-795340623f5b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/44229ecd-3e19-40ff-a63b-795340623f5b/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.039Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"44229ecd-3e19-40ff-a63b-795340623f5b","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"44229ecd-3e19-40ff-a63b-795340623f5b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/44229ecd-3e19-40ff-a63b-795340623f5b/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/44229ecd-3e19-40ff-a63b-795340623f5b/enhanced_modern.pdf","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.039Z","level":"info","message":"pdf_generation_attempt","requestId":"44229ecd-3e19-40ff-a63b-795340623f5b","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"44229ecd-3e19-40ff-a63b-795340623f5b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/44229ecd-3e19-40ff-a63b-795340623f5b/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/44229ecd-3e19-40ff-a63b-795340623f5b/enhanced_professional.pdf","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.040Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"44229ecd-3e19-40ff-a63b-795340623f5b","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"44229ecd-3e19-40ff-a63b-795340623f5b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/44229ecd-3e19-40ff-a63b-795340623f5b/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.041Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"44229ecd-3e19-40ff-a63b-795340623f5b","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"44229ecd-3e19-40ff-a63b-795340623f5b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/44229ecd-3e19-40ff-a63b-795340623f5b/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/44229ecd-3e19-40ff-a63b-795340623f5b/enhanced_professional.pdf","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.042Z","level":"info","message":"pdf_generation_attempt","requestId":"44229ecd-3e19-40ff-a63b-795340623f5b","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"44229ecd-3e19-40ff-a63b-795340623f5b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/44229ecd-3e19-40ff-a63b-795340623f5b/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/44229ecd-3e19-40ff-a63b-795340623f5b/cover_letter_cover_modern.pdf","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.042Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"44229ecd-3e19-40ff-a63b-795340623f5b","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"44229ecd-3e19-40ff-a63b-795340623f5b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/44229ecd-3e19-40ff-a63b-795340623f5b/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.043Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"44229ecd-3e19-40ff-a63b-795340623f5b","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"44229ecd-3e19-40ff-a63b-795340623f5b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/44229ecd-3e19-40ff-a63b-795340623f5b/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/44229ecd-3e19-40ff-a63b-795340623f5b/cover_letter_cover_modern.pdf","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.045Z","level":"info","message":"pdf_generation_attempt","requestId":"44229ecd-3e19-40ff-a63b-795340623f5b","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"44229ecd-3e19-40ff-a63b-795340623f5b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/44229ecd-3e19-40ff-a63b-795340623f5b/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/44229ecd-3e19-40ff-a63b-795340623f5b/cover_letter_cover_professional.pdf","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.046Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"44229ecd-3e19-40ff-a63b-795340623f5b","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"44229ecd-3e19-40ff-a63b-795340623f5b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/44229ecd-3e19-40ff-a63b-795340623f5b/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.046Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"44229ecd-3e19-40ff-a63b-795340623f5b","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"44229ecd-3e19-40ff-a63b-795340623f5b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/44229ecd-3e19-40ff-a63b-795340623f5b/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/44229ecd-3e19-40ff-a63b-795340623f5b/cover_letter_cover_professional.pdf","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.050Z","level":"info","message":"llm_call_metrics","requestId":"44229ecd-3e19-40ff-a63b-795340623f5b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.051Z","level":"info","message":"generation_completed","requestId":"44229ecd-3e19-40ff-a63b-795340623f5b","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"44229ecd-3e19-40ff-a63b-795340623f5b","enhancedScore":0,"outputs":4,"template":"unknown","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.053Z","level":"info","message":"http_request_completed","requestId":"44229ecd-3e19-40ff-a63b-795340623f5b","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":74,"contentLength":"55422","template":"unknown","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44229ecd-3e19-40ff-a63b-795340623f5b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.060Z","level":"info","message":"http_request_received","requestId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.062Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.065Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.067Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.070Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.071Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:56.073Z","level":"warn","message":"generation_job_context_missing","requestId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:22707:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.095Z","level":"info","message":"llm_call_metrics","requestId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.097Z","level":"info","message":"generation_section_rewrite_completed","requestId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.103Z","level":"info","message":"generation_resume_verified","requestId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","template":"unknown","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:06:56.119Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
          at runMicrotasks (<anonymous>)
      at server.js:23010:28

  console.log
    {"timestamp":"2025-12-04T14:06:56.130Z","level":"info","message":"generation_cover_letters_completed","requestId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","variants":2,"fallbackApplied":true,"template":"unknown","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.131Z","level":"info","message":"pdf_generation_attempt","requestId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/1ae6b3d9-1c22-4f50-8c48-273e7836f5c7/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/1ae6b3d9-1c22-4f50-8c48-273e7836f5c7/enhanced_modern.pdf","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.132Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/1ae6b3d9-1c22-4f50-8c48-273e7836f5c7/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.134Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/1ae6b3d9-1c22-4f50-8c48-273e7836f5c7/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/1ae6b3d9-1c22-4f50-8c48-273e7836f5c7/enhanced_modern.pdf","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.135Z","level":"info","message":"pdf_generation_attempt","requestId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/1ae6b3d9-1c22-4f50-8c48-273e7836f5c7/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/1ae6b3d9-1c22-4f50-8c48-273e7836f5c7/enhanced_professional.pdf","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.136Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/1ae6b3d9-1c22-4f50-8c48-273e7836f5c7/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.137Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/1ae6b3d9-1c22-4f50-8c48-273e7836f5c7/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/1ae6b3d9-1c22-4f50-8c48-273e7836f5c7/enhanced_professional.pdf","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.137Z","level":"info","message":"pdf_generation_attempt","requestId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/1ae6b3d9-1c22-4f50-8c48-273e7836f5c7/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/1ae6b3d9-1c22-4f50-8c48-273e7836f5c7/cover_letter_cover_modern.pdf","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.138Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/1ae6b3d9-1c22-4f50-8c48-273e7836f5c7/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.139Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/1ae6b3d9-1c22-4f50-8c48-273e7836f5c7/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/1ae6b3d9-1c22-4f50-8c48-273e7836f5c7/cover_letter_cover_modern.pdf","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.140Z","level":"info","message":"pdf_generation_attempt","requestId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/1ae6b3d9-1c22-4f50-8c48-273e7836f5c7/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/1ae6b3d9-1c22-4f50-8c48-273e7836f5c7/cover_letter_cover_professional.pdf","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.141Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/1ae6b3d9-1c22-4f50-8c48-273e7836f5c7/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.142Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/1ae6b3d9-1c22-4f50-8c48-273e7836f5c7/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/1ae6b3d9-1c22-4f50-8c48-273e7836f5c7/cover_letter_cover_professional.pdf","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.150Z","level":"info","message":"llm_call_metrics","requestId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.155Z","level":"info","message":"generation_completed","requestId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","enhancedScore":0,"outputs":4,"template":"unknown","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.158Z","level":"info","message":"http_request_completed","requestId":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":98,"contentLength":"60025","template":"unknown","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ae6b3d9-1c22-4f50-8c48-273e7836f5c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.171Z","level":"info","message":"http_request_received","requestId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.175Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.177Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.179Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.182Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.184Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:56.186Z","level":"warn","message":"generation_job_context_missing","requestId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:22707:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.198Z","level":"info","message":"llm_call_metrics","requestId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.199Z","level":"info","message":"generation_section_rewrite_completed","requestId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.203Z","level":"info","message":"generation_resume_verified","requestId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","template":"unknown","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:06:56.210Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","invalidLetters":[{"key":"cover_letter1","issues":["placeholder_detected","weak_closing","section_heading_without_content"]}],"template":"unknown","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
          at runMicrotasks (<anonymous>)
      at server.js:23010:28

  console.warn
    {"timestamp":"2025-12-04T14:06:56.221Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","missing":["cover_letter1"],"template":"unknown","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
          at runMicrotasks (<anonymous>)
      at server.js:23010:28

  console.log
    {"timestamp":"2025-12-04T14:06:56.231Z","level":"info","message":"generation_cover_letters_completed","requestId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","variants":2,"fallbackApplied":true,"template":"unknown","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.233Z","level":"info","message":"pdf_generation_attempt","requestId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/e84b2d15-d202-45ce-9d55-9e2c2f344cfa/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/e84b2d15-d202-45ce-9d55-9e2c2f344cfa/enhanced_modern.pdf","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.234Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/e84b2d15-d202-45ce-9d55-9e2c2f344cfa/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.235Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/e84b2d15-d202-45ce-9d55-9e2c2f344cfa/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/e84b2d15-d202-45ce-9d55-9e2c2f344cfa/enhanced_modern.pdf","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.236Z","level":"info","message":"pdf_generation_attempt","requestId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/e84b2d15-d202-45ce-9d55-9e2c2f344cfa/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/e84b2d15-d202-45ce-9d55-9e2c2f344cfa/enhanced_professional.pdf","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.237Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/e84b2d15-d202-45ce-9d55-9e2c2f344cfa/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.238Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/e84b2d15-d202-45ce-9d55-9e2c2f344cfa/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/e84b2d15-d202-45ce-9d55-9e2c2f344cfa/enhanced_professional.pdf","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.239Z","level":"info","message":"pdf_generation_attempt","requestId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/e84b2d15-d202-45ce-9d55-9e2c2f344cfa/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/e84b2d15-d202-45ce-9d55-9e2c2f344cfa/cover_letter_cover_modern.pdf","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.240Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/e84b2d15-d202-45ce-9d55-9e2c2f344cfa/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.242Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/e84b2d15-d202-45ce-9d55-9e2c2f344cfa/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/e84b2d15-d202-45ce-9d55-9e2c2f344cfa/cover_letter_cover_modern.pdf","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.243Z","level":"info","message":"pdf_generation_attempt","requestId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/e84b2d15-d202-45ce-9d55-9e2c2f344cfa/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/e84b2d15-d202-45ce-9d55-9e2c2f344cfa/cover_letter_cover_professional.pdf","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.246Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/e84b2d15-d202-45ce-9d55-9e2c2f344cfa/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.248Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/e84b2d15-d202-45ce-9d55-9e2c2f344cfa/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/e84b2d15-d202-45ce-9d55-9e2c2f344cfa/cover_letter_cover_professional.pdf","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.254Z","level":"info","message":"llm_call_metrics","requestId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.256Z","level":"info","message":"generation_completed","requestId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","enhancedScore":0,"outputs":4,"template":"unknown","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.260Z","level":"info","message":"http_request_completed","requestId":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":89,"contentLength":"52626","template":"unknown","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e84b2d15-d202-45ce-9d55-9e2c2f344cfa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.266Z","level":"info","message":"http_request_received","requestId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.268Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.270Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.272Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.275Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.277Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:56.279Z","level":"warn","message":"generation_job_context_missing","requestId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:22707:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.294Z","level":"info","message":"llm_call_metrics","requestId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.295Z","level":"info","message":"generation_section_rewrite_completed","requestId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.299Z","level":"info","message":"generation_resume_verified","requestId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","template":"unknown","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:06:56.305Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
          at runMicrotasks (<anonymous>)
      at server.js:23010:28

  console.log
    {"timestamp":"2025-12-04T14:06:56.314Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","variants":["cover_letter1"],"template":"unknown","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.317Z","level":"info","message":"generation_cover_letters_completed","requestId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","variants":2,"fallbackApplied":true,"template":"unknown","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.318Z","level":"info","message":"pdf_generation_attempt","requestId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/24687dc5-12fa-4085-8a1e-6526fa624fa1/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/24687dc5-12fa-4085-8a1e-6526fa624fa1/enhanced_modern.pdf","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.319Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/24687dc5-12fa-4085-8a1e-6526fa624fa1/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.319Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/24687dc5-12fa-4085-8a1e-6526fa624fa1/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/24687dc5-12fa-4085-8a1e-6526fa624fa1/enhanced_modern.pdf","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.320Z","level":"info","message":"pdf_generation_attempt","requestId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/24687dc5-12fa-4085-8a1e-6526fa624fa1/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/24687dc5-12fa-4085-8a1e-6526fa624fa1/enhanced_professional.pdf","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.321Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/24687dc5-12fa-4085-8a1e-6526fa624fa1/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.321Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/24687dc5-12fa-4085-8a1e-6526fa624fa1/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/24687dc5-12fa-4085-8a1e-6526fa624fa1/enhanced_professional.pdf","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.322Z","level":"info","message":"pdf_generation_attempt","requestId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/24687dc5-12fa-4085-8a1e-6526fa624fa1/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/24687dc5-12fa-4085-8a1e-6526fa624fa1/cover_letter_cover_modern.pdf","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.323Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/24687dc5-12fa-4085-8a1e-6526fa624fa1/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.323Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/24687dc5-12fa-4085-8a1e-6526fa624fa1/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/24687dc5-12fa-4085-8a1e-6526fa624fa1/cover_letter_cover_modern.pdf","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.324Z","level":"info","message":"pdf_generation_attempt","requestId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/24687dc5-12fa-4085-8a1e-6526fa624fa1/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/24687dc5-12fa-4085-8a1e-6526fa624fa1/cover_letter_cover_professional.pdf","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.325Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/24687dc5-12fa-4085-8a1e-6526fa624fa1/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.327Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/24687dc5-12fa-4085-8a1e-6526fa624fa1/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/24687dc5-12fa-4085-8a1e-6526fa624fa1/cover_letter_cover_professional.pdf","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.332Z","level":"info","message":"llm_call_metrics","requestId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.333Z","level":"info","message":"generation_completed","requestId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","enhancedScore":0,"outputs":4,"template":"unknown","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.335Z","level":"info","message":"http_request_completed","requestId":"24687dc5-12fa-4085-8a1e-6526fa624fa1","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":69,"contentLength":"48347","template":"unknown","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"24687dc5-12fa-4085-8a1e-6526fa624fa1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.339Z","level":"info","message":"http_request_received","requestId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.341Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.343Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.345Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.348Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.349Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:56.350Z","level":"warn","message":"generation_job_context_missing","requestId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:22707:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.363Z","level":"info","message":"llm_call_metrics","requestId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.364Z","level":"info","message":"generation_section_rewrite_completed","requestId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.368Z","level":"info","message":"generation_resume_verified","requestId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","template":"unknown","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:06:56.394Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","invalidLetters":[{"key":"cover_letter1","issues":["exceeds_word_limit"]},{"key":"cover_letter2","issues":["exceeds_word_limit"]}],"template":"unknown","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
          at runMicrotasks (<anonymous>)
      at server.js:23010:28

  console.warn
    {"timestamp":"2025-12-04T14:06:56.403Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
          at runMicrotasks (<anonymous>)
      at server.js:23010:28

  console.log
    {"timestamp":"2025-12-04T14:06:56.415Z","level":"info","message":"generation_cover_letters_completed","requestId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","variants":2,"fallbackApplied":true,"template":"unknown","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.416Z","level":"info","message":"pdf_generation_attempt","requestId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/11b36b42-60ec-454d-b1db-689c4fae1c0f/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/11b36b42-60ec-454d-b1db-689c4fae1c0f/enhanced_modern.pdf","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.417Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/11b36b42-60ec-454d-b1db-689c4fae1c0f/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.417Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/11b36b42-60ec-454d-b1db-689c4fae1c0f/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/11b36b42-60ec-454d-b1db-689c4fae1c0f/enhanced_modern.pdf","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.420Z","level":"info","message":"pdf_generation_attempt","requestId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/11b36b42-60ec-454d-b1db-689c4fae1c0f/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/11b36b42-60ec-454d-b1db-689c4fae1c0f/enhanced_professional.pdf","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.420Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/11b36b42-60ec-454d-b1db-689c4fae1c0f/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.421Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/11b36b42-60ec-454d-b1db-689c4fae1c0f/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/11b36b42-60ec-454d-b1db-689c4fae1c0f/enhanced_professional.pdf","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.422Z","level":"info","message":"pdf_generation_attempt","requestId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/11b36b42-60ec-454d-b1db-689c4fae1c0f/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/11b36b42-60ec-454d-b1db-689c4fae1c0f/cover_letter_cover_modern.pdf","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.422Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/11b36b42-60ec-454d-b1db-689c4fae1c0f/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.423Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/11b36b42-60ec-454d-b1db-689c4fae1c0f/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/11b36b42-60ec-454d-b1db-689c4fae1c0f/cover_letter_cover_modern.pdf","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.424Z","level":"info","message":"pdf_generation_attempt","requestId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/11b36b42-60ec-454d-b1db-689c4fae1c0f/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/11b36b42-60ec-454d-b1db-689c4fae1c0f/cover_letter_cover_professional.pdf","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.425Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/11b36b42-60ec-454d-b1db-689c4fae1c0f/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.425Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/11b36b42-60ec-454d-b1db-689c4fae1c0f/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/11b36b42-60ec-454d-b1db-689c4fae1c0f/cover_letter_cover_professional.pdf","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.437Z","level":"info","message":"llm_call_metrics","requestId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.438Z","level":"info","message":"generation_completed","requestId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","enhancedScore":0,"outputs":4,"template":"unknown","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.440Z","level":"info","message":"http_request_completed","requestId":"11b36b42-60ec-454d-b1db-689c4fae1c0f","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":101,"contentLength":"60025","template":"unknown","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11b36b42-60ec-454d-b1db-689c4fae1c0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.445Z","level":"info","message":"http_request_received","requestId":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.447Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.449Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.451Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.453Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.454Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:56.456Z","level":"warn","message":"generation_job_context_missing","requestId":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:22707:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.468Z","level":"info","message":"llm_call_metrics","requestId":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d49fc3c9f3e6b68c516d8ed2277f352be0cdf73d24dc9159a6ddd8d2156f86c9","outputDigest":"df45602e27dd18441258611754779b1df94aaddbe2a7ac6965c12432f6053bc4","addedSkillCount":0,"template":"resume_rewrite","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.469Z","level":"info","message":"generation_section_rewrite_completed","requestId":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.472Z","level":"info","message":"generation_resume_verified","requestId":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","template":"unknown","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:06:56.477Z","level":"warn","message":"generation_cover_letters_unavailable","requestId":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","unavailable":["cover_letter1","cover_letter2"],"template":"unknown","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20750:7)
          at runMicrotasks (<anonymous>)
      at server.js:23010:28

  console.log
    {"timestamp":"2025-12-04T14:06:56.486Z","level":"info","message":"generation_cover_letters_completed","requestId":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","variants":0,"fallbackApplied":false,"template":"unknown","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.487Z","level":"info","message":"pdf_generation_attempt","requestId":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/cf50e447-8f1e-4b1d-8e67-c2338256f40e/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/cf50e447-8f1e-4b1d-8e67-c2338256f40e/enhanced_modern.pdf","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.488Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/cf50e447-8f1e-4b1d-8e67-c2338256f40e/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.491Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/cf50e447-8f1e-4b1d-8e67-c2338256f40e/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/cf50e447-8f1e-4b1d-8e67-c2338256f40e/enhanced_modern.pdf","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.492Z","level":"info","message":"pdf_generation_attempt","requestId":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/cf50e447-8f1e-4b1d-8e67-c2338256f40e/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/cf50e447-8f1e-4b1d-8e67-c2338256f40e/enhanced_professional.pdf","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.493Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/cf50e447-8f1e-4b1d-8e67-c2338256f40e/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.493Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/cf50e447-8f1e-4b1d-8e67-c2338256f40e/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/cf50e447-8f1e-4b1d-8e67-c2338256f40e/enhanced_professional.pdf","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.496Z","level":"info","message":"llm_call_metrics","requestId":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.497Z","level":"info","message":"generation_completed","requestId":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","enhancedScore":0,"outputs":2,"template":"unknown","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.499Z","level":"info","message":"http_request_completed","requestId":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":54,"contentLength":"32129","template":"unknown","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf50e447-8f1e-4b1d-8e67-c2338256f40e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.503Z","level":"info","message":"http_request_received","requestId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.505Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.507Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.509Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.513Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.514Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:56.521Z","level":"warn","message":"generation_change_log_load_failed","requestId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22773:34\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:22775:13
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.530Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.534Z","level":"info","message":"llm_call_metrics","requestId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"acf1b9378acb575b229122bd0509d239fb40292b5a2de638f8974b10630dddf9","outputDigest":"d38deb915a9824cbd24a0a21322f3421cffa08850deba8b630d4c012e36accc6","addedSkillCount":0,"template":"resume_rewrite","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.535Z","level":"info","message":"generation_section_rewrite_completed","requestId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.536Z","level":"info","message":"llm_call_metrics","requestId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"a89c45c951abfe25af2671eb78aaf142165e3f6bd78d4b83089b4f9a78e64f20","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.540Z","level":"info","message":"generation_resume_verified","requestId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","template":"unknown","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:06:56.544Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
          at runMicrotasks (<anonymous>)
      at server.js:23010:28

  console.warn
    {"timestamp":"2025-12-04T14:06:56.558Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
          at runMicrotasks (<anonymous>)
      at server.js:23010:28

  console.log
    {"timestamp":"2025-12-04T14:06:56.570Z","level":"info","message":"generation_cover_letters_completed","requestId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","variants":2,"fallbackApplied":true,"template":"unknown","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.571Z","level":"info","message":"pdf_generation_attempt","requestId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.573Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.574Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.575Z","level":"info","message":"pdf_generation_attempt","requestId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.576Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.577Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.579Z","level":"info","message":"pdf_generation_attempt","requestId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.580Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.581Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.583Z","level":"info","message":"pdf_generation_attempt","requestId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.584Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.585Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.588Z","level":"info","message":"llm_call_metrics","requestId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"6daad81d53ca29e2440dbdfd5e7ac149ac9bc677f5bd5a926b958a85793be6c1","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.590Z","level":"info","message":"generation_completed","requestId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","enhancedScore":0,"outputs":5,"template":"unknown","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.593Z","level":"info","message":"http_request_completed","requestId":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":90,"contentLength":"52667","template":"unknown","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abdc518-d314-404d-b8b9-ff5d1b7cb607","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.602Z","level":"info","message":"http_request_received","requestId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.604Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.606Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.608Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.611Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.612Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:56.615Z","level":"warn","message":"generation_change_log_load_failed","requestId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22773:34\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:22775:13
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.624Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.628Z","level":"info","message":"llm_call_metrics","requestId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"fc71d2d7420045c9674c39d1bc893139670e4554452723b0b8930f14ae74efd1","outputDigest":"994365ee088ebf4da994d91479825476737b8633f45dc9441cf82f317f739457","addedSkillCount":0,"template":"resume_rewrite","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.629Z","level":"info","message":"generation_section_rewrite_completed","requestId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.630Z","level":"info","message":"llm_call_metrics","requestId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"2941229673895ce87f4eb2dd47c041b77270273e0250170302676d5a10351fbf","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.634Z","level":"info","message":"generation_resume_verified","requestId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","template":"unknown","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:06:56.639Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
          at runMicrotasks (<anonymous>)
      at server.js:23010:28

  console.warn
    {"timestamp":"2025-12-04T14:06:56.650Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
          at runMicrotasks (<anonymous>)
      at server.js:23010:28

  console.log
    {"timestamp":"2025-12-04T14:06:56.662Z","level":"info","message":"generation_cover_letters_completed","requestId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","variants":2,"fallbackApplied":true,"template":"unknown","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.663Z","level":"info","message":"pdf_generation_attempt","requestId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.664Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.665Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.665Z","level":"info","message":"pdf_generation_attempt","requestId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.666Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.667Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.667Z","level":"info","message":"pdf_generation_attempt","requestId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.668Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.669Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.670Z","level":"info","message":"pdf_generation_attempt","requestId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.670Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.671Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.674Z","level":"info","message":"llm_call_metrics","requestId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"bb70bada40357e7ad85703e98908783ac38c79f83207e1ee038136c2f4863594","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.675Z","level":"info","message":"generation_completed","requestId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","enhancedScore":0,"outputs":5,"template":"unknown","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.679Z","level":"info","message":"http_request_completed","requestId":"12b35fd1-81c1-4bef-b360-daea2ef781d5","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":77,"contentLength":"50998","template":"unknown","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12b35fd1-81c1-4bef-b360-daea2ef781d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.683Z","level":"info","message":"http_request_received","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","method":"POST","path":"/api/process-cv","template":"unknown","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.685Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.687Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.689Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.691Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.694Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/249e5a10-72f7-4de0-a2ee-22da4741f40b/incoming/original.pdf","chunks":1,"timestamp":1764857216698}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/249e5a10-72f7-4de0-a2ee-22da4741f40b/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/249e5a10-72f7-4de0-a2ee-22da4741f40b/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.700Z","level":"info","message":"process_cv_started","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","manualJobDescriptionProvided":true,"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.701Z","level":"info","message":"template_selection","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:56.701Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:06:56.712Z","level":"info","message":"initial_upload_completed","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","bucket":"test-bucket","key":"cv/candidate/249e5a10-72f7-4de0-a2ee-22da4741f40b/incoming/original.pdf","template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.713Z","level":"info","message":"resume_text_extracted","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","characters":57,"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.713Z","level":"info","message":"resume_classified","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.714Z","level":"info","message":"raw_upload_relocated","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","bucket":"test-bucket","fromKey":"cv/candidate/249e5a10-72f7-4de0-a2ee-22da4741f40b/incoming/original.pdf","toKey":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/original.pdf","template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.715Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","bucket":"test-bucket","key":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/original.pdf","template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.715Z","level":"info","message":"dynamo_initial_record_written","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","bucket":"test-bucket","key":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/original.pdf","template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.716Z","level":"info","message":"upload_metadata_written","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","bucket":"test-bucket","key":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/logs/log.json","template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.716Z","level":"info","message":"job_description_supplied_manually","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","characters":174,"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.717Z","level":"info","message":"job_description_analyzed","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","jobTitle":"","jobSkills":5,"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.718Z","level":"info","message":"resume_skills_analyzed","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.718Z","level":"info","message":"llm_call_metrics","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.719Z","level":"info","message":"process_cv_scoring_completed","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.724Z","level":"info","message":"llm_call_metrics","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"e0b0f289a004a53fc90e2f086b7a8368b36f3cb57e330732da1cad386d479cd5","addedSkillCount":0,"template":"resume_rewrite","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.726Z","level":"info","message":"generation_section_rewrite_completed","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","generationRunId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.731Z","level":"info","message":"generation_resume_verified","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","generationRunId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:06:56.736Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","generationRunId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
          at runMicrotasks (<anonymous>)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:56.743Z","level":"info","message":"generation_cover_letters_completed","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","generationRunId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","variants":2,"fallbackApplied":true,"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.744Z","level":"info","message":"pdf_generation_attempt","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","generationRunId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/enhanced_modern.pdf","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.745Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","generationRunId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T14:06:56.746Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","generationRunId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3364:27)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/enhanced_modern.pdf","environment":{"nodeEnv":"development","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
          at runMicrotasks (<anonymous>)
      at generateEnhancedDocumentsResponse (server.js:21311:11)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:06:56.756Z","level":"info","message":"pdf_generation_attempt","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","generationRunId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/enhanced_professional.pdf","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.757Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","generationRunId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.758Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","generationRunId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/","sessionId":"[REDACTED]","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/enhanced_professional.pdf","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.759Z","level":"info","message":"pdf_generation_attempt","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","generationRunId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/enhanced_professional.pdf","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.760Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","generationRunId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.761Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","generationRunId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/enhanced_professional.pdf","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.762Z","level":"info","message":"pdf_generation_attempt","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","generationRunId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/cover_letter_cover_modern.pdf","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.763Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","generationRunId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.763Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","generationRunId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":16,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/cover_letter_cover_modern.pdf","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.765Z","level":"info","message":"pdf_generation_attempt","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","generationRunId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/cover_letter_cover_professional.pdf","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.765Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","generationRunId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.766Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","generationRunId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":22,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/249e5a10-72f7-4de0-a2ee-22da4741f40b/cover_letter_cover_professional.pdf","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.769Z","level":"info","message":"llm_call_metrics","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"b81624598eca82514b81f4fd0ef858c4f8eda9605bf4a3b33ed31144fa2daed3","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.771Z","level":"info","message":"generation_completed","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","generationRunId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","enhancedScore":80,"outputs":5,"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.773Z","level":"info","message":"placeholder_record_deleted","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","jobId":"68723cfb-753a-4db5-a352-2465bdf0f7dc","placeholderIdentifier":"249e5a10-72f7-4de0-a2ee-22da4741f40b","template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68723cfb-753a-4db5-a352-2465bdf0f7dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.775Z","level":"info","message":"http_request_completed","requestId":"249e5a10-72f7-4de0-a2ee-22da4741f40b","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":92,"contentLength":"59519","template":"unknown","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"249e5a10-72f7-4de0-a2ee-22da4741f40b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.778Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":2,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.781Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T14:06:56.782Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3469:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3483:20)

  console.log
    {"timestamp":"2025-12-04T14:06:56.792Z","level":"info","message":"pdf_generation_backstop_succeeded","documentType":"resume","template":"2025","templatesBackstopped":["2025"],"backstopResults":[{"templateId":"2025","bytes":1024}],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.793Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":2,"totalAttempts":2,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.793Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.794Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"modern","attempt":2,"bytes":10,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.796Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.797Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T14:06:56.799Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"modern","attempt":1,"error":{"name":"Error","message":"Modern renderer unavailable","stack":"Error: Modern renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3508:30)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3512:20)

  console.log
    {"timestamp":"2025-12-04T14:06:56.809Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.810Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.810Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.815Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.816Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T14:06:56.818Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3530:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3543:20)

  console.log
    {"timestamp":"2025-12-04T14:06:56.831Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.832Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.833Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.836Z","level":"info","message":"pdf_generation_attempt","documentType":"cover_letter","template":"cover_modern","attempt":1,"totalAttempts":1,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.837Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"cover_letter","template":"cover_modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T14:06:56.839Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"cover_letter","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"Primary renderer offline","stack":"Error: Primary renderer offline\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3561:48)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.warn
    {"timestamp":"2025-12-04T14:06:56.853Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11153:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.error
    {"timestamp":"2025-12-04T14:06:56.863Z","level":"error","message":"pdf_generation_plain_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","error":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3563:13\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9789:12)\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11157:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3598:5)"},"forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11202:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.error
    {"timestamp":"2025-12-04T14:06:56.875Z","level":"error","message":"pdf_generation_minimal_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3566:13\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11223:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3598:5)"},"previousError":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3563:13\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9789:12)\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11157:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3598:5)"},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11246:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.error
    {"timestamp":"2025-12-04T14:06:56.889Z","level":"error","message":"pdf_generation_all_attempts_failed","documentType":"cover_letter","templates":["cover_modern"],"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3566:13\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11223:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3598:5)"},"targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"summary":"Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable","messages":["Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable"],"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11268:3)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.965Z","level":"info","message":"http_request_received","requestId":"9884bbb9-0364-47d7-8561-fa00cea6972f","method":"POST","path":"/api/change-log","template":"unknown","session":"9884bbb9-0364-47d7-8561-fa00cea6972f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9884bbb9-0364-47d7-8561-fa00cea6972f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.969Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.972Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.975Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.979Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.980Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.987Z","level":"info","message":"change_log_updated","requestId":"9884bbb9-0364-47d7-8561-fa00cea6972f","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:56.989Z","level":"info","message":"http_request_completed","requestId":"9884bbb9-0364-47d7-8561-fa00cea6972f","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":24,"contentLength":"48197","template":"unknown","session":"9884bbb9-0364-47d7-8561-fa00cea6972f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9884bbb9-0364-47d7-8561-fa00cea6972f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:56.996Z","level":"info","message":"http_request_received","requestId":"636c8601-11b3-472a-b709-91e43f2abf8f","method":"POST","path":"/api/change-log","template":"unknown","session":"636c8601-11b3-472a-b709-91e43f2abf8f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"636c8601-11b3-472a-b709-91e43f2abf8f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.000Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.002Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.005Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.010Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.012Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.016Z","level":"info","message":"change_log_updated","requestId":"636c8601-11b3-472a-b709-91e43f2abf8f","jobId":"job-321","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-321","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-321","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:57.017Z","level":"info","message":"http_request_completed","requestId":"636c8601-11b3-472a-b709-91e43f2abf8f","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":21,"contentLength":"1958","template":"unknown","session":"636c8601-11b3-472a-b709-91e43f2abf8f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"636c8601-11b3-472a-b709-91e43f2abf8f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.025Z","level":"info","message":"http_request_received","requestId":"cd0a929b-0ef3-460e-9195-fd2586ab6b31","method":"POST","path":"/api/change-log","template":"unknown","session":"cd0a929b-0ef3-460e-9195-fd2586ab6b31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd0a929b-0ef3-460e-9195-fd2586ab6b31","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.027Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.029Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.031Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.034Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.036Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.040Z","level":"info","message":"change_log_updated","requestId":"cd0a929b-0ef3-460e-9195-fd2586ab6b31","jobId":"job-789","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-789","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-789","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:57.041Z","level":"info","message":"http_request_completed","requestId":"cd0a929b-0ef3-460e-9195-fd2586ab6b31","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":16,"contentLength":"6061","template":"unknown","session":"cd0a929b-0ef3-460e-9195-fd2586ab6b31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd0a929b-0ef3-460e-9195-fd2586ab6b31","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.047Z","level":"info","message":"http_request_received","requestId":"078e07fe-393e-4185-b018-788a2c359d33","method":"POST","path":"/api/change-log","template":"unknown","session":"078e07fe-393e-4185-b018-788a2c359d33","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"078e07fe-393e-4185-b018-788a2c359d33","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.049Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.052Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.054Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.057Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.058Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.063Z","level":"info","message":"change_log_updated","requestId":"078e07fe-393e-4185-b018-788a2c359d33","jobId":"job-session","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-session","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-session","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:57.063Z","level":"info","message":"http_request_completed","requestId":"078e07fe-393e-4185-b018-788a2c359d33","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":16,"contentLength":"1213","template":"unknown","session":"078e07fe-393e-4185-b018-788a2c359d33","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"078e07fe-393e-4185-b018-788a2c359d33","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.066Z","level":"info","message":"http_request_received","requestId":"c8486ba0-8153-419a-b555-dd51df7bf2e8","method":"POST","path":"/api/change-log","template":"unknown","session":"c8486ba0-8153-419a-b555-dd51df7bf2e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8486ba0-8153-419a-b555-dd51df7bf2e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.069Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.071Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.074Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.077Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.078Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.080Z","level":"info","message":"change_log_updated","requestId":"c8486ba0-8153-419a-b555-dd51df7bf2e8","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:57.081Z","level":"info","message":"http_request_completed","requestId":"c8486ba0-8153-419a-b555-dd51df7bf2e8","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":15,"contentLength":"789","template":"unknown","session":"c8486ba0-8153-419a-b555-dd51df7bf2e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8486ba0-8153-419a-b555-dd51df7bf2e8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.087Z","level":"info","message":"http_request_received","requestId":"bf7268f3-c30b-46d3-bee7-cecc79e078c0","method":"POST","path":"/api/change-log","template":"unknown","session":"bf7268f3-c30b-46d3-bee7-cecc79e078c0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bf7268f3-c30b-46d3-bee7-cecc79e078c0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.091Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.093Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.095Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.098Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.099Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.102Z","level":"info","message":"change_log_updated","requestId":"bf7268f3-c30b-46d3-bee7-cecc79e078c0","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:57.103Z","level":"info","message":"http_request_completed","requestId":"bf7268f3-c30b-46d3-bee7-cecc79e078c0","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":16,"contentLength":"350","template":"unknown","session":"bf7268f3-c30b-46d3-bee7-cecc79e078c0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bf7268f3-c30b-46d3-bee7-cecc79e078c0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.107Z","level":"info","message":"http_request_received","requestId":"46a0b0bd-76ed-4fad-b5e9-7ff992996e1e","method":"POST","path":"/api/change-log","template":"unknown","session":"46a0b0bd-76ed-4fad-b5e9-7ff992996e1e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"46a0b0bd-76ed-4fad-b5e9-7ff992996e1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.109Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.111Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.113Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.115Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.117Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.120Z","level":"info","message":"change_log_updated","requestId":"46a0b0bd-76ed-4fad-b5e9-7ff992996e1e","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:57.121Z","level":"info","message":"http_request_completed","requestId":"46a0b0bd-76ed-4fad-b5e9-7ff992996e1e","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":14,"contentLength":"1151","template":"unknown","session":"46a0b0bd-76ed-4fad-b5e9-7ff992996e1e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"46a0b0bd-76ed-4fad-b5e9-7ff992996e1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.126Z","level":"info","message":"http_request_received","requestId":"a11acd54-6d4f-456b-9a6d-f6363dfe494d","method":"POST","path":"/api/change-log","template":"unknown","session":"a11acd54-6d4f-456b-9a6d-f6363dfe494d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a11acd54-6d4f-456b-9a6d-f6363dfe494d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.128Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.130Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.132Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.134Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.136Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.140Z","level":"info","message":"change_log_updated","requestId":"a11acd54-6d4f-456b-9a6d-f6363dfe494d","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:57.141Z","level":"info","message":"http_request_completed","requestId":"a11acd54-6d4f-456b-9a6d-f6363dfe494d","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":15,"contentLength":"596","template":"unknown","session":"a11acd54-6d4f-456b-9a6d-f6363dfe494d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a11acd54-6d4f-456b-9a6d-f6363dfe494d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.148Z","level":"info","message":"http_request_received","requestId":"00e522cb-6da3-4091-a937-a0577f85fa70","method":"POST","path":"/api/change-log","template":"unknown","session":"00e522cb-6da3-4091-a937-a0577f85fa70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"00e522cb-6da3-4091-a937-a0577f85fa70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.150Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.153Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.155Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.158Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.159Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T14:06:57.166Z","level":"info","message":"change_log_updated","requestId":"00e522cb-6da3-4091-a937-a0577f85fa70","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:06:57.168Z","level":"info","message":"http_request_completed","requestId":"00e522cb-6da3-4091-a937-a0577f85fa70","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":20,"contentLength":"2337","template":"unknown","session":"00e522cb-6da3-4091-a937-a0577f85fa70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"00e522cb-6da3-4091-a937-a0577f85fa70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

PASS tests/server.test.mjs (8.461 s)
  health check
     GET /healthz (67 ms)
  static asset fallbacks
     GET /favicon.ico returns 204 (17 ms)
     serves hashed index asset from S3 when local file is missing (28 ms)
     serves hashed index asset directly from the bundled client when available (29 ms)
     strips API Gateway stage prefixes before resolving static index aliases (18 ms)
     performs HEAD lookup against S3 for hashed index asset metadata (24 ms)
     serves the latest index asset alias via S3 when local files are unavailable (27 ms)
     serves the index asset alias via the S3 manifest when the local manifest is missing (19 ms)
     serves the index asset alias when the manifest contains prefixed S3 keys (17 ms)
     serves the index asset alias via manifest fallback when the primary bundle is missing from S3 (30 ms)
  static asset proxy endpoint
     serves the index alias via the local build (16 ms)
     normalizes stray punctuation in proxy asset queries (17 ms)
     strips inline alias annotations from hashed proxy asset queries (17 ms)
     falls back to S3 when the hashed bundle is unavailable locally (22 ms)
     degrades hashed proxy requests to the index alias when upstream assets are missing (27 ms)
     degrades direct hashed asset requests to the index alias when upstream bundles are missing (30 ms)
     rejects invalid asset paths (19 ms)
  static asset manifest endpoint
     returns manifest data when available (12 ms)
     allows forcing a manifest refresh via query parameter (21 ms)
     returns 503 when manifest is unavailable (29 ms)
  /api/process-cv
     handles DynamoDB table lifecycle (241 ms)
     removes stale session change logs when starting a new upload session (72 ms)
     removes session change log data when the session prefix is reused (93 ms)
     requires manual job description input (180 ms)
     sanitizes manual job description input before analysis (99 ms)
     rejects manual job description input containing prohibited HTML tags (43 ms)
     stores sanitized job description as session input metadata (93 ms)
     accepts uploads without a LinkedIn profile URL (103 ms)
     malformed AI response (128 ms)
     handles code-fenced JSON with extra text (137 ms)
     handles JSON surrounded by text (135 ms)
     returns presigned PDF URLs with labeled asset types (139 ms)
     returns a structured error when download URLs cannot be generated (191 ms)
     cover letter urls include structured metadata (137 ms)
     uses provided templates in preferred order (133 ms)
     uses templates array (116 ms)
     filters AI guidance lines (129 ms)
     resume prompt asks for a project matching job skills (355 ms)
     inserts project into resume text (189 ms)
     adds project section when job description provided (174 ms)
     cover letters omit placeholder sections (109 ms)
     normalizes structured cover letter responses into text (149 ms)
     uses sanitized resume fallback when AI returns plain text for versions (157 ms)
     falls back to plain PDFs when template rendering fails (803 ms)
     final CV includes updated title, project, and skills (149 ms)
     missing file (72 ms)
     unsupported file type (52 ms)
     rejects non-resume content with descriptive feedback (90 ms)
     requires re-upload when classification does not identify a CV (118 ms)
     missing job description text (46 ms)
    download link refresh
       resigns an existing artifact key for the active job (30 ms)
       returns not found when the storage key does not match the job context (26 ms)
    resume size handling
       accepts tiny PDF (32 KB) uploads up to 5 MB (248 ms)
       accepts small DOCX (256 KB) uploads up to 5 MB (149 ms)
       accepts mid-sized PDF (2 MB) uploads up to 5 MB (116 ms)
       accepts near-limit DOCX (just under 5 MB) uploads up to 5 MB (309 ms)
       rejects resumes larger than 5 MB (81 ms)
  /api/generate-enhanced-docs
     responds with structured details when jobId is missing (45 ms)
     queues message when fallback cover letters are used (82 ms)
     replaces whitespace cover letters with fallback copy (109 ms)
     audits cover letters for placeholders and applies fallback (96 ms)
     replaces weak closing cover letters with confident fallback copy (74 ms)
     replaces cover letters exceeding the word limit with confident fallback copy (105 ms)
     surfaces message when cover letters remain unavailable (58 ms)
     refreshes session artifacts when job description changes for a new enhancement (98 ms)
     refreshes session artifacts automatically when job description changes (81 ms)
     persists template vs population errors in stage metadata (96 ms)
  generatePdfWithFallback
     records retry message when 2025 renderer fails (17 ms)
     announces next template when fallback occurs for non-2025 resume (19 ms)
     announces actual next template when 2025 fallback prefers contrast option (20 ms)
     throws explicit PdfGenerationError with summary when all strategies fail (69 ms)
  classifyDocument
     identifies resumes by section structure (1 ms)
     detects cover letters (2 ms)
     rejects job descriptions that mimic resume sections (1 ms)
  extractText
     extracts text from pdf (1 ms)
     extracts text from docx
     guides user when pdf parsing fails (40 ms)
     guides user when docx parsing fails (1 ms)
     extracts text from doc (4 ms)
     rejects plain text files (1 ms)
  client download labels
     App displays correct labels for each file type (5 ms)
  change log persistence safeguards
     truncates oversized change log fields before persisting (30 ms)
     persists category changelog details for ATS, skills, and related sections (30 ms)
     captures rescore summary and updates session score snapshot (21 ms)
     stores session change logs under a user session prefix when no prior key exists (20 ms)
  change log session visibility
     persists reverted entries when updating the change log (19 ms)
     stores rejected entries in the session change log dismissed list (20 ms)
     persists cover letter change log payloads to S3 (19 ms)
     removing a cover letter entry records dismissal state in S3 (21 ms)
     persists activity logs from nested payloads into the session change log (27 ms)

Test Suites: 1 passed, 1 total
Tests:       90 passed, 90 total
Snapshots:   0 total
Time:        8.507 s, estimated 11 s
Ran all test suites matching /tests\/server.test.mjs/i.
Force exiting Jest: Have you considered using `--detectOpenHandles` to detect async operations that kept running after all tests finished?
